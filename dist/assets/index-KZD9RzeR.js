(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=i(l);fetch(l.href,s)}})();function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mf={exports:{}},Fo={};var fx;function $N(){if(fx)return Fo;fx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,l,s){var c=null;if(s!==void 0&&(c=""+s),l.key!==void 0&&(c=""+l.key),"key"in l){s={};for(var f in l)f!=="key"&&(s[f]=l[f])}else s=l;return l=s.ref,{$$typeof:e,type:a,key:c,ref:l!==void 0?l:null,props:s}}return Fo.Fragment=n,Fo.jsx=i,Fo.jsxs=i,Fo}var hx;function UN(){return hx||(hx=1,Mf.exports=$N()),Mf.exports}var d=UN(),Df={exports:{}},ke={};var px;function qN(){if(px)return ke;px=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function N(B,Y,L){this.props=B,this.context=Y,this.refs=C,this.updater=L||w}N.prototype.isReactComponent={},N.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=N.prototype;function j(B,Y,L){this.props=B,this.context=Y,this.refs=C,this.updater=L||w}var _=j.prototype=new k;_.constructor=j,S(_,N.prototype),_.isPureReactComponent=!0;var H=Array.isArray;function M(){}var O={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function G(B,Y,L){var ie=L.ref;return{$$typeof:e,type:B,key:Y,ref:ie!==void 0?ie:null,props:L}}function I(B,Y){return G(B.type,Y,B.props)}function $(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function F(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(L){return Y[L]})}var ee=/\/+/g;function A(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Y.toString(36)}function P(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(Y){B.status==="pending"&&(B.status="fulfilled",B.value=Y)},function(Y){B.status==="pending"&&(B.status="rejected",B.reason=Y)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function D(B,Y,L,ie,te){var re=typeof B;(re==="undefined"||re==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case e:case n:de=!0;break;case m:return de=B._init,D(de(B._payload),Y,L,ie,te)}}if(de)return te=te(B),de=ie===""?"."+A(B,0):ie,H(te)?(L="",de!=null&&(L=de.replace(ee,"$&/")+"/"),D(te,Y,L,"",function(xe){return xe})):te!=null&&($(te)&&(te=I(te,L+(te.key==null||B&&B.key===te.key?"":(""+te.key).replace(ee,"$&/")+"/")+de)),Y.push(te)),1;de=0;var oe=ie===""?".":ie+":";if(H(B))for(var fe=0;fe<B.length;fe++)ie=B[fe],re=oe+A(ie,fe),de+=D(ie,Y,L,re,te);else if(fe=b(B),typeof fe=="function")for(B=fe.call(B),fe=0;!(ie=B.next()).done;)ie=ie.value,re=oe+A(ie,fe++),de+=D(ie,Y,L,re,te);else if(re==="object"){if(typeof B.then=="function")return D(P(B),Y,L,ie,te);throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return de}function q(B,Y,L){if(B==null)return B;var ie=[],te=0;return D(B,ie,"","",function(re){return Y.call(L,re,te++)}),ie}function U(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(L){(B._status===0||B._status===-1)&&(B._status=1,B._result=L)},function(L){(B._status===0||B._status===-1)&&(B._status=2,B._result=L)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var Z=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},z={map:q,forEach:function(B,Y,L){q(B,function(){Y.apply(this,arguments)},L)},count:function(B){var Y=0;return q(B,function(){Y++}),Y},toArray:function(B){return q(B,function(Y){return Y})||[]},only:function(B){if(!$(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ke.Activity=g,ke.Children=z,ke.Component=N,ke.Fragment=i,ke.Profiler=l,ke.PureComponent=j,ke.StrictMode=a,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ke.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},ke.cache=function(B){return function(){return B.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(B,Y,L){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=S({},B.props),te=B.key;if(Y!=null)for(re in Y.key!==void 0&&(te=""+Y.key),Y)!V.call(Y,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Y.ref===void 0||(ie[re]=Y[re]);var re=arguments.length-2;if(re===1)ie.children=L;else if(1<re){for(var de=Array(re),oe=0;oe<re;oe++)de[oe]=arguments[oe+2];ie.children=de}return G(B.type,te,ie)},ke.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},ke.createElement=function(B,Y,L){var ie,te={},re=null;if(Y!=null)for(ie in Y.key!==void 0&&(re=""+Y.key),Y)V.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(te[ie]=Y[ie]);var de=arguments.length-2;if(de===1)te.children=L;else if(1<de){for(var oe=Array(de),fe=0;fe<de;fe++)oe[fe]=arguments[fe+2];te.children=oe}if(B&&B.defaultProps)for(ie in de=B.defaultProps,de)te[ie]===void 0&&(te[ie]=de[ie]);return G(B,re,te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(B){return{$$typeof:f,render:B}},ke.isValidElement=$,ke.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:U}},ke.memo=function(B,Y){return{$$typeof:h,type:B,compare:Y===void 0?null:Y}},ke.startTransition=function(B){var Y=O.T,L={};O.T=L;try{var ie=B(),te=O.S;te!==null&&te(L,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(M,Z)}catch(re){Z(re)}finally{Y!==null&&L.types!==null&&(Y.types=L.types),O.T=Y}},ke.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ke.use=function(B){return O.H.use(B)},ke.useActionState=function(B,Y,L){return O.H.useActionState(B,Y,L)},ke.useCallback=function(B,Y){return O.H.useCallback(B,Y)},ke.useContext=function(B){return O.H.useContext(B)},ke.useDebugValue=function(){},ke.useDeferredValue=function(B,Y){return O.H.useDeferredValue(B,Y)},ke.useEffect=function(B,Y){return O.H.useEffect(B,Y)},ke.useEffectEvent=function(B){return O.H.useEffectEvent(B)},ke.useId=function(){return O.H.useId()},ke.useImperativeHandle=function(B,Y,L){return O.H.useImperativeHandle(B,Y,L)},ke.useInsertionEffect=function(B,Y){return O.H.useInsertionEffect(B,Y)},ke.useLayoutEffect=function(B,Y){return O.H.useLayoutEffect(B,Y)},ke.useMemo=function(B,Y){return O.H.useMemo(B,Y)},ke.useOptimistic=function(B,Y){return O.H.useOptimistic(B,Y)},ke.useReducer=function(B,Y,L){return O.H.useReducer(B,Y,L)},ke.useRef=function(B){return O.H.useRef(B)},ke.useState=function(B){return O.H.useState(B)},ke.useSyncExternalStore=function(B,Y,L){return O.H.useSyncExternalStore(B,Y,L)},ke.useTransition=function(){return O.H.useTransition()},ke.version="19.2.3",ke}var mx;function El(){return mx||(mx=1,Df.exports=qN()),Df.exports}var T=El();const Nn=Zc(T);var _f={exports:{}},Go={},Of={exports:{}},Rf={};var gx;function VN(){return gx||(gx=1,(function(e){function n(D,q){var U=D.length;D.push(q);e:for(;0<U;){var Z=U-1>>>1,z=D[Z];if(0<l(z,q))D[Z]=q,D[U]=z,U=Z;else break e}}function i(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var q=D[0],U=D.pop();if(U!==q){D[0]=U;e:for(var Z=0,z=D.length,B=z>>>1;Z<B;){var Y=2*(Z+1)-1,L=D[Y],ie=Y+1,te=D[ie];if(0>l(L,U))ie<z&&0>l(te,L)?(D[Z]=te,D[ie]=U,Z=ie):(D[Z]=L,D[Y]=U,Z=Y);else if(ie<z&&0>l(te,U))D[Z]=te,D[ie]=U,Z=ie;else break e}}return q}function l(D,q){var U=D.sortIndex-q.sortIndex;return U!==0?U:D.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],h=[],m=1,g=null,v=3,b=!1,w=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var q=i(h);q!==null;){if(q.callback===null)a(h);else if(q.startTime<=D)a(h),q.sortIndex=q.expirationTime,n(p,q);else break;q=i(h)}}function H(D){if(S=!1,_(D),!w)if(i(p)!==null)w=!0,M||(M=!0,F());else{var q=i(h);q!==null&&P(H,q.startTime-D)}}var M=!1,O=-1,V=5,G=-1;function I(){return C?!0:!(e.unstable_now()-G<V)}function $(){if(C=!1,M){var D=e.unstable_now();G=D;var q=!0;try{e:{w=!1,S&&(S=!1,k(O),O=-1),b=!0;var U=v;try{t:{for(_(D),g=i(p);g!==null&&!(g.expirationTime>D&&I());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,v=g.priorityLevel;var z=Z(g.expirationTime<=D);if(D=e.unstable_now(),typeof z=="function"){g.callback=z,_(D),q=!0;break t}g===i(p)&&a(p),_(D)}else a(p);g=i(p)}if(g!==null)q=!0;else{var B=i(h);B!==null&&P(H,B.startTime-D),q=!1}}break e}finally{g=null,v=U,b=!1}q=void 0}}finally{q?F():M=!1}}}var F;if(typeof j=="function")F=function(){j($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,A=ee.port2;ee.port1.onmessage=$,F=function(){A.postMessage(null)}}else F=function(){N($,0)};function P(D,q){O=N(function(){D(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var U=v;v=q;try{return D()}finally{v=U}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=v;v=D;try{return q()}finally{v=U}},e.unstable_scheduleCallback=function(D,q,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,D={id:m++,callback:q,priorityLevel:D,startTime:U,expirationTime:z,sortIndex:-1},U>Z?(D.sortIndex=U,n(h,D),i(p)===null&&D===i(h)&&(S?(k(O),O=-1):S=!0,P(H,U-Z))):(D.sortIndex=z,n(p,D),w||b||(w=!0,M||(M=!0,F()))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var q=v;return function(){var U=v;v=q;try{return D.apply(this,arguments)}finally{v=U}}}})(Rf)),Rf}var yx;function FN(){return yx||(yx=1,Of.exports=VN()),Of.exports}var zf={exports:{}},zt={};var xx;function GN(){if(xx)return zt;xx=1;var e=El();function n(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(p,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:p,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zt.createPortal=function(p,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return s(p,h,null,m)},zt.flushSync=function(p){var h=c.T,m=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=h,a.p=m,a.d.f()}},zt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(p,h))},zt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},zt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?a.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&a.d.X(p,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);a.d.M(p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(p)},zt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin);a.d.L(p,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zt.preloadModule=function(p,h){if(typeof p=="string")if(h){var m=f(h.as,h.crossOrigin);a.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(p)},zt.requestFormReset=function(p){a.d.r(p)},zt.unstable_batchedUpdates=function(p,h){return p(h)},zt.useFormState=function(p,h,m){return c.H.useFormState(p,h,m)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var vx;function _0(){if(vx)return zf.exports;vx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),zf.exports=GN(),zf.exports}var bx;function YN(){if(bx)return Go;bx=1;var e=FN(),n=El(),i=_0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(s(t)!==t)throw Error(a(188))}function h(t){var r=t.alternate;if(!r){if(r=s(t),r===null)throw Error(a(188));return r!==t?null:t}for(var o=t,u=r;;){var y=o.return;if(y===null)break;var x=y.alternate;if(x===null){if(u=y.return,u!==null){o=u;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===o)return p(y),t;if(x===u)return p(y),r;x=x.sibling}throw Error(a(188))}if(o.return!==u.return)o=y,u=x;else{for(var E=!1,R=y.child;R;){if(R===o){E=!0,o=y,u=x;break}if(R===u){E=!0,u=y,o=x;break}R=R.sibling}if(!E){for(R=x.child;R;){if(R===o){E=!0,o=x,u=y;break}if(R===u){E=!0,u=x,o=y;break}R=R.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case M:return"SuspenseList";case G:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case j:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case _:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:A(t.type)||"Memo";case V:r=t._payload,t=t._init;try{return A(t(r))}catch{}}return null}var P=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Z=[],z=-1;function B(t){return{current:t}}function Y(t){0>z||(t.current=Z[z],Z[z]=null,z--)}function L(t,r){z++,Z[z]=t.current,t.current=r}var ie=B(null),te=B(null),re=B(null),de=B(null);function oe(t,r){switch(L(re,r),L(te,t),L(ie,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zy(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zy(r),t=Ly(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ie),L(ie,t)}function fe(){Y(ie),Y(te),Y(re)}function xe(t){t.memoizedState!==null&&L(de,t);var r=ie.current,o=Ly(r,t.type);r!==o&&(L(te,t),L(ie,o))}function je(t){te.current===t&&(Y(ie),Y(te)),de.current===t&&(Y(de),$o._currentValue=U)}var ve,Ee;function De(t){if(ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ve=r&&r[1]||"",Ee=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+t+Ee}var Ue=!1;function qe(t,r){if(!t||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ae){ne=ae}t.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),E=x[0],R=x[1];if(E&&R){var X=E.split(`
`),J=R.split(`
`);for(y=u=0;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(u===X.length||y===J.length)for(u=X.length-1,y=J.length-1;1<=u&&0<=y&&X[u]!==J[y];)y--;for(;1<=u&&0<=y;u--,y--)if(X[u]!==J[y]){if(u!==1||y!==1)do if(u--,y--,0>y||X[u]!==J[y]){var se=`
`+X[u].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=u&&0<=y);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?De(o):""}function ft(t,r){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return qe(t.type,!1);case 11:return qe(t.type.render,!1);case 1:return qe(t.type,!0);case 31:return De("Activity");default:return""}}function Jt(t){try{var r="",o=null;do r+=ft(t,o),o=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _t=Object.prototype.hasOwnProperty,$t=e.unstable_scheduleCallback,En=e.unstable_cancelCallback,Qn=e.unstable_shouldYield,Zn=e.unstable_requestPaint,Nt=e.unstable_now,Ei=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,pe=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,_e=e.unstable_LowPriority,Pe=e.unstable_IdlePriority,Bt=e.log,jn=e.unstable_setDisableYieldValue,kt=null,ht=null;function Ot(t){if(typeof Bt=="function"&&jn(t),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(kt,t)}catch{}}var Xe=Math.clz32?Math.clz32:yu,In=Math.log,en=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(In(t)/en|0)|0}var $r=256,Ur=262144,qr=4194304;function Wn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vr(t,r,o){var u=t.pendingLanes;if(u===0)return 0;var y=0,x=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var R=u&134217727;return R!==0?(u=R&~x,u!==0?y=Wn(u):(E&=R,E!==0?y=Wn(E):o||(o=R&~t,o!==0&&(y=Wn(o))))):(R=u&~x,R!==0?y=Wn(R):E!==0?y=Wn(E):o||(o=u&~t,o!==0&&(y=Wn(o)))),y===0?0:r!==0&&r!==y&&(r&x)===0&&(x=y&-y,o=r&-r,x>=o||x===32&&(o&4194048)!==0)?r:y}function sr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var t=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),t}function Wa(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function cr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vu(t,r,o,u,y,x){var E=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var R=t.entanglements,X=t.expirationTimes,J=t.hiddenUpdates;for(o=E&~o;0<o;){var se=31-Xe(o),ue=1<<se;R[se]=0,X[se]=-1;var ne=J[se];if(ne!==null)for(J[se]=null,se=0;se<ne.length;se++){var ae=ne[se];ae!==null&&(ae.lane&=-536870913)}o&=~ue}u!==0&&Il(t,u,0),x!==0&&y===0&&t.tag!==0&&(t.suspendedLanes|=x&~(E&~r))}function Il(t,r,o){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-Xe(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Bl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Xe(o),y=1<<u;y&r|t[u]&r&&(t[u]|=r),o&=~y}}function Hl(t,r){var o=r&-r;return o=(o&42)!==0?1:Ka(o),(o&(t.suspendedLanes|r))!==0?0:o}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ja(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pl(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:ax(t.type))}function $l(t,r){var o=q.p;try{return q.p=t,r()}finally{q.p=o}}var Bn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Bn,Rt="__reactProps$"+Bn,Kn="__reactContainer$"+Bn,Fr="__reactEvents$"+Bn,Ul="__reactListeners$"+Bn,bu="__reactHandles$"+Bn,ql="__reactResources$"+Bn,ur="__reactMarker$"+Bn;function eo(t){delete t[Et],delete t[Rt],delete t[Fr],delete t[Ul],delete t[bu]}function ji(t){var r=t[Et];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Kn]||o[Et]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=qy(t);t!==null;){if(o=t[Et])return o;t=qy(t)}return r}t=o,o=t.parentNode}return null}function Ci(t){if(t=t[Et]||t[Kn]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function ki(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Ti(t){var r=t[ql];return r||(r=t[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ur]=!0}var Vl=new Set,Fl={};function Jn(t,r){Ai(t,r),Ai(t+"Capture",r)}function Ai(t,r){for(Fl[t]=r,t=0;t<r.length;t++)Vl.add(r[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},Gl={};function Su(t){return _t.call(Gl,t)?!0:_t.call(to,t)?!1:wu.test(t)?Gl[t]=!0:(to[t]=!0,!1)}function Gr(t,r,o){if(Su(r))if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+o)}}function Yr(t,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+o)}}function Cn(t,r,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(r,o,""+u)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nu(t,r,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return y.call(this)},set:function(E){o=""+E,x.call(this,E)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xr(t){if(!t._valueTracker){var r=Yl(t)?"checked":"value";t._valueTracker=Nu(t,r,""+t[r])}}function Xl(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Yl(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Eu=/[\n"\\]/g;function qt(t){return t.replace(Eu,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fr(t,r,o,u,y,x,E,R){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?no(t,E,Ut(r)):o!=null?no(t,E,Ut(o)):u!=null&&t.removeAttribute("value"),y==null&&x!=null&&(t.defaultChecked=!!x),y!=null&&(t.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Ut(R):t.removeAttribute("name")}function Ql(t,r,o,u,y,x,E,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),r!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){Xr(t);return}o=o!=null?""+Ut(o):"",r=r!=null?""+Ut(r):o,R||r===t.value||(t.value=r),t.defaultValue=r}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=R?t.checked:!!u,t.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Xr(t)}function no(t,r,o){r==="number"&&dr(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ei(t,r,o,u){if(t=t.options,r){r={};for(var y=0;y<o.length;y++)r["$"+o[y]]=!0;for(o=0;o<t.length;o++)y=r.hasOwnProperty("$"+t[o].value),t[o].selected!==y&&(t[o].selected=y),y&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ut(o),r=null,y=0;y<t.length;y++){if(t[y].value===o){t[y].selected=!0,u&&(t[y].defaultSelected=!0);return}r!==null||t[y].disabled||(r=t[y])}r!==null&&(r.selected=!0)}}function Mp(t,r,o){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),o==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=o!=null?""+Ut(o):""}function Dp(t,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(a(92));if(P(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ut(r),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),Xr(t)}function Qr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var L1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _p(t,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,o):typeof o!="number"||o===0||L1.has(r)?r==="float"?t.cssFloat=o:t[r]=(""+o).trim():t[r]=o+"px"}function Op(t,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var y in r)u=r[y],r.hasOwnProperty(y)&&o[y]!==u&&_p(t,y,u)}else for(var x in r)r.hasOwnProperty(x)&&_p(t,x,r[x])}function ju(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(t){return B1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Cu=null;function ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zr=null,Wr=null;function Rp(t){var r=Ci(t);if(r&&(t=r.stateNode)){var o=t[Rt]||null;e:switch(t=r.stateNode,r.type){case"input":if(fr(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var y=u[Rt]||null;if(!y)throw Error(a(90));fr(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===t.form&&Xl(u)}break e;case"textarea":Mp(t,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ei(t,!!o.multiple,r,!1)}}}var Tu=!1;function zp(t,r,o){if(Tu)return t(r,o);Tu=!0;try{var u=t(r);return u}finally{if(Tu=!1,(Zr!==null||Wr!==null)&&(Is(),Zr&&(r=Zr,t=Wr,Wr=Zr=null,Rp(r),t)))for(r=0;r<t.length;r++)Rp(t[r])}}function io(t,r){var o=t.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(ni)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Au=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Au=!1}var Mi=null,Mu=null,Wl=null;function Lp(){if(Wl)return Wl;var t,r=Mu,o=r.length,u,y="value"in Mi?Mi.value:Mi.textContent,x=y.length;for(t=0;t<o&&r[t]===y[t];t++);var E=o-t;for(u=1;u<=E&&r[o-u]===y[x-u];u++);return Wl=y.slice(t,1<u?1-u:void 0)}function Kl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Ip(){return!1}function Vt(t){function r(o,u,y,x,E){this._reactName=o,this._targetInst=y,this.type=u,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(o=t[R],this[R]=o?o(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jl:Ip,this.isPropagationStopped=Ip,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),r}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Vt(hr),ao=g({},hr,{view:0,detail:0}),H1=Vt(ao),Du,_u,oo,ts=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(Du=t.screenX-oo.screenX,_u=t.screenY-oo.screenY):_u=Du=0,oo=t),Du)},movementY:function(t){return"movementY"in t?t.movementY:_u}}),Bp=Vt(ts),P1=g({},ts,{dataTransfer:0}),$1=Vt(P1),U1=g({},ao,{relatedTarget:0}),Ou=Vt(U1),q1=g({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),V1=Vt(q1),F1=g({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G1=Vt(F1),Y1=g({},hr,{data:0}),Hp=Vt(Y1),X1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Z1[t])?!!r[t]:!1}function Ru(){return W1}var K1=g({},ao,{key:function(t){if(t.key){var r=X1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J1=Vt(K1),eS=g({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=Vt(eS),tS=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),nS=Vt(tS),iS=g({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=Vt(iS),aS=g({},ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=Vt(aS),lS=g({},hr,{newState:0,oldState:0}),sS=Vt(lS),cS=[9,13,27,32],zu=ni&&"CompositionEvent"in window,lo=null;ni&&"documentMode"in document&&(lo=document.documentMode);var uS=ni&&"TextEvent"in window&&!lo,$p=ni&&(!zu||lo&&8<lo&&11>=lo),Up=" ",qp=!1;function Vp(t,r){switch(t){case"keyup":return cS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function dS(t,r){switch(t){case"compositionend":return Fp(r);case"keypress":return r.which!==32?null:(qp=!0,Up);case"textInput":return t=r.data,t===Up&&qp?null:t;default:return null}}function fS(t,r){if(Kr)return t==="compositionend"||!zu&&Vp(t,r)?(t=Lp(),Wl=Mu=Mi=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $p&&r.locale!=="ko"?null:r.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!hS[t.type]:r==="textarea"}function Yp(t,r,o,u){Zr?Wr?Wr.push(u):Wr=[u]:Zr=u,r=Vs(r,"onChange"),0<r.length&&(o=new es("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var so=null,co=null;function pS(t){Ay(t,0)}function ns(t){var r=ki(t);if(Xl(r))return t}function Xp(t,r){if(t==="change")return r}var Qp=!1;if(ni){var Lu;if(ni){var Iu="oninput"in document;if(!Iu){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Iu=typeof Zp.oninput=="function"}Lu=Iu}else Lu=!1;Qp=Lu&&(!document.documentMode||9<document.documentMode)}function Wp(){so&&(so.detachEvent("onpropertychange",Kp),co=so=null)}function Kp(t){if(t.propertyName==="value"&&ns(co)){var r=[];Yp(r,co,t,ku(t)),zp(pS,r)}}function mS(t,r,o){t==="focusin"?(Wp(),so=r,co=o,so.attachEvent("onpropertychange",Kp)):t==="focusout"&&Wp()}function gS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ns(co)}function yS(t,r){if(t==="click")return ns(r)}function xS(t,r){if(t==="input"||t==="change")return ns(r)}function vS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var tn=typeof Object.is=="function"?Object.is:vS;function uo(t,r){if(tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var y=o[u];if(!_t.call(r,y)||!tn(t[y],r[y]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,r){var o=Jp(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jp(o)}}function tm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?tm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=dr(t.document);r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=dr(t.document)}return r}function Bu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var bS=ni&&"documentMode"in document&&11>=document.documentMode,Jr=null,Hu=null,fo=null,Pu=!1;function im(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pu||Jr==null||Jr!==dr(u)||(u=Jr,"selectionStart"in u&&Bu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fo&&uo(fo,u)||(fo=u,u=Vs(Hu,"onSelect"),0<u.length&&(r=new es("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Jr)))}function pr(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ea={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},$u={},rm={};ni&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function mr(t){if($u[t])return $u[t];if(!ea[t])return t;var r=ea[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in rm)return $u[t]=r[o];return t}var am=mr("animationend"),om=mr("animationiteration"),lm=mr("animationstart"),wS=mr("transitionrun"),SS=mr("transitionstart"),NS=mr("transitioncancel"),sm=mr("transitionend"),cm=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function kn(t,r){cm.set(t,r),Jn(r,[t])}var is=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pn=[],ta=0,qu=0;function rs(){for(var t=ta,r=qu=ta=0;r<t;){var o=pn[r];pn[r++]=null;var u=pn[r];pn[r++]=null;var y=pn[r];pn[r++]=null;var x=pn[r];if(pn[r++]=null,u!==null&&y!==null){var E=u.pending;E===null?y.next=y:(y.next=E.next,E.next=y),u.pending=y}x!==0&&um(o,y,x)}}function as(t,r,o,u){pn[ta++]=t,pn[ta++]=r,pn[ta++]=o,pn[ta++]=u,qu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Vu(t,r,o,u){return as(t,r,o,u),os(t)}function gr(t,r){return as(t,null,null,r),os(t)}function um(t,r,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var y=!1,x=t.return;x!==null;)x.childLanes|=o,u=x.alternate,u!==null&&(u.childLanes|=o),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(y=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,y&&r!==null&&(y=31-Xe(o),t=x.hiddenUpdates,u=t[y],u===null?t[y]=[r]:u.push(r),r.lane=o|536870912),x):null}function os(t){if(50<Ro)throw Ro=0,Jd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var na={};function ES(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,r,o,u){return new ES(t,r,o,u)}function Fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ii(t,r){var o=t.alternate;return o===null?(o=nn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function dm(t,r){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ls(t,r,o,u,y,x){var E=0;if(u=t,typeof t=="function")Fu(t)&&(E=1);else if(typeof t=="string")E=AN(t,o,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case G:return t=nn(31,o,r,y),t.elementType=G,t.lanes=x,t;case S:return yr(o.children,y,x,r);case C:E=8,y|=24;break;case N:return t=nn(12,o,r,y|2),t.elementType=N,t.lanes=x,t;case H:return t=nn(13,o,r,y),t.elementType=H,t.lanes=x,t;case M:return t=nn(19,o,r,y),t.elementType=M,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:E=10;break e;case k:E=9;break e;case _:E=11;break e;case O:E=14;break e;case V:E=16,u=null;break e}E=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return r=nn(E,o,r,y),r.elementType=t,r.type=u,r.lanes=x,r}function yr(t,r,o,u){return t=nn(7,t,u,r),t.lanes=o,t}function Gu(t,r,o){return t=nn(6,t,null,r),t.lanes=o,t}function fm(t){var r=nn(18,null,null,0);return r.stateNode=t,r}function Yu(t,r,o){return r=nn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var hm=new WeakMap;function mn(t,r){if(typeof t=="object"&&t!==null){var o=hm.get(t);return o!==void 0?o:(r={value:t,source:r,stack:Jt(r)},hm.set(t,r),r)}return{value:t,source:r,stack:Jt(r)}}var ia=[],ra=0,ss=null,ho=0,gn=[],yn=0,Di=null,Hn=1,Pn="";function ri(t,r){ia[ra++]=ho,ia[ra++]=ss,ss=t,ho=r}function pm(t,r,o){gn[yn++]=Hn,gn[yn++]=Pn,gn[yn++]=Di,Di=t;var u=Hn;t=Pn;var y=32-Xe(u)-1;u&=~(1<<y),o+=1;var x=32-Xe(r)+y;if(30<x){var E=y-y%5;x=(u&(1<<E)-1).toString(32),u>>=E,y-=E,Hn=1<<32-Xe(r)+y|o<<y|u,Pn=x+t}else Hn=1<<x|o<<y|u,Pn=t}function Xu(t){t.return!==null&&(ri(t,1),pm(t,1,0))}function Qu(t){for(;t===ss;)ss=ia[--ra],ia[ra]=null,ho=ia[--ra],ia[ra]=null;for(;t===Di;)Di=gn[--yn],gn[yn]=null,Pn=gn[--yn],gn[yn]=null,Hn=gn[--yn],gn[yn]=null}function mm(t,r){gn[yn++]=Hn,gn[yn++]=Pn,gn[yn++]=Di,Hn=r.id,Pn=r.overflow,Di=t}var Tt=null,rt=null,He=!1,_i=null,xn=!1,Zu=Error(a(519));function Oi(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(mn(r,t)),Zu}function gm(t){var r=t.stateNode,o=t.type,u=t.memoizedProps;switch(r[Et]=t,r[Rt]=u,o){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Re(Lo[o],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Ql(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),Dp(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Oy(r.textContent,o)?(u.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),u.onScroll!=null&&Re("scroll",r),u.onScrollEnd!=null&&Re("scrollend",r),u.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Oi(t,!0)}function ym(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Tt=Tt.return}}function aa(t){if(t!==Tt)return!1;if(!He)return ym(t),He=!0,!1;var r=t.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||mf(t.type,t.memoizedProps)),o=!o),o&&rt&&Oi(t),ym(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=Uy(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=Uy(t)}else r===27?(r=rt,Yi(t.type)?(t=bf,bf=null,rt=t):rt=r):rt=Tt?bn(t.stateNode.nextSibling):null;return!0}function xr(){rt=Tt=null,He=!1}function Wu(){var t=_i;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),_i=null),t}function po(t){_i===null?_i=[t]:_i.push(t)}var Ku=B(null),vr=null,ai=null;function Ri(t,r,o){L(Ku,r._currentValue),r._currentValue=o}function oi(t){t._currentValue=Ku.current,Y(Ku)}function Ju(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function ed(t,r,o,u){var y=t.child;for(y!==null&&(y.return=t);y!==null;){var x=y.dependencies;if(x!==null){var E=y.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=y;for(var X=0;X<r.length;X++)if(R.context===r[X]){x.lanes|=o,R=x.alternate,R!==null&&(R.lanes|=o),Ju(x.return,o,t),u||(E=null);break e}x=R.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(a(341));E.lanes|=o,x=E.alternate,x!==null&&(x.lanes|=o),Ju(E,o,t),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===t){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function oa(t,r,o,u){t=null;for(var y=r,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var R=y.type;tn(y.pendingProps.value,E.value)||(t!==null?t.push(R):t=[R])}}else if(y===de.current){if(E=y.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(t!==null?t.push($o):t=[$o])}y=y.return}t!==null&&ed(r,t,o,u),r.flags|=262144}function cs(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function br(t){vr=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return xm(vr,t)}function us(t,r){return vr===null&&br(t),xm(t,r)}function xm(t,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ai===null){if(t===null)throw Error(a(308));ai=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ai=ai.next=r;return o}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(o){return o()})}},CS=e.unstable_scheduleCallback,kS=e.unstable_NormalPriority,yt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new jS,data:new Map,refCount:0}}function mo(t){t.refCount--,t.refCount===0&&CS(kS,function(){t.controller.abort()})}var go=null,nd=0,la=0,sa=null;function TS(t,r){if(go===null){var o=go=[];nd=0,la=of(),sa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return nd++,r.then(vm,vm),r}function vm(){if(--nd===0&&go!==null){sa!==null&&(sa.status="fulfilled");var t=go;go=null,la=0,sa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function AS(t,r){var o=[],u={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var y=0;y<o.length;y++)(0,o[y])(r)},function(y){for(u.status="rejected",u.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),u}var bm=D.S;D.S=function(t,r){iy=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TS(t,r),bm!==null&&bm(t,r)};var wr=B(null);function id(){var t=wr.current;return t!==null?t:tt.pooledCache}function ds(t,r){r===null?L(wr,wr.current):L(wr,r.pool)}function wm(){var t=id();return t===null?null:{parent:yt._currentValue,pool:t}}var ca=Error(a(460)),rd=Error(a(474)),fs=Error(a(542)),hs={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nm(t,r,o){switch(o=t[o],o===void 0?t.push(r):o!==r&&(r.then(ti,ti),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jm(t),t;default:if(typeof r.status=="string")r.then(ti,ti);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=u}},function(u){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jm(t),t}throw Nr=r,ca}}function Sr(t){try{var r=t._init;return r(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Nr=o,ca):o}}var Nr=null;function Em(){if(Nr===null)throw Error(a(459));var t=Nr;return Nr=null,t}function jm(t){if(t===ca||t===fs)throw Error(a(483))}var ua=null,yo=0;function ps(t){var r=yo;return yo+=1,ua===null&&(ua=[]),Nm(ua,t,r)}function xo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ms(t,r){throw r.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cm(t){function r(W,Q){if(t){var K=W.deletions;K===null?(W.deletions=[Q],W.flags|=16):K.push(Q)}}function o(W,Q){if(!t)return null;for(;Q!==null;)r(W,Q),Q=Q.sibling;return null}function u(W){for(var Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function y(W,Q){return W=ii(W,Q),W.index=0,W.sibling=null,W}function x(W,Q,K){return W.index=K,t?(K=W.alternate,K!==null?(K=K.index,K<Q?(W.flags|=67108866,Q):K):(W.flags|=67108866,Q)):(W.flags|=1048576,Q)}function E(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function R(W,Q,K,ce){return Q===null||Q.tag!==6?(Q=Gu(K,W.mode,ce),Q.return=W,Q):(Q=y(Q,K),Q.return=W,Q)}function X(W,Q,K,ce){var be=K.type;return be===S?se(W,Q,K.props.children,ce,K.key):Q!==null&&(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===V&&Sr(be)===Q.type)?(Q=y(Q,K.props),xo(Q,K),Q.return=W,Q):(Q=ls(K.type,K.key,K.props,null,W.mode,ce),xo(Q,K),Q.return=W,Q)}function J(W,Q,K,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==K.containerInfo||Q.stateNode.implementation!==K.implementation?(Q=Yu(K,W.mode,ce),Q.return=W,Q):(Q=y(Q,K.children||[]),Q.return=W,Q)}function se(W,Q,K,ce,be){return Q===null||Q.tag!==7?(Q=yr(K,W.mode,ce,be),Q.return=W,Q):(Q=y(Q,K),Q.return=W,Q)}function ue(W,Q,K){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Gu(""+Q,W.mode,K),Q.return=W,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return K=ls(Q.type,Q.key,Q.props,null,W.mode,K),xo(K,Q),K.return=W,K;case w:return Q=Yu(Q,W.mode,K),Q.return=W,Q;case V:return Q=Sr(Q),ue(W,Q,K)}if(P(Q)||F(Q))return Q=yr(Q,W.mode,K,null),Q.return=W,Q;if(typeof Q.then=="function")return ue(W,ps(Q),K);if(Q.$$typeof===j)return ue(W,us(W,Q),K);ms(W,Q)}return null}function ne(W,Q,K,ce){var be=Q!==null?Q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:R(W,Q,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===be?X(W,Q,K,ce):null;case w:return K.key===be?J(W,Q,K,ce):null;case V:return K=Sr(K),ne(W,Q,K,ce)}if(P(K)||F(K))return be!==null?null:se(W,Q,K,ce,null);if(typeof K.then=="function")return ne(W,Q,ps(K),ce);if(K.$$typeof===j)return ne(W,Q,us(W,K),ce);ms(W,K)}return null}function ae(W,Q,K,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return W=W.get(K)||null,R(Q,W,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return W=W.get(ce.key===null?K:ce.key)||null,X(Q,W,ce,be);case w:return W=W.get(ce.key===null?K:ce.key)||null,J(Q,W,ce,be);case V:return ce=Sr(ce),ae(W,Q,K,ce,be)}if(P(ce)||F(ce))return W=W.get(K)||null,se(Q,W,ce,be,null);if(typeof ce.then=="function")return ae(W,Q,K,ps(ce),be);if(ce.$$typeof===j)return ae(W,Q,K,us(Q,ce),be);ms(Q,ce)}return null}function me(W,Q,K,ce){for(var be=null,Ve=null,ye=Q,Ae=Q=0,Ie=null;ye!==null&&Ae<K.length;Ae++){ye.index>Ae?(Ie=ye,ye=null):Ie=ye.sibling;var Fe=ne(W,ye,K[Ae],ce);if(Fe===null){ye===null&&(ye=Ie);break}t&&ye&&Fe.alternate===null&&r(W,ye),Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe,ye=Ie}if(Ae===K.length)return o(W,ye),He&&ri(W,Ae),be;if(ye===null){for(;Ae<K.length;Ae++)ye=ue(W,K[Ae],ce),ye!==null&&(Q=x(ye,Q,Ae),Ve===null?be=ye:Ve.sibling=ye,Ve=ye);return He&&ri(W,Ae),be}for(ye=u(ye);Ae<K.length;Ae++)Ie=ae(ye,W,Ae,K[Ae],ce),Ie!==null&&(t&&Ie.alternate!==null&&ye.delete(Ie.key===null?Ae:Ie.key),Q=x(Ie,Q,Ae),Ve===null?be=Ie:Ve.sibling=Ie,Ve=Ie);return t&&ye.forEach(function(Ki){return r(W,Ki)}),He&&ri(W,Ae),be}function Ne(W,Q,K,ce){if(K==null)throw Error(a(151));for(var be=null,Ve=null,ye=Q,Ae=Q=0,Ie=null,Fe=K.next();ye!==null&&!Fe.done;Ae++,Fe=K.next()){ye.index>Ae?(Ie=ye,ye=null):Ie=ye.sibling;var Ki=ne(W,ye,Fe.value,ce);if(Ki===null){ye===null&&(ye=Ie);break}t&&ye&&Ki.alternate===null&&r(W,ye),Q=x(Ki,Q,Ae),Ve===null?be=Ki:Ve.sibling=Ki,Ve=Ki,ye=Ie}if(Fe.done)return o(W,ye),He&&ri(W,Ae),be;if(ye===null){for(;!Fe.done;Ae++,Fe=K.next())Fe=ue(W,Fe.value,ce),Fe!==null&&(Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe);return He&&ri(W,Ae),be}for(ye=u(ye);!Fe.done;Ae++,Fe=K.next())Fe=ae(ye,W,Ae,Fe.value,ce),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ae:Fe.key),Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe);return t&&ye.forEach(function(PN){return r(W,PN)}),He&&ri(W,Ae),be}function et(W,Q,K,ce){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var be=K.key;Q!==null;){if(Q.key===be){if(be=K.type,be===S){if(Q.tag===7){o(W,Q.sibling),ce=y(Q,K.props.children),ce.return=W,W=ce;break e}}else if(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===V&&Sr(be)===Q.type){o(W,Q.sibling),ce=y(Q,K.props),xo(ce,K),ce.return=W,W=ce;break e}o(W,Q);break}else r(W,Q);Q=Q.sibling}K.type===S?(ce=yr(K.props.children,W.mode,ce,K.key),ce.return=W,W=ce):(ce=ls(K.type,K.key,K.props,null,W.mode,ce),xo(ce,K),ce.return=W,W=ce)}return E(W);case w:e:{for(be=K.key;Q!==null;){if(Q.key===be)if(Q.tag===4&&Q.stateNode.containerInfo===K.containerInfo&&Q.stateNode.implementation===K.implementation){o(W,Q.sibling),ce=y(Q,K.children||[]),ce.return=W,W=ce;break e}else{o(W,Q);break}else r(W,Q);Q=Q.sibling}ce=Yu(K,W.mode,ce),ce.return=W,W=ce}return E(W);case V:return K=Sr(K),et(W,Q,K,ce)}if(P(K))return me(W,Q,K,ce);if(F(K)){if(be=F(K),typeof be!="function")throw Error(a(150));return K=be.call(K),Ne(W,Q,K,ce)}if(typeof K.then=="function")return et(W,Q,ps(K),ce);if(K.$$typeof===j)return et(W,Q,us(W,K),ce);ms(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Q!==null&&Q.tag===6?(o(W,Q.sibling),ce=y(Q,K),ce.return=W,W=ce):(o(W,Q),ce=Gu(K,W.mode,ce),ce.return=W,W=ce),E(W)):o(W,Q)}return function(W,Q,K,ce){try{yo=0;var be=et(W,Q,K,ce);return ua=null,be}catch(ye){if(ye===ca||ye===fs)throw ye;var Ve=nn(29,ye,null,W.mode);return Ve.lanes=ce,Ve.return=W,Ve}}}var Er=Cm(!0),km=Cm(!1),zi=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var y=u.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),u.pending=r,r=os(t),um(t,null,o),r}return as(t,u,r,o),os(t)}function vo(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Bl(t,o)}}function ld(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var y=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?y=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?y=x=r:x=x.next=r}else y=x=r;o={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}var sd=!1;function bo(){if(sd){var t=sa;if(t!==null)throw t}}function wo(t,r,o,u){sd=!1;var y=t.updateQueue;zi=!1;var x=y.firstBaseUpdate,E=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var X=R,J=X.next;X.next=null,E===null?x=J:E.next=J,E=X;var se=t.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==E&&(R===null?se.firstBaseUpdate=J:R.next=J,se.lastBaseUpdate=X))}if(x!==null){var ue=y.baseState;E=0,se=J=X=null,R=x;do{var ne=R.lane&-536870913,ae=ne!==R.lane;if(ae?(Le&ne)===ne:(u&ne)===ne){ne!==0&&ne===la&&(sd=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var me=t,Ne=R;ne=r;var et=o;switch(Ne.tag){case 1:if(me=Ne.payload,typeof me=="function"){ue=me.call(et,ue,ne);break e}ue=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ne.payload,ne=typeof me=="function"?me.call(et,ue,ne):me,ne==null)break e;ue=g({},ue,ne);break e;case 2:zi=!0}}ne=R.callback,ne!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(J=se=ae,X=ue):se=se.next=ae,E|=ne;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);se===null&&(X=ue),y.baseState=X,y.firstBaseUpdate=J,y.lastBaseUpdate=se,x===null&&(y.shared.lanes=0),Ui|=E,t.lanes=E,t.memoizedState=ue}}function Tm(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Am(t,r){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Tm(o[t],r)}var da=B(null),gs=B(0);function Mm(t,r){t=mi,L(gs,t),L(da,r),mi=t|r.baseLanes}function cd(){L(gs,mi),L(da,da.current)}function ud(){mi=gs.current,Y(da),Y(gs)}var rn=B(null),vn=null;function Bi(t){var r=t.alternate;L(pt,pt.current&1),L(rn,t),vn===null&&(r===null||da.current!==null||r.memoizedState!==null)&&(vn=t)}function dd(t){L(pt,pt.current),L(rn,t),vn===null&&(vn=t)}function Dm(t){t.tag===22?(L(pt,pt.current),L(rn,t),vn===null&&(vn=t)):Hi()}function Hi(){L(pt,pt.current),L(rn,rn.current)}function an(t){Y(rn),vn===t&&(vn=null),Y(pt)}var pt=B(0);function ys(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xf(o)||vf(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var li=0,Te=null,Ke=null,xt=null,xs=!1,fa=!1,jr=!1,vs=0,So=0,ha=null,MS=0;function ct(){throw Error(a(321))}function fd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!tn(t[o],r[o]))return!1;return!0}function hd(t,r,o,u,y,x){return li=x,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=t===null||t.memoizedState===null?pg:Td,jr=!1,x=o(u,y),jr=!1,fa&&(x=Om(r,o,u,y)),_m(t),x}function _m(t){D.H=jo;var r=Ke!==null&&Ke.next!==null;if(li=0,xt=Ke=Te=null,xs=!1,So=0,ha=null,r)throw Error(a(300));t===null||vt||(t=t.dependencies,t!==null&&cs(t)&&(vt=!0))}function Om(t,r,o,u){Te=t;var y=0;do{if(fa&&(ha=null),So=0,fa=!1,25<=y)throw Error(a(301));if(y+=1,xt=Ke=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}D.H=mg,x=r(o,u)}while(fa);return x}function DS(){var t=D.H,r=t.useState()[0];return r=typeof r.then=="function"?No(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Te.flags|=1024),r}function pd(){var t=vs!==0;return vs=0,t}function md(t,r,o){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~o}function gd(t){if(xs){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}xs=!1}li=0,xt=Ke=Te=null,fa=!1,So=vs=0,ha=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Te.memoizedState=xt=t:xt=xt.next=t,xt}function mt(){if(Ke===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=xt===null?Te.memoizedState:xt.next;if(r!==null)xt=r,Ke=t;else{if(t===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},xt===null?Te.memoizedState=xt=t:xt=xt.next=t}return xt}function bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(t){var r=So;return So+=1,ha===null&&(ha=[]),t=Nm(ha,t,r),r=Te,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?pg:Td),t}function ws(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return No(t);if(t.$$typeof===j)return At(t)}throw Error(a(438,String(t)))}function yd(t){var r=null,o=Te.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bs(),Te.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(t),u=0;u<t;u++)o[u]=I;return r.index++,o}function si(t,r){return typeof r=="function"?r(t):r}function Ss(t){var r=mt();return xd(r,Ke,t)}function xd(t,r,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var y=t.baseQueue,x=u.pending;if(x!==null){if(y!==null){var E=y.next;y.next=x.next,x.next=E}r.baseQueue=y=x,u.pending=null}if(x=t.baseState,y===null)t.memoizedState=x;else{r=y.next;var R=E=null,X=null,J=r,se=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Le&ue)===ue:(li&ue)===ue){var ne=J.revertLane;if(ne===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===la&&(se=!0);else if((li&ne)===ne){J=J.next,ne===la&&(se=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},X===null?(R=X=ue,E=x):X=X.next=ue,Te.lanes|=ne,Ui|=ne;ue=J.action,jr&&o(x,ue),x=J.hasEagerState?J.eagerState:o(x,ue)}else ne={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},X===null?(R=X=ne,E=x):X=X.next=ne,Te.lanes|=ue,Ui|=ue;J=J.next}while(J!==null&&J!==r);if(X===null?E=x:X.next=R,!tn(x,t.memoizedState)&&(vt=!0,se&&(o=sa,o!==null)))throw o;t.memoizedState=x,t.baseState=E,t.baseQueue=X,u.lastRenderedState=x}return y===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function vd(t){var r=mt(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,y=o.pending,x=r.memoizedState;if(y!==null){o.pending=null;var E=y=y.next;do x=t(x,E.action),E=E.next;while(E!==y);tn(x,r.memoizedState)||(vt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),o.lastRenderedState=x}return[x,u]}function Rm(t,r,o){var u=Te,y=mt(),x=He;if(x){if(o===void 0)throw Error(a(407));o=o()}else o=r();var E=!tn((Ke||y).memoizedState,o);if(E&&(y.memoizedState=o,vt=!0),y=y.queue,Sd(Im.bind(null,u,y,t),[t]),y.getSnapshot!==r||E||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,pa(9,{destroy:void 0},Lm.bind(null,u,y,o,r),null),tt===null)throw Error(a(349));x||(li&127)!==0||zm(u,r,o)}return o}function zm(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Te.updateQueue,r===null?(r=bs(),Te.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Lm(t,r,o,u){r.value=o,r.getSnapshot=u,Bm(r)&&Hm(t)}function Im(t,r,o){return o(function(){Bm(r)&&Hm(t)})}function Bm(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!tn(t,o)}catch{return!0}}function Hm(t){var r=gr(t,2);r!==null&&Qt(r,t,2)}function bd(t){var r=Ht();if(typeof t=="function"){var o=t;if(t=o(),jr){Ot(!0);try{o()}finally{Ot(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},r}function Pm(t,r,o,u){return t.baseState=o,xd(t,Ke,typeof u=="function"?u:si)}function _S(t,r,o,u,y){if(js(t))throw Error(a(485));if(t=r.action,t!==null){var x={payload:y,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};D.T!==null?o(!0):x.isTransition=!1,u(x),o=r.pending,o===null?(x.next=r.pending=x,$m(r,x)):(x.next=o.next,r.pending=o.next=x)}}function $m(t,r){var o=r.action,u=r.payload,y=t.state;if(r.isTransition){var x=D.T,E={};D.T=E;try{var R=o(y,u),X=D.S;X!==null&&X(E,R),Um(t,r,R)}catch(J){wd(t,r,J)}finally{x!==null&&E.types!==null&&(x.types=E.types),D.T=x}}else try{x=o(y,u),Um(t,r,x)}catch(J){wd(t,r,J)}}function Um(t,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){qm(t,r,u)},function(u){return wd(t,r,u)}):qm(t,r,o)}function qm(t,r,o){r.status="fulfilled",r.value=o,Vm(r),t.state=o,r=t.pending,r!==null&&(o=r.next,o===r?t.pending=null:(o=o.next,r.next=o,$m(t,o)))}function wd(t,r,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Vm(r),r=r.next;while(r!==u)}t.action=null}function Vm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Fm(t,r){return r}function Gm(t,r){if(He){var o=tt.formState;if(o!==null){e:{var u=Te;if(He){if(rt){t:{for(var y=rt,x=xn;y.nodeType!==8;){if(!x){y=null;break t}if(y=bn(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){rt=bn(y.nextSibling),u=y.data==="F!";break e}}Oi(u)}u=!1}u&&(r=o[0])}}return o=Ht(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:r},o.queue=u,o=dg.bind(null,Te,u),u.dispatch=o,u=bd(!1),x=kd.bind(null,Te,!1,u.queue),u=Ht(),y={state:r,dispatch:null,action:t,pending:null},u.queue=y,o=_S.bind(null,Te,y,x,o),y.dispatch=o,u.memoizedState=t,[r,o,!1]}function Ym(t){var r=mt();return Xm(r,Ke,t)}function Xm(t,r,o){if(r=xd(t,r,Fm)[0],t=Ss(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=No(r)}catch(E){throw E===ca?fs:E}else u=r;r=mt();var y=r.queue,x=y.dispatch;return o!==r.memoizedState&&(Te.flags|=2048,pa(9,{destroy:void 0},OS.bind(null,y,o),null)),[u,x,t]}function OS(t,r){t.action=r}function Qm(t){var r=mt(),o=Ke;if(o!==null)return Xm(r,o,t);mt(),r=r.memoizedState,o=mt();var u=o.queue.dispatch;return o.memoizedState=t,[r,u,!1]}function pa(t,r,o,u){return t={tag:t,create:o,deps:u,inst:r,next:null},r=Te.updateQueue,r===null&&(r=bs(),Te.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t),t}function Zm(){return mt().memoizedState}function Ns(t,r,o,u){var y=Ht();Te.flags|=t,y.memoizedState=pa(1|r,{destroy:void 0},o,u===void 0?null:u)}function Es(t,r,o,u){var y=mt();u=u===void 0?null:u;var x=y.memoizedState.inst;Ke!==null&&u!==null&&fd(u,Ke.memoizedState.deps)?y.memoizedState=pa(r,x,o,u):(Te.flags|=t,y.memoizedState=pa(1|r,x,o,u))}function Wm(t,r){Ns(8390656,8,t,r)}function Sd(t,r){Es(2048,8,t,r)}function RS(t){Te.flags|=4;var r=Te.updateQueue;if(r===null)r=bs(),Te.updateQueue=r,r.events=[t];else{var o=r.events;o===null?r.events=[t]:o.push(t)}}function Km(t){var r=mt().memoizedState;return RS({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Jm(t,r){return Es(4,2,t,r)}function eg(t,r){return Es(4,4,t,r)}function tg(t,r){if(typeof r=="function"){t=t();var o=r(t);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ng(t,r,o){o=o!=null?o.concat([t]):null,Es(4,4,tg.bind(null,r,t),o)}function Nd(){}function ig(t,r){var o=mt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&fd(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function rg(t,r){var o=mt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&fd(r,u[1]))return u[0];if(u=t(),jr){Ot(!0);try{t()}finally{Ot(!1)}}return o.memoizedState=[u,r],u}function Ed(t,r,o){return o===void 0||(li&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=o,t=ay(),Te.lanes|=t,Ui|=t,o)}function ag(t,r,o,u){return tn(o,r)?o:da.current!==null?(t=Ed(t,o,u),tn(t,r)||(vt=!0),t):(li&42)===0||(li&1073741824)!==0&&(Le&261930)===0?(vt=!0,t.memoizedState=o):(t=ay(),Te.lanes|=t,Ui|=t,r)}function og(t,r,o,u,y){var x=q.p;q.p=x!==0&&8>x?x:8;var E=D.T,R={};D.T=R,kd(t,!1,r,o);try{var X=y(),J=D.S;if(J!==null&&J(R,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var se=AS(X,u);Eo(t,r,se,sn(t))}else Eo(t,r,u,sn(t))}catch(ue){Eo(t,r,{then:function(){},status:"rejected",reason:ue},sn())}finally{q.p=x,E!==null&&R.types!==null&&(E.types=R.types),D.T=E}}function zS(){}function jd(t,r,o,u){if(t.tag!==5)throw Error(a(476));var y=lg(t).queue;og(t,y,r,U,o===null?zS:function(){return sg(t),o(u)})}function lg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:U},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function sg(t){var r=lg(t);r.next===null&&(r=t.alternate.memoizedState),Eo(t,r.next.queue,{},sn())}function Cd(){return At($o)}function cg(){return mt().memoizedState}function ug(){return mt().memoizedState}function LS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var o=sn();t=Li(o);var u=Ii(r,t,o);u!==null&&(Qt(u,r,o),vo(u,r,o)),r={cache:td()},t.payload=r;return}r=r.return}}function IS(t,r,o){var u=sn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},js(t)?fg(r,o):(o=Vu(t,r,o,u),o!==null&&(Qt(o,t,u),hg(o,r,u)))}function dg(t,r,o){var u=sn();Eo(t,r,o,u)}function Eo(t,r,o,u){var y={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(js(t))fg(r,y);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,R=x(E,o);if(y.hasEagerState=!0,y.eagerState=R,tn(R,E))return as(t,r,y,0),tt===null&&rs(),!1}catch{}if(o=Vu(t,r,y,u),o!==null)return Qt(o,t,u),hg(o,r,u),!0}return!1}function kd(t,r,o,u){if(u={lane:2,revertLane:of(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},js(t)){if(r)throw Error(a(479))}else r=Vu(t,o,u,2),r!==null&&Qt(r,t,2)}function js(t){var r=t.alternate;return t===Te||r!==null&&r===Te}function fg(t,r){fa=xs=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function hg(t,r,o){if((o&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Bl(t,o)}}var jo={readContext:At,use:ws,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};jo.useEffectEvent=ct;var pg={readContext:At,use:ws,useCallback:function(t,r){return Ht().memoizedState=[t,r===void 0?null:r],t},useContext:At,useEffect:Wm,useImperativeHandle:function(t,r,o){o=o!=null?o.concat([t]):null,Ns(4194308,4,tg.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ns(4194308,4,t,r)},useInsertionEffect:function(t,r){Ns(4,2,t,r)},useMemo:function(t,r){var o=Ht();r=r===void 0?null:r;var u=t();if(jr){Ot(!0);try{t()}finally{Ot(!1)}}return o.memoizedState=[u,r],u},useReducer:function(t,r,o){var u=Ht();if(o!==void 0){var y=o(r);if(jr){Ot(!0);try{o(r)}finally{Ot(!1)}}}else y=r;return u.memoizedState=u.baseState=y,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:y},u.queue=t,t=t.dispatch=IS.bind(null,Te,t),[u.memoizedState,t]},useRef:function(t){var r=Ht();return t={current:t},r.memoizedState=t},useState:function(t){t=bd(t);var r=t.queue,o=dg.bind(null,Te,r);return r.dispatch=o,[t.memoizedState,o]},useDebugValue:Nd,useDeferredValue:function(t,r){var o=Ht();return Ed(o,t,r)},useTransition:function(){var t=bd(!1);return t=og.bind(null,Te,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,o){var u=Te,y=Ht();if(He){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),tt===null)throw Error(a(349));(Le&127)!==0||zm(u,r,o)}y.memoizedState=o;var x={value:o,getSnapshot:r};return y.queue=x,Wm(Im.bind(null,u,x,t),[t]),u.flags|=2048,pa(9,{destroy:void 0},Lm.bind(null,u,x,o,r),null),o},useId:function(){var t=Ht(),r=tt.identifierPrefix;if(He){var o=Pn,u=Hn;o=(u&~(1<<32-Xe(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=vs++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=MS++,r="_"+r+"r_"+o.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Cd,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var r=Ht();r.memoizedState=r.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=kd.bind(null,Te,!0,o),o.dispatch=r,[t,r]},useMemoCache:yd,useCacheRefresh:function(){return Ht().memoizedState=LS.bind(null,Te)},useEffectEvent:function(t){var r=Ht(),o={impl:t};return r.memoizedState=o,function(){if((Ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Td={readContext:At,use:ws,useCallback:ig,useContext:At,useEffect:Sd,useImperativeHandle:ng,useInsertionEffect:Jm,useLayoutEffect:eg,useMemo:rg,useReducer:Ss,useRef:Zm,useState:function(){return Ss(si)},useDebugValue:Nd,useDeferredValue:function(t,r){var o=mt();return ag(o,Ke.memoizedState,t,r)},useTransition:function(){var t=Ss(si)[0],r=mt().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Rm,useId:cg,useHostTransitionStatus:Cd,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,r){var o=mt();return Pm(o,Ke,t,r)},useMemoCache:yd,useCacheRefresh:ug};Td.useEffectEvent=Km;var mg={readContext:At,use:ws,useCallback:ig,useContext:At,useEffect:Sd,useImperativeHandle:ng,useInsertionEffect:Jm,useLayoutEffect:eg,useMemo:rg,useReducer:vd,useRef:Zm,useState:function(){return vd(si)},useDebugValue:Nd,useDeferredValue:function(t,r){var o=mt();return Ke===null?Ed(o,t,r):ag(o,Ke.memoizedState,t,r)},useTransition:function(){var t=vd(si)[0],r=mt().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Rm,useId:cg,useHostTransitionStatus:Cd,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,r){var o=mt();return Ke!==null?Pm(o,Ke,t,r):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:yd,useCacheRefresh:ug};mg.useEffectEvent=Km;function Ad(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:g({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Md={enqueueSetState:function(t,r,o){t=t._reactInternals;var u=sn(),y=Li(u);y.payload=r,o!=null&&(y.callback=o),r=Ii(t,y,u),r!==null&&(Qt(r,t,u),vo(r,t,u))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=sn(),y=Li(u);y.tag=1,y.payload=r,o!=null&&(y.callback=o),r=Ii(t,y,u),r!==null&&(Qt(r,t,u),vo(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=sn(),u=Li(o);u.tag=2,r!=null&&(u.callback=r),r=Ii(t,u,o),r!==null&&(Qt(r,t,o),vo(r,t,o))}};function gg(t,r,o,u,y,x,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,x,E):r.prototype&&r.prototype.isPureReactComponent?!uo(o,u)||!uo(y,x):!0}function yg(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Md.enqueueReplaceState(r,r.state,null)}function Cr(t,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(t=t.defaultProps){o===r&&(o=g({},o));for(var y in t)o[y]===void 0&&(o[y]=t[y])}return o}function xg(t){is(t)}function vg(t){console.error(t)}function bg(t){is(t)}function Cs(t,r){try{var o=t.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function wg(t,r,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Dd(t,r,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Cs(t,r)},o}function Sg(t){return t=Li(t),t.tag=3,t}function Ng(t,r,o,u){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=u.value;t.payload=function(){return y(x)},t.callback=function(){wg(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){wg(r,o,u),typeof y!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function BS(t,r,o,u,y){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&oa(r,o,y,!0),o=rn.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Bs():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=y,u===hs?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),nf(t,u,y)),!1;case 22:return o.flags|=65536,u===hs?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),nf(t,u,y)),!1}throw Error(a(435,o.tag))}return nf(t,u,y),Bs(),!1}if(He)return r=rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,u!==Zu&&(t=Error(a(422),{cause:u}),po(mn(t,o)))):(u!==Zu&&(r=Error(a(423),{cause:u}),po(mn(r,o))),t=t.current.alternate,t.flags|=65536,y&=-y,t.lanes|=y,u=mn(u,o),y=Dd(t.stateNode,u,y),ld(t,y),ut!==4&&(ut=2)),!1;var x=Error(a(520),{cause:u});if(x=mn(x,o),Oo===null?Oo=[x]:Oo.push(x),ut!==4&&(ut=2),r===null)return!0;u=mn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,t=y&-y,o.lanes|=t,t=Dd(o.stateNode,u,t),ld(o,t),!1;case 1:if(r=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qi===null||!qi.has(x))))return o.flags|=65536,y&=-y,o.lanes|=y,y=Sg(y),Ng(y,t,o,u),ld(o,y),!1}o=o.return}while(o!==null);return!1}var _d=Error(a(461)),vt=!1;function Mt(t,r,o,u){r.child=t===null?km(r,null,o,u):Er(r,t.child,o,u)}function Eg(t,r,o,u,y){o=o.render;var x=r.ref;if("ref"in u){var E={};for(var R in u)R!=="ref"&&(E[R]=u[R])}else E=u;return br(r),u=hd(t,r,o,E,x,y),R=pd(),t!==null&&!vt?(md(t,r,y),ci(t,r,y)):(He&&R&&Xu(r),r.flags|=1,Mt(t,r,u,y),r.child)}function jg(t,r,o,u,y){if(t===null){var x=o.type;return typeof x=="function"&&!Fu(x)&&x.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=x,Cg(t,r,x,u,y)):(t=ls(o.type,null,u,r,r.mode,y),t.ref=r.ref,t.return=r,r.child=t)}if(x=t.child,!Pd(t,y)){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:uo,o(E,u)&&t.ref===r.ref)return ci(t,r,y)}return r.flags|=1,t=ii(x,u),t.ref=r.ref,t.return=r,r.child=t}function Cg(t,r,o,u,y){if(t!==null){var x=t.memoizedProps;if(uo(x,u)&&t.ref===r.ref)if(vt=!1,r.pendingProps=u=x,Pd(t,y))(t.flags&131072)!==0&&(vt=!0);else return r.lanes=t.lanes,ci(t,r,y)}return Od(t,r,o,u,y)}function kg(t,r,o,u){var y=u.children,x=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,t!==null){for(u=r.child=t.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~x}else u=0,r.child=null;return Tg(t,r,x,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ds(r,x!==null?x.cachePool:null),x!==null?Mm(r,x):cd(),Dm(r);else return u=r.lanes=536870912,Tg(t,r,x!==null?x.baseLanes|o:o,o,u)}else x!==null?(ds(r,x.cachePool),Mm(r,x),Hi(),r.memoizedState=null):(t!==null&&ds(r,null),cd(),Hi());return Mt(t,r,y,o),r.child}function Co(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Tg(t,r,o,u,y){var x=id();return x=x===null?null:{parent:yt._currentValue,pool:x},r.memoizedState={baseLanes:o,cachePool:x},t!==null&&ds(r,null),cd(),Dm(r),t!==null&&oa(t,r,u,!0),r.childLanes=y,null}function ks(t,r){return r=As({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ag(t,r,o){return Er(r,t.child,null,o),t=ks(r,r.pendingProps),t.flags|=2,an(r),r.memoizedState=null,t}function HS(t,r,o){var u=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(He){if(u.mode==="hidden")return t=ks(r,u),r.lanes=536870912,Co(null,t);if(dd(r),(t=rt)?(t=$y(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Di!==null?{id:Hn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=fm(t),o.return=r,r.child=o,Tt=r,rt=null)):t=null,t===null)throw Oi(r);return r.lanes=536870912,null}return ks(r,u)}var x=t.memoizedState;if(x!==null){var E=x.dehydrated;if(dd(r),y)if(r.flags&256)r.flags&=-257,r=Ag(t,r,o);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(vt||oa(t,r,o,!1),y=(o&t.childLanes)!==0,vt||y){if(u=tt,u!==null&&(E=Hl(u,o),E!==0&&E!==x.retryLane))throw x.retryLane=E,gr(t,E),Qt(u,t,E),_d;Bs(),r=Ag(t,r,o)}else t=x.treeContext,rt=bn(E.nextSibling),Tt=r,He=!0,_i=null,xn=!1,t!==null&&mm(r,t),r=ks(r,u),r.flags|=4096;return r}return t=ii(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ts(t,r){var o=r.ref;if(o===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(r.flags|=4194816)}}function Od(t,r,o,u,y){return br(r),o=hd(t,r,o,u,void 0,y),u=pd(),t!==null&&!vt?(md(t,r,y),ci(t,r,y)):(He&&u&&Xu(r),r.flags|=1,Mt(t,r,o,y),r.child)}function Mg(t,r,o,u,y,x){return br(r),r.updateQueue=null,o=Om(r,u,o,y),_m(t),u=pd(),t!==null&&!vt?(md(t,r,x),ci(t,r,x)):(He&&u&&Xu(r),r.flags|=1,Mt(t,r,o,x),r.child)}function Dg(t,r,o,u,y){if(br(r),r.stateNode===null){var x=na,E=o.contextType;typeof E=="object"&&E!==null&&(x=At(E)),x=new o(u,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Md,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=u,x.state=r.memoizedState,x.refs={},ad(r),E=o.contextType,x.context=typeof E=="object"&&E!==null?At(E):na,x.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Ad(r,o,E,u),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Md.enqueueReplaceState(x,x.state,null),wo(r,u,x,y),bo(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){x=r.stateNode;var R=r.memoizedProps,X=Cr(o,R);x.props=X;var J=x.context,se=o.contextType;E=na,typeof se=="object"&&se!==null&&(E=At(se));var ue=o.getDerivedStateFromProps;se=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||J!==E)&&yg(r,x,u,E),zi=!1;var ne=r.memoizedState;x.state=ne,wo(r,u,x,y),bo(),J=r.memoizedState,R||ne!==J||zi?(typeof ue=="function"&&(Ad(r,o,ue,u),J=r.memoizedState),(X=zi||gg(r,o,X,u,ne,J,E))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),x.props=u,x.state=J,x.context=E,u=X):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,od(t,r),E=r.memoizedProps,se=Cr(o,E),x.props=se,ue=r.pendingProps,ne=x.context,J=o.contextType,X=na,typeof J=="object"&&J!==null&&(X=At(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ue||ne!==X)&&yg(r,x,u,X),zi=!1,ne=r.memoizedState,x.state=ne,wo(r,u,x,y),bo();var ae=r.memoizedState;E!==ue||ne!==ae||zi||t!==null&&t.dependencies!==null&&cs(t.dependencies)?(typeof R=="function"&&(Ad(r,o,R,u),ae=r.memoizedState),(se=zi||gg(r,o,se,u,ne,ae,X)||t!==null&&t.dependencies!==null&&cs(t.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,ae,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,ae,X)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),x.props=u,x.state=ae,x.context=X,u=se):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),u=!1)}return x=u,Ts(t,r),u=(r.flags&128)!==0,x||u?(x=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,t!==null&&u?(r.child=Er(r,t.child,null,y),r.child=Er(r,null,o,y)):Mt(t,r,o,y),r.memoizedState=x.state,t=r.child):t=ci(t,r,y),t}function _g(t,r,o,u){return xr(),r.flags|=256,Mt(t,r,o,u),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(t){return{baseLanes:t,cachePool:wm()}}function Ld(t,r,o){return t=t!==null?t.childLanes&~o:0,r&&(t|=ln),t}function Og(t,r,o){var u=r.pendingProps,y=!1,x=(r.flags&128)!==0,E;if((E=x)||(E=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),E&&(y=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(y?Bi(r):Hi(),(t=rt)?(t=$y(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Di!==null?{id:Hn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=fm(t),o.return=r,r.child=o,Tt=r,rt=null)):t=null,t===null)throw Oi(r);return vf(t)?r.lanes=32:r.lanes=536870912,null}var R=u.children;return u=u.fallback,y?(Hi(),y=r.mode,R=As({mode:"hidden",children:R},y),u=yr(u,y,o,null),R.return=r,u.return=r,R.sibling=u,r.child=R,u=r.child,u.memoizedState=zd(o),u.childLanes=Ld(t,E,o),r.memoizedState=Rd,Co(null,u)):(Bi(r),Id(r,R))}var X=t.memoizedState;if(X!==null&&(R=X.dehydrated,R!==null)){if(x)r.flags&256?(Bi(r),r.flags&=-257,r=Bd(t,r,o)):r.memoizedState!==null?(Hi(),r.child=t.child,r.flags|=128,r=null):(Hi(),R=u.fallback,y=r.mode,u=As({mode:"visible",children:u.children},y),R=yr(R,y,o,null),R.flags|=2,u.return=r,R.return=r,u.sibling=R,r.child=u,Er(r,t.child,null,o),u=r.child,u.memoizedState=zd(o),u.childLanes=Ld(t,E,o),r.memoizedState=Rd,r=Co(null,u));else if(Bi(r),vf(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var J=E.dgst;E=J,u=Error(a(419)),u.stack="",u.digest=E,po({value:u,source:null,stack:null}),r=Bd(t,r,o)}else if(vt||oa(t,r,o,!1),E=(o&t.childLanes)!==0,vt||E){if(E=tt,E!==null&&(u=Hl(E,o),u!==0&&u!==X.retryLane))throw X.retryLane=u,gr(t,u),Qt(E,t,u),_d;xf(R)||Bs(),r=Bd(t,r,o)}else xf(R)?(r.flags|=192,r.child=t.child,r=null):(t=X.treeContext,rt=bn(R.nextSibling),Tt=r,He=!0,_i=null,xn=!1,t!==null&&mm(r,t),r=Id(r,u.children),r.flags|=4096);return r}return y?(Hi(),R=u.fallback,y=r.mode,X=t.child,J=X.sibling,u=ii(X,{mode:"hidden",children:u.children}),u.subtreeFlags=X.subtreeFlags&65011712,J!==null?R=ii(J,R):(R=yr(R,y,o,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,Co(null,u),u=r.child,R=t.child.memoizedState,R===null?R=zd(o):(y=R.cachePool,y!==null?(X=yt._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=wm(),R={baseLanes:R.baseLanes|o,cachePool:y}),u.memoizedState=R,u.childLanes=Ld(t,E,o),r.memoizedState=Rd,Co(t.child,u)):(Bi(r),o=t.child,t=o.sibling,o=ii(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=o,r.memoizedState=null,o)}function Id(t,r){return r=As({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function As(t,r){return t=nn(22,t,null,r),t.lanes=0,t}function Bd(t,r,o){return Er(r,t.child,null,o),t=Id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Rg(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ju(t.return,r,o)}function Hd(t,r,o,u,y,x){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:y,treeForkCount:x}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=y,E.treeForkCount=x)}function zg(t,r,o){var u=r.pendingProps,y=u.revealOrder,x=u.tail;u=u.children;var E=pt.current,R=(E&2)!==0;if(R?(E=E&1|2,r.flags|=128):E&=1,L(pt,E),Mt(t,r,u,o),u=He?ho:0,!R&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rg(t,o,r);else if(t.tag===19)Rg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(y){case"forwards":for(o=r.child,y=null;o!==null;)t=o.alternate,t!==null&&ys(t)===null&&(y=o),o=o.sibling;o=y,o===null?(y=r.child,r.child=null):(y=o.sibling,o.sibling=null),Hd(r,!1,y,o,x,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=r.child,r.child=null;y!==null;){if(t=y.alternate,t!==null&&ys(t)===null){r.child=y;break}t=y.sibling,y.sibling=o,o=y,y=t}Hd(r,!0,o,null,x,u);break;case"together":Hd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ci(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ui|=r.lanes,(o&r.childLanes)===0)if(t!==null){if(oa(t,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,o=ii(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ii(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Pd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&cs(t)))}function PS(t,r,o){switch(r.tag){case 3:oe(r,r.stateNode.containerInfo),Ri(r,yt,t.memoizedState.cache),xr();break;case 27:case 5:xe(r);break;case 4:oe(r,r.stateNode.containerInfo);break;case 10:Ri(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Bi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Og(t,r,o):(Bi(r),t=ci(t,r,o),t!==null?t.sibling:null);Bi(r);break;case 19:var y=(t.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(oa(t,r,o,!1),u=(o&r.childLanes)!==0),y){if(u)return zg(t,r,o);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),L(pt,pt.current),u)break;return null;case 22:return r.lanes=0,kg(t,r,o,r.pendingProps);case 24:Ri(r,yt,t.memoizedState.cache)}return ci(t,r,o)}function Lg(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps)vt=!0;else{if(!Pd(t,o)&&(r.flags&128)===0)return vt=!1,PS(t,r,o);vt=(t.flags&131072)!==0}else vt=!1,He&&(r.flags&1048576)!==0&&pm(r,ho,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=Sr(r.elementType),r.type=t,typeof t=="function")Fu(t)?(u=Cr(t,u),r.tag=1,r=Dg(null,r,t,u,o)):(r.tag=0,r=Od(null,r,t,u,o));else{if(t!=null){var y=t.$$typeof;if(y===_){r.tag=11,r=Eg(null,r,t,u,o);break e}else if(y===O){r.tag=14,r=jg(null,r,t,u,o);break e}}throw r=A(t)||t,Error(a(306,r,""))}}return r;case 0:return Od(t,r,r.type,r.pendingProps,o);case 1:return u=r.type,y=Cr(u,r.pendingProps),Dg(t,r,u,y,o);case 3:e:{if(oe(r,r.stateNode.containerInfo),t===null)throw Error(a(387));u=r.pendingProps;var x=r.memoizedState;y=x.element,od(t,r),wo(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Ri(r,yt,u),u!==x.cache&&ed(r,[yt],o,!0),bo(),u=E.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=_g(t,r,u,o);break e}else if(u!==y){y=mn(Error(a(424)),r),po(y),r=_g(t,r,u,o);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=bn(t.firstChild),Tt=r,He=!0,_i=null,xn=!0,o=km(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xr(),u===y){r=ci(t,r,o);break e}Mt(t,r,u,o)}r=r.child}return r;case 26:return Ts(t,r),t===null?(o=Yy(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,t=r.pendingProps,u=Fs(re.current).createElement(o),u[Et]=r,u[Rt]=t,Dt(u,o,t),gt(u),r.stateNode=u):r.memoizedState=Yy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xe(r),t===null&&He&&(u=r.stateNode=Vy(r.type,r.pendingProps,re.current),Tt=r,xn=!0,y=rt,Yi(r.type)?(bf=y,rt=bn(u.firstChild)):rt=y),Mt(t,r,r.pendingProps.children,o),Ts(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((y=u=rt)&&(u=gN(u,r.type,r.pendingProps,xn),u!==null?(r.stateNode=u,Tt=r,rt=bn(u.firstChild),xn=!1,y=!0):y=!1),y||Oi(r)),xe(r),y=r.type,x=r.pendingProps,E=t!==null?t.memoizedProps:null,u=x.children,mf(y,x)?u=null:E!==null&&mf(y,E)&&(r.flags|=32),r.memoizedState!==null&&(y=hd(t,r,DS,null,null,o),$o._currentValue=y),Ts(t,r),Mt(t,r,u,o),r.child;case 6:return t===null&&He&&((t=o=rt)&&(o=yN(o,r.pendingProps,xn),o!==null?(r.stateNode=o,Tt=r,rt=null,t=!0):t=!1),t||Oi(r)),null;case 13:return Og(t,r,o);case 4:return oe(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Er(r,null,u,o):Mt(t,r,u,o),r.child;case 11:return Eg(t,r,r.type,r.pendingProps,o);case 7:return Mt(t,r,r.pendingProps,o),r.child;case 8:return Mt(t,r,r.pendingProps.children,o),r.child;case 12:return Mt(t,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ri(r,r.type,u.value),Mt(t,r,u.children,o),r.child;case 9:return y=r.type._context,u=r.pendingProps.children,br(r),y=At(y),u=u(y),r.flags|=1,Mt(t,r,u,o),r.child;case 14:return jg(t,r,r.type,r.pendingProps,o);case 15:return Cg(t,r,r.type,r.pendingProps,o);case 19:return zg(t,r,o);case 31:return HS(t,r,o);case 22:return kg(t,r,o,r.pendingProps);case 24:return br(r),u=At(yt),t===null?(y=id(),y===null&&(y=tt,x=td(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=o),y=x),r.memoizedState={parent:u,cache:y},ad(r),Ri(r,yt,y)):((t.lanes&o)!==0&&(od(t,r),wo(r,null,null,o),bo()),y=t.memoizedState,x=r.memoizedState,y.parent!==u?(y={parent:u,cache:u},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Ri(r,yt,u)):(u=x.cache,Ri(r,yt,u),u!==y.cache&&ed(r,[yt],o,!0))),Mt(t,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ui(t){t.flags|=4}function $d(t,r,o,u,y){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(y&335544128)===y)if(t.stateNode.complete)t.flags|=8192;else if(cy())t.flags|=8192;else throw Nr=hs,rd}else t.flags&=-16777217}function Ig(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ky(r))if(cy())t.flags|=8192;else throw Nr=hs,rd}function Ms(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ll():536870912,t.lanes|=r,xa|=r)}function ko(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var y=t.child;y!==null;)o|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)o|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function $S(t,r,o){var u=r.pendingProps;switch(Qu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),oi(yt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(aa(r)?ui(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wu())),at(r),null;case 26:var y=r.type,x=r.memoizedState;return t===null?(ui(r),x!==null?(at(r),Ig(r,x)):(at(r),$d(r,y,null,u,o))):x?x!==t.memoizedState?(ui(r),at(r),Ig(r,x)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&ui(r),at(r),$d(r,y,t,u,o)),null;case 27:if(je(r),o=re.current,y=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return at(r),null}t=ie.current,aa(r)?gm(r):(t=Vy(y,u,o),r.stateNode=t,ui(r))}return at(r),null;case 5:if(je(r),y=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return at(r),null}if(x=ie.current,aa(r))gm(r);else{var E=Fs(re.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?E.createElement(y,{is:u.is}):E.createElement(y)}}x[Et]=r,x[Rt]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=x;e:switch(Dt(x,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ui(r)}}return at(r),$d(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,o),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&ui(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(t=re.current,aa(r)){if(t=r.stateNode,o=r.memoizedProps,u=null,y=Tt,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}t[Et]=r,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Oy(t.nodeValue,o)),t||Oi(r,!0)}else t=Fs(t).createTextNode(u),t[Et]=r,r.stateNode=t}return at(r),null;case 31:if(o=r.memoizedState,t===null||t.memoizedState!==null){if(u=aa(r),o!==null){if(t===null){if(!u)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=r}else xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else o=Wu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return r.flags&256?(an(r),r):(an(r),null);if((r.flags&128)!==0)throw Error(a(558))}return at(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(y=aa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!y)throw Error(a(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Et]=r}else xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),y=!1}else y=Wu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(an(r),r):(an(r),null)}return an(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=r.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==y&&(u.flags|=2048)),o!==t&&o&&(r.child.flags|=8192),Ms(r,r.updateQueue),at(r),null);case 4:return fe(),t===null&&uf(r.stateNode.containerInfo),at(r),null;case 10:return oi(r.type),at(r),null;case 19:if(Y(pt),u=r.memoizedState,u===null)return at(r),null;if(y=(r.flags&128)!==0,x=u.rendering,x===null)if(y)ko(u,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=ys(t),x!==null){for(r.flags|=128,ko(u,!1),t=x.updateQueue,r.updateQueue=t,Ms(r,t),r.subtreeFlags=0,t=o,o=r.child;o!==null;)dm(o,t),o=o.sibling;return L(pt,pt.current&1|2),He&&ri(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&Nt()>zs&&(r.flags|=128,y=!0,ko(u,!1),r.lanes=4194304)}else{if(!y)if(t=ys(x),t!==null){if(r.flags|=128,y=!0,t=t.updateQueue,r.updateQueue=t,Ms(r,t),ko(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!He)return at(r),null}else 2*Nt()-u.renderingStartTime>zs&&o!==536870912&&(r.flags|=128,y=!0,ko(u,!1),r.lanes=4194304);u.isBackwards?(x.sibling=r.child,r.child=x):(t=u.last,t!==null?t.sibling=x:r.child=x,u.last=x)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Nt(),t.sibling=null,o=pt.current,L(pt,y?o&1|2:o&1),He&&ri(r,u.treeForkCount),t):(at(r),null);case 22:case 23:return an(r),ud(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Ms(r,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),t!==null&&Y(wr),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),oi(yt),at(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function US(t,r){switch(Qu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return oi(yt),fe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return je(r),null;case 31:if(r.memoizedState!==null){if(an(r),r.alternate===null)throw Error(a(340));xr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(an(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));xr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(pt),null;case 4:return fe(),null;case 10:return oi(r.type),null;case 22:case 23:return an(r),ud(),t!==null&&Y(wr),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return oi(yt),null;case 25:return null;default:return null}}function Bg(t,r){switch(Qu(r),r.tag){case 3:oi(yt),fe();break;case 26:case 27:case 5:je(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&an(r);break;case 13:an(r);break;case 19:Y(pt);break;case 10:oi(r.type);break;case 22:case 23:an(r),ud(),t!==null&&Y(wr);break;case 24:oi(yt)}}function To(t,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var y=u.next;o=y;do{if((o.tag&t)===t){u=void 0;var x=o.create,E=o.inst;u=x(),E.destroy=u}o=o.next}while(o!==y)}}catch(R){Ze(r,r.return,R)}}function Pi(t,r,o){try{var u=r.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var x=y.next;u=x;do{if((u.tag&t)===t){var E=u.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,y=r;var X=o,J=R;try{J()}catch(se){Ze(y,X,se)}}}u=u.next}while(u!==x)}}catch(se){Ze(r,r.return,se)}}function Hg(t){var r=t.updateQueue;if(r!==null){var o=t.stateNode;try{Am(r,o)}catch(u){Ze(t,t.return,u)}}}function Pg(t,r,o){o.props=Cr(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(t,r,u)}}function Ao(t,r){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(y){Ze(t,r,y)}}function $n(t,r){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(y){Ze(t,r,y)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){Ze(t,r,y)}else o.current=null}function $g(t){var r=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(y){Ze(t,t.return,y)}}function Ud(t,r,o){try{var u=t.stateNode;uN(u,t.type,o,r),u[Rt]=r}catch(y){Ze(t,t.return,y)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(t),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ti));else if(u!==4&&(u===27&&Yi(t.type)&&(o=t.stateNode,r=null),t=t.child,t!==null))for(Vd(t,r,o),t=t.sibling;t!==null;)Vd(t,r,o),t=t.sibling}function Ds(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(u===27&&Yi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ds(t,r,o),t=t.sibling;t!==null;)Ds(t,r,o),t=t.sibling}function qg(t){var r=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Dt(r,u,o),r[Et]=t,r[Rt]=o}catch(x){Ze(t,t.return,x)}}var di=!1,bt=!1,Fd=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function qS(t,r){if(t=t.containerInfo,hf=Ks,t=nm(t),Bu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var y=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,R=-1,X=-1,J=0,se=0,ue=t,ne=null;t:for(;;){for(var ae;ue!==o||y!==0&&ue.nodeType!==3||(R=E+y),ue!==x||u!==0&&ue.nodeType!==3||(X=E+u),ue.nodeType===3&&(E+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===t)break t;if(ne===o&&++J===y&&(R=E),ne===x&&++se===u&&(X=E),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}o=R===-1||X===-1?null:{start:R,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(pf={focusedElem:t,selectionRange:o},Ks=!1,Ct=r;Ct!==null;)if(r=Ct,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ct=t;else for(;Ct!==null;){switch(r=Ct,x=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)y=t[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,o=r,y=x.memoizedProps,x=x.memoizedState,u=o.stateNode;try{var me=Cr(o.type,y);t=u.getSnapshotBeforeUpdate(me,x),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){Ze(o,o.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,o=t.nodeType,o===9)yf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Ct=t;break}Ct=r.return}}function Fg(t,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:hi(t,o),u&4&&To(5,o);break;case 1:if(hi(t,o),u&4)if(t=o.stateNode,r===null)try{t.componentDidMount()}catch(E){Ze(o,o.return,E)}else{var y=Cr(o.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(y,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(o,o.return,E)}}u&64&&Hg(o),u&512&&Ao(o,o.return);break;case 3:if(hi(t,o),u&64&&(t=o.updateQueue,t!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Am(t,r)}catch(E){Ze(o,o.return,E)}}break;case 27:r===null&&u&4&&qg(o);case 26:case 5:hi(t,o),r===null&&u&4&&$g(o),u&512&&Ao(o,o.return);break;case 12:hi(t,o);break;case 31:hi(t,o),u&4&&Xg(t,o);break;case 13:hi(t,o),u&4&&Qg(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=KS.bind(null,o),xN(t,o))));break;case 22:if(u=o.memoizedState!==null||di,!u){r=r!==null&&r.memoizedState!==null||bt,y=di;var x=bt;di=u,(bt=r)&&!x?pi(t,o,(o.subtreeFlags&8772)!==0):hi(t,o),di=y,bt=x}break;case 30:break;default:hi(t,o)}}function Gg(t){var r=t.alternate;r!==null&&(t.alternate=null,Gg(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&eo(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,Ft=!1;function fi(t,r,o){for(o=o.child;o!==null;)Yg(t,r,o),o=o.sibling}function Yg(t,r,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:bt||$n(o,r),fi(t,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||$n(o,r);var u=st,y=Ft;Yi(o.type)&&(st=o.stateNode,Ft=!1),fi(t,r,o),Bo(o.stateNode),st=u,Ft=y;break;case 5:bt||$n(o,r);case 6:if(u=st,y=Ft,st=null,fi(t,r,o),st=u,Ft=y,st!==null)if(Ft)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(x){Ze(o,r,x)}else try{st.removeChild(o.stateNode)}catch(x){Ze(o,r,x)}break;case 18:st!==null&&(Ft?(t=st,Hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Ca(t)):Hy(st,o.stateNode));break;case 4:u=st,y=Ft,st=o.stateNode.containerInfo,Ft=!0,fi(t,r,o),st=u,Ft=y;break;case 0:case 11:case 14:case 15:Pi(2,o,r),bt||Pi(4,o,r),fi(t,r,o);break;case 1:bt||($n(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Pg(o,r,u)),fi(t,r,o);break;case 21:fi(t,r,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,fi(t,r,o),bt=u;break;default:fi(t,r,o)}}function Xg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ca(t)}catch(o){Ze(r,r.return,o)}}}function Qg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ca(t)}catch(o){Ze(r,r.return,o)}}function VS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Vg),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Vg),r;default:throw Error(a(435,t.tag))}}function _s(t,r){var o=VS(t);r.forEach(function(u){if(!o.has(u)){o.add(u);var y=JS.bind(null,t,u);u.then(y,y)}})}function Gt(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var y=o[u],x=t,E=r,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Yi(R.type)){st=R.stateNode,Ft=!1;break e}break;case 5:st=R.stateNode,Ft=!1;break e;case 3:case 4:st=R.stateNode.containerInfo,Ft=!0;break e}R=R.return}if(st===null)throw Error(a(160));Yg(x,E,y),st=null,Ft=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Zg(r,t),r=r.sibling}var Tn=null;function Zg(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(r,t),Yt(t),u&4&&(Pi(3,t,t.return),To(3,t),Pi(5,t,t.return));break;case 1:Gt(r,t),Yt(t),u&512&&(bt||o===null||$n(o,o.return)),u&64&&di&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var y=Tn;if(Gt(r,t),Yt(t),u&512&&(bt||o===null||$n(o,o.return)),u&4){var x=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":x=y.getElementsByTagName("title")[0],(!x||x[ur]||x[Et]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(u),y.head.insertBefore(x,y.querySelector("head > title"))),Dt(x,u,o),x[Et]=t,gt(x),u=x;break e;case"link":var E=Zy("link","href",y).get(u+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(x=E[R],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}x=y.createElement(u),Dt(x,u,o),y.head.appendChild(x);break;case"meta":if(E=Zy("meta","content",y).get(u+(o.content||""))){for(R=0;R<E.length;R++)if(x=E[R],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}x=y.createElement(u),Dt(x,u,o),y.head.appendChild(x);break;default:throw Error(a(468,u))}x[Et]=t,gt(x),u=x}t.stateNode=u}else Wy(y,t.type,t.stateNode);else t.stateNode=Qy(y,u,t.memoizedProps);else x!==u?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,u===null?Wy(y,t.type,t.stateNode):Qy(y,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Ud(t,t.memoizedProps,o.memoizedProps)}break;case 27:Gt(r,t),Yt(t),u&512&&(bt||o===null||$n(o,o.return)),o!==null&&u&4&&Ud(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Gt(r,t),Yt(t),u&512&&(bt||o===null||$n(o,o.return)),t.flags&32){y=t.stateNode;try{Qr(y,"")}catch(me){Ze(t,t.return,me)}}u&4&&t.stateNode!=null&&(y=t.memoizedProps,Ud(t,y,o!==null?o.memoizedProps:y)),u&1024&&(Fd=!0);break;case 6:if(Gt(r,t),Yt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(me){Ze(t,t.return,me)}}break;case 3:if(Xs=null,y=Tn,Tn=Gs(r.containerInfo),Gt(r,t),Tn=y,Yt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ca(r.containerInfo)}catch(me){Ze(t,t.return,me)}Fd&&(Fd=!1,Wg(t));break;case 4:u=Tn,Tn=Gs(t.stateNode.containerInfo),Gt(r,t),Yt(t),Tn=u;break;case 12:Gt(r,t),Yt(t);break;case 31:Gt(r,t),Yt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_s(t,u)));break;case 13:Gt(r,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rs=Nt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_s(t,u)));break;case 22:y=t.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,J=di,se=bt;if(di=J||y,bt=se||X,Gt(r,t),bt=se,di=J,Yt(t),u&8192)e:for(r=t.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(o===null||X||di||bt||kr(t)),o=null,r=t;;){if(r.tag===5||r.tag===26){if(o===null){X=o=r;try{if(x=X.stateNode,y)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=X.stateNode;var ue=X.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){Ze(X,X.return,me)}}}else if(r.tag===6){if(o===null){X=r;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(me){Ze(X,X.return,me)}}}else if(r.tag===18){if(o===null){X=r;try{var ae=X.stateNode;y?Py(ae,!0):Py(X.stateNode,!1)}catch(me){Ze(X,X.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_s(t,o))));break;case 19:Gt(r,t),Yt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_s(t,u)));break;case 30:break;case 21:break;default:Gt(r,t),Yt(t)}}function Yt(t){var r=t.flags;if(r&2){try{for(var o,u=t.return;u!==null;){if(Ug(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var y=o.stateNode,x=qd(t);Ds(t,x,y);break;case 5:var E=o.stateNode;o.flags&32&&(Qr(E,""),o.flags&=-33);var R=qd(t);Ds(t,R,E);break;case 3:case 4:var X=o.stateNode.containerInfo,J=qd(t);Vd(t,J,X);break;default:throw Error(a(161))}}catch(se){Ze(t,t.return,se)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Wg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function hi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fg(t,r.alternate,r),r=r.sibling}function kr(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Pi(4,r,r.return),kr(r);break;case 1:$n(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Pg(r,r.return,o),kr(r);break;case 27:Bo(r.stateNode);case 26:case 5:$n(r,r.return),kr(r);break;case 22:r.memoizedState===null&&kr(r);break;case 30:kr(r);break;default:kr(r)}t=t.sibling}}function pi(t,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,y=t,x=r,E=x.flags;switch(x.tag){case 0:case 11:case 15:pi(y,x,o),To(4,x);break;case 1:if(pi(y,x,o),u=x,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){Ze(u,u.return,J)}if(u=x,y=u.updateQueue,y!==null){var R=u.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)Tm(X[y],R)}catch(J){Ze(u,u.return,J)}}o&&E&64&&Hg(x),Ao(x,x.return);break;case 27:qg(x);case 26:case 5:pi(y,x,o),o&&u===null&&E&4&&$g(x),Ao(x,x.return);break;case 12:pi(y,x,o);break;case 31:pi(y,x,o),o&&E&4&&Xg(y,x);break;case 13:pi(y,x,o),o&&E&4&&Qg(y,x);break;case 22:x.memoizedState===null&&pi(y,x,o),Ao(x,x.return);break;case 30:break;default:pi(y,x,o)}r=r.sibling}}function Gd(t,r){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&mo(o))}function Yd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&mo(t))}function An(t,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kg(t,r,o,u),r=r.sibling}function Kg(t,r,o,u){var y=r.flags;switch(r.tag){case 0:case 11:case 15:An(t,r,o,u),y&2048&&To(9,r);break;case 1:An(t,r,o,u);break;case 3:An(t,r,o,u),y&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&mo(t)));break;case 12:if(y&2048){An(t,r,o,u),t=r.stateNode;try{var x=r.memoizedProps,E=x.id,R=x.onPostCommit;typeof R=="function"&&R(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){Ze(r,r.return,X)}}else An(t,r,o,u);break;case 31:An(t,r,o,u);break;case 13:An(t,r,o,u);break;case 23:break;case 22:x=r.stateNode,E=r.alternate,r.memoizedState!==null?x._visibility&2?An(t,r,o,u):Mo(t,r):x._visibility&2?An(t,r,o,u):(x._visibility|=2,ma(t,r,o,u,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Gd(E,r);break;case 24:An(t,r,o,u),y&2048&&Yd(r.alternate,r);break;default:An(t,r,o,u)}}function ma(t,r,o,u,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=t,E=r,R=o,X=u,J=E.flags;switch(E.tag){case 0:case 11:case 15:ma(x,E,R,X,y),To(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?ma(x,E,R,X,y):Mo(x,E):(se._visibility|=2,ma(x,E,R,X,y)),y&&J&2048&&Gd(E.alternate,E);break;case 24:ma(x,E,R,X,y),y&&J&2048&&Yd(E.alternate,E);break;default:ma(x,E,R,X,y)}r=r.sibling}}function Mo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=t,u=r,y=u.flags;switch(u.tag){case 22:Mo(o,u),y&2048&&Gd(u.alternate,u);break;case 24:Mo(o,u),y&2048&&Yd(u.alternate,u);break;default:Mo(o,u)}r=r.sibling}}var Do=8192;function ga(t,r,o){if(t.subtreeFlags&Do)for(t=t.child;t!==null;)Jg(t,r,o),t=t.sibling}function Jg(t,r,o){switch(t.tag){case 26:ga(t,r,o),t.flags&Do&&t.memoizedState!==null&&MN(o,Tn,t.memoizedState,t.memoizedProps);break;case 5:ga(t,r,o);break;case 3:case 4:var u=Tn;Tn=Gs(t.stateNode.containerInfo),ga(t,r,o),Tn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Do,Do=16777216,ga(t,r,o),Do=u):ga(t,r,o));break;default:ga(t,r,o)}}function ey(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _o(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ct=u,ny(u,t)}ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 0:case 11:case 15:_o(t),t.flags&2048&&Pi(9,t,t.return);break;case 3:_o(t);break;case 12:_o(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Os(t)):_o(t);break;default:_o(t)}}function Os(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ct=u,ny(u,t)}ey(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Pi(8,r,r.return),Os(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Os(r));break;default:Os(r)}t=t.sibling}}function ny(t,r){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:Pi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ct=u;else e:for(o=t;Ct!==null;){u=Ct;var y=u.sibling,x=u.return;if(Gg(u),u===o){Ct=null;break e}if(y!==null){y.return=x,Ct=y;break e}Ct=x}}}var FS={getCacheForType:function(t){var r=At(yt),o=r.data.get(t);return o===void 0&&(o=t(),r.data.set(t,o)),o},cacheSignal:function(){return At(yt).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Oe=null,Le=0,Qe=0,on=null,$i=!1,ya=!1,Xd=!1,mi=0,ut=0,Ui=0,Tr=0,Qd=0,ln=0,xa=0,Oo=null,Xt=null,Zd=!1,Rs=0,iy=0,zs=1/0,Ls=null,qi=null,jt=0,Vi=null,va=null,gi=0,Wd=0,Kd=null,ry=null,Ro=0,Jd=null;function sn(){return(Ge&2)!==0&&Le!==0?Le&-Le:D.T!==null?of():Pl()}function ay(){if(ln===0)if((Le&536870912)===0||He){var t=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),ln=t}else ln=536870912;return t=rn.current,t!==null&&(t.flags|=32),ln}function Qt(t,r,o){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ba(t,0),Fi(t,Le,ln,!1)),cr(t,o),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Tr|=o),ut===4&&Fi(t,Le,ln,!1)),Un(t))}function oy(t,r,o){if((Ge&6)!==0)throw Error(a(327));var u=!o&&(r&127)===0&&(r&t.expiredLanes)===0||sr(t,r),y=u?QS(t,r):tf(t,r,!0),x=u;do{if(y===0){ya&&!u&&Fi(t,r,0,!1);break}else{if(o=t.current.alternate,x&&!YS(o)){y=tf(t,r,!1),x=!1;continue}if(y===2){if(x=r,t.errorRecoveryDisabledLanes&x)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var R=t;y=Oo;var X=R.current.memoizedState.isDehydrated;if(X&&(ba(R,E).flags|=256),E=tf(R,E,!1),E!==2){if(Xd&&!X){R.errorRecoveryDisabledLanes|=x,Tr|=x,y=4;break e}x=Xt,Xt=y,x!==null&&(Xt===null?Xt=x:Xt.push.apply(Xt,x))}y=E}if(x=!1,y!==2)continue}}if(y===1){ba(t,0),Fi(t,r,0,!0);break}e:{switch(u=t,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Fi(u,r,ln,!$i);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(y=Rs+300-Nt(),10<y)){if(Fi(u,r,ln,!$i),Vr(u,0,!0)!==0)break e;gi=r,u.timeoutHandle=Iy(ly.bind(null,u,o,Xt,Ls,Zd,r,ln,Tr,xa,$i,x,"Throttled",-0,0),y);break e}ly(u,o,Xt,Ls,Zd,r,ln,Tr,xa,$i,x,null,-0,0)}}break}while(!0);Un(t)}function ly(t,r,o,u,y,x,E,R,X,J,se,ue,ne,ae){if(t.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Jg(r,x,ue);var me=(x&62914560)===x?Rs-Nt():(x&4194048)===x?iy-Nt():0;if(me=DN(ue,me),me!==null){gi=x,t.cancelPendingCommit=me(my.bind(null,t,r,x,o,u,y,E,R,X,se,ue,null,ne,ae)),Fi(t,x,E,!J);return}}my(t,r,x,o,u,y,E,R,X)}function YS(t){for(var r=t;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var y=o[u],x=y.getSnapshot;y=y.value;try{if(!tn(x(),y))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(t,r,o,u){r&=~Qd,r&=~Tr,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var y=r;0<y;){var x=31-Xe(y),E=1<<x;u[x]=-1,y&=~E}o!==0&&Il(t,o,r)}function Is(){return(Ge&6)===0?(zo(0),!1):!0}function ef(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,ai=vr=null,gd(t),ua=null,yo=0,t=Oe;for(;t!==null;)Bg(t.alternate,t),t=t.return;Oe=null}}function ba(t,r){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,hN(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),gi=0,ef(),tt=t,Oe=o=ii(t.current,null),Le=r,Qe=0,on=null,$i=!1,ya=sr(t,r),Xd=!1,xa=ln=Qd=Tr=Ui=ut=0,Xt=Oo=null,Zd=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var y=31-Xe(u),x=1<<y;r|=t[y],u&=~x}return mi=r,rs(),o}function sy(t,r){Te=null,D.H=jo,r===ca||r===fs?(r=Em(),Qe=3):r===rd?(r=Em(),Qe=4):Qe=r===_d?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,on=r,Oe===null&&(ut=1,Cs(t,mn(r,t.current)))}function cy(){var t=rn.current;return t===null?!0:(Le&4194048)===Le?vn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===vn:!1}function uy(){var t=D.H;return D.H=jo,t===null?jo:t}function dy(){var t=D.A;return D.A=FS,t}function Bs(){ut=4,$i||(Le&4194048)!==Le&&rn.current!==null||(ya=!0),(Ui&134217727)===0&&(Tr&134217727)===0||tt===null||Fi(tt,Le,ln,!1)}function tf(t,r,o){var u=Ge;Ge|=2;var y=uy(),x=dy();(tt!==t||Le!==r)&&(Ls=null,ba(t,r)),r=!1;var E=ut;e:do try{if(Qe!==0&&Oe!==null){var R=Oe,X=on;switch(Qe){case 8:ef(),E=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(r=!0);var J=Qe;if(Qe=0,on=null,wa(t,R,X,J),o&&ya){E=0;break e}break;default:J=Qe,Qe=0,on=null,wa(t,R,X,J)}}XS(),E=ut;break}catch(se){sy(t,se)}while(!0);return r&&t.shellSuspendCounter++,ai=vr=null,Ge=u,D.H=y,D.A=x,Oe===null&&(tt=null,Le=0,rs()),E}function XS(){for(;Oe!==null;)fy(Oe)}function QS(t,r){var o=Ge;Ge|=2;var u=uy(),y=dy();tt!==t||Le!==r?(Ls=null,zs=Nt()+500,ba(t,r)):ya=sr(t,r);e:do try{if(Qe!==0&&Oe!==null){r=Oe;var x=on;t:switch(Qe){case 1:Qe=0,on=null,wa(t,r,x,1);break;case 2:case 9:if(Sm(x)){Qe=0,on=null,hy(r);break}r=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Un(t)},x.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Sm(x)?(Qe=0,on=null,hy(r)):(Qe=0,on=null,wa(t,r,x,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var R=Oe;if(E?Ky(E):R.stateNode.complete){Qe=0,on=null;var X=R.sibling;if(X!==null)Oe=X;else{var J=R.return;J!==null?(Oe=J,Hs(J)):Oe=null}break t}}Qe=0,on=null,wa(t,r,x,5);break;case 6:Qe=0,on=null,wa(t,r,x,6);break;case 8:ef(),ut=6;break e;default:throw Error(a(462))}}ZS();break}catch(se){sy(t,se)}while(!0);return ai=vr=null,D.H=u,D.A=y,Ge=o,Oe!==null?0:(tt=null,Le=0,rs(),ut)}function ZS(){for(;Oe!==null&&!Qn();)fy(Oe)}function fy(t){var r=Lg(t.alternate,t,mi);t.memoizedProps=t.pendingProps,r===null?Hs(t):Oe=r}function hy(t){var r=t,o=r.alternate;switch(r.tag){case 15:case 0:r=Mg(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Mg(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:gd(r);default:Bg(o,r),r=Oe=dm(r,mi),r=Lg(o,r,mi)}t.memoizedProps=t.pendingProps,r===null?Hs(t):Oe=r}function wa(t,r,o,u){ai=vr=null,gd(r),ua=null,yo=0;var y=r.return;try{if(BS(t,y,r,o,Le)){ut=1,Cs(t,mn(o,t.current)),Oe=null;return}}catch(x){if(y!==null)throw Oe=y,x;ut=1,Cs(t,mn(o,t.current)),Oe=null;return}r.flags&32768?(He||u===1?t=!0:ya||(Le&536870912)!==0?t=!1:($i=t=!0,(u===2||u===9||u===3||u===6)&&(u=rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),py(r,t)):Hs(r)}function Hs(t){var r=t;do{if((r.flags&32768)!==0){py(r,$i);return}t=r.return;var o=$S(r.alternate,r,mi);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ut===0&&(ut=5)}function py(t,r){do{var o=US(t.alternate,t);if(o!==null){o.flags&=32767,Oe=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=o}while(t!==null);ut=6,Oe=null}function my(t,r,o,u,y,x,E,R,X){t.cancelPendingCommit=null;do Ps();while(jt!==0);if((Ge&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(x=r.lanes|r.childLanes,x|=qu,vu(t,o,x,E,R,X),t===tt&&(Oe=tt=null,Le=0),va=r,Vi=t,gi=o,Wd=x,Kd=y,ry=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eN(Se,function(){return by(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,y=q.p,q.p=2,E=Ge,Ge|=4;try{qS(t,r,o)}finally{Ge=E,q.p=y,D.T=u}}jt=1,gy(),yy(),xy()}}function gy(){if(jt===1){jt=0;var t=Vi,r=va,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var u=q.p;q.p=2;var y=Ge;Ge|=4;try{Zg(r,t);var x=pf,E=nm(t.containerInfo),R=x.focusedElem,X=x.selectionRange;if(E!==R&&R&&R.ownerDocument&&tm(R.ownerDocument.documentElement,R)){if(X!==null&&Bu(R)){var J=X.start,se=X.end;if(se===void 0&&(se=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(se,R.value.length);else{var ue=R.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=R.textContent.length,Ne=Math.min(X.start,me),et=X.end===void 0?Ne:Math.min(X.end,me);!ae.extend&&Ne>et&&(E=et,et=Ne,Ne=E);var W=em(R,Ne),Q=em(R,et);if(W&&Q&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==Q.node||ae.focusOffset!==Q.offset)){var K=ue.createRange();K.setStart(W.node,W.offset),ae.removeAllRanges(),Ne>et?(ae.addRange(K),ae.extend(Q.node,Q.offset)):(K.setEnd(Q.node,Q.offset),ae.addRange(K))}}}}for(ue=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var ce=ue[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ks=!!hf,pf=hf=null}finally{Ge=y,q.p=u,D.T=o}}t.current=r,jt=2}}function yy(){if(jt===2){jt=0;var t=Vi,r=va,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var u=q.p;q.p=2;var y=Ge;Ge|=4;try{Fg(t,r.alternate,r)}finally{Ge=y,q.p=u,D.T=o}}jt=3}}function xy(){if(jt===4||jt===3){jt=0,Zn();var t=Vi,r=va,o=gi,u=ry;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,va=Vi=null,vy(t,t.pendingLanes));var y=t.pendingLanes;if(y===0&&(qi=null),Ja(o),r=r.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(kt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=D.T,y=q.p,q.p=2,D.T=null;try{for(var x=t.onRecoverableError,E=0;E<u.length;E++){var R=u[E];x(R.value,{componentStack:R.stack})}}finally{D.T=r,q.p=y}}(gi&3)!==0&&Ps(),Un(t),y=t.pendingLanes,(o&261930)!==0&&(y&42)!==0?t===Jd?Ro++:(Ro=0,Jd=t):Ro=0,zo(0)}}function vy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,mo(r)))}function Ps(){return gy(),yy(),xy(),by()}function by(){if(jt!==5)return!1;var t=Vi,r=Wd;Wd=0;var o=Ja(gi),u=D.T,y=q.p;try{q.p=32>o?32:o,D.T=null,o=Kd,Kd=null;var x=Vi,E=gi;if(jt=0,va=Vi=null,gi=0,(Ge&6)!==0)throw Error(a(331));var R=Ge;if(Ge|=4,ty(x.current),Kg(x,x.current,E,o),Ge=R,zo(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(kt,x)}catch{}return!0}finally{q.p=y,D.T=u,vy(t,r)}}function wy(t,r,o){r=mn(o,r),r=Dd(t.stateNode,r,2),t=Ii(t,r,2),t!==null&&(cr(t,2),Un(t))}function Ze(t,r,o){if(t.tag===3)wy(t,t,o);else for(;r!==null;){if(r.tag===3){wy(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qi===null||!qi.has(u))){t=mn(o,t),o=Sg(2),u=Ii(r,o,2),u!==null&&(Ng(o,u,r,t),cr(u,2),Un(u));break}}r=r.return}}function nf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new GS;var y=new Set;u.set(r,y)}else y=u.get(r),y===void 0&&(y=new Set,u.set(r,y));y.has(o)||(Xd=!0,y.add(o),t=WS.bind(null,t,r,o),r.then(t,t))}function WS(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,tt===t&&(Le&o)===o&&(ut===4||ut===3&&(Le&62914560)===Le&&300>Nt()-Rs?(Ge&2)===0&&ba(t,0):Qd|=o,xa===Le&&(xa=0)),Un(t)}function Sy(t,r){r===0&&(r=Ll()),t=gr(t,r),t!==null&&(cr(t,r),Un(t))}function KS(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Sy(t,o)}function JS(t,r){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,y=t.memoizedState;y!==null&&(o=y.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),Sy(t,o)}function eN(t,r){return $t(t,r)}var $s=null,Sa=null,rf=!1,Us=!1,af=!1,Gi=0;function Un(t){t!==Sa&&t.next===null&&(Sa===null?$s=Sa=t:Sa=Sa.next=t),Us=!0,rf||(rf=!0,nN())}function zo(t,r){if(!af&&Us){af=!0;do for(var o=!1,u=$s;u!==null;){if(t!==0){var y=u.pendingLanes;if(y===0)var x=0;else{var E=u.suspendedLanes,R=u.pingedLanes;x=(1<<31-Xe(42|t)+1)-1,x&=y&~(E&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Cy(u,x))}else x=Le,x=Vr(u,u===tt?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||sr(u,x)||(o=!0,Cy(u,x));u=u.next}while(o);af=!1}}function tN(){Ny()}function Ny(){Us=rf=!1;var t=0;Gi!==0&&fN()&&(t=Gi);for(var r=Nt(),o=null,u=$s;u!==null;){var y=u.next,x=Ey(u,r);x===0?(u.next=null,o===null?$s=y:o.next=y,y===null&&(Sa=o)):(o=u,(t!==0||(x&3)!==0)&&(Us=!0)),u=y}jt!==0&&jt!==5||zo(t),Gi!==0&&(Gi=0)}function Ey(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,y=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var E=31-Xe(x),R=1<<E,X=y[E];X===-1?((R&o)===0||(R&u)!==0)&&(y[E]=xu(R,r)):X<=r&&(t.expiredLanes|=R),x&=~R}if(r=tt,o=Le,o=Vr(t,t===r?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&En(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||sr(t,o)){if(r=o&-o,r===t.callbackPriority)return r;switch(u!==null&&En(u),Ja(o)){case 2:case 8:o=pe;break;case 32:o=Se;break;case 268435456:o=Pe;break;default:o=Se}return u=jy.bind(null,t),o=$t(o,u),t.callbackPriority=r,t.callbackNode=o,r}return u!==null&&u!==null&&En(u),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Ps()&&t.callbackNode!==o)return null;var u=Le;return u=Vr(t,t===tt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(oy(t,u,r),Ey(t,Nt()),t.callbackNode!=null&&t.callbackNode===o?jy.bind(null,t):null)}function Cy(t,r){if(Ps())return null;oy(t,r,!0)}function nN(){pN(function(){(Ge&6)!==0?$t(le,tN):Ny()})}function of(){if(Gi===0){var t=la;t===0&&(t=$r,$r<<=1,($r&261888)===0&&($r=256)),Gi=t}return Gi}function ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zl(""+t)}function Ty(t,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,t.id&&o.setAttribute("form",t.id),r.parentNode.insertBefore(o,r),t=new FormData(t),o.parentNode.removeChild(o),t}function iN(t,r,o,u,y){if(r==="submit"&&o&&o.stateNode===y){var x=ky((y[Rt]||null).action),E=u.submitter;E&&(r=(r=E[Rt]||null)?ky(r.formAction):E.getAttribute("formAction"),r!==null&&(x=r,E=null));var R=new es("action","action",null,u,y);t.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Gi!==0){var X=E?Ty(y,E):new FormData(y);jd(o,{pending:!0,data:X,method:y.method,action:x},null,X)}}else typeof x=="function"&&(R.preventDefault(),X=E?Ty(y,E):new FormData(y),jd(o,{pending:!0,data:X,method:y.method,action:x},x,X))},currentTarget:y}]})}}for(var lf=0;lf<Uu.length;lf++){var sf=Uu[lf],rN=sf.toLowerCase(),aN=sf[0].toUpperCase()+sf.slice(1);kn(rN,"on"+aN)}kn(am,"onAnimationEnd"),kn(om,"onAnimationIteration"),kn(lm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(wS,"onTransitionRun"),kn(SS,"onTransitionStart"),kn(NS,"onTransitionCancel"),kn(sm,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Ay(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],y=u.event;u=u.listeners;e:{var x=void 0;if(r)for(var E=u.length-1;0<=E;E--){var R=u[E],X=R.instance,J=R.currentTarget;if(R=R.listener,X!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=J;try{x(y)}catch(se){is(se)}y.currentTarget=null,x=X}else for(E=0;E<u.length;E++){if(R=u[E],X=R.instance,J=R.currentTarget,R=R.listener,X!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=J;try{x(y)}catch(se){is(se)}y.currentTarget=null,x=X}}}}function Re(t,r){var o=r[Fr];o===void 0&&(o=r[Fr]=new Set);var u=t+"__bubble";o.has(u)||(My(r,t,2,!1),o.add(u))}function cf(t,r,o){var u=0;r&&(u|=4),My(o,t,u,r)}var qs="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[qs]){t[qs]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(oN.has(o)||cf(o,!1,t),cf(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qs]||(r[qs]=!0,cf("selectionchange",!1,r))}}function My(t,r,o,u){switch(ax(r)){case 2:var y=RN;break;case 8:y=zN;break;default:y=jf}o=y.bind(null,r,o,t),y=void 0,!Au||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),u?y!==void 0?t.addEventListener(r,o,{capture:!0,passive:y}):t.addEventListener(r,o,!0):y!==void 0?t.addEventListener(r,o,{passive:y}):t.addEventListener(r,o,!1)}function df(t,r,o,u,y){var x=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===y)break;if(E===4)for(E=u.return;E!==null;){var X=E.tag;if((X===3||X===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;R!==null;){if(E=ji(R),E===null)return;if(X=E.tag,X===5||X===6||X===26||X===27){u=x=E;continue e}R=R.parentNode}}u=u.return}zp(function(){var J=x,se=ku(o),ue=[];e:{var ne=cm.get(t);if(ne!==void 0){var ae=es,me=t;switch(t){case"keypress":if(Kl(o)===0)break e;case"keydown":case"keyup":ae=J1;break;case"focusin":me="focus",ae=Ou;break;case"focusout":me="blur",ae=Ou;break;case"beforeblur":case"afterblur":ae=Ou;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=nS;break;case am:case om:case lm:ae=V1;break;case sm:ae=rS;break;case"scroll":case"scrollend":ae=H1;break;case"wheel":ae=oS;break;case"copy":case"cut":case"paste":ae=G1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Pp;break;case"toggle":case"beforetoggle":ae=sS}var Ne=(r&4)!==0,et=!Ne&&(t==="scroll"||t==="scrollend"),W=Ne?ne!==null?ne+"Capture":null:ne;Ne=[];for(var Q=J,K;Q!==null;){var ce=Q;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||W===null||(ce=io(Q,W),ce!=null&&Ne.push(Io(Q,ce,K))),et)break;Q=Q.return}0<Ne.length&&(ne=new ae(ne,me,null,o,se),ue.push({event:ne,listeners:Ne}))}}if((r&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",ne&&o!==Cu&&(me=o.relatedTarget||o.fromElement)&&(ji(me)||me[Kn]))break e;if((ae||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=o.relatedTarget||o.toElement,ae=J,me=me?ji(me):null,me!==null&&(et=s(me),Ne=me.tag,me!==et||Ne!==5&&Ne!==27&&Ne!==6)&&(me=null)):(ae=null,me=J),ae!==me)){if(Ne=Bp,ce="onMouseLeave",W="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=Pp,ce="onPointerLeave",W="onPointerEnter",Q="pointer"),et=ae==null?ne:ki(ae),K=me==null?ne:ki(me),ne=new Ne(ce,Q+"leave",ae,o,se),ne.target=et,ne.relatedTarget=K,ce=null,ji(se)===J&&(Ne=new Ne(W,Q+"enter",me,o,se),Ne.target=K,Ne.relatedTarget=et,ce=Ne),et=ce,ae&&me)t:{for(Ne=lN,W=ae,Q=me,K=0,ce=W;ce;ce=Ne(ce))K++;ce=0;for(var be=Q;be;be=Ne(be))ce++;for(;0<K-ce;)W=Ne(W),K--;for(;0<ce-K;)Q=Ne(Q),ce--;for(;K--;){if(W===Q||Q!==null&&W===Q.alternate){Ne=W;break t}W=Ne(W),Q=Ne(Q)}Ne=null}else Ne=null;ae!==null&&Dy(ue,ne,ae,Ne,!1),me!==null&&et!==null&&Dy(ue,et,me,Ne,!0)}}e:{if(ne=J?ki(J):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ve=Xp;else if(Gp(ne))if(Qp)Ve=xS;else{Ve=gS;var ye=mS}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&ju(J.elementType)&&(Ve=Xp):Ve=yS;if(Ve&&(Ve=Ve(t,J))){Yp(ue,Ve,o,se);break e}ye&&ye(t,ne,J),t==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&no(ne,"number",ne.value)}switch(ye=J?ki(J):window,t){case"focusin":(Gp(ye)||ye.contentEditable==="true")&&(Jr=ye,Hu=J,fo=null);break;case"focusout":fo=Hu=Jr=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,im(ue,o,se);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":im(ue,o,se)}var Ae;if(zu)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Kr?Vp(t,o)&&(Ie="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&($p&&o.locale!=="ko"&&(Kr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Kr&&(Ae=Lp()):(Mi=se,Mu="value"in Mi?Mi.value:Mi.textContent,Kr=!0)),ye=Vs(J,Ie),0<ye.length&&(Ie=new Hp(Ie,t,null,o,se),ue.push({event:Ie,listeners:ye}),Ae?Ie.data=Ae:(Ae=Fp(o),Ae!==null&&(Ie.data=Ae)))),(Ae=uS?dS(t,o):fS(t,o))&&(Ie=Vs(J,"onBeforeInput"),0<Ie.length&&(ye=new Hp("onBeforeInput","beforeinput",null,o,se),ue.push({event:ye,listeners:Ie}),ye.data=Ae)),iN(ue,t,J,o,se)}Ay(ue,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Vs(t,r){for(var o=r+"Capture",u=[];t!==null;){var y=t,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=io(t,o),y!=null&&u.unshift(Io(t,y,x)),y=io(t,r),y!=null&&u.push(Io(t,y,x))),t.tag===3)return u;t=t.return}return[]}function lN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dy(t,r,o,u,y){for(var x=r._reactName,E=[];o!==null&&o!==u;){var R=o,X=R.alternate,J=R.stateNode;if(R=R.tag,X!==null&&X===u)break;R!==5&&R!==26&&R!==27||J===null||(X=J,y?(J=io(o,x),J!=null&&E.unshift(Io(o,J,X))):y||(J=io(o,x),J!=null&&E.push(Io(o,J,X)))),o=o.return}E.length!==0&&t.push({event:r,listeners:E})}var sN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace(sN,`
`).replace(cN,"")}function Oy(t,r){return r=_y(r),_y(t)===r}function Je(t,r,o,u,y,x){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Qr(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Qr(t,""+u);break;case"className":Yr(t,"class",u);break;case"tabIndex":Yr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(t,o,u);break;case"style":Op(t,u,x);break;case"data":if(r!=="object"){Yr(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Zl(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(r!=="input"&&Je(t,r,"name",y.name,y,null),Je(t,r,"formEncType",y.formEncType,y,null),Je(t,r,"formMethod",y.formMethod,y,null),Je(t,r,"formTarget",y.formTarget,y,null)):(Je(t,r,"encType",y.encType,y,null),Je(t,r,"method",y.method,y,null),Je(t,r,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Zl(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=ti);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(y.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Zl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Gr(t,"popover",u);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=I1.get(o)||o,Gr(t,o,u))}}function ff(t,r,o,u,y,x){switch(o){case"style":Op(t,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(y.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Qr(t,u):(typeof u=="number"||typeof u=="bigint")&&Qr(t,""+u);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),r=o.slice(2,y?o.length-7:void 0),x=t[Rt]||null,x=x!=null?x[o]:null,typeof x=="function"&&t.removeEventListener(r,x,y),typeof u=="function")){typeof x!="function"&&x!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(r,u,y);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Gr(t,o,u)}}}function Dt(t,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var u=!1,y=!1,x;for(x in o)if(o.hasOwnProperty(x)){var E=o[x];if(E!=null)switch(x){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,x,E,o,null)}}y&&Je(t,r,"srcSet",o.srcSet,o,null),u&&Je(t,r,"src",o.src,o,null);return;case"input":Re("invalid",t);var R=x=E=y=null,X=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":y=se;break;case"type":E=se;break;case"checked":X=se;break;case"defaultChecked":J=se;break;case"value":x=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,r));break;default:Je(t,r,u,se,o,null)}}Ql(t,x,R,X,J,E,y,!1);return;case"select":Re("invalid",t),u=E=x=null;for(y in o)if(o.hasOwnProperty(y)&&(R=o[y],R!=null))switch(y){case"value":x=R;break;case"defaultValue":E=R;break;case"multiple":u=R;default:Je(t,r,y,R,o,null)}r=x,o=E,t.multiple=!!u,r!=null?ei(t,!!u,r,!1):o!=null&&ei(t,!!u,o,!0);return;case"textarea":Re("invalid",t),x=y=u=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":u=R;break;case"defaultValue":y=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Je(t,r,E,R,o,null)}Dp(t,u,y,x);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(t,r,X,u,o,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(u=0;u<Lo.length;u++)Re(Lo[u],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,J,u,o,null)}return;default:if(ju(r)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&ff(t,r,se,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Je(t,r,R,u,o,null))}function uN(t,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,E=null,R=null,X=null,J=null,se=null;for(ae in o){var ue=o[ae];if(o.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":X=ue;default:u.hasOwnProperty(ae)||Je(t,r,ae,null,u,ue)}}for(var ne in u){var ae=u[ne];if(ue=o[ne],u.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":y=ae;break;case"checked":J=ae;break;case"defaultChecked":se=ae;break;case"value":E=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:ae!==ue&&Je(t,r,ne,ae,u,ue)}}fr(t,E,R,X,J,se,x,y);return;case"select":ae=E=R=ne=null;for(x in o)if(X=o[x],o.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":ae=X;default:u.hasOwnProperty(x)||Je(t,r,x,null,u,X)}for(y in u)if(x=u[y],X=o[y],u.hasOwnProperty(y)&&(x!=null||X!=null))switch(y){case"value":ne=x;break;case"defaultValue":R=x;break;case"multiple":E=x;default:x!==X&&Je(t,r,y,x,u,X)}r=R,o=E,u=ae,ne!=null?ei(t,!!o,ne,!1):!!u!=!!o&&(r!=null?ei(t,!!o,r,!0):ei(t,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(R in o)if(y=o[R],o.hasOwnProperty(R)&&y!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Je(t,r,R,null,u,y)}for(E in u)if(y=u[E],x=o[E],u.hasOwnProperty(E)&&(y!=null||x!=null))switch(E){case"value":ne=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&Je(t,r,E,y,u,x)}Mp(t,ne,ae);return;case"option":for(var me in o)if(ne=o[me],o.hasOwnProperty(me)&&ne!=null&&!u.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Je(t,r,me,null,u,ne)}for(X in u)if(ne=u[X],ae=o[X],u.hasOwnProperty(X)&&ne!==ae&&(ne!=null||ae!=null))switch(X){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Je(t,r,X,ne,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)ne=o[Ne],o.hasOwnProperty(Ne)&&ne!=null&&!u.hasOwnProperty(Ne)&&Je(t,r,Ne,null,u,ne);for(J in u)if(ne=u[J],ae=o[J],u.hasOwnProperty(J)&&ne!==ae&&(ne!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,r));break;default:Je(t,r,J,ne,u,ae)}return;default:if(ju(r)){for(var et in o)ne=o[et],o.hasOwnProperty(et)&&ne!==void 0&&!u.hasOwnProperty(et)&&ff(t,r,et,void 0,u,ne);for(se in u)ne=u[se],ae=o[se],!u.hasOwnProperty(se)||ne===ae||ne===void 0&&ae===void 0||ff(t,r,se,ne,u,ae);return}}for(var W in o)ne=o[W],o.hasOwnProperty(W)&&ne!=null&&!u.hasOwnProperty(W)&&Je(t,r,W,null,u,ne);for(ue in u)ne=u[ue],ae=o[ue],!u.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||Je(t,r,ue,ne,u,ae)}function Ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var y=o[u],x=y.transferSize,E=y.initiatorType,R=y.duration;if(x&&R&&Ry(E)){for(E=0,R=y.responseEnd,u+=1;u<o.length;u++){var X=o[u],J=X.startTime;if(J>R)break;var se=X.transferSize,ue=X.initiatorType;se&&Ry(ue)&&(X=X.responseEnd,E+=se*(X<R?1:(R-J)/(X-J)))}if(--u,r+=8*(x+E)/(y.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hf=null,pf=null;function Fs(t){return t.nodeType===9?t:t.ownerDocument}function zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function mf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gf=null;function fN(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(mN)}:Iy;function mN(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function Hy(t,r){var o=r,u=0;do{var y=o.nextSibling;if(t.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(y),Ca(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Bo(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Bo(o);for(var x=o.firstChild;x;){var E=x.nextSibling,R=x.nodeName;x[ur]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}else o==="body"&&Bo(t.ownerDocument.body);o=y}while(o);Ca(r)}function Py(t,r){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function yf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yf(o),eo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function gN(t,r,o,u){for(;t.nodeType===1;){var y=o;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ur])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==y.rel||t.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||t.getAttribute("title")!==(y.title==null?null:y.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(y.src==null?null:y.src)||t.getAttribute("type")!==(y.type==null?null:y.type)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function yN(t,r,o){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=bn(t.nextSibling),t===null))return null;return t}function $y(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bn(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$?"||t.data==="$~"}function vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xN(t,r){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var bf=null;function Uy(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(r===0)return bn(t.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}t=t.nextSibling}return null}function qy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return t;r--}else o!=="/$"&&o!=="/&"||r++}t=t.previousSibling}return null}function Vy(t,r,o){switch(r=Fs(o),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eo(t)}var wn=new Map,Fy=new Set;function Gs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=q.d;q.d={f:vN,r:bN,D:wN,C:SN,L:NN,m:EN,X:CN,S:jN,M:kN};function vN(){var t=yi.f(),r=Is();return t||r}function bN(t){var r=Ci(t);r!==null&&r.tag===5&&r.type==="form"?sg(r):yi.r(t)}var Na=typeof document>"u"?null:document;function Gy(t,r,o){var u=Na;if(u&&typeof r=="string"&&r){var y=qt(r);y='link[rel="'+t+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),Fy.has(y)||(Fy.add(y),t={rel:t,crossOrigin:o,href:r},u.querySelector(y)===null&&(r=u.createElement("link"),Dt(r,"link",t),gt(r),u.head.appendChild(r)))}}function wN(t){yi.D(t),Gy("dns-prefetch",t,null)}function SN(t,r){yi.C(t,r),Gy("preconnect",t,r)}function NN(t,r,o){yi.L(t,r,o);var u=Na;if(u&&t&&r){var y='link[rel="preload"][as="'+qt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+qt(o.imageSizes)+'"]')):y+='[href="'+qt(t)+'"]';var x=y;switch(r){case"style":x=Ea(t);break;case"script":x=ja(t)}wn.has(x)||(t=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:t,as:r},o),wn.set(x,t),u.querySelector(y)!==null||r==="style"&&u.querySelector(Ho(x))||r==="script"&&u.querySelector(Po(x))||(r=u.createElement("link"),Dt(r,"link",t),gt(r),u.head.appendChild(r)))}}function EN(t,r){yi.m(t,r);var o=Na;if(o&&t){var u=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+qt(u)+'"][href="'+qt(t)+'"]',x=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ja(t)}if(!wn.has(x)&&(t=g({rel:"modulepreload",href:t},r),wn.set(x,t),o.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Po(x)))return}u=o.createElement("link"),Dt(u,"link",t),gt(u),o.head.appendChild(u)}}}function jN(t,r,o){yi.S(t,r,o);var u=Na;if(u&&t){var y=Ti(u).hoistableStyles,x=Ea(t);r=r||"default";var E=y.get(x);if(!E){var R={loading:0,preload:null};if(E=u.querySelector(Ho(x)))R.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":r},o),(o=wn.get(x))&&wf(t,o);var X=E=u.createElement("link");gt(X),Dt(X,"link",t),X._p=new Promise(function(J,se){X.onload=J,X.onerror=se}),X.addEventListener("load",function(){R.loading|=1}),X.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ys(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:R},y.set(x,E)}}}function CN(t,r){yi.X(t,r);var o=Na;if(o&&t){var u=Ti(o).hoistableScripts,y=ja(t),x=u.get(y);x||(x=o.querySelector(Po(y)),x||(t=g({src:t,async:!0},r),(r=wn.get(y))&&Sf(t,r),x=o.createElement("script"),gt(x),Dt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function kN(t,r){yi.M(t,r);var o=Na;if(o&&t){var u=Ti(o).hoistableScripts,y=ja(t),x=u.get(y);x||(x=o.querySelector(Po(y)),x||(t=g({src:t,async:!0,type:"module"},r),(r=wn.get(y))&&Sf(t,r),x=o.createElement("script"),gt(x),Dt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function Yy(t,r,o,u){var y=(y=re.current)?Gs(y):null;if(!y)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ea(o.href),o=Ti(y).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Ea(o.href);var x=Ti(y).hoistableStyles,E=x.get(t);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,E),(x=y.querySelector(Ho(t)))&&!x._p&&(E.instance=x,E.state.loading=5),wn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(t,o),x||TN(y,t,o,E.state))),r&&u===null)throw Error(a(528,""));return E}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ja(o),o=Ti(y).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ea(t){return'href="'+qt(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function TN(t,r,o,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Dt(r,"link",o),gt(r),t.head.appendChild(r))}function ja(t){return'[src="'+qt(t)+'"]'}function Po(t){return"script[async]"+t}function Qy(t,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+qt(o.href)+'"]');if(u)return r.instance=u,gt(u),u;var y=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),gt(u),Dt(u,"style",y),Ys(u,o.precedence,t),r.instance=u;case"stylesheet":y=Ea(o.href);var x=t.querySelector(Ho(y));if(x)return r.state.loading|=4,r.instance=x,gt(x),x;u=Xy(o),(y=wn.get(y))&&wf(u,y),x=(t.ownerDocument||t).createElement("link"),gt(x);var E=x;return E._p=new Promise(function(R,X){E.onload=R,E.onerror=X}),Dt(x,"link",u),r.state.loading|=4,Ys(x,o.precedence,t),r.instance=x;case"script":return x=ja(o.src),(y=t.querySelector(Po(x)))?(r.instance=y,gt(y),y):(u=o,(y=wn.get(x))&&(u=g({},o),Sf(u,y)),t=t.ownerDocument||t,y=t.createElement("script"),gt(y),Dt(y,"link",u),t.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ys(u,o.precedence,t));return r.instance}function Ys(t,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,x=y,E=0;E<u.length;E++){var R=u[E];if(R.dataset.precedence===r)x=R;else if(x!==y)break}x?x.parentNode.insertBefore(t,x.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(t,r.firstChild))}function wf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Sf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Xs=null;function Zy(t,r,o){if(Xs===null){var u=new Map,y=Xs=new Map;y.set(o,u)}else y=Xs,u=y.get(o),u||(u=new Map,y.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),y=0;y<o.length;y++){var x=o[y];if(!(x[ur]||x[Et]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(r)||"";E=t+E;var R=u.get(E);R?R.push(x):u.set(E,[x])}}return u}function Wy(t,r,o){t=t.ownerDocument||t,t.head.insertBefore(o,r==="title"?t.querySelector("head > title"):null)}function AN(t,r,o){if(o===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MN(t,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ea(u.href),x=r.querySelector(Ho(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Qs.bind(t),r.then(t,t)),o.state.loading|=4,o.instance=x,gt(x);return}x=r.ownerDocument||r,u=Xy(u),(y=wn.get(y))&&wf(u,y),x=x.createElement("link"),gt(x);var E=x;E._p=new Promise(function(R,X){E.onload=R,E.onerror=X}),Dt(x,"link",u),o.instance=x}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Qs.bind(t),r.addEventListener("load",o),r.addEventListener("error",o))}}var Nf=0;function DN(t,r){return t.stylesheets&&t.count===0&&Ws(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&Ws(t,t.stylesheets),t.unsuspend){var x=t.unsuspend;t.unsuspend=null,x()}},6e4+r);0<t.imgBytes&&Nf===0&&(Nf=62500*dN());var y=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ws(t,t.stylesheets),t.unsuspend)){var x=t.unsuspend;t.unsuspend=null,x()}},(t.imgBytes>Nf?50:800)+r);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zs=null;function Ws(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zs=new Map,r.forEach(_N,t),Zs=null,Qs.call(t))}function _N(t,r){if(!(r.state.loading&4)){var o=Zs.get(t);if(o)var u=o.get(null);else{o=new Map,Zs.set(t,o);for(var y=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var E=y[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}y=r.instance,E=y.getAttribute("data-precedence"),x=o.get(E)||u,x===u&&o.set(null,y),o.set(E,y),this.count++,u=Qs.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),x?x.parentNode.insertBefore(y,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(y,t.firstChild)),r.state.loading|=4}}var $o={$$typeof:j,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function ON(t,r,o,u,y,x,E,R,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Jy(t,r,o,u,y,x,E,R,X,J,se,ue){return t=new ON(t,r,o,E,X,J,se,ue,R),r=1,x===!0&&(r|=24),x=nn(3,null,null,r),t.current=x,x.stateNode=t,r=td(),r.refCount++,t.pooledCache=r,r.refCount++,x.memoizedState={element:u,isDehydrated:o,cache:r},ad(x),t}function ex(t){return t?(t=na,t):na}function tx(t,r,o,u,y,x){y=ex(y),u.context===null?u.context=y:u.pendingContext=y,u=Li(r),u.payload={element:o},x=x===void 0?null:x,x!==null&&(u.callback=x),o=Ii(t,u,r),o!==null&&(Qt(o,t,r),vo(o,t,r))}function nx(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Ef(t,r){nx(t,r),(t=t.alternate)&&nx(t,r)}function ix(t){if(t.tag===13||t.tag===31){var r=gr(t,67108864);r!==null&&Qt(r,t,67108864),Ef(t,67108864)}}function rx(t){if(t.tag===13||t.tag===31){var r=sn();r=Ka(r);var o=gr(t,r);o!==null&&Qt(o,t,r),Ef(t,r)}}var Ks=!0;function RN(t,r,o,u){var y=D.T;D.T=null;var x=q.p;try{q.p=2,jf(t,r,o,u)}finally{q.p=x,D.T=y}}function zN(t,r,o,u){var y=D.T;D.T=null;var x=q.p;try{q.p=8,jf(t,r,o,u)}finally{q.p=x,D.T=y}}function jf(t,r,o,u){if(Ks){var y=Cf(u);if(y===null)df(t,r,u,Js,o),ox(t,u);else if(IN(y,t,r,o,u))u.stopPropagation();else if(ox(t,u),r&4&&-1<LN.indexOf(t)){for(;y!==null;){var x=Ci(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Wn(x.pendingLanes);if(E!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var X=1<<31-Xe(E);R.entanglements[1]|=X,E&=~X}Un(x),(Ge&6)===0&&(zs=Nt()+500,zo(0))}}break;case 31:case 13:R=gr(x,2),R!==null&&Qt(R,x,2),Is(),Ef(x,2)}if(x=Cf(u),x===null&&df(t,r,u,Js,o),x===y)break;y=x}y!==null&&u.stopPropagation()}else df(t,r,u,null,o)}}function Cf(t){return t=ku(t),kf(t)}var Js=null;function kf(t){if(Js=null,t=ji(t),t!==null){var r=s(t);if(r===null)t=null;else{var o=r.tag;if(o===13){if(t=c(r),t!==null)return t;t=null}else if(o===31){if(t=f(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Js=t,null}function ax(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case le:return 2;case pe:return 8;case Se:case _e:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Tf=!1,Xi=null,Qi=null,Zi=null,Uo=new Map,qo=new Map,Wi=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ox(t,r){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Uo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(r.pointerId)}}function Vo(t,r,o,u,y,x){return t===null||t.nativeEvent!==x?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[y]},r!==null&&(r=Ci(r),r!==null&&ix(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),t)}function IN(t,r,o,u,y){switch(r){case"focusin":return Xi=Vo(Xi,t,r,o,u,y),!0;case"dragenter":return Qi=Vo(Qi,t,r,o,u,y),!0;case"mouseover":return Zi=Vo(Zi,t,r,o,u,y),!0;case"pointerover":var x=y.pointerId;return Uo.set(x,Vo(Uo.get(x)||null,t,r,o,u,y)),!0;case"gotpointercapture":return x=y.pointerId,qo.set(x,Vo(qo.get(x)||null,t,r,o,u,y)),!0}return!1}function lx(t){var r=ji(t.target);if(r!==null){var o=s(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){t.blockedOn=r,$l(t.priority,function(){rx(o)});return}}else if(r===31){if(r=f(o),r!==null){t.blockedOn=r,$l(t.priority,function(){rx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Cf(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Cu=u,o.target.dispatchEvent(u),Cu=null}else return r=Ci(o),r!==null&&ix(r),t.blockedOn=o,!1;r.shift()}return!0}function sx(t,r,o){ec(t)&&o.delete(r)}function BN(){Tf=!1,Xi!==null&&ec(Xi)&&(Xi=null),Qi!==null&&ec(Qi)&&(Qi=null),Zi!==null&&ec(Zi)&&(Zi=null),Uo.forEach(sx),qo.forEach(sx)}function tc(t,r){t.blockedOn===r&&(t.blockedOn=null,Tf||(Tf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BN)))}var nc=null;function cx(t){nc!==t&&(nc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var r=0;r<t.length;r+=3){var o=t[r],u=t[r+1],y=t[r+2];if(typeof u!="function"){if(kf(u||o)===null)continue;break}var x=Ci(o);x!==null&&(t.splice(r,3),r-=3,jd(x,{pending:!0,data:y,method:o.method,action:u},u,y))}}))}function Ca(t){function r(X){return tc(X,t)}Xi!==null&&tc(Xi,t),Qi!==null&&tc(Qi,t),Zi!==null&&tc(Zi,t),Uo.forEach(r),qo.forEach(r);for(var o=0;o<Wi.length;o++){var u=Wi[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Wi.length&&(o=Wi[0],o.blockedOn===null);)lx(o),o.blockedOn===null&&Wi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var y=o[u],x=o[u+1],E=y[Rt]||null;if(typeof x=="function")E||cx(o);else if(E){var R=null;if(x&&x.hasAttribute("formAction")){if(y=x,E=x[Rt]||null)R=E.formAction;else if(kf(y)!==null)continue}else R=E.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),cx(o)}}}function ux(){function t(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Af(t){this._internalRoot=t}ic.prototype.render=Af.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,u=sn();tx(o,u,t,r,null,null)},ic.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;tx(t.current,2,null,t,null,null),Is(),r[Kn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Wi.length&&r!==0&&r<Wi[o].priority;o++);Wi.splice(o,0,t),o===0&&lx(t)}};var dx=n.version;if(dx!=="19.2.3")throw Error(a(527,dx,"19.2.3"));q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var HN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{kt=rc.inject(HN),ht=rc}catch{}}return Go.createRoot=function(t,r){if(!l(t))throw Error(a(299));var o=!1,u="",y=xg,x=vg,E=bg;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=Jy(t,1,!1,null,null,o,u,null,y,x,E,ux),t[Kn]=r.current,uf(t),new Af(r)},Go.hydrateRoot=function(t,r,o){if(!l(t))throw Error(a(299));var u=!1,y="",x=xg,E=vg,R=bg,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(X=o.formState)),r=Jy(t,1,!0,r,o??null,u,y,X,x,E,R,ux),r.context=ex(null),o=r.current,u=sn(),u=Ka(u),y=Li(u),y.callback=null,Ii(o,y,u),o=u,r.current.lanes=o,cr(r,o),Un(r),t[Kn]=r.current,uf(t),new ic(r)},Go.version="19.2.3",Go}var wx;function XN(){if(wx)return _f.exports;wx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),_f.exports=YN(),_f.exports}var QN=XN();function St(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let i=0,a;i<e.length;i++)(a=St(e[i]))!==""&&(n+=(n&&" ")+a);else for(let i in e)e[i]&&(n+=(n&&" ")+i);return n}var ZN={value:()=>{}};function Wc(){for(var e=0,n=arguments.length,i={},a;e<n;++e){if(!(a=arguments[e]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Nc(i)}function Nc(e){this._=e}function WN(e,n){return e.trim().split(/^|\s+/).map(function(i){var a="",l=i.indexOf(".");if(l>=0&&(a=i.slice(l+1),i=i.slice(0,l)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Nc.prototype=Wc.prototype={constructor:Nc,on:function(e,n){var i=this._,a=WN(e+"",i),l,s=-1,c=a.length;if(arguments.length<2){for(;++s<c;)if((l=(e=a[s]).type)&&(l=KN(i[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<c;)if(l=(e=a[s]).type)i[l]=Sx(i[l],e.name,n);else if(n==null)for(l in i)i[l]=Sx(i[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var i in n)e[i]=n[i].slice();return new Nc(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var i=new Array(l),a=0,l,s;a<l;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(n,i)},apply:function(e,n,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],l=0,s=a.length;l<s;++l)a[l].value.apply(n,i)}};function KN(e,n){for(var i=0,a=e.length,l;i<a;++i)if((l=e[i]).name===n)return l.value}function Sx(e,n,i){for(var a=0,l=e.length;a<l;++a)if(e[a].name===n){e[a]=ZN,e=e.slice(0,a).concat(e.slice(a+1));break}return i!=null&&e.push({name:n,value:i}),e}var xh="http://www.w3.org/1999/xhtml";const Nx={svg:"http://www.w3.org/2000/svg",xhtml:xh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kc(e){var n=e+="",i=n.indexOf(":");return i>=0&&(n=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Nx.hasOwnProperty(n)?{space:Nx[n],local:e}:e}function JN(e){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===xh&&n.documentElement.namespaceURI===xh?n.createElement(e):n.createElementNS(i,e)}}function eE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function O0(e){var n=Kc(e);return(n.local?eE:JN)(n)}function tE(){}function Qh(e){return e==null?tE:function(){return this.querySelector(e)}}function nE(e){typeof e!="function"&&(e=Qh(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=new Array(c),p,h,m=0;m<c;++m)(p=s[m])&&(h=e.call(p,p.__data__,m,s))&&("__data__"in p&&(h.__data__=p.__data__),f[m]=h);return new hn(a,this._parents)}function iE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rE(){return[]}function R0(e){return e==null?rE:function(){return this.querySelectorAll(e)}}function aE(e){return function(){return iE(e.apply(this,arguments))}}function oE(e){typeof e=="function"?e=aE(e):e=R0(e);for(var n=this._groups,i=n.length,a=[],l=[],s=0;s<i;++s)for(var c=n[s],f=c.length,p,h=0;h<f;++h)(p=c[h])&&(a.push(e.call(p,p.__data__,h,c)),l.push(p));return new hn(a,l)}function z0(e){return function(){return this.matches(e)}}function L0(e){return function(n){return n.matches(e)}}var lE=Array.prototype.find;function sE(e){return function(){return lE.call(this.children,e)}}function cE(){return this.firstElementChild}function uE(e){return this.select(e==null?cE:sE(typeof e=="function"?e:L0(e)))}var dE=Array.prototype.filter;function fE(){return Array.from(this.children)}function hE(e){return function(){return dE.call(this.children,e)}}function pE(e){return this.selectAll(e==null?fE:hE(typeof e=="function"?e:L0(e)))}function mE(e){typeof e!="function"&&(e=z0(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=[],p,h=0;h<c;++h)(p=s[h])&&e.call(p,p.__data__,h,s)&&f.push(p);return new hn(a,this._parents)}function I0(e){return new Array(e.length)}function gE(){return new hn(this._enter||this._groups.map(I0),this._parents)}function Mc(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Mc.prototype={constructor:Mc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yE(e){return function(){return e}}function xE(e,n,i,a,l,s){for(var c=0,f,p=n.length,h=s.length;c<h;++c)(f=n[c])?(f.__data__=s[c],a[c]=f):i[c]=new Mc(e,s[c]);for(;c<p;++c)(f=n[c])&&(l[c]=f)}function vE(e,n,i,a,l,s,c){var f,p,h=new Map,m=n.length,g=s.length,v=new Array(m),b;for(f=0;f<m;++f)(p=n[f])&&(v[f]=b=c.call(p,p.__data__,f,n)+"",h.has(b)?l[f]=p:h.set(b,p));for(f=0;f<g;++f)b=c.call(e,s[f],f,s)+"",(p=h.get(b))?(a[f]=p,p.__data__=s[f],h.delete(b)):i[f]=new Mc(e,s[f]);for(f=0;f<m;++f)(p=n[f])&&h.get(v[f])===p&&(l[f]=p)}function bE(e){return e.__data__}function wE(e,n){if(!arguments.length)return Array.from(this,bE);var i=n?vE:xE,a=this._parents,l=this._groups;typeof e!="function"&&(e=yE(e));for(var s=l.length,c=new Array(s),f=new Array(s),p=new Array(s),h=0;h<s;++h){var m=a[h],g=l[h],v=g.length,b=SE(e.call(m,m&&m.__data__,h,a)),w=b.length,S=f[h]=new Array(w),C=c[h]=new Array(w),N=p[h]=new Array(v);i(m,g,S,C,N,b,n);for(var k=0,j=0,_,H;k<w;++k)if(_=S[k]){for(k>=j&&(j=k+1);!(H=C[j])&&++j<w;);_._next=H||null}}return c=new hn(c,a),c._enter=f,c._exit=p,c}function SE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NE(){return new hn(this._exit||this._groups.map(I0),this._parents)}function EE(e,n,i){var a=this.enter(),l=this,s=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),i==null?s.remove():i(s),a&&l?a.merge(l).order():l}function jE(e){for(var n=e.selection?e.selection():e,i=this._groups,a=n._groups,l=i.length,s=a.length,c=Math.min(l,s),f=new Array(l),p=0;p<c;++p)for(var h=i[p],m=a[p],g=h.length,v=f[p]=new Array(g),b,w=0;w<g;++w)(b=h[w]||m[w])&&(v[w]=b);for(;p<l;++p)f[p]=i[p];return new hn(f,this._parents)}function CE(){for(var e=this._groups,n=-1,i=e.length;++n<i;)for(var a=e[n],l=a.length-1,s=a[l],c;--l>=0;)(c=a[l])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function kE(e){e||(e=TE);function n(g,v){return g&&v?e(g.__data__,v.__data__):!g-!v}for(var i=this._groups,a=i.length,l=new Array(a),s=0;s<a;++s){for(var c=i[s],f=c.length,p=l[s]=new Array(f),h,m=0;m<f;++m)(h=c[m])&&(p[m]=h);p.sort(n)}return new hn(l,this._parents).order()}function TE(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function AE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ME(){return Array.from(this)}function DE(){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],l=0,s=a.length;l<s;++l){var c=a[l];if(c)return c}return null}function _E(){let e=0;for(const n of this)++e;return e}function OE(){return!this.node()}function RE(e){for(var n=this._groups,i=0,a=n.length;i<a;++i)for(var l=n[i],s=0,c=l.length,f;s<c;++s)(f=l[s])&&e.call(f,f.__data__,s,l);return this}function zE(e){return function(){this.removeAttribute(e)}}function LE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IE(e,n){return function(){this.setAttribute(e,n)}}function BE(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function HE(e,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function PE(e,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function $E(e,n){var i=Kc(e);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((n==null?i.local?LE:zE:typeof n=="function"?i.local?PE:HE:i.local?BE:IE)(i,n))}function B0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UE(e){return function(){this.style.removeProperty(e)}}function qE(e,n,i){return function(){this.style.setProperty(e,n,i)}}function VE(e,n,i){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,i)}}function FE(e,n,i){return arguments.length>1?this.each((n==null?UE:typeof n=="function"?VE:qE)(e,n,i??"")):Ha(this.node(),e)}function Ha(e,n){return e.style.getPropertyValue(n)||B0(e).getComputedStyle(e,null).getPropertyValue(n)}function GE(e){return function(){delete this[e]}}function YE(e,n){return function(){this[e]=n}}function XE(e,n){return function(){var i=n.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function QE(e,n){return arguments.length>1?this.each((n==null?GE:typeof n=="function"?XE:YE)(e,n)):this.node()[e]}function H0(e){return e.trim().split(/^|\s+/)}function Zh(e){return e.classList||new P0(e)}function P0(e){this._node=e,this._names=H0(e.getAttribute("class")||"")}P0.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $0(e,n){for(var i=Zh(e),a=-1,l=n.length;++a<l;)i.add(n[a])}function U0(e,n){for(var i=Zh(e),a=-1,l=n.length;++a<l;)i.remove(n[a])}function ZE(e){return function(){$0(this,e)}}function WE(e){return function(){U0(this,e)}}function KE(e,n){return function(){(n.apply(this,arguments)?$0:U0)(this,e)}}function JE(e,n){var i=H0(e+"");if(arguments.length<2){for(var a=Zh(this.node()),l=-1,s=i.length;++l<s;)if(!a.contains(i[l]))return!1;return!0}return this.each((typeof n=="function"?KE:n?ZE:WE)(i,n))}function ej(){this.textContent=""}function tj(e){return function(){this.textContent=e}}function nj(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function ij(e){return arguments.length?this.each(e==null?ej:(typeof e=="function"?nj:tj)(e)):this.node().textContent}function rj(){this.innerHTML=""}function aj(e){return function(){this.innerHTML=e}}function oj(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function lj(e){return arguments.length?this.each(e==null?rj:(typeof e=="function"?oj:aj)(e)):this.node().innerHTML}function sj(){this.nextSibling&&this.parentNode.appendChild(this)}function cj(){return this.each(sj)}function uj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dj(){return this.each(uj)}function fj(e){var n=typeof e=="function"?e:O0(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function hj(){return null}function pj(e,n){var i=typeof e=="function"?e:O0(e),a=n==null?hj:typeof n=="function"?n:Qh(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function mj(){var e=this.parentNode;e&&e.removeChild(this)}function gj(){return this.each(mj)}function yj(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function xj(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function vj(e){return this.select(e?xj:yj)}function bj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wj(e){return function(n){e.call(this,n,this.__data__)}}function Sj(e){return e.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");return a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),{type:n,name:i}})}function Nj(e){return function(){var n=this.__on;if(n){for(var i=0,a=-1,l=n.length,s;i<l;++i)s=n[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):n[++a]=s;++a?n.length=a:delete this.__on}}}function Ej(e,n,i){return function(){var a=this.__on,l,s=wj(n);if(a){for(var c=0,f=a.length;c<f;++c)if((l=a[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=s,l.options=i),l.value=n;return}}this.addEventListener(e.type,s,i),l={type:e.type,name:e.name,value:n,listener:s,options:i},a?a.push(l):this.__on=[l]}}function jj(e,n,i){var a=Sj(e+""),l,s=a.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var p=0,h=f.length,m;p<h;++p)for(l=0,m=f[p];l<s;++l)if((c=a[l]).type===m.type&&c.name===m.name)return m.value}return}for(f=n?Ej:Nj,l=0;l<s;++l)this.each(f(a[l],n,i));return this}function q0(e,n,i){var a=B0(e),l=a.CustomEvent;typeof l=="function"?l=new l(n,i):(l=a.document.createEvent("Event"),i?(l.initEvent(n,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function Cj(e,n){return function(){return q0(this,e,n)}}function kj(e,n){return function(){return q0(this,e,n.apply(this,arguments))}}function Tj(e,n){return this.each((typeof n=="function"?kj:Cj)(e,n))}function*Aj(){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],l=0,s=a.length,c;l<s;++l)(c=a[l])&&(yield c)}var V0=[null];function hn(e,n){this._groups=e,this._parents=n}function jl(){return new hn([[document.documentElement]],V0)}function Mj(){return this}hn.prototype=jl.prototype={constructor:hn,select:nE,selectAll:oE,selectChild:uE,selectChildren:pE,filter:mE,data:wE,enter:gE,exit:NE,join:EE,merge:jE,selection:Mj,order:CE,sort:kE,call:AE,nodes:ME,node:DE,size:_E,empty:OE,each:RE,attr:$E,style:FE,property:QE,classed:JE,text:ij,html:lj,raise:cj,lower:dj,append:fj,insert:pj,remove:gj,clone:vj,datum:bj,on:jj,dispatch:Tj,[Symbol.iterator]:Aj};function dn(e){return typeof e=="string"?new hn([[document.querySelector(e)]],[document.documentElement]):new hn([[e]],V0)}function Dj(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Mn(e,n){if(e=Dj(e),n===void 0&&(n=e.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const _j={passive:!1},fl={capture:!0,passive:!1};function Lf(e){e.stopImmediatePropagation()}function La(e){e.preventDefault(),e.stopImmediatePropagation()}function F0(e){var n=e.document.documentElement,i=dn(e).on("dragstart.drag",La,fl);"onselectstart"in n?i.on("selectstart.drag",La,fl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function G0(e,n){var i=e.document.documentElement,a=dn(e).on("dragstart.drag",null);n&&(a.on("click.drag",La,fl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const ac=e=>()=>e;function vh(e,{sourceEvent:n,subject:i,target:a,identifier:l,active:s,x:c,y:f,dx:p,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}vh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Oj(e){return!e.ctrlKey&&!e.button}function Rj(){return this.parentNode}function zj(e,n){return n??{x:e.x,y:e.y}}function Lj(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y0(){var e=Oj,n=Rj,i=zj,a=Lj,l={},s=Wc("start","drag","end"),c=0,f,p,h,m,g=0;function v(_){_.on("mousedown.drag",b).filter(a).on("touchstart.drag",C).on("touchmove.drag",N,_j).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(_,H){if(!(m||!e.call(this,_,H))){var M=j(this,n.call(this,_,H),_,H,"mouse");M&&(dn(_.view).on("mousemove.drag",w,fl).on("mouseup.drag",S,fl),F0(_.view),Lf(_),h=!1,f=_.clientX,p=_.clientY,M("start",_))}}function w(_){if(La(_),!h){var H=_.clientX-f,M=_.clientY-p;h=H*H+M*M>g}l.mouse("drag",_)}function S(_){dn(_.view).on("mousemove.drag mouseup.drag",null),G0(_.view,h),La(_),l.mouse("end",_)}function C(_,H){if(e.call(this,_,H)){var M=_.changedTouches,O=n.call(this,_,H),V=M.length,G,I;for(G=0;G<V;++G)(I=j(this,O,_,H,M[G].identifier,M[G]))&&(Lf(_),I("start",_,M[G]))}}function N(_){var H=_.changedTouches,M=H.length,O,V;for(O=0;O<M;++O)(V=l[H[O].identifier])&&(La(_),V("drag",_,H[O]))}function k(_){var H=_.changedTouches,M=H.length,O,V;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),O=0;O<M;++O)(V=l[H[O].identifier])&&(Lf(_),V("end",_,H[O]))}function j(_,H,M,O,V,G){var I=s.copy(),$=Mn(G||M,H),F,ee,A;if((A=i.call(_,new vh("beforestart",{sourceEvent:M,target:v,identifier:V,active:c,x:$[0],y:$[1],dx:0,dy:0,dispatch:I}),O))!=null)return F=A.x-$[0]||0,ee=A.y-$[1]||0,function P(D,q,U){var Z=$,z;switch(D){case"start":l[V]=P,z=c++;break;case"end":delete l[V],--c;case"drag":$=Mn(U||q,H),z=c;break}I.call(D,_,new vh(D,{sourceEvent:q,subject:A,target:v,identifier:V,active:z,x:$[0]+F,y:$[1]+ee,dx:$[0]-Z[0],dy:$[1]-Z[1],dispatch:I}),O)}}return v.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ac(!!_),v):e},v.container=function(_){return arguments.length?(n=typeof _=="function"?_:ac(_),v):n},v.subject=function(_){return arguments.length?(i=typeof _=="function"?_:ac(_),v):i},v.touchable=function(_){return arguments.length?(a=typeof _=="function"?_:ac(!!_),v):a},v.on=function(){var _=s.on.apply(s,arguments);return _===s?v:_},v.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,v):Math.sqrt(g)},v}function Wh(e,n,i){e.prototype=n.prototype=i,i.constructor=e}function X0(e,n){var i=Object.create(e.prototype);for(var a in n)i[a]=n[a];return i}function Cl(){}var hl=.7,Dc=1/hl,Ia="\\s*([+-]?\\d+)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ij=/^#([0-9a-f]{3,8})$/,Bj=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),Hj=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),Pj=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${pl}\\)$`),$j=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${pl}\\)$`),Uj=new RegExp(`^hsl\\(${pl},${Fn},${Fn}\\)$`),qj=new RegExp(`^hsla\\(${pl},${Fn},${Fn},${pl}\\)$`),Ex={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wh(Cl,Rr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jx,formatHex:jx,formatHex8:Vj,formatHsl:Fj,formatRgb:Cx,toString:Cx});function jx(){return this.rgb().formatHex()}function Vj(){return this.rgb().formatHex8()}function Fj(){return Q0(this).formatHsl()}function Cx(){return this.rgb().formatRgb()}function Rr(e){var n,i;return e=(e+"").trim().toLowerCase(),(n=Ij.exec(e))?(i=n[1].length,n=parseInt(n[1],16),i===6?kx(n):i===3?new Wt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?oc(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?oc(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Bj.exec(e))?new Wt(n[1],n[2],n[3],1):(n=Hj.exec(e))?new Wt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Pj.exec(e))?oc(n[1],n[2],n[3],n[4]):(n=$j.exec(e))?oc(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Uj.exec(e))?Mx(n[1],n[2]/100,n[3]/100,1):(n=qj.exec(e))?Mx(n[1],n[2]/100,n[3]/100,n[4]):Ex.hasOwnProperty(e)?kx(Ex[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function kx(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function oc(e,n,i,a){return a<=0&&(e=n=i=NaN),new Wt(e,n,i,a)}function Gj(e){return e instanceof Cl||(e=Rr(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function bh(e,n,i,a){return arguments.length===1?Gj(e):new Wt(e,n,i,a??1)}function Wt(e,n,i,a){this.r=+e,this.g=+n,this.b=+i,this.opacity=+a}Wh(Wt,bh,X0(Cl,{brighter(e){return e=e==null?Dc:Math.pow(Dc,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(_r(this.r),_r(this.g),_r(this.b),_c(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tx,formatHex:Tx,formatHex8:Yj,formatRgb:Ax,toString:Ax}));function Tx(){return`#${Dr(this.r)}${Dr(this.g)}${Dr(this.b)}`}function Yj(){return`#${Dr(this.r)}${Dr(this.g)}${Dr(this.b)}${Dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ax(){const e=_c(this.opacity);return`${e===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${e===1?")":`, ${e})`}`}function _c(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dr(e){return e=_r(e),(e<16?"0":"")+e.toString(16)}function Mx(e,n,i,a){return a<=0?e=n=i=NaN:i<=0||i>=1?e=n=NaN:n<=0&&(e=NaN),new Dn(e,n,i,a)}function Q0(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Cl||(e=Rr(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var n=e.r/255,i=e.g/255,a=e.b/255,l=Math.min(n,i,a),s=Math.max(n,i,a),c=NaN,f=s-l,p=(s+l)/2;return f?(n===s?c=(i-a)/f+(i<a)*6:i===s?c=(a-n)/f+2:c=(n-i)/f+4,f/=p<.5?s+l:2-s-l,c*=60):f=p>0&&p<1?0:c,new Dn(c,f,p,e.opacity)}function Xj(e,n,i,a){return arguments.length===1?Q0(e):new Dn(e,n,i,a??1)}function Dn(e,n,i,a){this.h=+e,this.s=+n,this.l=+i,this.opacity=+a}Wh(Dn,Xj,X0(Cl,{brighter(e){return e=e==null?Dc:Math.pow(Dc,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*n,l=2*i-a;return new Wt(If(e>=240?e-240:e+120,l,a),If(e,l,a),If(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Dn(Dx(this.h),lc(this.s),lc(this.l),_c(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_c(this.opacity);return`${e===1?"hsl(":"hsla("}${Dx(this.h)}, ${lc(this.s)*100}%, ${lc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dx(e){return e=(e||0)%360,e<0?e+360:e}function lc(e){return Math.max(0,Math.min(1,e||0))}function If(e,n,i){return(e<60?n+(i-n)*e/60:e<180?i:e<240?n+(i-n)*(240-e)/60:n)*255}const Kh=e=>()=>e;function Qj(e,n){return function(i){return e+i*n}}function Zj(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(a){return Math.pow(e+a*n,i)}}function Wj(e){return(e=+e)==1?Z0:function(n,i){return i-n?Zj(n,i,e):Kh(isNaN(n)?i:n)}}function Z0(e,n){var i=n-e;return i?Qj(e,i):Kh(isNaN(e)?n:e)}const Oc=(function e(n){var i=Wj(n);function a(l,s){var c=i((l=bh(l)).r,(s=bh(s)).r),f=i(l.g,s.g),p=i(l.b,s.b),h=Z0(l.opacity,s.opacity);return function(m){return l.r=c(m),l.g=f(m),l.b=p(m),l.opacity=h(m),l+""}}return a.gamma=e,a})(1);function Kj(e,n){n||(n=[]);var i=e?Math.min(n.length,e.length):0,a=n.slice(),l;return function(s){for(l=0;l<i;++l)a[l]=e[l]*(1-s)+n[l]*s;return a}}function Jj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eC(e,n){var i=n?n.length:0,a=e?Math.min(i,e.length):0,l=new Array(a),s=new Array(i),c;for(c=0;c<a;++c)l[c]=ol(e[c],n[c]);for(;c<i;++c)s[c]=n[c];return function(f){for(c=0;c<a;++c)s[c]=l[c](f);return s}}function tC(e,n){var i=new Date;return e=+e,n=+n,function(a){return i.setTime(e*(1-a)+n*a),i}}function Vn(e,n){return e=+e,n=+n,function(i){return e*(1-i)+n*i}}function nC(e,n){var i={},a={},l;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(l in n)l in e?i[l]=ol(e[l],n[l]):a[l]=n[l];return function(s){for(l in i)a[l]=i[l](s);return a}}var wh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bf=new RegExp(wh.source,"g");function iC(e){return function(){return e}}function rC(e){return function(n){return e(n)+""}}function W0(e,n){var i=wh.lastIndex=Bf.lastIndex=0,a,l,s,c=-1,f=[],p=[];for(e=e+"",n=n+"";(a=wh.exec(e))&&(l=Bf.exec(n));)(s=l.index)>i&&(s=n.slice(i,s),f[c]?f[c]+=s:f[++c]=s),(a=a[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,p.push({i:c,x:Vn(a,l)})),i=Bf.lastIndex;return i<n.length&&(s=n.slice(i),f[c]?f[c]+=s:f[++c]=s),f.length<2?p[0]?rC(p[0].x):iC(n):(n=p.length,function(h){for(var m=0,g;m<n;++m)f[(g=p[m]).i]=g.x(h);return f.join("")})}function ol(e,n){var i=typeof n,a;return n==null||i==="boolean"?Kh(n):(i==="number"?Vn:i==="string"?(a=Rr(n))?(n=a,Oc):W0:n instanceof Rr?Oc:n instanceof Date?tC:Jj(n)?Kj:Array.isArray(n)?eC:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?nC:Vn)(e,n)}var _x=180/Math.PI,Sh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function K0(e,n,i,a,l,s){var c,f,p;return(c=Math.sqrt(e*e+n*n))&&(e/=c,n/=c),(p=e*i+n*a)&&(i-=e*p,a-=n*p),(f=Math.sqrt(i*i+a*a))&&(i/=f,a/=f,p/=f),e*a<n*i&&(e=-e,n=-n,p=-p,c=-c),{translateX:l,translateY:s,rotate:Math.atan2(n,e)*_x,skewX:Math.atan(p)*_x,scaleX:c,scaleY:f}}var sc;function aC(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Sh:K0(n.a,n.b,n.c,n.d,n.e,n.f)}function oC(e){return e==null||(sc||(sc=document.createElementNS("http://www.w3.org/2000/svg","g")),sc.setAttribute("transform",e),!(e=sc.transform.baseVal.consolidate()))?Sh:(e=e.matrix,K0(e.a,e.b,e.c,e.d,e.e,e.f))}function J0(e,n,i,a){function l(h){return h.length?h.pop()+" ":""}function s(h,m,g,v,b,w){if(h!==g||m!==v){var S=b.push("translate(",null,n,null,i);w.push({i:S-4,x:Vn(h,g)},{i:S-2,x:Vn(m,v)})}else(g||v)&&b.push("translate("+g+n+v+i)}function c(h,m,g,v){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),v.push({i:g.push(l(g)+"rotate(",null,a)-2,x:Vn(h,m)})):m&&g.push(l(g)+"rotate("+m+a)}function f(h,m,g,v){h!==m?v.push({i:g.push(l(g)+"skewX(",null,a)-2,x:Vn(h,m)}):m&&g.push(l(g)+"skewX("+m+a)}function p(h,m,g,v,b,w){if(h!==g||m!==v){var S=b.push(l(b)+"scale(",null,",",null,")");w.push({i:S-4,x:Vn(h,g)},{i:S-2,x:Vn(m,v)})}else(g!==1||v!==1)&&b.push(l(b)+"scale("+g+","+v+")")}return function(h,m){var g=[],v=[];return h=e(h),m=e(m),s(h.translateX,h.translateY,m.translateX,m.translateY,g,v),c(h.rotate,m.rotate,g,v),f(h.skewX,m.skewX,g,v),p(h.scaleX,h.scaleY,m.scaleX,m.scaleY,g,v),h=m=null,function(b){for(var w=-1,S=v.length,C;++w<S;)g[(C=v[w]).i]=C.x(b);return g.join("")}}}var lC=J0(aC,"px, ","px)","deg)"),sC=J0(oC,", ",")",")"),cC=1e-12;function Ox(e){return((e=Math.exp(e))+1/e)/2}function uC(e){return((e=Math.exp(e))-1/e)/2}function dC(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ec=(function e(n,i,a){function l(s,c){var f=s[0],p=s[1],h=s[2],m=c[0],g=c[1],v=c[2],b=m-f,w=g-p,S=b*b+w*w,C,N;if(S<cC)N=Math.log(v/h)/n,C=function(O){return[f+O*b,p+O*w,h*Math.exp(n*O*N)]};else{var k=Math.sqrt(S),j=(v*v-h*h+a*S)/(2*h*i*k),_=(v*v-h*h-a*S)/(2*v*i*k),H=Math.log(Math.sqrt(j*j+1)-j),M=Math.log(Math.sqrt(_*_+1)-_);N=(M-H)/n,C=function(O){var V=O*N,G=Ox(H),I=h/(i*k)*(G*dC(n*V+H)-uC(H));return[f+I*b,p+I*w,h*G/Ox(n*V+H)]}}return C.duration=N*1e3*n/Math.SQRT2,C}return l.rho=function(s){var c=Math.max(.001,+s),f=c*c,p=f*f;return e(c,f,p)},l})(Math.SQRT2,2,4);var Pa=0,nl=0,Yo=0,eb=1e3,Rc,il,zc=0,zr=0,Jc=0,ml=typeof performance=="object"&&performance.now?performance:Date,tb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jh(){return zr||(tb(fC),zr=ml.now()+Jc)}function fC(){zr=0}function Lc(){this._call=this._time=this._next=null}Lc.prototype=nb.prototype={constructor:Lc,restart:function(e,n,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Jh():+i)+(n==null?0:+n),!this._next&&il!==this&&(il?il._next=this:Rc=this,il=this),this._call=e,this._time=i,Nh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nh())}};function nb(e,n,i){var a=new Lc;return a.restart(e,n,i),a}function hC(){Jh(),++Pa;for(var e=Rc,n;e;)(n=zr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Pa}function Rx(){zr=(zc=ml.now())+Jc,Pa=nl=0;try{hC()}finally{Pa=0,mC(),zr=0}}function pC(){var e=ml.now(),n=e-zc;n>eb&&(Jc-=n,zc=e)}function mC(){for(var e,n=Rc,i,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(i=n._next,n._next=null,n=e?e._next=i:Rc=i);il=e,Nh(a)}function Nh(e){if(!Pa){nl&&(nl=clearTimeout(nl));var n=e-zr;n>24?(e<1/0&&(nl=setTimeout(Rx,e-ml.now()-Jc)),Yo&&(Yo=clearInterval(Yo))):(Yo||(zc=ml.now(),Yo=setInterval(pC,eb)),Pa=1,tb(Rx))}}function zx(e,n,i){var a=new Lc;return n=n==null?0:+n,a.restart(l=>{a.stop(),e(l+n)},n,i),a}var gC=Wc("start","end","cancel","interrupt"),yC=[],ib=0,Lx=1,Eh=2,jc=3,Ix=4,jh=5,Cc=6;function eu(e,n,i,a,l,s){var c=e.__transition;if(!c)e.__transition={};else if(i in c)return;xC(e,i,{name:n,index:a,group:l,on:gC,tween:yC,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ib})}function ep(e,n){var i=Ln(e,n);if(i.state>ib)throw new Error("too late; already scheduled");return i}function Yn(e,n){var i=Ln(e,n);if(i.state>jc)throw new Error("too late; already running");return i}function Ln(e,n){var i=e.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function xC(e,n,i){var a=e.__transition,l;a[n]=i,i.timer=nb(s,0,i.time);function s(h){i.state=Lx,i.timer.restart(c,i.delay,i.time),i.delay<=h&&c(h-i.delay)}function c(h){var m,g,v,b;if(i.state!==Lx)return p();for(m in a)if(b=a[m],b.name===i.name){if(b.state===jc)return zx(c);b.state===Ix?(b.state=Cc,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[m]):+m<n&&(b.state=Cc,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[m])}if(zx(function(){i.state===jc&&(i.state=Ix,i.timer.restart(f,i.delay,i.time),f(h))}),i.state=Eh,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Eh){for(i.state=jc,l=new Array(v=i.tween.length),m=0,g=-1;m<v;++m)(b=i.tween[m].value.call(e,e.__data__,i.index,i.group))&&(l[++g]=b);l.length=g+1}}function f(h){for(var m=h<i.duration?i.ease.call(null,h/i.duration):(i.timer.restart(p),i.state=jh,1),g=-1,v=l.length;++g<v;)l[g].call(e,m);i.state===jh&&(i.on.call("end",e,e.__data__,i.index,i.group),p())}function p(){i.state=Cc,i.timer.stop(),delete a[n];for(var h in a)return;delete e.__transition}}function kc(e,n){var i=e.__transition,a,l,s=!0,c;if(i){n=n==null?null:n+"";for(c in i){if((a=i[c]).name!==n){s=!1;continue}l=a.state>Eh&&a.state<jh,a.state=Cc,a.timer.stop(),a.on.call(l?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete i[c]}s&&delete e.__transition}}function vC(e){return this.each(function(){kc(this,e)})}function bC(e,n){var i,a;return function(){var l=Yn(this,e),s=l.tween;if(s!==i){a=i=s;for(var c=0,f=a.length;c<f;++c)if(a[c].name===n){a=a.slice(),a.splice(c,1);break}}l.tween=a}}function wC(e,n,i){var a,l;if(typeof i!="function")throw new Error;return function(){var s=Yn(this,e),c=s.tween;if(c!==a){l=(a=c).slice();for(var f={name:n,value:i},p=0,h=l.length;p<h;++p)if(l[p].name===n){l[p]=f;break}p===h&&l.push(f)}s.tween=l}}function SC(e,n){var i=this._id;if(e+="",arguments.length<2){for(var a=Ln(this.node(),i).tween,l=0,s=a.length,c;l<s;++l)if((c=a[l]).name===e)return c.value;return null}return this.each((n==null?bC:wC)(i,e,n))}function tp(e,n,i){var a=e._id;return e.each(function(){var l=Yn(this,a);(l.value||(l.value={}))[n]=i.apply(this,arguments)}),function(l){return Ln(l,a).value[n]}}function rb(e,n){var i;return(typeof n=="number"?Vn:n instanceof Rr?Oc:(i=Rr(n))?(n=i,Oc):W0)(e,n)}function NC(e){return function(){this.removeAttribute(e)}}function EC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jC(e,n,i){var a,l=i+"",s;return function(){var c=this.getAttribute(e);return c===l?null:c===a?s:s=n(a=c,i)}}function CC(e,n,i){var a,l=i+"",s;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===a?s:s=n(a=c,i)}}function kC(e,n,i){var a,l,s;return function(){var c,f=i(this),p;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=f+"",c===p?null:c===a&&p===l?s:(l=p,s=n(a=c,f)))}}function TC(e,n,i){var a,l,s;return function(){var c,f=i(this),p;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=f+"",c===p?null:c===a&&p===l?s:(l=p,s=n(a=c,f)))}}function AC(e,n){var i=Kc(e),a=i==="transform"?sC:rb;return this.attrTween(e,typeof n=="function"?(i.local?TC:kC)(i,a,tp(this,"attr."+e,n)):n==null?(i.local?EC:NC)(i):(i.local?CC:jC)(i,a,n))}function MC(e,n){return function(i){this.setAttribute(e,n.call(this,i))}}function DC(e,n){return function(i){this.setAttributeNS(e.space,e.local,n.call(this,i))}}function _C(e,n){var i,a;function l(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&DC(e,s)),i}return l._value=n,l}function OC(e,n){var i,a;function l(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&MC(e,s)),i}return l._value=n,l}function RC(e,n){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var a=Kc(e);return this.tween(i,(a.local?_C:OC)(a,n))}function zC(e,n){return function(){ep(this,e).delay=+n.apply(this,arguments)}}function LC(e,n){return n=+n,function(){ep(this,e).delay=n}}function IC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?zC:LC)(n,e)):Ln(this.node(),n).delay}function BC(e,n){return function(){Yn(this,e).duration=+n.apply(this,arguments)}}function HC(e,n){return n=+n,function(){Yn(this,e).duration=n}}function PC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?BC:HC)(n,e)):Ln(this.node(),n).duration}function $C(e,n){if(typeof n!="function")throw new Error;return function(){Yn(this,e).ease=n}}function UC(e){var n=this._id;return arguments.length?this.each($C(n,e)):Ln(this.node(),n).ease}function qC(e,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;Yn(this,e).ease=i}}function VC(e){if(typeof e!="function")throw new Error;return this.each(qC(this._id,e))}function FC(e){typeof e!="function"&&(e=z0(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=[],p,h=0;h<c;++h)(p=s[h])&&e.call(p,p.__data__,h,s)&&f.push(p);return new bi(a,this._parents,this._name,this._id)}function GC(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,i=e._groups,a=n.length,l=i.length,s=Math.min(a,l),c=new Array(a),f=0;f<s;++f)for(var p=n[f],h=i[f],m=p.length,g=c[f]=new Array(m),v,b=0;b<m;++b)(v=p[b]||h[b])&&(g[b]=v);for(;f<a;++f)c[f]=n[f];return new bi(c,this._parents,this._name,this._id)}function YC(e){return(e+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function XC(e,n,i){var a,l,s=YC(n)?ep:Yn;return function(){var c=s(this,e),f=c.on;f!==a&&(l=(a=f).copy()).on(n,i),c.on=l}}function QC(e,n){var i=this._id;return arguments.length<2?Ln(this.node(),i).on.on(e):this.each(XC(i,e,n))}function ZC(e){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==e)return;n&&n.removeChild(this)}}function WC(){return this.on("end.remove",ZC(this._id))}function KC(e){var n=this._name,i=this._id;typeof e!="function"&&(e=Qh(e));for(var a=this._groups,l=a.length,s=new Array(l),c=0;c<l;++c)for(var f=a[c],p=f.length,h=s[c]=new Array(p),m,g,v=0;v<p;++v)(m=f[v])&&(g=e.call(m,m.__data__,v,f))&&("__data__"in m&&(g.__data__=m.__data__),h[v]=g,eu(h[v],n,i,v,h,Ln(m,i)));return new bi(s,this._parents,n,i)}function JC(e){var n=this._name,i=this._id;typeof e!="function"&&(e=R0(e));for(var a=this._groups,l=a.length,s=[],c=[],f=0;f<l;++f)for(var p=a[f],h=p.length,m,g=0;g<h;++g)if(m=p[g]){for(var v=e.call(m,m.__data__,g,p),b,w=Ln(m,i),S=0,C=v.length;S<C;++S)(b=v[S])&&eu(b,n,i,S,v,w);s.push(v),c.push(m)}return new bi(s,c,n,i)}var ek=jl.prototype.constructor;function tk(){return new ek(this._groups,this._parents)}function nk(e,n){var i,a,l;return function(){var s=Ha(this,e),c=(this.style.removeProperty(e),Ha(this,e));return s===c?null:s===i&&c===a?l:l=n(i=s,a=c)}}function ab(e){return function(){this.style.removeProperty(e)}}function ik(e,n,i){var a,l=i+"",s;return function(){var c=Ha(this,e);return c===l?null:c===a?s:s=n(a=c,i)}}function rk(e,n,i){var a,l,s;return function(){var c=Ha(this,e),f=i(this),p=f+"";return f==null&&(p=f=(this.style.removeProperty(e),Ha(this,e))),c===p?null:c===a&&p===l?s:(l=p,s=n(a=c,f))}}function ak(e,n){var i,a,l,s="style."+n,c="end."+s,f;return function(){var p=Yn(this,e),h=p.on,m=p.value[s]==null?f||(f=ab(n)):void 0;(h!==i||l!==m)&&(a=(i=h).copy()).on(c,l=m),p.on=a}}function ok(e,n,i){var a=(e+="")=="transform"?lC:rb;return n==null?this.styleTween(e,nk(e,a)).on("end.style."+e,ab(e)):typeof n=="function"?this.styleTween(e,rk(e,a,tp(this,"style."+e,n))).each(ak(this._id,e)):this.styleTween(e,ik(e,a,n),i).on("end.style."+e,null)}function lk(e,n,i){return function(a){this.style.setProperty(e,n.call(this,a),i)}}function sk(e,n,i){var a,l;function s(){var c=n.apply(this,arguments);return c!==l&&(a=(l=c)&&lk(e,c,i)),a}return s._value=n,s}function ck(e,n,i){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,sk(e,n,i??""))}function uk(e){return function(){this.textContent=e}}function dk(e){return function(){var n=e(this);this.textContent=n??""}}function fk(e){return this.tween("text",typeof e=="function"?dk(tp(this,"text",e)):uk(e==null?"":e+""))}function hk(e){return function(n){this.textContent=e.call(this,n)}}function pk(e){var n,i;function a(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&hk(l)),n}return a._value=e,a}function mk(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,pk(e))}function gk(){for(var e=this._name,n=this._id,i=ob(),a=this._groups,l=a.length,s=0;s<l;++s)for(var c=a[s],f=c.length,p,h=0;h<f;++h)if(p=c[h]){var m=Ln(p,n);eu(p,e,i,h,c,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new bi(a,this._parents,e,i)}function yk(){var e,n,i=this,a=i._id,l=i.size();return new Promise(function(s,c){var f={value:c},p={value:function(){--l===0&&s()}};i.each(function(){var h=Yn(this,a),m=h.on;m!==e&&(n=(e=m).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(p)),h.on=n}),l===0&&s()})}var xk=0;function bi(e,n,i,a){this._groups=e,this._parents=n,this._name=i,this._id=a}function ob(){return++xk}var xi=jl.prototype;bi.prototype={constructor:bi,select:KC,selectAll:JC,selectChild:xi.selectChild,selectChildren:xi.selectChildren,filter:FC,merge:GC,selection:tk,transition:gk,call:xi.call,nodes:xi.nodes,node:xi.node,size:xi.size,empty:xi.empty,each:xi.each,on:QC,attr:AC,attrTween:RC,style:ok,styleTween:ck,text:fk,textTween:mk,remove:WC,tween:SC,delay:IC,duration:PC,ease:UC,easeVarying:VC,end:yk,[Symbol.iterator]:xi[Symbol.iterator]};function vk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bk={time:null,delay:0,duration:250,ease:vk};function wk(e,n){for(var i;!(i=e.__transition)||!(i=i[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return i}function Sk(e){var n,i;e instanceof bi?(n=e._id,e=e._name):(n=ob(),(i=bk).time=Jh(),e=e==null?null:e+"");for(var a=this._groups,l=a.length,s=0;s<l;++s)for(var c=a[s],f=c.length,p,h=0;h<f;++h)(p=c[h])&&eu(p,e,n,h,c,i||wk(p,n));return new bi(a,this._parents,e,n)}jl.prototype.interrupt=vC;jl.prototype.transition=Sk;const cc=e=>()=>e;function Nk(e,{sourceEvent:n,target:i,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function vi(e,n,i){this.k=e,this.x=n,this.y=i}vi.prototype={constructor:vi,scale:function(e){return e===1?this:new vi(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new vi(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tu=new vi(1,0,0);lb.prototype=vi.prototype;function lb(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tu;return e.__zoom}function Hf(e){e.stopImmediatePropagation()}function Xo(e){e.preventDefault(),e.stopImmediatePropagation()}function Ek(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bx(){return this.__zoom||tu}function Ck(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function kk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tk(e,n,i){var a=e.invertX(n[0][0])-i[0][0],l=e.invertX(n[1][0])-i[1][0],s=e.invertY(n[0][1])-i[0][1],c=e.invertY(n[1][1])-i[1][1];return e.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function sb(){var e=Ek,n=jk,i=Tk,a=Ck,l=kk,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,p=Ec,h=Wc("start","zoom","end"),m,g,v,b=500,w=150,S=0,C=10;function N(A){A.property("__zoom",Bx).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",I).filter(l).on("touchstart.zoom",$).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(A,P,D,q){var U=A.selection?A.selection():A;U.property("__zoom",Bx),A!==U?H(A,P,D,q):U.interrupt().each(function(){M(this,arguments).event(q).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},N.scaleBy=function(A,P,D,q){N.scaleTo(A,function(){var U=this.__zoom.k,Z=typeof P=="function"?P.apply(this,arguments):P;return U*Z},D,q)},N.scaleTo=function(A,P,D,q){N.transform(A,function(){var U=n.apply(this,arguments),Z=this.__zoom,z=D==null?_(U):typeof D=="function"?D.apply(this,arguments):D,B=Z.invert(z),Y=typeof P=="function"?P.apply(this,arguments):P;return i(j(k(Z,Y),z,B),U,c)},D,q)},N.translateBy=function(A,P,D,q){N.transform(A,function(){return i(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof D=="function"?D.apply(this,arguments):D),n.apply(this,arguments),c)},null,q)},N.translateTo=function(A,P,D,q,U){N.transform(A,function(){var Z=n.apply(this,arguments),z=this.__zoom,B=q==null?_(Z):typeof q=="function"?q.apply(this,arguments):q;return i(tu.translate(B[0],B[1]).scale(z.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof D=="function"?-D.apply(this,arguments):-D),Z,c)},q,U)};function k(A,P){return P=Math.max(s[0],Math.min(s[1],P)),P===A.k?A:new vi(P,A.x,A.y)}function j(A,P,D){var q=P[0]-D[0]*A.k,U=P[1]-D[1]*A.k;return q===A.x&&U===A.y?A:new vi(A.k,q,U)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function H(A,P,D,q){A.on("start.zoom",function(){M(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(q).end()}).tween("zoom",function(){var U=this,Z=arguments,z=M(U,Z).event(q),B=n.apply(U,Z),Y=D==null?_(B):typeof D=="function"?D.apply(U,Z):D,L=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),ie=U.__zoom,te=typeof P=="function"?P.apply(U,Z):P,re=p(ie.invert(Y).concat(L/ie.k),te.invert(Y).concat(L/te.k));return function(de){if(de===1)de=te;else{var oe=re(de),fe=L/oe[2];de=new vi(fe,Y[0]-oe[0]*fe,Y[1]-oe[1]*fe)}z.zoom(null,de)}})}function M(A,P,D){return!D&&A.__zooming||new O(A,P)}function O(A,P){this.that=A,this.args=P,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,P),this.taps=0}O.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,P){return this.mouse&&A!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var P=dn(this.that).datum();h.call(A,this.that,new Nk(A,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:h}),P)}};function V(A,...P){if(!e.apply(this,arguments))return;var D=M(this,P).event(A),q=this.__zoom,U=Math.max(s[0],Math.min(s[1],q.k*Math.pow(2,a.apply(this,arguments)))),Z=Mn(A);if(D.wheel)(D.mouse[0][0]!==Z[0]||D.mouse[0][1]!==Z[1])&&(D.mouse[1]=q.invert(D.mouse[0]=Z)),clearTimeout(D.wheel);else{if(q.k===U)return;D.mouse=[Z,q.invert(Z)],kc(this),D.start()}Xo(A),D.wheel=setTimeout(z,w),D.zoom("mouse",i(j(k(q,U),D.mouse[0],D.mouse[1]),D.extent,c));function z(){D.wheel=null,D.end()}}function G(A,...P){if(v||!e.apply(this,arguments))return;var D=A.currentTarget,q=M(this,P,!0).event(A),U=dn(A.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",L,!0),Z=Mn(A,D),z=A.clientX,B=A.clientY;F0(A.view),Hf(A),q.mouse=[Z,this.__zoom.invert(Z)],kc(this),q.start();function Y(ie){if(Xo(ie),!q.moved){var te=ie.clientX-z,re=ie.clientY-B;q.moved=te*te+re*re>S}q.event(ie).zoom("mouse",i(j(q.that.__zoom,q.mouse[0]=Mn(ie,D),q.mouse[1]),q.extent,c))}function L(ie){U.on("mousemove.zoom mouseup.zoom",null),G0(ie.view,q.moved),Xo(ie),q.event(ie).end()}}function I(A,...P){if(e.apply(this,arguments)){var D=this.__zoom,q=Mn(A.changedTouches?A.changedTouches[0]:A,this),U=D.invert(q),Z=D.k*(A.shiftKey?.5:2),z=i(j(k(D,Z),q,U),n.apply(this,P),c);Xo(A),f>0?dn(this).transition().duration(f).call(H,z,q,A):dn(this).call(N.transform,z,q,A)}}function $(A,...P){if(e.apply(this,arguments)){var D=A.touches,q=D.length,U=M(this,P,A.changedTouches.length===q).event(A),Z,z,B,Y;for(Hf(A),z=0;z<q;++z)B=D[z],Y=Mn(B,this),Y=[Y,this.__zoom.invert(Y),B.identifier],U.touch0?!U.touch1&&U.touch0[2]!==Y[2]&&(U.touch1=Y,U.taps=0):(U.touch0=Y,Z=!0,U.taps=1+!!m);m&&(m=clearTimeout(m)),Z&&(U.taps<2&&(g=Y[0],m=setTimeout(function(){m=null},b)),kc(this),U.start())}}function F(A,...P){if(this.__zooming){var D=M(this,P).event(A),q=A.changedTouches,U=q.length,Z,z,B,Y;for(Xo(A),Z=0;Z<U;++Z)z=q[Z],B=Mn(z,this),D.touch0&&D.touch0[2]===z.identifier?D.touch0[0]=B:D.touch1&&D.touch1[2]===z.identifier&&(D.touch1[0]=B);if(z=D.that.__zoom,D.touch1){var L=D.touch0[0],ie=D.touch0[1],te=D.touch1[0],re=D.touch1[1],de=(de=te[0]-L[0])*de+(de=te[1]-L[1])*de,oe=(oe=re[0]-ie[0])*oe+(oe=re[1]-ie[1])*oe;z=k(z,Math.sqrt(de/oe)),B=[(L[0]+te[0])/2,(L[1]+te[1])/2],Y=[(ie[0]+re[0])/2,(ie[1]+re[1])/2]}else if(D.touch0)B=D.touch0[0],Y=D.touch0[1];else return;D.zoom("touch",i(j(z,B,Y),D.extent,c))}}function ee(A,...P){if(this.__zooming){var D=M(this,P).event(A),q=A.changedTouches,U=q.length,Z,z;for(Hf(A),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),Z=0;Z<U;++Z)z=q[Z],D.touch0&&D.touch0[2]===z.identifier?delete D.touch0:D.touch1&&D.touch1[2]===z.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(z=Mn(z,this),Math.hypot(g[0]-z[0],g[1]-z[1])<C)){var B=dn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return N.wheelDelta=function(A){return arguments.length?(a=typeof A=="function"?A:cc(+A),N):a},N.filter=function(A){return arguments.length?(e=typeof A=="function"?A:cc(!!A),N):e},N.touchable=function(A){return arguments.length?(l=typeof A=="function"?A:cc(!!A),N):l},N.extent=function(A){return arguments.length?(n=typeof A=="function"?A:cc([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),N):n},N.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],N):[s[0],s[1]]},N.translateExtent=function(A){return arguments.length?(c[0][0]=+A[0][0],c[1][0]=+A[1][0],c[0][1]=+A[0][1],c[1][1]=+A[1][1],N):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},N.constrain=function(A){return arguments.length?(i=A,N):i},N.duration=function(A){return arguments.length?(f=+A,N):f},N.interpolate=function(A){return arguments.length?(p=A,N):p},N.on=function(){var A=h.on.apply(h,arguments);return A===h?N:A},N.clickDistance=function(A){return arguments.length?(S=(A=+A)*A,N):Math.sqrt(S)},N.tapDistance=function(A){return arguments.length?(C=+A,N):C},N}const Gn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:i,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?i:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},gl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],cb=["Enter"," ","Escape"],ub={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:i})=>`Moved selected node ${e}. New position, x: ${n}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var $a;(function(e){e.Strict="strict",e.Loose="loose"})($a||($a={}));var Or;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Or||(Or={}));var yl;(function(e){e.Partial="partial",e.Full="full"})(yl||(yl={}));const db={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ir;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ir||(ir={}));var Ic;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ic||(Ic={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));const Hx={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function fb(e){return e===null?null:e?"valid":"invalid"}const hb=e=>"id"in e&&"source"in e&&"target"in e,Ak=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),np=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),kl=(e,n=[0,0])=>{const{width:i,height:a}=wi(e),l=e.origin??n,s=i*l[0],c=a*l[1];return{x:e.position.x-s,y:e.position.y-c}},Mk=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const i=e.reduce((a,l)=>{const s=typeof l=="string";let c=!n.nodeLookup&&!s?l:void 0;n.nodeLookup&&(c=s?n.nodeLookup.get(l):np(l)?l:n.nodeLookup.get(l.id));const f=c?Bc(c,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return nu(a,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return iu(i)},Tl=(e,n={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return e.forEach(l=>{(n.filter===void 0||n.filter(l))&&(i=nu(i,Bc(l)),a=!0)}),a?iu(i):{x:0,y:0,width:0,height:0}},ip=(e,n,[i,a,l]=[0,0,1],s=!1,c=!1)=>{const f={...Ml(n,[i,a,l]),width:n.width/l,height:n.height/l},p=[];for(const h of e.values()){const{measured:m,selectable:g=!0,hidden:v=!1}=h;if(c&&!g||v)continue;const b=m.width??h.width??h.initialWidth??null,w=m.height??h.height??h.initialHeight??null,S=xl(f,qa(h)),C=(b??0)*(w??0),N=s&&S>0;(!h.internals.handleBounds||N||S>=C||h.dragging)&&p.push(h)}return p},Dk=(e,n)=>{const i=new Set;return e.forEach(a=>{i.add(a.id)}),n.filter(a=>i.has(a.source)||i.has(a.target))};function _k(e,n){const i=new Map,a=n?.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(n?.includeHiddenNodes||!l.hidden)&&(!a||a.has(l.id))&&i.set(l.id,l)}),i}async function Ok({nodes:e,width:n,height:i,panZoom:a,minZoom:l,maxZoom:s},c){if(e.size===0)return Promise.resolve(!0);const f=_k(e,c),p=Tl(f),h=rp(p,n,i,c?.minZoom??l,c?.maxZoom??s,c?.padding??.1);return await a.setViewport(h,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function pb({nodeId:e,nextPosition:n,nodeLookup:i,nodeOrigin:a=[0,0],nodeExtent:l,onError:s}){const c=i.get(e),f=c.parentId?i.get(c.parentId):void 0,{x:p,y:h}=f?f.internals.positionAbsolute:{x:0,y:0},m=c.origin??a;let g=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)s?.("005",Gn.error005());else{const b=f.measured.width,w=f.measured.height;b&&w&&(g=[[p,h],[p+b,h+w]])}else f&&Va(c.extent)&&(g=[[c.extent[0][0]+p,c.extent[0][1]+h],[c.extent[1][0]+p,c.extent[1][1]+h]]);const v=Va(g)?Lr(n,g,c.measured):n;return(c.measured.width===void 0||c.measured.height===void 0)&&s?.("015",Gn.error015()),{position:{x:v.x-p+(c.measured.width??0)*m[0],y:v.y-h+(c.measured.height??0)*m[1]},positionAbsolute:v}}async function Rk({nodesToRemove:e=[],edgesToRemove:n=[],nodes:i,edges:a,onBeforeDelete:l}){const s=new Set(e.map(v=>v.id)),c=[];for(const v of i){if(v.deletable===!1)continue;const b=s.has(v.id),w=!b&&v.parentId&&c.find(S=>S.id===v.parentId);(b||w)&&c.push(v)}const f=new Set(n.map(v=>v.id)),p=a.filter(v=>v.deletable!==!1),m=Dk(c,p);for(const v of p)f.has(v.id)&&!m.find(w=>w.id===v.id)&&m.push(v);if(!l)return{edges:m,nodes:c};const g=await l({nodes:c,edges:m});return typeof g=="boolean"?g?{edges:m,nodes:c}:{edges:[],nodes:[]}:g}const Ua=(e,n=0,i=1)=>Math.min(Math.max(e,n),i),Lr=(e={x:0,y:0},n,i)=>({x:Ua(e.x,n[0][0],n[1][0]-(i?.width??0)),y:Ua(e.y,n[0][1],n[1][1]-(i?.height??0))});function mb(e,n,i){const{width:a,height:l}=wi(i),{x:s,y:c}=i.internals.positionAbsolute;return Lr(e,[[s,c],[s+a,c+l]],n)}const Px=(e,n,i)=>e<n?Ua(Math.abs(e-n),1,n)/n:e>i?-Ua(Math.abs(e-i),1,n)/n:0,gb=(e,n,i=15,a=40)=>{const l=Px(e.x,a,n.width-a)*i,s=Px(e.y,a,n.height-a)*i;return[l,s]},nu=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Ch=({x:e,y:n,width:i,height:a})=>({x:e,y:n,x2:e+i,y2:n+a}),iu=({x:e,y:n,x2:i,y2:a})=>({x:e,y:n,width:i-e,height:a-n}),qa=(e,n=[0,0])=>{const{x:i,y:a}=np(e)?e.internals.positionAbsolute:kl(e,n);return{x:i,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Bc=(e,n=[0,0])=>{const{x:i,y:a}=np(e)?e.internals.positionAbsolute:kl(e,n);return{x:i,y:a,x2:i+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},yb=(e,n)=>iu(nu(Ch(e),Ch(n))),xl=(e,n)=>{const i=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(i*a)},$x=e=>_n(e.width)&&_n(e.height)&&_n(e.x)&&_n(e.y),_n=e=>!isNaN(e)&&isFinite(e),zk=(e,n)=>{},Al=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Ml=({x:e,y:n},[i,a,l],s=!1,c=[1,1])=>{const f={x:(e-i)/l,y:(n-a)/l};return s?Al(f,c):f},Hc=({x:e,y:n},[i,a,l])=>({x:e*l+i,y:n*l+a});function ka(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(i)}if(typeof e=="string"&&e.endsWith("%")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(n*i*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Lk(e,n,i){if(typeof e=="string"||typeof e=="number"){const a=ka(e,i),l=ka(e,n);return{top:a,right:l,bottom:a,left:l,x:l*2,y:a*2}}if(typeof e=="object"){const a=ka(e.top??e.y??0,i),l=ka(e.bottom??e.y??0,i),s=ka(e.left??e.x??0,n),c=ka(e.right??e.x??0,n);return{top:a,right:c,bottom:l,left:s,x:s+c,y:a+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Ik(e,n,i,a,l,s){const{x:c,y:f}=Hc(e,[n,i,a]),{x:p,y:h}=Hc({x:e.x+e.width,y:e.y+e.height},[n,i,a]),m=l-p,g=s-h;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(m),bottom:Math.floor(g)}}const rp=(e,n,i,a,l,s)=>{const c=Lk(s,n,i),f=(n-c.x)/e.width,p=(i-c.y)/e.height,h=Math.min(f,p),m=Ua(h,a,l),g=e.x+e.width/2,v=e.y+e.height/2,b=n/2-g*m,w=i/2-v*m,S=Ik(e,b,w,m,n,i),C={left:Math.min(S.left-c.left,0),top:Math.min(S.top-c.top,0),right:Math.min(S.right-c.right,0),bottom:Math.min(S.bottom-c.bottom,0)};return{x:b-C.left+C.right,y:w-C.top+C.bottom,zoom:m}},vl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Va(e){return e!=null&&e!=="parent"}function wi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function xb(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function vb(e,n={width:0,height:0},i,a,l){const s={...e},c=a.get(i);if(c){const f=c.origin||l;s.x+=c.internals.positionAbsolute.x-(n.width??0)*f[0],s.y+=c.internals.positionAbsolute.y-(n.height??0)*f[1]}return s}function Ux(e,n){if(e.size!==n.size)return!1;for(const i of e)if(!n.has(i))return!1;return!0}function Bk(){let e,n;return{promise:new Promise((a,l)=>{e=a,n=l}),resolve:e,reject:n}}function Hk(e){return{...ub,...e||{}}}function ll(e,{snapGrid:n=[0,0],snapToGrid:i=!1,transform:a,containerBounds:l}){const{x:s,y:c}=On(e),f=Ml({x:s-(l?.left??0),y:c-(l?.top??0)},a),{x:p,y:h}=i?Al(f,n):f;return{xSnapped:p,ySnapped:h,...f}}const ap=e=>({width:e.offsetWidth,height:e.offsetHeight}),bb=e=>e?.getRootNode?.()||window?.document,Pk=["INPUT","SELECT","TEXTAREA"];function wb(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:Pk.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const Sb=e=>"clientX"in e,On=(e,n)=>{const i=Sb(e),a=i?e.clientX:e.touches?.[0].clientX,l=i?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:l-(n?.top??0)}},qx=(e,n,i,a,l)=>{const s=n.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-i.left)/a,y:(f.top-i.top)/a,...ap(c)}})};function Nb({sourceX:e,sourceY:n,targetX:i,targetY:a,sourceControlX:l,sourceControlY:s,targetControlX:c,targetControlY:f}){const p=e*.125+l*.375+c*.375+i*.125,h=n*.125+s*.375+f*.375+a*.125,m=Math.abs(p-e),g=Math.abs(h-n);return[p,h,m,g]}function uc(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function Vx({pos:e,x1:n,y1:i,x2:a,y2:l,c:s}){switch(e){case ge.Left:return[n-uc(n-a,s),i];case ge.Right:return[n+uc(a-n,s),i];case ge.Top:return[n,i-uc(i-l,s)];case ge.Bottom:return[n,i+uc(l-i,s)]}}function Eb({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top,curvature:c=.25}){const[f,p]=Vx({pos:i,x1:e,y1:n,x2:a,y2:l,c}),[h,m]=Vx({pos:s,x1:a,y1:l,x2:e,y2:n,c}),[g,v,b,w]=Nb({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:p,targetControlX:h,targetControlY:m});return[`M${e},${n} C${f},${p} ${h},${m} ${a},${l}`,g,v,b,w]}function jb({sourceX:e,sourceY:n,targetX:i,targetY:a}){const l=Math.abs(i-e)/2,s=i<e?i+l:i-l,c=Math.abs(a-n)/2,f=a<n?a+c:a-c;return[s,f,l,c]}function $k({sourceNode:e,targetNode:n,selected:i=!1,zIndex:a=0,elevateOnSelect:l=!1,zIndexMode:s="basic"}){if(s==="manual")return a;const c=l&&i?a+1e3:a,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,n.parentId||l&&n.selected?n.internals.z:0);return c+f}function Uk({sourceNode:e,targetNode:n,width:i,height:a,transform:l}){const s=nu(Bc(e),Bc(n));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:i/l[2],height:a/l[2]};return xl(c,iu(s))>0}const qk=({source:e,sourceHandle:n,target:i,targetHandle:a})=>`xy-edge__${e}${n||""}-${i}${a||""}`,Vk=(e,n)=>n.some(i=>i.source===e.source&&i.target===e.target&&(i.sourceHandle===e.sourceHandle||!i.sourceHandle&&!e.sourceHandle)&&(i.targetHandle===e.targetHandle||!i.targetHandle&&!e.targetHandle)),Cb=(e,n,i={})=>{if(!e.source||!e.target)return n;const a=i.getEdgeId||qk;let l;return hb(e)?l={...e}:l={...e,id:a(e)},Vk(l,n)?n:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,n.concat(l))};function kb({sourceX:e,sourceY:n,targetX:i,targetY:a}){const[l,s,c,f]=jb({sourceX:e,sourceY:n,targetX:i,targetY:a});return[`M ${e},${n}L ${i},${a}`,l,s,c,f]}const Fx={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Fk=({source:e,sourcePosition:n=ge.Bottom,target:i})=>n===ge.Left||n===ge.Right?e.x<i.x?{x:1,y:0}:{x:-1,y:0}:e.y<i.y?{x:0,y:1}:{x:0,y:-1},Gx=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function Gk({source:e,sourcePosition:n=ge.Bottom,target:i,targetPosition:a=ge.Top,center:l,offset:s,stepPosition:c}){const f=Fx[n],p=Fx[a],h={x:e.x+f.x*s,y:e.y+f.y*s},m={x:i.x+p.x*s,y:i.y+p.y*s},g=Fk({source:h,sourcePosition:n,target:m}),v=g.x!==0?"x":"y",b=g[v];let w=[],S,C;const N={x:0,y:0},k={x:0,y:0},[,,j,_]=jb({sourceX:e.x,sourceY:e.y,targetX:i.x,targetY:i.y});if(f[v]*p[v]===-1){v==="x"?(S=l.x??h.x+(m.x-h.x)*c,C=l.y??(h.y+m.y)/2):(S=l.x??(h.x+m.x)/2,C=l.y??h.y+(m.y-h.y)*c);const M=[{x:S,y:h.y},{x:S,y:m.y}],O=[{x:h.x,y:C},{x:m.x,y:C}];f[v]===b?w=v==="x"?M:O:w=v==="x"?O:M}else{const M=[{x:h.x,y:m.y}],O=[{x:m.x,y:h.y}];if(v==="x"?w=f.x===b?O:M:w=f.y===b?M:O,n===a){const F=Math.abs(e[v]-i[v]);if(F<=s){const ee=Math.min(s-1,s-F);f[v]===b?N[v]=(h[v]>e[v]?-1:1)*ee:k[v]=(m[v]>i[v]?-1:1)*ee}}if(n!==a){const F=v==="x"?"y":"x",ee=f[v]===p[F],A=h[F]>m[F],P=h[F]<m[F];(f[v]===1&&(!ee&&A||ee&&P)||f[v]!==1&&(!ee&&P||ee&&A))&&(w=v==="x"?M:O)}const V={x:h.x+N.x,y:h.y+N.y},G={x:m.x+k.x,y:m.y+k.y},I=Math.max(Math.abs(V.x-w[0].x),Math.abs(G.x-w[0].x)),$=Math.max(Math.abs(V.y-w[0].y),Math.abs(G.y-w[0].y));I>=$?(S=(V.x+G.x)/2,C=w[0].y):(S=w[0].x,C=(V.y+G.y)/2)}return[[e,{x:h.x+N.x,y:h.y+N.y},...w,{x:m.x+k.x,y:m.y+k.y},i],S,C,j,_]}function Yk(e,n,i,a){const l=Math.min(Gx(e,n)/2,Gx(n,i)/2,a),{x:s,y:c}=n;if(e.x===s&&s===i.x||e.y===c&&c===i.y)return`L${s} ${c}`;if(e.y===c){const h=e.x<i.x?-1:1,m=e.y<i.y?1:-1;return`L ${s+l*h},${c}Q ${s},${c} ${s},${c+l*m}`}const f=e.x<i.x?1:-1,p=e.y<i.y?-1:1;return`L ${s},${c+l*p}Q ${s},${c} ${s+l*f},${c}`}function Pc({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top,borderRadius:c=5,centerX:f,centerY:p,offset:h=20,stepPosition:m=.5}){const[g,v,b,w,S]=Gk({source:{x:e,y:n},sourcePosition:i,target:{x:a,y:l},targetPosition:s,center:{x:f,y:p},offset:h,stepPosition:m});return[g.reduce((N,k,j)=>{let _="";return j>0&&j<g.length-1?_=Yk(g[j-1],k,g[j+1],c):_=`${j===0?"M":"L"}${k.x} ${k.y}`,N+=_,N},""),v,b,w,S]}function Yx(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Xk(e){const{sourceNode:n,targetNode:i}=e;if(!Yx(n)||!Yx(i))return null;const a=n.internals.handleBounds||Xx(n.handles),l=i.internals.handleBounds||Xx(i.handles),s=Qx(a?.source??[],e.sourceHandle),c=Qx(e.connectionMode===$a.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!s||!c)return e.onError?.("008",Gn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=s?.position||ge.Bottom,p=c?.position||ge.Top,h=Ir(n,s,f),m=Ir(i,c,p);return{sourceX:h.x,sourceY:h.y,targetX:m.x,targetY:m.y,sourcePosition:f,targetPosition:p}}function Xx(e){if(!e)return null;const n=[],i=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&i.push(a);return{source:n,target:i}}function Ir(e,n,i=ge.Left,a=!1){const l=(n?.x??0)+e.internals.positionAbsolute.x,s=(n?.y??0)+e.internals.positionAbsolute.y,{width:c,height:f}=n??wi(e);if(a)return{x:l+c/2,y:s+f/2};switch(n?.position??i){case ge.Top:return{x:l+c/2,y:s};case ge.Right:return{x:l+c,y:s+f/2};case ge.Bottom:return{x:l+c/2,y:s+f};case ge.Left:return{x:l,y:s+f/2}}}function Qx(e,n){return e&&(n?e.find(i=>i.id===n):e[0])||null}function kh(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function Qk(e,{id:n,defaultColor:i,defaultMarkerStart:a,defaultMarkerEnd:l}){const s=new Set;return e.reduce((c,f)=>([f.markerStart||a,f.markerEnd||l].forEach(p=>{if(p&&typeof p=="object"){const h=kh(p,n);s.has(h)||(c.push({id:h,color:p.color||i,...p}),s.add(h))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const Tb=1e3,Zk=10,op={nodeOrigin:[0,0],nodeExtent:gl,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Wk={...op,checkEquality:!0};function lp(e,n){const i={...e};for(const a in n)n[a]!==void 0&&(i[a]=n[a]);return i}function Kk(e,n,i){const a=lp(op,i);for(const l of e.values())if(l.parentId)cp(l,e,n,a);else{const s=kl(l,a.nodeOrigin),c=Va(l.extent)?l.extent:a.nodeExtent,f=Lr(s,c,wi(l));l.internals.positionAbsolute=f}}function Jk(e,n){if(!e.handles)return e.measured?n?.internals.handleBounds:void 0;const i=[],a=[];for(const l of e.handles){const s={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?i.push(s):l.type==="target"&&a.push(s)}return{source:i,target:a}}function sp(e){return e==="manual"}function Th(e,n,i,a={}){const l=lp(Wk,a),s={i:0},c=new Map(n),f=l?.elevateNodesOnSelect&&!sp(l.zIndexMode)?Tb:0;let p=e.length>0;n.clear(),i.clear();for(const h of e){let m=c.get(h.id);if(l.checkEquality&&h===m?.internals.userNode)n.set(h.id,m);else{const g=kl(h,l.nodeOrigin),v=Va(h.extent)?h.extent:l.nodeExtent,b=Lr(g,v,wi(h));m={...l.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:b,handleBounds:Jk(h,m),z:Ab(h,f,l.zIndexMode),userNode:h}},n.set(h.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(p=!1),h.parentId&&cp(m,n,i,a,s)}return p}function eT(e,n){if(!e.parentId)return;const i=n.get(e.parentId);i?i.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function cp(e,n,i,a,l){const{elevateNodesOnSelect:s,nodeOrigin:c,nodeExtent:f,zIndexMode:p}=lp(op,a),h=e.parentId,m=n.get(h);if(!m){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}eT(e,i),l&&!m.parentId&&m.internals.rootParentIndex===void 0&&p==="auto"&&(m.internals.rootParentIndex=++l.i,m.internals.z=m.internals.z+l.i*Zk),l&&m.internals.rootParentIndex!==void 0&&(l.i=m.internals.rootParentIndex);const g=s&&!sp(p)?Tb:0,{x:v,y:b,z:w}=tT(e,m,c,f,g,p),{positionAbsolute:S}=e.internals,C=v!==S.x||b!==S.y;(C||w!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:v,y:b}:S,z:w}})}function Ab(e,n,i){const a=_n(e.zIndex)?e.zIndex:0;return sp(i)?a:a+(e.selected?n:0)}function tT(e,n,i,a,l,s){const{x:c,y:f}=n.internals.positionAbsolute,p=wi(e),h=kl(e,i),m=Va(e.extent)?Lr(h,e.extent,p):h;let g=Lr({x:c+m.x,y:f+m.y},a,p);e.extent==="parent"&&(g=mb(g,p,n));const v=Ab(e,l,s),b=n.internals.z??0;return{x:g.x,y:g.y,z:b>=v?b+1:v}}function up(e,n,i,a=[0,0]){const l=[],s=new Map;for(const c of e){const f=n.get(c.parentId);if(!f)continue;const p=s.get(c.parentId)?.expandedRect??qa(f),h=yb(p,c.rect);s.set(c.parentId,{expandedRect:h,parent:f})}return s.size>0&&s.forEach(({expandedRect:c,parent:f},p)=>{const h=f.internals.positionAbsolute,m=wi(f),g=f.origin??a,v=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,b=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,w=Math.max(m.width,Math.round(c.width)),S=Math.max(m.height,Math.round(c.height)),C=(w-m.width)*g[0],N=(S-m.height)*g[1];(v>0||b>0||C||N)&&(l.push({id:p,type:"position",position:{x:f.position.x-v+C,y:f.position.y-b+N}}),i.get(p)?.forEach(k=>{e.some(j=>j.id===k.id)||l.push({id:k.id,type:"position",position:{x:k.position.x+v,y:k.position.y+b}})})),(m.width<c.width||m.height<c.height||v||b)&&l.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?g[0]*v-C:0),height:S+(b?g[1]*b-N:0)}})}),l}function nT(e,n,i,a,l,s,c){const f=a?.querySelector(".xyflow__viewport");let p=!1;if(!f)return{changes:[],updatedInternals:p};const h=[],m=window.getComputedStyle(f),{m22:g}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const b of e.values()){const w=n.get(b.id);if(!w)continue;if(w.hidden){n.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),p=!0;continue}const S=ap(b.nodeElement),C=w.measured.width!==S.width||w.measured.height!==S.height;if(!!(S.width&&S.height&&(C||!w.internals.handleBounds||b.force))){const k=b.nodeElement.getBoundingClientRect(),j=Va(w.extent)?w.extent:s;let{positionAbsolute:_}=w.internals;w.parentId&&w.extent==="parent"?_=mb(_,S,n.get(w.parentId)):j&&(_=Lr(_,j,S));const H={...w,measured:S,internals:{...w.internals,positionAbsolute:_,handleBounds:{source:qx("source",b.nodeElement,k,g,w.id),target:qx("target",b.nodeElement,k,g,w.id)}}};n.set(w.id,H),w.parentId&&cp(H,n,i,{nodeOrigin:l,zIndexMode:c}),p=!0,C&&(h.push({id:w.id,type:"dimensions",dimensions:S}),w.expandParent&&w.parentId&&v.push({id:w.id,parentId:w.parentId,rect:qa(H,l)}))}}if(v.length>0){const b=up(v,n,i,l);h.push(...b)}return{changes:h,updatedInternals:p}}async function iT({delta:e,panZoom:n,transform:i,translateExtent:a,width:l,height:s}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const c=await n.setViewportConstrained({x:i[0]+e.x,y:i[1]+e.y,zoom:i[2]},[[0,0],[l,s]],a),f=!!c&&(c.x!==i[0]||c.y!==i[1]||c.k!==i[2]);return Promise.resolve(f)}function Zx(e,n,i,a,l,s){let c=l;const f=a.get(c)||new Map;a.set(c,f.set(i,n)),c=`${l}-${e}`;const p=a.get(c)||new Map;if(a.set(c,p.set(i,n)),s){c=`${l}-${e}-${s}`;const h=a.get(c)||new Map;a.set(c,h.set(i,n))}}function Mb(e,n,i){e.clear(),n.clear();for(const a of i){const{source:l,target:s,sourceHandle:c=null,targetHandle:f=null}=a,p={edgeId:a.id,source:l,target:s,sourceHandle:c,targetHandle:f},h=`${l}-${c}--${s}-${f}`,m=`${s}-${f}--${l}-${c}`;Zx("source",p,m,e,l,c),Zx("target",p,h,e,s,f),n.set(a.id,a)}}function Db(e,n){if(!e.parentId)return!1;const i=n.get(e.parentId);return i?i.selected?!0:Db(i,n):!1}function Wx(e,n,i){let a=e;do{if(a?.matches?.(n))return!0;if(a===i)return!1;a=a?.parentElement}while(a);return!1}function rT(e,n,i,a){const l=new Map;for(const[s,c]of e)if((c.selected||c.id===a)&&(!c.parentId||!Db(c,e))&&(c.draggable||n&&typeof c.draggable>"u")){const f=e.get(s);f&&l.set(s,{id:s,position:f.position||{x:0,y:0},distance:{x:i.x-f.internals.positionAbsolute.x,y:i.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Pf({nodeId:e,dragItems:n,nodeLookup:i,dragging:a=!0}){const l=[];for(const[c,f]of n){const p=i.get(c)?.internals.userNode;p&&l.push({...p,position:f.position,dragging:a})}if(!e)return[l[0],l];const s=i.get(e)?.internals.userNode;return[s?{...s,position:n.get(e)?.position||s.position,dragging:a}:l[0],l]}function aT({dragItems:e,snapGrid:n,x:i,y:a}){const l=e.values().next().value;if(!l)return null;const s={x:i-l.distance.x,y:a-l.distance.y},c=Al(s,n);return{x:c.x-s.x,y:c.y-s.y}}function oT({onNodeMouseDown:e,getStoreItems:n,onDragStart:i,onDrag:a,onDragStop:l}){let s={x:null,y:null},c=0,f=new Map,p=!1,h={x:0,y:0},m=null,g=!1,v=null,b=!1,w=!1,S=null;function C({noDragClassName:k,handleSelector:j,domNode:_,isSelectable:H,nodeId:M,nodeClickDistance:O=0}){v=dn(_);function V({x:F,y:ee}){const{nodeLookup:A,nodeExtent:P,snapGrid:D,snapToGrid:q,nodeOrigin:U,onNodeDrag:Z,onSelectionDrag:z,onError:B,updateNodePositions:Y}=n();s={x:F,y:ee};let L=!1;const ie=f.size>1,te=ie&&P?Ch(Tl(f)):null,re=ie&&q?aT({dragItems:f,snapGrid:D,x:F,y:ee}):null;for(const[de,oe]of f){if(!A.has(de))continue;let fe={x:F-oe.distance.x,y:ee-oe.distance.y};q&&(fe=re?{x:Math.round(fe.x+re.x),y:Math.round(fe.y+re.y)}:Al(fe,D));let xe=null;if(ie&&P&&!oe.extent&&te){const{positionAbsolute:Ee}=oe.internals,De=Ee.x-te.x+P[0][0],Ue=Ee.x+oe.measured.width-te.x2+P[1][0],qe=Ee.y-te.y+P[0][1],ft=Ee.y+oe.measured.height-te.y2+P[1][1];xe=[[De,qe],[Ue,ft]]}const{position:je,positionAbsolute:ve}=pb({nodeId:de,nextPosition:fe,nodeLookup:A,nodeExtent:xe||P,nodeOrigin:U,onError:B});L=L||oe.position.x!==je.x||oe.position.y!==je.y,oe.position=je,oe.internals.positionAbsolute=ve}if(w=w||L,!!L&&(Y(f,!0),S&&(a||Z||!M&&z))){const[de,oe]=Pf({nodeId:M,dragItems:f,nodeLookup:A});a?.(S,f,de,oe),Z?.(S,de,oe),M||z?.(S,oe)}}async function G(){if(!m)return;const{transform:F,panBy:ee,autoPanSpeed:A,autoPanOnNodeDrag:P}=n();if(!P){p=!1,cancelAnimationFrame(c);return}const[D,q]=gb(h,m,A);(D!==0||q!==0)&&(s.x=(s.x??0)-D/F[2],s.y=(s.y??0)-q/F[2],await ee({x:D,y:q})&&V(s)),c=requestAnimationFrame(G)}function I(F){const{nodeLookup:ee,multiSelectionActive:A,nodesDraggable:P,transform:D,snapGrid:q,snapToGrid:U,selectNodesOnDrag:Z,onNodeDragStart:z,onSelectionDragStart:B,unselectNodesAndEdges:Y}=n();g=!0,(!Z||!H)&&!A&&M&&(ee.get(M)?.selected||Y()),H&&Z&&M&&e?.(M);const L=ll(F.sourceEvent,{transform:D,snapGrid:q,snapToGrid:U,containerBounds:m});if(s=L,f=rT(ee,P,L,M),f.size>0&&(i||z||!M&&B)){const[ie,te]=Pf({nodeId:M,dragItems:f,nodeLookup:ee});i?.(F.sourceEvent,f,ie,te),z?.(F.sourceEvent,ie,te),M||B?.(F.sourceEvent,te)}}const $=Y0().clickDistance(O).on("start",F=>{const{domNode:ee,nodeDragThreshold:A,transform:P,snapGrid:D,snapToGrid:q}=n();m=ee?.getBoundingClientRect()||null,b=!1,w=!1,S=F.sourceEvent,A===0&&I(F),s=ll(F.sourceEvent,{transform:P,snapGrid:D,snapToGrid:q,containerBounds:m}),h=On(F.sourceEvent,m)}).on("drag",F=>{const{autoPanOnNodeDrag:ee,transform:A,snapGrid:P,snapToGrid:D,nodeDragThreshold:q,nodeLookup:U}=n(),Z=ll(F.sourceEvent,{transform:A,snapGrid:P,snapToGrid:D,containerBounds:m});if(S=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||M&&!U.has(M))&&(b=!0),!b){if(!p&&ee&&g&&(p=!0,G()),!g){const z=On(F.sourceEvent,m),B=z.x-h.x,Y=z.y-h.y;Math.sqrt(B*B+Y*Y)>q&&I(F)}(s.x!==Z.xSnapped||s.y!==Z.ySnapped)&&f&&g&&(h=On(F.sourceEvent,m),V(Z))}}).on("end",F=>{if(!(!g||b)&&(p=!1,g=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:ee,updateNodePositions:A,onNodeDragStop:P,onSelectionDragStop:D}=n();if(w&&(A(f,!1),w=!1),l||P||!M&&D){const[q,U]=Pf({nodeId:M,dragItems:f,nodeLookup:ee,dragging:!1});l?.(F.sourceEvent,f,q,U),P?.(F.sourceEvent,q,U),M||D?.(F.sourceEvent,U)}}}).filter(F=>{const ee=F.target;return!F.button&&(!k||!Wx(ee,`.${k}`,_))&&(!j||Wx(ee,j,_))});v.call($)}function N(){v?.on(".drag",null)}return{update:C,destroy:N}}function lT(e,n,i){const a=[],l={x:e.x-i,y:e.y-i,width:i*2,height:i*2};for(const s of n.values())xl(l,qa(s))>0&&a.push(s);return a}const sT=250;function cT(e,n,i,a){let l=[],s=1/0;const c=lT(e,i,n+sT);for(const f of c){const p=[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]];for(const h of p){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:m,y:g}=Ir(f,h,h.position,!0),v=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(g-e.y,2));v>n||(v<s?(l=[{...h,x:m,y:g}],s=v):v===s&&l.push({...h,x:m,y:g}))}}if(!l.length)return null;if(l.length>1){const f=a.type==="source"?"target":"source";return l.find(p=>p.type===f)??l[0]}return l[0]}function _b(e,n,i,a,l,s=!1){const c=a.get(e);if(!c)return null;const f=l==="strict"?c.internals.handleBounds?.[n]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],p=(i?f?.find(h=>h.id===i):f?.[0])??null;return p&&s?{...p,...Ir(c,p,p.position,!0)}:p}function Ob(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function uT(e,n){let i=null;return n?i=!0:e&&!n&&(i=!1),i}const Rb=()=>!0;function dT(e,{connectionMode:n,connectionRadius:i,handleId:a,nodeId:l,edgeUpdaterType:s,isTarget:c,domNode:f,nodeLookup:p,lib:h,autoPanOnConnect:m,flowId:g,panBy:v,cancelConnection:b,onConnectStart:w,onConnect:S,onConnectEnd:C,isValidConnection:N=Rb,onReconnectEnd:k,updateConnection:j,getTransform:_,getFromHandle:H,autoPanSpeed:M,dragThreshold:O=1,handleDomNode:V}){const G=bb(e.target);let I=0,$;const{x:F,y:ee}=On(e),A=Ob(s,V),P=f?.getBoundingClientRect();let D=!1;if(!P||!A)return;const q=_b(l,A,a,p,n);if(!q)return;let U=On(e,P),Z=!1,z=null,B=!1,Y=null;function L(){if(!m||!P)return;const[je,ve]=gb(U,P,M);v({x:je,y:ve}),I=requestAnimationFrame(L)}const ie={...q,nodeId:l,type:A,position:q.position},te=p.get(l);let de={inProgress:!0,isValid:null,from:Ir(te,ie,ge.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:te,to:U,toHandle:null,toPosition:Hx[ie.position],toNode:null,pointer:U};function oe(){D=!0,j(de),w?.(e,{nodeId:l,handleId:a,handleType:A})}O===0&&oe();function fe(je){if(!D){const{x:ft,y:Jt}=On(je),_t=ft-F,$t=Jt-ee;if(!(_t*_t+$t*$t>O*O))return;oe()}if(!H()||!ie){xe(je);return}const ve=_();U=On(je,P),$=cT(Ml(U,ve,!1,[1,1]),i,p,ie),Z||(L(),Z=!0);const Ee=zb(je,{handle:$,connectionMode:n,fromNodeId:l,fromHandleId:a,fromType:c?"target":"source",isValidConnection:N,doc:G,lib:h,flowId:g,nodeLookup:p});Y=Ee.handleDomNode,z=Ee.connection,B=uT(!!$,Ee.isValid);const De=p.get(l),Ue=De?Ir(De,ie,ge.Left,!0):de.from,qe={...de,from:Ue,isValid:B,to:Ee.toHandle&&B?Hc({x:Ee.toHandle.x,y:Ee.toHandle.y},ve):U,toHandle:Ee.toHandle,toPosition:B&&Ee.toHandle?Ee.toHandle.position:Hx[ie.position],toNode:Ee.toHandle?p.get(Ee.toHandle.nodeId):null,pointer:U};j(qe),de=qe}function xe(je){if(!("touches"in je&&je.touches.length>0)){if(D){($||Y)&&z&&B&&S?.(z);const{inProgress:ve,...Ee}=de,De={...Ee,toPosition:de.toHandle?de.toPosition:null};C?.(je,De),s&&k?.(je,De)}b(),cancelAnimationFrame(I),Z=!1,B=!1,z=null,Y=null,G.removeEventListener("mousemove",fe),G.removeEventListener("mouseup",xe),G.removeEventListener("touchmove",fe),G.removeEventListener("touchend",xe)}}G.addEventListener("mousemove",fe),G.addEventListener("mouseup",xe),G.addEventListener("touchmove",fe),G.addEventListener("touchend",xe)}function zb(e,{handle:n,connectionMode:i,fromNodeId:a,fromHandleId:l,fromType:s,doc:c,lib:f,flowId:p,isValidConnection:h=Rb,nodeLookup:m}){const g=s==="target",v=n?c.querySelector(`.${f}-flow__handle[data-id="${p}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:b,y:w}=On(e),S=c.elementFromPoint(b,w),C=S?.classList.contains(`${f}-flow__handle`)?S:v,N={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const k=Ob(void 0,C),j=C.getAttribute("data-nodeid"),_=C.getAttribute("data-handleid"),H=C.classList.contains("connectable"),M=C.classList.contains("connectableend");if(!j||!k)return N;const O={source:g?j:a,sourceHandle:g?_:l,target:g?a:j,targetHandle:g?l:_};N.connection=O;const G=H&&M&&(i===$a.Strict?g&&k==="source"||!g&&k==="target":j!==a||_!==l);N.isValid=G&&h(O),N.toHandle=_b(j,k,_,m,i,!0)}return N}const Ah={onPointerDown:dT,isValid:zb};function fT({domNode:e,panZoom:n,getTransform:i,getViewScale:a}){const l=dn(e);function s({translateExtent:f,width:p,height:h,zoomStep:m=1,pannable:g=!0,zoomable:v=!0,inversePan:b=!1}){const w=j=>{if(j.sourceEvent.type!=="wheel"||!n)return;const _=i(),H=j.sourceEvent.ctrlKey&&vl()?10:1,M=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*m,O=_[2]*Math.pow(2,M*H);n.scaleTo(O)};let S=[0,0];const C=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(S=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},N=j=>{const _=i();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!n)return;const H=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],M=[H[0]-S[0],H[1]-S[1]];S=H;const O=a()*Math.max(_[2],Math.log(_[2]))*(b?-1:1),V={x:_[0]-M[0]*O,y:_[1]-M[1]*O},G=[[0,0],[p,h]];n.setViewportConstrained({x:V.x,y:V.y,zoom:_[2]},G,f)},k=sb().on("start",C).on("zoom",g?N:null).on("zoom.wheel",v?w:null);l.call(k,{})}function c(){l.on("zoom",null)}return{update:s,destroy:c,pointer:Mn}}const ru=e=>({x:e.x,y:e.y,zoom:e.k}),$f=({x:e,y:n,zoom:i})=>tu.translate(e,n).scale(i),Oa=(e,n)=>e.target.closest(`.${n}`),Lb=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),hT=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Uf=(e,n=0,i=hT,a=()=>{})=>{const l=typeof n=="number"&&n>0;return l||a(),l?e.transition().duration(n).ease(i).on("end",a):e},Ib=e=>{const n=e.ctrlKey&&vl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function pT({zoomPanValues:e,noWheelClassName:n,d3Selection:i,d3Zoom:a,panOnScrollMode:l,panOnScrollSpeed:s,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:p,onPanZoomEnd:h}){return m=>{if(Oa(m,n))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const g=i.property("__zoom").k||1;if(m.ctrlKey&&c){const C=Mn(m),N=Ib(m),k=g*Math.pow(2,N);a.scaleTo(i,k,C,m);return}const v=m.deltaMode===1?20:1;let b=l===Or.Vertical?0:m.deltaX*v,w=l===Or.Horizontal?0:m.deltaY*v;!vl()&&m.shiftKey&&l!==Or.Vertical&&(b=m.deltaY*v,w=0),a.translateBy(i,-(b/g)*s,-(w/g)*s,{internal:!0});const S=ru(i.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(p?.(m,S),e.panScrollTimeout=setTimeout(()=>{h?.(m,S),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f?.(m,S))}}function mT({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:i}){return function(a,l){const s=a.type==="wheel",c=!n&&s&&!a.ctrlKey,f=Oa(a,e);if(a.ctrlKey&&s&&f&&a.preventDefault(),c||f)return null;a.preventDefault(),i.call(this,a,l)}}function gT({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:i}){return a=>{if(a.sourceEvent?.internal)return;const l=ru(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,a.sourceEvent?.type==="mousedown"&&n(!0),i&&i?.(a.sourceEvent,l)}}function yT({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:i,onTransformChange:a,onPanZoom:l}){return s=>{e.usedRightMouseButton=!!(i&&Lb(n,e.mouseButton??0)),s.sourceEvent?.sync||a([s.transform.x,s.transform.y,s.transform.k]),l&&!s.sourceEvent?.internal&&l?.(s.sourceEvent,ru(s.transform))}}function xT({zoomPanValues:e,panOnDrag:n,panOnScroll:i,onDraggingChange:a,onPanZoomEnd:l,onPaneContextMenu:s}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&Lb(n,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&s(c.sourceEvent),e.usedRightMouseButton=!1,a(!1),l)){const f=ru(c.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(c.sourceEvent,f)},i?150:0)}}}function vT({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:i,panOnDrag:a,panOnScroll:l,zoomOnDoubleClick:s,userSelectionActive:c,noWheelClassName:f,noPanClassName:p,lib:h,connectionInProgress:m}){return g=>{const v=e||n,b=i&&g.ctrlKey,w=g.type==="wheel";if(g.button===1&&g.type==="mousedown"&&(Oa(g,`${h}-flow__node`)||Oa(g,`${h}-flow__edge`)))return!0;if(!a&&!v&&!l&&!s&&!i||c||m&&!w||Oa(g,f)&&w||Oa(g,p)&&(!w||l&&w&&!e)||!i&&g.ctrlKey&&w)return!1;if(!i&&g.type==="touchstart"&&g.touches?.length>1)return g.preventDefault(),!1;if(!v&&!l&&!b&&w||!a&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(a)&&!a.includes(g.button)&&g.type==="mousedown")return!1;const S=Array.isArray(a)&&a.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||w)&&S}}function bT({domNode:e,minZoom:n,maxZoom:i,translateExtent:a,viewport:l,onPanZoom:s,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:p}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),g=sb().scaleExtent([n,i]).translateExtent(a),v=dn(e).call(g);k({x:l.x,y:l.y,zoom:Ua(l.zoom,n,i)},[[0,0],[m.width,m.height]],a);const b=v.on("wheel.zoom"),w=v.on("dblclick.zoom");g.wheelDelta(Ib);function S($,F){return v?new Promise(ee=>{g?.interpolate(F?.interpolate==="linear"?ol:Ec).transform(Uf(v,F?.duration,F?.ease,()=>ee(!0)),$)}):Promise.resolve(!1)}function C({noWheelClassName:$,noPanClassName:F,onPaneContextMenu:ee,userSelectionActive:A,panOnScroll:P,panOnDrag:D,panOnScrollMode:q,panOnScrollSpeed:U,preventScrolling:Z,zoomOnPinch:z,zoomOnScroll:B,zoomOnDoubleClick:Y,zoomActivationKeyPressed:L,lib:ie,onTransformChange:te,connectionInProgress:re,paneClickDistance:de,selectionOnDrag:oe}){A&&!h.isZoomingOrPanning&&N();const fe=P&&!L&&!A;g.clickDistance(oe?1/0:!_n(de)||de<0?0:de);const xe=fe?pT({zoomPanValues:h,noWheelClassName:$,d3Selection:v,d3Zoom:g,panOnScrollMode:q,panOnScrollSpeed:U,zoomOnPinch:z,onPanZoomStart:c,onPanZoom:s,onPanZoomEnd:f}):mT({noWheelClassName:$,preventScrolling:Z,d3ZoomHandler:b});if(v.on("wheel.zoom",xe,{passive:!1}),!A){const ve=gT({zoomPanValues:h,onDraggingChange:p,onPanZoomStart:c});g.on("start",ve);const Ee=yT({zoomPanValues:h,panOnDrag:D,onPaneContextMenu:!!ee,onPanZoom:s,onTransformChange:te});g.on("zoom",Ee);const De=xT({zoomPanValues:h,panOnDrag:D,panOnScroll:P,onPaneContextMenu:ee,onPanZoomEnd:f,onDraggingChange:p});g.on("end",De)}const je=vT({zoomActivationKeyPressed:L,panOnDrag:D,zoomOnScroll:B,panOnScroll:P,zoomOnDoubleClick:Y,zoomOnPinch:z,userSelectionActive:A,noPanClassName:F,noWheelClassName:$,lib:ie,connectionInProgress:re});g.filter(je),Y?v.on("dblclick.zoom",w):v.on("dblclick.zoom",null)}function N(){g.on("zoom",null)}async function k($,F,ee){const A=$f($),P=g?.constrain()(A,F,ee);return P&&await S(P),new Promise(D=>D(P))}async function j($,F){const ee=$f($);return await S(ee,F),new Promise(A=>A(ee))}function _($){if(v){const F=$f($),ee=v.property("__zoom");(ee.k!==$.zoom||ee.x!==$.x||ee.y!==$.y)&&g?.transform(v,F,null,{sync:!0})}}function H(){const $=v?lb(v.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function M($,F){return v?new Promise(ee=>{g?.interpolate(F?.interpolate==="linear"?ol:Ec).scaleTo(Uf(v,F?.duration,F?.ease,()=>ee(!0)),$)}):Promise.resolve(!1)}function O($,F){return v?new Promise(ee=>{g?.interpolate(F?.interpolate==="linear"?ol:Ec).scaleBy(Uf(v,F?.duration,F?.ease,()=>ee(!0)),$)}):Promise.resolve(!1)}function V($){g?.scaleExtent($)}function G($){g?.translateExtent($)}function I($){const F=!_n($)||$<0?0:$;g?.clickDistance(F)}return{update:C,destroy:N,setViewport:j,setViewportConstrained:k,getViewport:H,scaleTo:M,scaleBy:O,setScaleExtent:V,setTranslateExtent:G,syncViewport:_,setClickDistance:I}}var Fa;(function(e){e.Line="line",e.Handle="handle"})(Fa||(Fa={}));function wT({width:e,prevWidth:n,height:i,prevHeight:a,affectsX:l,affectsY:s}){const c=e-n,f=i-a,p=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(p[0]=p[0]*-1),f&&s&&(p[1]=p[1]*-1),p}function Kx(e){const n=e.includes("right")||e.includes("left"),i=e.includes("bottom")||e.includes("top"),a=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:i,affectsX:a,affectsY:l}}function Ji(e,n){return Math.max(0,n-e)}function er(e,n){return Math.max(0,e-n)}function dc(e,n,i){return Math.max(0,n-e,e-i)}function Jx(e,n){return e?!n:n}function ST(e,n,i,a,l,s,c,f){let{affectsX:p,affectsY:h}=n;const{isHorizontal:m,isVertical:g}=n,v=m&&g,{xSnapped:b,ySnapped:w}=i,{minWidth:S,maxWidth:C,minHeight:N,maxHeight:k}=a,{x:j,y:_,width:H,height:M,aspectRatio:O}=e;let V=Math.floor(m?b-e.pointerX:0),G=Math.floor(g?w-e.pointerY:0);const I=H+(p?-V:V),$=M+(h?-G:G),F=-s[0]*H,ee=-s[1]*M;let A=dc(I,S,C),P=dc($,N,k);if(c){let U=0,Z=0;p&&V<0?U=Ji(j+V+F,c[0][0]):!p&&V>0&&(U=er(j+I+F,c[1][0])),h&&G<0?Z=Ji(_+G+ee,c[0][1]):!h&&G>0&&(Z=er(_+$+ee,c[1][1])),A=Math.max(A,U),P=Math.max(P,Z)}if(f){let U=0,Z=0;p&&V>0?U=er(j+V,f[0][0]):!p&&V<0&&(U=Ji(j+I,f[1][0])),h&&G>0?Z=er(_+G,f[0][1]):!h&&G<0&&(Z=Ji(_+$,f[1][1])),A=Math.max(A,U),P=Math.max(P,Z)}if(l){if(m){const U=dc(I/O,N,k)*O;if(A=Math.max(A,U),c){let Z=0;!p&&!h||p&&!h&&v?Z=er(_+ee+I/O,c[1][1])*O:Z=Ji(_+ee+(p?V:-V)/O,c[0][1])*O,A=Math.max(A,Z)}if(f){let Z=0;!p&&!h||p&&!h&&v?Z=Ji(_+I/O,f[1][1])*O:Z=er(_+(p?V:-V)/O,f[0][1])*O,A=Math.max(A,Z)}}if(g){const U=dc($*O,S,C)/O;if(P=Math.max(P,U),c){let Z=0;!p&&!h||h&&!p&&v?Z=er(j+$*O+F,c[1][0])/O:Z=Ji(j+(h?G:-G)*O+F,c[0][0])/O,P=Math.max(P,Z)}if(f){let Z=0;!p&&!h||h&&!p&&v?Z=Ji(j+$*O,f[1][0])/O:Z=er(j+(h?G:-G)*O,f[0][0])/O,P=Math.max(P,Z)}}}G=G+(G<0?P:-P),V=V+(V<0?A:-A),l&&(v?I>$*O?G=(Jx(p,h)?-V:V)/O:V=(Jx(p,h)?-G:G)*O:m?(G=V/O,h=p):(V=G*O,p=h));const D=p?j+V:j,q=h?_+G:_;return{width:H+(p?-V:V),height:M+(h?-G:G),x:s[0]*V*(p?-1:1)+D,y:s[1]*G*(h?-1:1)+q}}const Bb={width:0,height:0,x:0,y:0},NT={...Bb,pointerX:0,pointerY:0,aspectRatio:1};function ET(e){return[[0,0],[e.measured.width,e.measured.height]]}function jT(e,n,i){const a=n.position.x+e.position.x,l=n.position.y+e.position.y,s=e.measured.width??0,c=e.measured.height??0,f=i[0]*s,p=i[1]*c;return[[a-f,l-p],[a+s-f,l+c-p]]}function CT({domNode:e,nodeId:n,getStoreItems:i,onChange:a,onEnd:l}){const s=dn(e);let c={controlDirection:Kx("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:h,boundaries:m,keepAspectRatio:g,resizeDirection:v,onResizeStart:b,onResize:w,onResizeEnd:S,shouldResize:C}){let N={...Bb},k={...NT};c={boundaries:m,resizeDirection:v,keepAspectRatio:g,controlDirection:Kx(h)};let j,_=null,H=[],M,O,V,G=!1;const I=Y0().on("start",$=>{const{nodeLookup:F,transform:ee,snapGrid:A,snapToGrid:P,nodeOrigin:D,paneDomNode:q}=i();if(j=F.get(n),!j)return;_=q?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:Z}=ll($.sourceEvent,{transform:ee,snapGrid:A,snapToGrid:P,containerBounds:_});N={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},k={...N,pointerX:U,pointerY:Z,aspectRatio:N.width/N.height},M=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(M=F.get(j.parentId),O=M&&j.extent==="parent"?ET(M):void 0),H=[],V=void 0;for(const[z,B]of F)if(B.parentId===n&&(H.push({id:z,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const Y=jT(B,j,B.origin??D);V?V=[[Math.min(Y[0][0],V[0][0]),Math.min(Y[0][1],V[0][1])],[Math.max(Y[1][0],V[1][0]),Math.max(Y[1][1],V[1][1])]]:V=Y}b?.($,{...N})}).on("drag",$=>{const{transform:F,snapGrid:ee,snapToGrid:A,nodeOrigin:P}=i(),D=ll($.sourceEvent,{transform:F,snapGrid:ee,snapToGrid:A,containerBounds:_}),q=[];if(!j)return;const{x:U,y:Z,width:z,height:B}=N,Y={},L=j.origin??P,{width:ie,height:te,x:re,y:de}=ST(k,c.controlDirection,D,c.boundaries,c.keepAspectRatio,L,O,V),oe=ie!==z,fe=te!==B,xe=re!==U&&oe,je=de!==Z&&fe;if(!xe&&!je&&!oe&&!fe)return;if((xe||je||L[0]===1||L[1]===1)&&(Y.x=xe?re:N.x,Y.y=je?de:N.y,N.x=Y.x,N.y=Y.y,H.length>0)){const Ue=re-U,qe=de-Z;for(const ft of H)ft.position={x:ft.position.x-Ue+L[0]*(ie-z),y:ft.position.y-qe+L[1]*(te-B)},q.push(ft)}if((oe||fe)&&(Y.width=oe&&(!c.resizeDirection||c.resizeDirection==="horizontal")?ie:N.width,Y.height=fe&&(!c.resizeDirection||c.resizeDirection==="vertical")?te:N.height,N.width=Y.width,N.height=Y.height),M&&j.expandParent){const Ue=L[0]*(Y.width??0);Y.x&&Y.x<Ue&&(N.x=Ue,k.x=k.x-(Y.x-Ue));const qe=L[1]*(Y.height??0);Y.y&&Y.y<qe&&(N.y=qe,k.y=k.y-(Y.y-qe))}const ve=wT({width:N.width,prevWidth:z,height:N.height,prevHeight:B,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),Ee={...N,direction:ve};C?.($,Ee)!==!1&&(G=!0,w?.($,Ee),a(Y,q))}).on("end",$=>{G&&(S?.($,{...N}),l?.({...N}),G=!1)});s.call(I)}function p(){s.on(".drag",null)}return{update:f,destroy:p}}var qf={exports:{}},Vf={},Ff={exports:{}},Gf={};var ev;function kT(){if(ev)return Gf;ev=1;var e=El();function n(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var i=typeof Object.is=="function"?Object.is:n,a=e.useState,l=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(g,v){var b=v(),w=a({inst:{value:b,getSnapshot:v}}),S=w[0].inst,C=w[1];return s(function(){S.value=b,S.getSnapshot=v,p(S)&&C({inst:S})},[g,b,v]),l(function(){return p(S)&&C({inst:S}),g(function(){p(S)&&C({inst:S})})},[g]),c(b),b}function p(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!i(g,b)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Gf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Gf}var tv;function TT(){return tv||(tv=1,Ff.exports=kT()),Ff.exports}var nv;function AT(){if(nv)return Vf;nv=1;var e=El(),n=TT();function i(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var a=typeof Object.is=="function"?Object.is:i,l=n.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Vf.useSyncExternalStoreWithSelector=function(h,m,g,v,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=f(function(){function N(M){if(!k){if(k=!0,j=M,M=v(M),b!==void 0&&S.hasValue){var O=S.value;if(b(O,M))return _=O}return _=M}if(O=_,a(j,M))return O;var V=v(M);return b!==void 0&&b(O,V)?(j=M,O):(j=M,_=V)}var k=!1,j,_,H=g===void 0?null:g;return[function(){return N(m())},H===null?void 0:function(){return N(H())}]},[m,g,v,b]);var C=l(h,w[0],w[1]);return c(function(){S.hasValue=!0,S.value=C},[C]),p(C),C},Vf}var iv;function MT(){return iv||(iv=1,qf.exports=AT()),qf.exports}var DT=MT();const _T=Zc(DT),OT={},rv=e=>{let n;const i=new Set,a=(m,g)=>{const v=typeof m=="function"?m(n):m;if(!Object.is(v,n)){const b=n;n=g??(typeof v!="object"||v===null)?v:Object.assign({},n,v),i.forEach(w=>w(n,b))}},l=()=>n,p={setState:a,getState:l,getInitialState:()=>h,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{(OT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},h=n=e(a,l,p);return p},RT=e=>e?rv(e):rv,{useDebugValue:zT}=Nn,{useSyncExternalStoreWithSelector:LT}=_T,IT=e=>e;function Hb(e,n=IT,i){const a=LT(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,i);return zT(a),a}const av=(e,n)=>{const i=RT(e),a=(l,s=n)=>Hb(i,l,s);return Object.assign(a,i),a},BT=(e,n)=>e?av(e,n):av;function ot(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,l]of e)if(!Object.is(l,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!1;for(const a of i)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}var Tc=_0();const au=T.createContext(null),HT=au.Provider,Pb=Gn.error001();function Be(e,n){const i=T.useContext(au);if(i===null)throw new Error(Pb);return Hb(i,e,n)}function lt(){const e=T.useContext(au);if(e===null)throw new Error(Pb);return T.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ov={display:"none"},PT={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$b="react-flow__node-desc",Ub="react-flow__edge-desc",$T="react-flow__aria-live",UT=e=>e.ariaLiveMessage,qT=e=>e.ariaLabelConfig;function VT({rfId:e}){const n=Be(UT);return d.jsx("div",{id:`${$T}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:PT,children:n})}function FT({rfId:e,disableKeyboardA11y:n}){const i=Be(qT);return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:`${$b}-${e}`,style:ov,children:n?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),d.jsx("div",{id:`${Ub}-${e}`,style:ov,children:i["edge.a11yDescription.default"]}),!n&&d.jsx(VT,{rfId:e})]})}const ou=T.forwardRef(({position:e="top-left",children:n,className:i,style:a,...l},s)=>{const c=`${e}`.split("-");return d.jsx("div",{className:St(["react-flow__panel",i,...c]),style:a,ref:s,...l,children:n})});ou.displayName="Panel";function GT({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:d.jsx(ou,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const YT=e=>{const n=[],i=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&i.push(a);return{selectedNodes:n,selectedEdges:i}},fc=e=>e.id;function XT(e,n){return ot(e.selectedNodes.map(fc),n.selectedNodes.map(fc))&&ot(e.selectedEdges.map(fc),n.selectedEdges.map(fc))}function QT({onSelectionChange:e}){const n=lt(),{selectedNodes:i,selectedEdges:a}=Be(YT,XT);return T.useEffect(()=>{const l={nodes:i,edges:a};e?.(l),n.getState().onSelectionChangeHandlers.forEach(s=>s(l))},[i,a,e]),null}const ZT=e=>!!e.onSelectionChangeHandlers;function WT({onSelectionChange:e}){const n=Be(ZT);return e||n?d.jsx(QT,{onSelectionChange:e}):null}const qb=[0,0],KT={x:0,y:0,zoom:1},JT=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],lv=[...JT,"rfId"],eA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),sv={translateExtent:gl,nodeOrigin:qb,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tA(e){const{setNodes:n,setEdges:i,setMinZoom:a,setMaxZoom:l,setTranslateExtent:s,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:p}=Be(eA,ot),h=lt();T.useEffect(()=>(p(e.defaultNodes,e.defaultEdges),()=>{m.current=sv,f()}),[]);const m=T.useRef(sv);return T.useEffect(()=>{for(const g of lv){const v=e[g],b=m.current[g];v!==b&&(typeof e[g]>"u"||(g==="nodes"?n(v):g==="edges"?i(v):g==="minZoom"?a(v):g==="maxZoom"?l(v):g==="translateExtent"?s(v):g==="nodeExtent"?c(v):g==="ariaLabelConfig"?h.setState({ariaLabelConfig:Hk(v)}):g==="fitView"?h.setState({fitViewQueued:v}):g==="fitViewOptions"?h.setState({fitViewOptions:v}):h.setState({[g]:v})))}m.current=e},lv.map(g=>e[g])),null}function cv(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nA(e){const[n,i]=T.useState(e==="system"?null:e);return T.useEffect(()=>{if(e!=="system"){i(e);return}const a=cv(),l=()=>i(a?.matches?"dark":"light");return l(),a?.addEventListener("change",l),()=>{a?.removeEventListener("change",l)}},[e]),n!==null?n:cv()?.matches?"dark":"light"}const uv=typeof document<"u"?document:null;function bl(e=null,n={target:uv,actInsideInputWithModifier:!0}){const[i,a]=T.useState(!1),l=T.useRef(!1),s=T.useRef(new Set([])),[c,f]=T.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=h.reduce((g,v)=>g.concat(...v),[]);return[h,m]}return[[],[]]},[e]);return T.useEffect(()=>{const p=n?.target??uv,h=n?.actInsideInputWithModifier??!0;if(e!==null){const m=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!h)&&wb(b))return!1;const S=fv(b.code,f);if(s.current.add(b[S]),dv(c,s.current,!1)){const C=b.composedPath?.()?.[0]||b.target,N=C?.nodeName==="BUTTON"||C?.nodeName==="A";n.preventDefault!==!1&&(l.current||!N)&&b.preventDefault(),a(!0)}},g=b=>{const w=fv(b.code,f);dv(c,s.current,!0)?(a(!1),s.current.clear()):s.current.delete(b[w]),b.key==="Meta"&&s.current.clear(),l.current=!1},v=()=>{s.current.clear(),a(!1)};return p?.addEventListener("keydown",m),p?.addEventListener("keyup",g),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{p?.removeEventListener("keydown",m),p?.removeEventListener("keyup",g),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[e,a]),i}function dv(e,n,i){return e.filter(a=>i||a.length===n.size).some(a=>a.every(l=>n.has(l)))}function fv(e,n){return n.includes(e)?"code":"key"}const iA=()=>{const e=lt();return T.useMemo(()=>({zoomIn:n=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,i)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,i)=>{const{transform:[a,l,s],panZoom:c}=e.getState();return c?(await c.setViewport({x:n.x??a,y:n.y??l,zoom:n.zoom??s},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,i,a]=e.getState().transform;return{x:n,y:i,zoom:a}},setCenter:async(n,i,a)=>e.getState().setCenter(n,i,a),fitBounds:async(n,i)=>{const{width:a,height:l,minZoom:s,maxZoom:c,panZoom:f}=e.getState(),p=rp(n,a,l,s,c,i?.padding??.1);return f?(await f.setViewport(p,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,i={})=>{const{transform:a,snapGrid:l,snapToGrid:s,domNode:c}=e.getState();if(!c)return n;const{x:f,y:p}=c.getBoundingClientRect(),h={x:n.x-f,y:n.y-p},m=i.snapGrid??l,g=i.snapToGrid??s;return Ml(h,a,g,m)},flowToScreenPosition:n=>{const{transform:i,domNode:a}=e.getState();if(!a)return n;const{x:l,y:s}=a.getBoundingClientRect(),c=Hc(n,i);return{x:c.x+l,y:c.y+s}}}),[])};function Vb(e,n){const i=[],a=new Map,l=[];for(const s of e)if(s.type==="add"){l.push(s);continue}else if(s.type==="remove"||s.type==="replace")a.set(s.id,[s]);else{const c=a.get(s.id);c?c.push(s):a.set(s.id,[s])}for(const s of n){const c=a.get(s.id);if(!c){i.push(s);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){i.push({...c[0].item});continue}const f={...s};for(const p of c)rA(p,f);i.push(f)}return l.length&&l.forEach(s=>{s.index!==void 0?i.splice(s.index,0,{...s.item}):i.push({...s.item})}),i}function rA(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function Fb(e,n){return Vb(e,n)}function Gb(e,n){return Vb(e,n)}function Mr(e,n){return{id:e,type:"select",selected:n}}function Ra(e,n=new Set,i=!1){const a=[];for(const[l,s]of e){const c=n.has(l);!(s.selected===void 0&&!c)&&s.selected!==c&&(i&&(s.selected=c),a.push(Mr(s.id,c)))}return a}function hv({items:e=[],lookup:n}){const i=[],a=new Map(e.map(l=>[l.id,l]));for(const[l,s]of e.entries()){const c=n.get(s.id),f=c?.internals?.userNode??c;f!==void 0&&f!==s&&i.push({id:s.id,item:s,type:"replace"}),f===void 0&&i.push({item:s,type:"add",index:l})}for(const[l]of n)a.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function pv(e){return{id:e.id,type:"remove"}}const mv=e=>Ak(e),aA=e=>hb(e);function Yb(e){return T.forwardRef(e)}const oA=typeof window<"u"?T.useLayoutEffect:T.useEffect;function gv(e){const[n,i]=T.useState(BigInt(0)),[a]=T.useState(()=>lA(()=>i(l=>l+BigInt(1))));return oA(()=>{const l=a.get();l.length&&(e(l),a.reset())},[n]),a}function lA(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:i=>{n.push(i),e()}}}const Xb=T.createContext(null);function sA({children:e}){const n=lt(),i=T.useCallback(f=>{const{nodes:p=[],setNodes:h,hasDefaultNodes:m,onNodesChange:g,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:w}=n.getState();let S=p;for(const N of f)S=typeof N=="function"?N(S):N;let C=hv({items:S,lookup:v});for(const N of w.values())C=N(C);m&&h(S),C.length>0?g?.(C):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:k,setNodes:j}=n.getState();N&&j(k)})},[]),a=gv(i),l=T.useCallback(f=>{const{edges:p=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:g,edgeLookup:v}=n.getState();let b=p;for(const w of f)b=typeof w=="function"?w(b):w;m?h(b):g&&g(hv({items:b,lookup:v}))},[]),s=gv(l),c=T.useMemo(()=>({nodeQueue:a,edgeQueue:s}),[]);return d.jsx(Xb.Provider,{value:c,children:e})}function cA(){const e=T.useContext(Xb);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const uA=e=>!!e.panZoom;function lu(){const e=iA(),n=lt(),i=cA(),a=Be(uA),l=T.useMemo(()=>{const s=g=>n.getState().nodeLookup.get(g),c=g=>{i.nodeQueue.push(g)},f=g=>{i.edgeQueue.push(g)},p=g=>{const{nodeLookup:v,nodeOrigin:b}=n.getState(),w=mv(g)?g:v.get(g.id),S=w.parentId?vb(w.position,w.measured,w.parentId,v,b):w.position,C={...w,position:S,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return qa(C)},h=(g,v,b={replace:!1})=>{c(w=>w.map(S=>{if(S.id===g){const C=typeof v=="function"?v(S):v;return b.replace&&mv(C)?C:{...S,...C}}return S}))},m=(g,v,b={replace:!1})=>{f(w=>w.map(S=>{if(S.id===g){const C=typeof v=="function"?v(S):v;return b.replace&&aA(C)?C:{...S,...C}}return S}))};return{getNodes:()=>n.getState().nodes.map(g=>({...g})),getNode:g=>s(g)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:g=[]}=n.getState();return g.map(v=>({...v}))},getEdge:g=>n.getState().edgeLookup.get(g),setNodes:c,setEdges:f,addNodes:g=>{const v=Array.isArray(g)?g:[g];i.nodeQueue.push(b=>[...b,...v])},addEdges:g=>{const v=Array.isArray(g)?g:[g];i.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:g=[],edges:v=[],transform:b}=n.getState(),[w,S,C]=b;return{nodes:g.map(N=>({...N})),edges:v.map(N=>({...N})),viewport:{x:w,y:S,zoom:C}}},deleteElements:async({nodes:g=[],edges:v=[]})=>{const{nodes:b,edges:w,onNodesDelete:S,onEdgesDelete:C,triggerNodeChanges:N,triggerEdgeChanges:k,onDelete:j,onBeforeDelete:_}=n.getState(),{nodes:H,edges:M}=await Rk({nodesToRemove:g,edgesToRemove:v,nodes:b,edges:w,onBeforeDelete:_}),O=M.length>0,V=H.length>0;if(O){const G=M.map(pv);C?.(M),k(G)}if(V){const G=H.map(pv);S?.(H),N(G)}return(V||O)&&j?.({nodes:H,edges:M}),{deletedNodes:H,deletedEdges:M}},getIntersectingNodes:(g,v=!0,b)=>{const w=$x(g),S=w?g:p(g),C=b!==void 0;return S?(b||n.getState().nodes).filter(N=>{const k=n.getState().nodeLookup.get(N.id);if(k&&!w&&(N.id===g.id||!k.internals.positionAbsolute))return!1;const j=qa(C?N:k),_=xl(j,S);return v&&_>0||_>=j.width*j.height||_>=S.width*S.height}):[]},isNodeIntersecting:(g,v,b=!0)=>{const S=$x(g)?g:p(g);if(!S)return!1;const C=xl(S,v);return b&&C>0||C>=v.width*v.height||C>=S.width*S.height},updateNode:h,updateNodeData:(g,v,b={replace:!1})=>{h(g,w=>{const S=typeof v=="function"?v(w):v;return b.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},b)},updateEdge:m,updateEdgeData:(g,v,b={replace:!1})=>{m(g,w=>{const S=typeof v=="function"?v(w):v;return b.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},b)},getNodesBounds:g=>{const{nodeLookup:v,nodeOrigin:b}=n.getState();return Mk(g,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:g,id:v,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}-${g}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:g,handleId:v,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}${g?v?`-${g}-${v}`:`-${g}`:""}`)?.values()??[]),fitView:async g=>{const v=n.getState().fitViewResolver??Bk();return n.setState({fitViewQueued:!0,fitViewOptions:g,fitViewResolver:v}),i.nodeQueue.push(b=>[...b]),v.promise}}},[]);return T.useMemo(()=>({...l,...e,viewportInitialized:a}),[a])}const yv=e=>e.selected,dA=typeof window<"u"?window:void 0;function fA({deleteKeyCode:e,multiSelectionKeyCode:n}){const i=lt(),{deleteElements:a}=lu(),l=bl(e,{actInsideInputWithModifier:!1}),s=bl(n,{target:dA});T.useEffect(()=>{if(l){const{edges:c,nodes:f}=i.getState();a({nodes:f.filter(yv),edges:c.filter(yv)}),i.setState({nodesSelectionActive:!1})}},[l]),T.useEffect(()=>{i.setState({multiSelectionActive:s})},[s])}function hA(e){const n=lt();T.useEffect(()=>{const i=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const a=ap(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",Gn.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){i(),window.addEventListener("resize",i);const a=new ResizeObserver(()=>i());return a.observe(e.current),()=>{window.removeEventListener("resize",i),a&&e.current&&a.unobserve(e.current)}}},[])}const su={position:"absolute",width:"100%",height:"100%",top:0,left:0},pA=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function mA({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:s=Or.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:p,translateExtent:h,minZoom:m,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:b=!0,children:w,noWheelClassName:S,noPanClassName:C,onViewportChange:N,isControlledViewport:k,paneClickDistance:j,selectionOnDrag:_}){const H=lt(),M=T.useRef(null),{userSelectionActive:O,lib:V,connectionInProgress:G}=Be(pA,ot),I=bl(v),$=T.useRef();hA(M);const F=T.useCallback(ee=>{N?.({x:ee[0],y:ee[1],zoom:ee[2]}),k||H.setState({transform:ee})},[N,k]);return T.useEffect(()=>{if(M.current){$.current=bT({domNode:M.current,minZoom:m,maxZoom:g,translateExtent:h,viewport:p,onDraggingChange:D=>H.setState({paneDragging:D}),onPanZoomStart:(D,q)=>{const{onViewportChangeStart:U,onMoveStart:Z}=H.getState();Z?.(D,q),U?.(q)},onPanZoom:(D,q)=>{const{onViewportChange:U,onMove:Z}=H.getState();Z?.(D,q),U?.(q)},onPanZoomEnd:(D,q)=>{const{onViewportChangeEnd:U,onMoveEnd:Z}=H.getState();Z?.(D,q),U?.(q)}});const{x:ee,y:A,zoom:P}=$.current.getViewport();return H.setState({panZoom:$.current,transform:[ee,A,P],domNode:M.current.closest(".react-flow")}),()=>{$.current?.destroy()}}},[]),T.useEffect(()=>{$.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:i,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:s,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:I,preventScrolling:b,noPanClassName:C,userSelectionActive:O,noWheelClassName:S,lib:V,onTransformChange:F,connectionInProgress:G,selectionOnDrag:_,paneClickDistance:j})},[e,n,i,a,l,s,c,f,I,b,C,O,S,V,F,G,_,j]),d.jsx("div",{className:"react-flow__renderer",ref:M,style:su,children:w})}const gA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yA(){const{userSelectionActive:e,userSelectionRect:n}=Be(gA,ot);return e&&n?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Yf=(e,n)=>i=>{i.target===n.current&&e?.(i)},xA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function vA({isSelecting:e,selectionKeyPressed:n,selectionMode:i=yl.Full,panOnDrag:a,paneClickDistance:l,selectionOnDrag:s,onSelectionStart:c,onSelectionEnd:f,onPaneClick:p,onPaneContextMenu:h,onPaneScroll:m,onPaneMouseEnter:g,onPaneMouseMove:v,onPaneMouseLeave:b,children:w}){const S=lt(),{userSelectionActive:C,elementsSelectable:N,dragging:k,connectionInProgress:j}=Be(xA,ot),_=N&&(e||C),H=T.useRef(null),M=T.useRef(),O=T.useRef(new Set),V=T.useRef(new Set),G=T.useRef(!1),I=U=>{if(G.current||j){G.current=!1;return}p?.(U),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},$=U=>{if(Array.isArray(a)&&a?.includes(2)){U.preventDefault();return}h?.(U)},F=m?U=>m(U):void 0,ee=U=>{G.current&&(U.stopPropagation(),G.current=!1)},A=U=>{const{domNode:Z}=S.getState();if(M.current=Z?.getBoundingClientRect(),!M.current)return;const z=U.target===H.current;if(!z&&!!U.target.closest(".nokey")||!e||!(s&&z||n)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),G.current=!1;const{x:L,y:ie}=On(U.nativeEvent,M.current);S.setState({userSelectionRect:{width:0,height:0,startX:L,startY:ie,x:L,y:ie}}),z||(U.stopPropagation(),U.preventDefault())},P=U=>{const{userSelectionRect:Z,transform:z,nodeLookup:B,edgeLookup:Y,connectionLookup:L,triggerNodeChanges:ie,triggerEdgeChanges:te,defaultEdgeOptions:re,resetSelectedElements:de}=S.getState();if(!M.current||!Z)return;const{x:oe,y:fe}=On(U.nativeEvent,M.current),{startX:xe,startY:je}=Z;if(!G.current){const qe=n?0:l;if(Math.hypot(oe-xe,fe-je)<=qe)return;de(),c?.(U)}G.current=!0;const ve={startX:xe,startY:je,x:oe<xe?oe:xe,y:fe<je?fe:je,width:Math.abs(oe-xe),height:Math.abs(fe-je)},Ee=O.current,De=V.current;O.current=new Set(ip(B,ve,z,i===yl.Partial,!0).map(qe=>qe.id)),V.current=new Set;const Ue=re?.selectable??!0;for(const qe of O.current){const ft=L.get(qe);if(ft)for(const{edgeId:Jt}of ft.values()){const _t=Y.get(Jt);_t&&(_t.selectable??Ue)&&V.current.add(Jt)}}if(!Ux(Ee,O.current)){const qe=Ra(B,O.current,!0);ie(qe)}if(!Ux(De,V.current)){const qe=Ra(Y,V.current);te(qe)}S.setState({userSelectionRect:ve,userSelectionActive:!0,nodesSelectionActive:!1})},D=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!C&&U.target===H.current&&S.getState().userSelectionRect&&I?.(U),S.setState({userSelectionActive:!1,userSelectionRect:null}),G.current&&(f?.(U),S.setState({nodesSelectionActive:O.current.size>0})))},q=a===!0||Array.isArray(a)&&a.includes(0);return d.jsxs("div",{className:St(["react-flow__pane",{draggable:q,dragging:k,selection:e}]),onClick:_?void 0:Yf(I,H),onContextMenu:Yf($,H),onWheel:Yf(F,H),onPointerEnter:_?void 0:g,onPointerMove:_?P:v,onPointerUp:_?D:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?ee:void 0,onPointerLeave:b,ref:H,style:su,children:[w,d.jsx(yA,{})]})}function Mh({id:e,store:n,unselect:i=!1,nodeRef:a}){const{addSelectedNodes:l,unselectNodesAndEdges:s,multiSelectionActive:c,nodeLookup:f,onError:p}=n.getState(),h=f.get(e);if(!h){p?.("012",Gn.error012(e));return}n.setState({nodesSelectionActive:!1}),h.selected?(i||h.selected&&c)&&(s({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):l([e])}function Qb({nodeRef:e,disabled:n=!1,noDragClassName:i,handleSelector:a,nodeId:l,isSelectable:s,nodeClickDistance:c}){const f=lt(),[p,h]=T.useState(!1),m=T.useRef();return T.useEffect(()=>{m.current=oT({getStoreItems:()=>f.getState(),onNodeMouseDown:g=>{Mh({id:g,store:f,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),T.useEffect(()=>{if(n)m.current?.destroy();else if(e.current)return m.current?.update({noDragClassName:i,handleSelector:a,domNode:e.current,isSelectable:s,nodeId:l,nodeClickDistance:c}),()=>{m.current?.destroy()}},[i,a,n,s,e,l]),p}const bA=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function Zb(){const e=lt();return T.useCallback(i=>{const{nodeExtent:a,snapToGrid:l,snapGrid:s,nodesDraggable:c,onError:f,updateNodePositions:p,nodeLookup:h,nodeOrigin:m}=e.getState(),g=new Map,v=bA(c),b=l?s[0]:5,w=l?s[1]:5,S=i.direction.x*b*i.factor,C=i.direction.y*w*i.factor;for(const[,N]of h){if(!v(N))continue;let k={x:N.internals.positionAbsolute.x+S,y:N.internals.positionAbsolute.y+C};l&&(k=Al(k,s));const{position:j,positionAbsolute:_}=pb({nodeId:N.id,nextPosition:k,nodeLookup:h,nodeExtent:a,nodeOrigin:m,onError:f});N.position=j,N.internals.positionAbsolute=_,g.set(N.id,N)}p(g)},[])}const dp=T.createContext(null),wA=dp.Provider;dp.Consumer;const Xa=()=>T.useContext(dp),SA=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),NA=(e,n,i)=>a=>{const{connectionClickStartHandle:l,connectionMode:s,connection:c}=a,{fromHandle:f,toHandle:p,isValid:h}=c,m=p?.nodeId===e&&p?.id===n&&p?.type===i;return{connectingFrom:f?.nodeId===e&&f?.id===n&&f?.type===i,connectingTo:m,clickConnecting:l?.nodeId===e&&l?.id===n&&l?.type===i,isPossibleEndHandle:s===$a.Strict?f?.type!==i:e!==f?.nodeId||n!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:m&&h}};function EA({type:e="source",position:n=ge.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:l=!0,isConnectableEnd:s=!0,id:c,onConnect:f,children:p,className:h,onMouseDown:m,onTouchStart:g,...v},b){const w=c||null,S=e==="target",C=lt(),N=Xa(),{connectOnClick:k,noPanClassName:j,rfId:_}=Be(SA,ot),{connectingFrom:H,connectingTo:M,clickConnecting:O,isPossibleEndHandle:V,connectionInProcess:G,clickConnectionInProcess:I,valid:$}=Be(NA(N,w,e),ot);N||C.getState().onError?.("010",Gn.error010());const F=P=>{const{defaultEdgeOptions:D,onConnect:q,hasDefaultEdges:U}=C.getState(),Z={...D,...P};if(U){const{edges:z,setEdges:B}=C.getState();B(Cb(Z,z))}q?.(Z),f?.(Z)},ee=P=>{if(!N)return;const D=Sb(P.nativeEvent);if(l&&(D&&P.button===0||!D)){const q=C.getState();Ah.onPointerDown(P.nativeEvent,{handleDomNode:P.currentTarget,autoPanOnConnect:q.autoPanOnConnect,connectionMode:q.connectionMode,connectionRadius:q.connectionRadius,domNode:q.domNode,nodeLookup:q.nodeLookup,lib:q.lib,isTarget:S,handleId:w,nodeId:N,flowId:q.rfId,panBy:q.panBy,cancelConnection:q.cancelConnection,onConnectStart:q.onConnectStart,onConnectEnd:q.onConnectEnd,updateConnection:q.updateConnection,onConnect:F,isValidConnection:i||q.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:q.autoPanSpeed,dragThreshold:q.connectionDragThreshold})}D?m?.(P):g?.(P)},A=P=>{const{onClickConnectStart:D,onClickConnectEnd:q,connectionClickStartHandle:U,connectionMode:Z,isValidConnection:z,lib:B,rfId:Y,nodeLookup:L,connection:ie}=C.getState();if(!N||!U&&!l)return;if(!U){D?.(P.nativeEvent,{nodeId:N,handleId:w,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:N,type:e,id:w}});return}const te=bb(P.target),re=i||z,{connection:de,isValid:oe}=Ah.isValid(P.nativeEvent,{handle:{nodeId:N,id:w,type:e},connectionMode:Z,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:re,flowId:Y,doc:te,lib:B,nodeLookup:L});oe&&de&&F(de);const fe=structuredClone(ie);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,q?.(P,fe),C.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":w,"data-nodeid":N,"data-handlepos":n,"data-id":`${_}-${N}-${w}-${e}`,className:St(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",j,h,{source:!S,target:S,connectable:a,connectablestart:l,connectableend:s,clickconnecting:O,connectingfrom:H,connectingto:M,valid:$,connectionindicator:a&&(!G||V)&&(G||I?s:l)}]),onMouseDown:ee,onTouchStart:ee,onClick:k?A:void 0,ref:b,...v,children:p})}const zn=T.memo(Yb(EA));function jA({data:e,isConnectable:n,sourcePosition:i=ge.Bottom}){return d.jsxs(d.Fragment,{children:[e?.label,d.jsx(zn,{type:"source",position:i,isConnectable:n})]})}function CA({data:e,isConnectable:n,targetPosition:i=ge.Top,sourcePosition:a=ge.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(zn,{type:"target",position:i,isConnectable:n}),e?.label,d.jsx(zn,{type:"source",position:a,isConnectable:n})]})}function kA(){return null}function TA({data:e,isConnectable:n,targetPosition:i=ge.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(zn,{type:"target",position:i,isConnectable:n}),e?.label]})}const $c={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},xv={input:jA,default:CA,output:TA,group:kA};function AA(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const MA=e=>{const{width:n,height:i,x:a,y:l}=Tl(e.nodeLookup,{filter:s=>!!s.selected});return{width:_n(n)?n:null,height:_n(i)?i:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${l}px)`}};function DA({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:i}){const a=lt(),{width:l,height:s,transformString:c,userSelectionActive:f}=Be(MA,ot),p=Zb(),h=T.useRef(null);if(T.useEffect(()=>{i||h.current?.focus({preventScroll:!0})},[i]),Qb({nodeRef:h}),f||!l||!s)return null;const m=e?v=>{const b=a.getState().nodes.filter(w=>w.selected);e(v,b)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call($c,v.key)&&(v.preventDefault(),p({direction:$c[v.key],factor:v.shiftKey?4:1}))};return d.jsx("div",{className:St(["react-flow__nodesselection","react-flow__container",n]),style:{transform:c},children:d.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:i?void 0:-1,onKeyDown:i?void 0:g,style:{width:l,height:s}})})}const vv=typeof window<"u"?window:void 0,_A=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Wb({children:e,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:s,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:p,selectionKeyCode:h,selectionOnDrag:m,selectionMode:g,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:w,panActivationKeyCode:S,zoomActivationKeyCode:C,elementsSelectable:N,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:_,panOnScrollSpeed:H,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:V,defaultViewport:G,translateExtent:I,minZoom:$,maxZoom:F,preventScrolling:ee,onSelectionContextMenu:A,noWheelClassName:P,noPanClassName:D,disableKeyboardA11y:q,onViewportChange:U,isControlledViewport:Z}){const{nodesSelectionActive:z,userSelectionActive:B}=Be(_A,ot),Y=bl(h,{target:vv}),L=bl(S,{target:vv}),ie=L||V,te=L||_,re=m&&ie!==!0,de=Y||B||re;return fA({deleteKeyCode:p,multiSelectionKeyCode:w}),d.jsx(mA,{onPaneContextMenu:s,elementsSelectable:N,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:te,panOnScrollSpeed:H,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:!Y&&ie,defaultViewport:G,translateExtent:I,minZoom:$,maxZoom:F,zoomActivationKeyCode:C,preventScrolling:ee,noWheelClassName:P,noPanClassName:D,onViewportChange:U,isControlledViewport:Z,paneClickDistance:f,selectionOnDrag:re,children:d.jsxs(vA,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:s,onPaneScroll:c,panOnDrag:ie,isSelecting:!!de,selectionMode:g,selectionKeyPressed:Y,paneClickDistance:f,selectionOnDrag:re,children:[e,z&&d.jsx(DA,{onSelectionContextMenu:A,noPanClassName:D,disableKeyboardA11y:q})]})})}Wb.displayName="FlowRenderer";const OA=T.memo(Wb),RA=e=>n=>e?ip(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(i=>i.id):Array.from(n.nodeLookup.keys());function zA(e){return Be(T.useCallback(RA(e),[e]),ot)}const LA=e=>e.updateNodeInternals;function IA(){const e=Be(LA),[n]=T.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const a=new Map;i.forEach(l=>{const s=l.target.getAttribute("data-id");a.set(s,{id:s,nodeElement:l.target,force:!0})}),e(a)}));return T.useEffect(()=>()=>{n?.disconnect()},[n]),n}function BA({node:e,nodeType:n,hasDimensions:i,resizeObserver:a}){const l=lt(),s=T.useRef(null),c=T.useRef(null),f=T.useRef(e.sourcePosition),p=T.useRef(e.targetPosition),h=T.useRef(n),m=i&&!!e.internals.handleBounds;return T.useEffect(()=>{s.current&&!e.hidden&&(!m||c.current!==s.current)&&(c.current&&a?.unobserve(c.current),a?.observe(s.current),c.current=s.current)},[m,e.hidden]),T.useEffect(()=>()=>{c.current&&(a?.unobserve(c.current),c.current=null)},[]),T.useEffect(()=>{if(s.current){const g=h.current!==n,v=f.current!==e.sourcePosition,b=p.current!==e.targetPosition;(g||v||b)&&(h.current=n,f.current=e.sourcePosition,p.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),s}function HA({id:e,onClick:n,onMouseEnter:i,onMouseMove:a,onMouseLeave:l,onContextMenu:s,onDoubleClick:c,nodesDraggable:f,elementsSelectable:p,nodesConnectable:h,nodesFocusable:m,resizeObserver:g,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:w,rfId:S,nodeTypes:C,nodeClickDistance:N,onError:k}){const{node:j,internals:_,isParent:H}=Be(oe=>{const fe=oe.nodeLookup.get(e),xe=oe.parentLookup.has(e);return{node:fe,internals:fe.internals,isParent:xe}},ot);let M=j.type||"default",O=C?.[M]||xv[M];O===void 0&&(k?.("003",Gn.error003(M)),M="default",O=C?.default||xv.default);const V=!!(j.draggable||f&&typeof j.draggable>"u"),G=!!(j.selectable||p&&typeof j.selectable>"u"),I=!!(j.connectable||h&&typeof j.connectable>"u"),$=!!(j.focusable||m&&typeof j.focusable>"u"),F=lt(),ee=xb(j),A=BA({node:j,nodeType:M,hasDimensions:ee,resizeObserver:g}),P=Qb({nodeRef:A,disabled:j.hidden||!V,noDragClassName:v,handleSelector:j.dragHandle,nodeId:e,isSelectable:G,nodeClickDistance:N}),D=Zb();if(j.hidden)return null;const q=wi(j),U=AA(j),Z=G||V||n||i||a||l,z=i?oe=>i(oe,{..._.userNode}):void 0,B=a?oe=>a(oe,{..._.userNode}):void 0,Y=l?oe=>l(oe,{..._.userNode}):void 0,L=s?oe=>s(oe,{..._.userNode}):void 0,ie=c?oe=>c(oe,{..._.userNode}):void 0,te=oe=>{const{selectNodesOnDrag:fe,nodeDragThreshold:xe}=F.getState();G&&(!fe||!V||xe>0)&&Mh({id:e,store:F,nodeRef:A}),n&&n(oe,{..._.userNode})},re=oe=>{if(!(wb(oe.nativeEvent)||w)){if(cb.includes(oe.key)&&G){const fe=oe.key==="Escape";Mh({id:e,store:F,unselect:fe,nodeRef:A})}else if(V&&j.selected&&Object.prototype.hasOwnProperty.call($c,oe.key)){oe.preventDefault();const{ariaLabelConfig:fe}=F.getState();F.setState({ariaLiveMessage:fe["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),D({direction:$c[oe.key],factor:oe.shiftKey?4:1})}}},de=()=>{if(w||!A.current?.matches(":focus-visible"))return;const{transform:oe,width:fe,height:xe,autoPanOnNodeFocus:je,setCenter:ve}=F.getState();if(!je)return;ip(new Map([[e,j]]),{x:0,y:0,width:fe,height:xe},oe,!0).length>0||ve(j.position.x+q.width/2,j.position.y+q.height/2,{zoom:oe[2]})};return d.jsx("div",{className:St(["react-flow__node",`react-flow__node-${M}`,{[b]:V},j.className,{selected:j.selected,selectable:G,parent:H,draggable:V,dragging:P}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:Z?"all":"none",visibility:ee?"visible":"hidden",...j.style,...U},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:Y,onContextMenu:L,onClick:te,onDoubleClick:ie,onKeyDown:$?re:void 0,tabIndex:$?0:void 0,onFocus:$?de:void 0,role:j.ariaRole??($?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${$b}-${S}`,"aria-label":j.ariaLabel,...j.domAttributes,children:d.jsx(wA,{value:e,children:d.jsx(O,{id:e,data:j.data,type:M,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:j.selected??!1,selectable:G,draggable:V,deletable:j.deletable??!0,isConnectable:I,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:P,dragHandle:j.dragHandle,zIndex:_.z,parentId:j.parentId,...q})})})}var PA=T.memo(HA);const $A=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Kb(e){const{nodesDraggable:n,nodesConnectable:i,nodesFocusable:a,elementsSelectable:l,onError:s}=Be($A,ot),c=zA(e.onlyRenderVisibleElements),f=IA();return d.jsx("div",{className:"react-flow__nodes",style:su,children:c.map(p=>d.jsx(PA,{id:p,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:n,nodesConnectable:i,nodesFocusable:a,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:s},p))})}Kb.displayName="NodeRenderer";const UA=T.memo(Kb);function qA(e){return Be(T.useCallback(i=>{if(!e)return i.edges.map(l=>l.id);const a=[];if(i.width&&i.height)for(const l of i.edges){const s=i.nodeLookup.get(l.source),c=i.nodeLookup.get(l.target);s&&c&&Uk({sourceNode:s,targetNode:c,width:i.width,height:i.height,transform:i.transform})&&a.push(l.id)}return a},[e]),ot)}const VA=({color:e="none",strokeWidth:n=1})=>{const i={strokeWidth:n,...e&&{stroke:e}};return d.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},FA=({color:e="none",strokeWidth:n=1})=>{const i={strokeWidth:n,...e&&{stroke:e,fill:e}};return d.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},bv={[Ic.Arrow]:VA,[Ic.ArrowClosed]:FA};function GA(e){const n=lt();return T.useMemo(()=>Object.prototype.hasOwnProperty.call(bv,e)?bv[e]:(n.getState().onError?.("009",Gn.error009(e)),null),[e])}const YA=({id:e,type:n,color:i,width:a=12.5,height:l=12.5,markerUnits:s="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const p=GA(n);return p?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:f,refX:"0",refY:"0",children:d.jsx(p,{color:i,strokeWidth:c})}):null},Jb=({defaultColor:e,rfId:n})=>{const i=Be(s=>s.edges),a=Be(s=>s.defaultEdgeOptions),l=T.useMemo(()=>Qk(i,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[i,a,n,e]);return l.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:l.map(s=>d.jsx(YA,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Jb.displayName="MarkerDefinitions";var XA=T.memo(Jb);function ew({x:e,y:n,label:i,labelStyle:a,labelShowBg:l=!0,labelBgStyle:s,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:p,className:h,...m}){const[g,v]=T.useState({x:1,y:0,width:0,height:0}),b=St(["react-flow__edge-textwrapper",h]),w=T.useRef(null);return T.useEffect(()=>{if(w.current){const S=w.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[i]),i?d.jsxs("g",{transform:`translate(${e-g.width/2} ${n-g.height/2})`,className:b,visibility:g.width?"visible":"hidden",...m,children:[l&&d.jsx("rect",{width:g.width+2*c[0],x:-c[0],y:-c[1],height:g.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:f,ry:f}),d.jsx("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:w,style:a,children:i}),p]}):null}ew.displayName="EdgeText";const QA=T.memo(ew);function Dl({path:e,labelX:n,labelY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:p,interactionWidth:h=20,...m}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...m,d:e,fill:"none",className:St(["react-flow__edge-path",m.className])}),h?d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&_n(n)&&_n(i)?d.jsx(QA,{x:n,y:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:p}):null]})}function wv({pos:e,x1:n,y1:i,x2:a,y2:l}){return e===ge.Left||e===ge.Right?[.5*(n+a),i]:[n,.5*(i+l)]}function tw({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top}){const[c,f]=wv({pos:i,x1:e,y1:n,x2:a,y2:l}),[p,h]=wv({pos:s,x1:a,y1:l,x2:e,y2:n}),[m,g,v,b]=Nb({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:p,targetControlY:h});return[`M${e},${n} C${c},${f} ${p},${h} ${a},${l}`,m,g,v,b]}function nw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,sourcePosition:c,targetPosition:f,label:p,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:C,interactionWidth:N})=>{const[k,j,_]=tw({sourceX:i,sourceY:a,sourcePosition:c,targetX:l,targetY:s,targetPosition:f}),H=e.isInternal?void 0:n;return d.jsx(Dl,{id:H,path:k,labelX:j,labelY:_,label:p,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:C,interactionWidth:N})})}const ZA=nw({isInternal:!1}),iw=nw({isInternal:!0});ZA.displayName="SimpleBezierEdge";iw.displayName="SimpleBezierEdgeInternal";function rw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,sourcePosition:b=ge.Bottom,targetPosition:w=ge.Top,markerEnd:S,markerStart:C,pathOptions:N,interactionWidth:k})=>{const[j,_,H]=Pc({sourceX:i,sourceY:a,sourcePosition:b,targetX:l,targetY:s,targetPosition:w,borderRadius:N?.borderRadius,offset:N?.offset,stepPosition:N?.stepPosition}),M=e.isInternal?void 0:n;return d.jsx(Dl,{id:M,path:j,labelX:_,labelY:H,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:S,markerStart:C,interactionWidth:k})})}const aw=rw({isInternal:!1}),ow=rw({isInternal:!0});aw.displayName="SmoothStepEdge";ow.displayName="SmoothStepEdgeInternal";function lw(e){return T.memo(({id:n,...i})=>{const a=e.isInternal?void 0:n;return d.jsx(aw,{...i,id:a,pathOptions:T.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const WA=lw({isInternal:!1}),sw=lw({isInternal:!0});WA.displayName="StepEdge";sw.displayName="StepEdgeInternal";function cw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,interactionWidth:S})=>{const[C,N,k]=kb({sourceX:i,sourceY:a,targetX:l,targetY:s}),j=e.isInternal?void 0:n;return d.jsx(Dl,{id:j,path:C,labelX:N,labelY:k,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,interactionWidth:S})})}const KA=cw({isInternal:!1}),uw=cw({isInternal:!0});KA.displayName="StraightEdge";uw.displayName="StraightEdgeInternal";function dw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,sourcePosition:c=ge.Bottom,targetPosition:f=ge.Top,label:p,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:C,pathOptions:N,interactionWidth:k})=>{const[j,_,H]=Eb({sourceX:i,sourceY:a,sourcePosition:c,targetX:l,targetY:s,targetPosition:f,curvature:N?.curvature}),M=e.isInternal?void 0:n;return d.jsx(Dl,{id:M,path:j,labelX:_,labelY:H,label:p,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:C,interactionWidth:k})})}const JA=dw({isInternal:!1}),fw=dw({isInternal:!0});JA.displayName="BezierEdge";fw.displayName="BezierEdgeInternal";const Sv={default:fw,straight:uw,step:sw,smoothstep:ow,simplebezier:iw},Nv={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},eM=(e,n,i)=>i===ge.Left?e-n:i===ge.Right?e+n:e,tM=(e,n,i)=>i===ge.Top?e-n:i===ge.Bottom?e+n:e,Ev="react-flow__edgeupdater";function jv({position:e,centerX:n,centerY:i,radius:a=10,onMouseDown:l,onMouseEnter:s,onMouseOut:c,type:f}){return d.jsx("circle",{onMouseDown:l,onMouseEnter:s,onMouseOut:c,className:St([Ev,`${Ev}-${f}`]),cx:eM(n,a,e),cy:tM(i,a,e),r:a,stroke:"transparent",fill:"transparent"})}function nM({isReconnectable:e,reconnectRadius:n,edge:i,sourceX:a,sourceY:l,targetX:s,targetY:c,sourcePosition:f,targetPosition:p,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,setReconnecting:v,setUpdateHover:b}){const w=lt(),S=(_,H)=>{if(_.button!==0)return;const{autoPanOnConnect:M,domNode:O,isValidConnection:V,connectionMode:G,connectionRadius:I,lib:$,onConnectStart:F,onConnectEnd:ee,cancelConnection:A,nodeLookup:P,rfId:D,panBy:q,updateConnection:U}=w.getState(),Z=H.type==="target",z=(L,ie)=>{v(!1),g?.(L,i,H.type,ie)},B=L=>h?.(i,L),Y=(L,ie)=>{v(!0),m?.(_,i,H.type),F?.(L,ie)};Ah.onPointerDown(_.nativeEvent,{autoPanOnConnect:M,connectionMode:G,connectionRadius:I,domNode:O,handleId:H.id,nodeId:H.nodeId,nodeLookup:P,isTarget:Z,edgeUpdaterType:H.type,lib:$,flowId:D,cancelConnection:A,panBy:q,isValidConnection:V,onConnect:B,onConnectStart:Y,onConnectEnd:ee,onReconnectEnd:z,updateConnection:U,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},C=_=>S(_,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),N=_=>S(_,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),k=()=>b(!0),j=()=>b(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(jv,{position:f,centerX:a,centerY:l,radius:n,onMouseDown:C,onMouseEnter:k,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&d.jsx(jv,{position:p,centerX:s,centerY:c,radius:n,onMouseDown:N,onMouseEnter:k,onMouseOut:j,type:"target"})]})}function iM({id:e,edgesFocusable:n,edgesReconnectable:i,elementsSelectable:a,onClick:l,onDoubleClick:s,onContextMenu:c,onMouseEnter:f,onMouseMove:p,onMouseLeave:h,reconnectRadius:m,onReconnect:g,onReconnectStart:v,onReconnectEnd:b,rfId:w,edgeTypes:S,noPanClassName:C,onError:N,disableKeyboardA11y:k}){let j=Be(ve=>ve.edgeLookup.get(e));const _=Be(ve=>ve.defaultEdgeOptions);j=_?{..._,...j}:j;let H=j.type||"default",M=S?.[H]||Sv[H];M===void 0&&(N?.("011",Gn.error011(H)),H="default",M=S?.default||Sv.default);const O=!!(j.focusable||n&&typeof j.focusable>"u"),V=typeof g<"u"&&(j.reconnectable||i&&typeof j.reconnectable>"u"),G=!!(j.selectable||a&&typeof j.selectable>"u"),I=T.useRef(null),[$,F]=T.useState(!1),[ee,A]=T.useState(!1),P=lt(),{zIndex:D,sourceX:q,sourceY:U,targetX:Z,targetY:z,sourcePosition:B,targetPosition:Y}=Be(T.useCallback(ve=>{const Ee=ve.nodeLookup.get(j.source),De=ve.nodeLookup.get(j.target);if(!Ee||!De)return{zIndex:j.zIndex,...Nv};const Ue=Xk({id:e,sourceNode:Ee,targetNode:De,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:ve.connectionMode,onError:N});return{zIndex:$k({selected:j.selected,zIndex:j.zIndex,sourceNode:Ee,targetNode:De,elevateOnSelect:ve.elevateEdgesOnSelect,zIndexMode:ve.zIndexMode}),...Ue||Nv}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),ot),L=T.useMemo(()=>j.markerStart?`url('#${kh(j.markerStart,w)}')`:void 0,[j.markerStart,w]),ie=T.useMemo(()=>j.markerEnd?`url('#${kh(j.markerEnd,w)}')`:void 0,[j.markerEnd,w]);if(j.hidden||q===null||U===null||Z===null||z===null)return null;const te=ve=>{const{addSelectedEdges:Ee,unselectNodesAndEdges:De,multiSelectionActive:Ue}=P.getState();G&&(P.setState({nodesSelectionActive:!1}),j.selected&&Ue?(De({nodes:[],edges:[j]}),I.current?.blur()):Ee([e])),l&&l(ve,j)},re=s?ve=>{s(ve,{...j})}:void 0,de=c?ve=>{c(ve,{...j})}:void 0,oe=f?ve=>{f(ve,{...j})}:void 0,fe=p?ve=>{p(ve,{...j})}:void 0,xe=h?ve=>{h(ve,{...j})}:void 0,je=ve=>{if(!k&&cb.includes(ve.key)&&G){const{unselectNodesAndEdges:Ee,addSelectedEdges:De}=P.getState();ve.key==="Escape"?(I.current?.blur(),Ee({edges:[j]})):De([e])}};return d.jsx("svg",{style:{zIndex:D},children:d.jsxs("g",{className:St(["react-flow__edge",`react-flow__edge-${H}`,j.className,C,{selected:j.selected,animated:j.animated,inactive:!G&&!l,updating:$,selectable:G}]),onClick:te,onDoubleClick:re,onContextMenu:de,onMouseEnter:oe,onMouseMove:fe,onMouseLeave:xe,onKeyDown:O?je:void 0,tabIndex:O?0:void 0,role:j.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":O?`${Ub}-${w}`:void 0,ref:I,...j.domAttributes,children:[!ee&&d.jsx(M,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:G,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:q,sourceY:U,targetX:Z,targetY:z,sourcePosition:B,targetPosition:Y,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:L,markerEnd:ie,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),V&&d.jsx(nM,{edge:j,isReconnectable:V,reconnectRadius:m,onReconnect:g,onReconnectStart:v,onReconnectEnd:b,sourceX:q,sourceY:U,targetX:Z,targetY:z,sourcePosition:B,targetPosition:Y,setUpdateHover:F,setReconnecting:A})]})})}var rM=T.memo(iM);const aM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function hw({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:i,edgeTypes:a,noPanClassName:l,onReconnect:s,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:p,onEdgeMouseLeave:h,onEdgeClick:m,reconnectRadius:g,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,disableKeyboardA11y:S}){const{edgesFocusable:C,edgesReconnectable:N,elementsSelectable:k,onError:j}=Be(aM,ot),_=qA(n);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(XA,{defaultColor:e,rfId:i}),_.map(H=>d.jsx(rM,{id:H,edgesFocusable:C,edgesReconnectable:N,elementsSelectable:k,noPanClassName:l,onReconnect:s,onContextMenu:c,onMouseEnter:f,onMouseMove:p,onMouseLeave:h,onClick:m,reconnectRadius:g,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,rfId:i,onError:j,edgeTypes:a,disableKeyboardA11y:S},H))]})}hw.displayName="EdgeRenderer";const oM=T.memo(hw),lM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function sM({children:e}){const n=Be(lM);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function cM(e){const n=lu(),i=T.useRef(!1);T.useEffect(()=>{!i.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),i.current=!0)},[e,n.viewportInitialized])}const uM=e=>e.panZoom?.syncViewport;function dM(e){const n=Be(uM),i=lt();return T.useEffect(()=>{e&&(n?.(e),i.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function fM(e){return e.connection.inProgress?{...e.connection,to:Ml(e.connection.to,e.transform)}:{...e.connection}}function hM(e){return fM}function pM(e){const n=hM();return Be(n,ot)}const mM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function gM({containerStyle:e,style:n,type:i,component:a}){const{nodesConnectable:l,width:s,height:c,isValid:f,inProgress:p}=Be(mM,ot);return!(s&&l&&p)?null:d.jsx("svg",{style:e,width:s,height:c,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:St(["react-flow__connection",fb(f)]),children:d.jsx(pw,{style:n,type:i,CustomComponent:a,isValid:f})})})}const pw=({style:e,type:n=ir.Bezier,CustomComponent:i,isValid:a})=>{const{inProgress:l,from:s,fromNode:c,fromHandle:f,fromPosition:p,to:h,toNode:m,toHandle:g,toPosition:v,pointer:b}=pM();if(!l)return;if(i)return d.jsx(i,{connectionLineType:n,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:s.x,fromY:s.y,toX:h.x,toY:h.y,fromPosition:p,toPosition:v,connectionStatus:fb(a),toNode:m,toHandle:g,pointer:b});let w="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:p,targetX:h.x,targetY:h.y,targetPosition:v};switch(n){case ir.Bezier:[w]=Eb(S);break;case ir.SimpleBezier:[w]=tw(S);break;case ir.Step:[w]=Pc({...S,borderRadius:0});break;case ir.SmoothStep:[w]=Pc(S);break;default:[w]=kb(S)}return d.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};pw.displayName="ConnectionLine";const yM={};function Cv(e=yM){T.useRef(e),lt(),T.useEffect(()=>{},[e])}function xM(){lt(),T.useRef(!1),T.useEffect(()=>{},[])}function mw({nodeTypes:e,edgeTypes:n,onInit:i,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:s,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:b,connectionLineType:w,connectionLineStyle:S,connectionLineComponent:C,connectionLineContainerStyle:N,selectionKeyCode:k,selectionOnDrag:j,selectionMode:_,multiSelectionKeyCode:H,panActivationKeyCode:M,zoomActivationKeyCode:O,deleteKeyCode:V,onlyRenderVisibleElements:G,elementsSelectable:I,defaultViewport:$,translateExtent:F,minZoom:ee,maxZoom:A,preventScrolling:P,defaultMarkerColor:D,zoomOnScroll:q,zoomOnPinch:U,panOnScroll:Z,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:Y,panOnDrag:L,onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:re,onPaneMouseLeave:de,onPaneScroll:oe,onPaneContextMenu:fe,paneClickDistance:xe,nodeClickDistance:je,onEdgeContextMenu:ve,onEdgeMouseEnter:Ee,onEdgeMouseMove:De,onEdgeMouseLeave:Ue,reconnectRadius:qe,onReconnect:ft,onReconnectStart:Jt,onReconnectEnd:_t,noDragClassName:$t,noWheelClassName:En,noPanClassName:Qn,disableKeyboardA11y:Zn,nodeExtent:Nt,rfId:Ei,viewport:le,onViewportChange:pe}){return Cv(e),Cv(n),xM(),cM(i),dM(le),d.jsx(OA,{onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:re,onPaneMouseLeave:de,onPaneContextMenu:fe,onPaneScroll:oe,paneClickDistance:xe,deleteKeyCode:V,selectionKeyCode:k,selectionOnDrag:j,selectionMode:_,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:H,panActivationKeyCode:M,zoomActivationKeyCode:O,elementsSelectable:I,zoomOnScroll:q,zoomOnPinch:U,zoomOnDoubleClick:Y,panOnScroll:Z,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:L,defaultViewport:$,translateExtent:F,minZoom:ee,maxZoom:A,onSelectionContextMenu:g,preventScrolling:P,noDragClassName:$t,noWheelClassName:En,noPanClassName:Qn,disableKeyboardA11y:Zn,onViewportChange:pe,isControlledViewport:!!le,children:d.jsxs(sM,{children:[d.jsx(oM,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:ft,onReconnectStart:Jt,onReconnectEnd:_t,onlyRenderVisibleElements:G,onEdgeContextMenu:ve,onEdgeMouseEnter:Ee,onEdgeMouseMove:De,onEdgeMouseLeave:Ue,reconnectRadius:qe,defaultMarkerColor:D,noPanClassName:Qn,disableKeyboardA11y:Zn,rfId:Ei}),d.jsx(gM,{style:S,type:w,component:C,containerStyle:N}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(UA,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:s,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,nodeClickDistance:je,onlyRenderVisibleElements:G,noPanClassName:Qn,noDragClassName:$t,disableKeyboardA11y:Zn,nodeExtent:Nt,rfId:Ei}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}mw.displayName="GraphView";const vM=T.memo(mw),kv=({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:p=.5,maxZoom:h=2,nodeOrigin:m,nodeExtent:g,zIndexMode:v="basic"}={})=>{const b=new Map,w=new Map,S=new Map,C=new Map,N=a??n??[],k=i??e??[],j=m??[0,0],_=g??gl;Mb(S,C,N);const H=Th(k,b,w,{nodeOrigin:j,nodeExtent:_,zIndexMode:v});let M=[0,0,1];if(c&&l&&s){const O=Tl(b,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:V,y:G,zoom:I}=rp(O,l,s,p,h,f?.padding??.1);M=[V,G,I]}return{rfId:"1",width:l??0,height:s??0,transform:M,nodes:k,nodesInitialized:H,nodeLookup:b,parentLookup:w,edges:N,edgeLookup:C,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:p,maxZoom:h,translateExtent:gl,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:$a.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:j,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...db},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:zk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:ub,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},bM=({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:p,maxZoom:h,nodeOrigin:m,nodeExtent:g,zIndexMode:v})=>BT((b,w)=>{async function S(){const{nodeLookup:C,panZoom:N,fitViewOptions:k,fitViewResolver:j,width:_,height:H,minZoom:M,maxZoom:O}=w();N&&(await Ok({nodes:C,width:_,height:H,panZoom:N,minZoom:M,maxZoom:O},k),j?.resolve(!0),b({fitViewResolver:null}))}return{...kv({nodes:e,edges:n,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:p,maxZoom:h,nodeOrigin:m,nodeExtent:g,defaultNodes:i,defaultEdges:a,zIndexMode:v}),setNodes:C=>{const{nodeLookup:N,parentLookup:k,nodeOrigin:j,elevateNodesOnSelect:_,fitViewQueued:H,zIndexMode:M}=w(),O=Th(C,N,k,{nodeOrigin:j,nodeExtent:g,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:M});H&&O?(S(),b({nodes:C,nodesInitialized:O,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:C,nodesInitialized:O})},setEdges:C=>{const{connectionLookup:N,edgeLookup:k}=w();Mb(N,k,C),b({edges:C})},setDefaultNodesAndEdges:(C,N)=>{if(C){const{setNodes:k}=w();k(C),b({hasDefaultNodes:!0})}if(N){const{setEdges:k}=w();k(N),b({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:N,nodeLookup:k,parentLookup:j,domNode:_,nodeOrigin:H,nodeExtent:M,debug:O,fitViewQueued:V,zIndexMode:G}=w(),{changes:I,updatedInternals:$}=nT(C,k,j,_,H,M,G);$&&(Kk(k,j,{nodeOrigin:H,nodeExtent:M,zIndexMode:G}),V?(S(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),I?.length>0&&(O&&console.log("React Flow: trigger node changes",I),N?.(I)))},updateNodePositions:(C,N=!1)=>{const k=[];let j=[];const{nodeLookup:_,triggerNodeChanges:H,connection:M,updateConnection:O,onNodesChangeMiddlewareMap:V}=w();for(const[G,I]of C){const $=_.get(G),F=!!($?.expandParent&&$?.parentId&&I?.position),ee={id:G,type:"position",position:F?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:N};if($&&M.inProgress&&M.fromNode.id===$.id){const A=Ir($,M.fromHandle,ge.Left,!0);O({...M,from:A})}F&&$.parentId&&k.push({id:G,parentId:$.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),j.push(ee)}if(k.length>0){const{parentLookup:G,nodeOrigin:I}=w(),$=up(k,_,G,I);j.push(...$)}for(const G of V.values())j=G(j);H(j)},triggerNodeChanges:C=>{const{onNodesChange:N,setNodes:k,nodes:j,hasDefaultNodes:_,debug:H}=w();if(C?.length){if(_){const M=Fb(C,j);k(M)}H&&console.log("React Flow: trigger node changes",C),N?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:N,setEdges:k,edges:j,hasDefaultEdges:_,debug:H}=w();if(C?.length){if(_){const M=Gb(C,j);k(M)}H&&console.log("React Flow: trigger edge changes",C),N?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:N,edgeLookup:k,nodeLookup:j,triggerNodeChanges:_,triggerEdgeChanges:H}=w();if(N){const M=C.map(O=>Mr(O,!0));_(M);return}_(Ra(j,new Set([...C]),!0)),H(Ra(k))},addSelectedEdges:C=>{const{multiSelectionActive:N,edgeLookup:k,nodeLookup:j,triggerNodeChanges:_,triggerEdgeChanges:H}=w();if(N){const M=C.map(O=>Mr(O,!0));H(M);return}H(Ra(k,new Set([...C]))),_(Ra(j,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:N}={})=>{const{edges:k,nodes:j,nodeLookup:_,triggerNodeChanges:H,triggerEdgeChanges:M}=w(),O=C||j,V=N||k,G=O.map($=>{const F=_.get($.id);return F&&(F.selected=!1),Mr($.id,!1)}),I=V.map($=>Mr($.id,!1));H(G),M(I)},setMinZoom:C=>{const{panZoom:N,maxZoom:k}=w();N?.setScaleExtent([C,k]),b({minZoom:C})},setMaxZoom:C=>{const{panZoom:N,minZoom:k}=w();N?.setScaleExtent([k,C]),b({maxZoom:C})},setTranslateExtent:C=>{w().panZoom?.setTranslateExtent(C),b({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:N,triggerNodeChanges:k,triggerEdgeChanges:j,elementsSelectable:_}=w();if(!_)return;const H=N.reduce((O,V)=>V.selected?[...O,Mr(V.id,!1)]:O,[]),M=C.reduce((O,V)=>V.selected?[...O,Mr(V.id,!1)]:O,[]);k(H),j(M)},setNodeExtent:C=>{const{nodes:N,nodeLookup:k,parentLookup:j,nodeOrigin:_,elevateNodesOnSelect:H,nodeExtent:M,zIndexMode:O}=w();C[0][0]===M[0][0]&&C[0][1]===M[0][1]&&C[1][0]===M[1][0]&&C[1][1]===M[1][1]||(Th(N,k,j,{nodeOrigin:_,nodeExtent:C,elevateNodesOnSelect:H,checkEquality:!1,zIndexMode:O}),b({nodeExtent:C}))},panBy:C=>{const{transform:N,width:k,height:j,panZoom:_,translateExtent:H}=w();return iT({delta:C,panZoom:_,transform:N,translateExtent:H,width:k,height:j})},setCenter:async(C,N,k)=>{const{width:j,height:_,maxZoom:H,panZoom:M}=w();if(!M)return Promise.resolve(!1);const O=typeof k?.zoom<"u"?k.zoom:H;return await M.setViewport({x:j/2-C*O,y:_/2-N*O,zoom:O},{duration:k?.duration,ease:k?.ease,interpolate:k?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...db}})},updateConnection:C=>{b({connection:C})},reset:()=>b({...kv()})}},Object.is);function gw({initialNodes:e,initialEdges:n,defaultNodes:i,defaultEdges:a,initialWidth:l,initialHeight:s,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:p,fitView:h,nodeOrigin:m,nodeExtent:g,zIndexMode:v,children:b}){const[w]=T.useState(()=>bM({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:h,minZoom:c,maxZoom:f,fitViewOptions:p,nodeOrigin:m,nodeExtent:g,zIndexMode:v}));return d.jsx(HT,{value:w,children:d.jsx(sA,{children:b})})}function wM({children:e,nodes:n,edges:i,defaultNodes:a,defaultEdges:l,width:s,height:c,fitView:f,fitViewOptions:p,minZoom:h,maxZoom:m,nodeOrigin:g,nodeExtent:v,zIndexMode:b}){return T.useContext(au)?d.jsx(d.Fragment,{children:e}):d.jsx(gw,{initialNodes:n,initialEdges:i,defaultNodes:a,defaultEdges:l,initialWidth:s,initialHeight:c,fitView:f,initialFitViewOptions:p,initialMinZoom:h,initialMaxZoom:m,nodeOrigin:g,nodeExtent:v,zIndexMode:b,children:e})}const SM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function NM({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,className:l,nodeTypes:s,edgeTypes:c,onNodeClick:f,onEdgeClick:p,onInit:h,onMove:m,onMoveStart:g,onMoveEnd:v,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:C,onClickConnectEnd:N,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:_,onNodeContextMenu:H,onNodeDoubleClick:M,onNodeDragStart:O,onNodeDrag:V,onNodeDragStop:G,onNodesDelete:I,onEdgesDelete:$,onDelete:F,onSelectionChange:ee,onSelectionDragStart:A,onSelectionDrag:P,onSelectionDragStop:D,onSelectionContextMenu:q,onSelectionStart:U,onSelectionEnd:Z,onBeforeDelete:z,connectionMode:B,connectionLineType:Y=ir.Bezier,connectionLineStyle:L,connectionLineComponent:ie,connectionLineContainerStyle:te,deleteKeyCode:re="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:oe=!1,selectionMode:fe=yl.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:je=vl()?"Meta":"Control",zoomActivationKeyCode:ve=vl()?"Meta":"Control",snapToGrid:Ee,snapGrid:De,onlyRenderVisibleElements:Ue=!1,selectNodesOnDrag:qe,nodesDraggable:ft,autoPanOnNodeFocus:Jt,nodesConnectable:_t,nodesFocusable:$t,nodeOrigin:En=qb,edgesFocusable:Qn,edgesReconnectable:Zn,elementsSelectable:Nt=!0,defaultViewport:Ei=KT,minZoom:le=.5,maxZoom:pe=2,translateExtent:Se=gl,preventScrolling:_e=!0,nodeExtent:Pe,defaultMarkerColor:Bt="#b1b1b7",zoomOnScroll:jn=!0,zoomOnPinch:kt=!0,panOnScroll:ht=!1,panOnScrollSpeed:Ot=.5,panOnScrollMode:Xe=Or.Free,zoomOnDoubleClick:In=!0,panOnDrag:en=!0,onPaneClick:yu,onPaneMouseEnter:$r,onPaneMouseMove:Ur,onPaneMouseLeave:qr,onPaneScroll:Wn,onPaneContextMenu:Vr,paneClickDistance:sr=1,nodeClickDistance:xu=0,children:Ll,onReconnect:Wa,onReconnectStart:cr,onReconnectEnd:vu,onEdgeContextMenu:Il,onEdgeDoubleClick:Bl,onEdgeMouseEnter:Hl,onEdgeMouseMove:Ka,onEdgeMouseLeave:Ja,reconnectRadius:Pl=10,onNodesChange:$l,onEdgesChange:Bn,noDragClassName:Et="nodrag",noWheelClassName:Rt="nowheel",noPanClassName:Kn="nopan",fitView:Fr,fitViewOptions:Ul,connectOnClick:bu,attributionPosition:ql,proOptions:ur,defaultEdgeOptions:eo,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Ci=!1,disableKeyboardA11y:ki=!1,autoPanOnConnect:Ti,autoPanOnNodeDrag:gt,autoPanSpeed:Vl,connectionRadius:Fl,isValidConnection:Jn,onError:Ai,style:wu,id:to,nodeDragThreshold:Gl,connectionDragThreshold:Su,viewport:Gr,onViewportChange:Yr,width:Cn,height:Ut,colorMode:Yl="light",debug:Nu,onScroll:Xr,ariaLabelConfig:Xl,zIndexMode:dr="basic",...Eu},qt){const fr=to||"1",Ql=nA(Yl),no=T.useCallback(ei=>{ei.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Xr?.(ei)},[Xr]);return d.jsx("div",{"data-testid":"rf__wrapper",...Eu,onScroll:no,style:{...wu,...SM},ref:qt,className:St(["react-flow",l,Ql]),id:to,role:"application",children:d.jsxs(wM,{nodes:e,edges:n,width:Cn,height:Ut,fitView:Fr,fitViewOptions:Ul,minZoom:le,maxZoom:pe,nodeOrigin:En,nodeExtent:Pe,zIndexMode:dr,children:[d.jsx(vM,{onInit:h,onNodeClick:f,onEdgeClick:p,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:_,onNodeContextMenu:H,onNodeDoubleClick:M,nodeTypes:s,edgeTypes:c,connectionLineType:Y,connectionLineStyle:L,connectionLineComponent:ie,connectionLineContainerStyle:te,selectionKeyCode:de,selectionOnDrag:oe,selectionMode:fe,deleteKeyCode:re,multiSelectionKeyCode:je,panActivationKeyCode:xe,zoomActivationKeyCode:ve,onlyRenderVisibleElements:Ue,defaultViewport:Ei,translateExtent:Se,minZoom:le,maxZoom:pe,preventScrolling:_e,zoomOnScroll:jn,zoomOnPinch:kt,zoomOnDoubleClick:In,panOnScroll:ht,panOnScrollSpeed:Ot,panOnScrollMode:Xe,panOnDrag:en,onPaneClick:yu,onPaneMouseEnter:$r,onPaneMouseMove:Ur,onPaneMouseLeave:qr,onPaneScroll:Wn,onPaneContextMenu:Vr,paneClickDistance:sr,nodeClickDistance:xu,onSelectionContextMenu:q,onSelectionStart:U,onSelectionEnd:Z,onReconnect:Wa,onReconnectStart:cr,onReconnectEnd:vu,onEdgeContextMenu:Il,onEdgeDoubleClick:Bl,onEdgeMouseEnter:Hl,onEdgeMouseMove:Ka,onEdgeMouseLeave:Ja,reconnectRadius:Pl,defaultMarkerColor:Bt,noDragClassName:Et,noWheelClassName:Rt,noPanClassName:Kn,rfId:fr,disableKeyboardA11y:ki,nodeExtent:Pe,viewport:Gr,onViewportChange:Yr}),d.jsx(tA,{nodes:e,edges:n,defaultNodes:i,defaultEdges:a,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:C,onClickConnectEnd:N,nodesDraggable:ft,autoPanOnNodeFocus:Jt,nodesConnectable:_t,nodesFocusable:$t,edgesFocusable:Qn,edgesReconnectable:Zn,elementsSelectable:Nt,elevateNodesOnSelect:ji,elevateEdgesOnSelect:Ci,minZoom:le,maxZoom:pe,nodeExtent:Pe,onNodesChange:$l,onEdgesChange:Bn,snapToGrid:Ee,snapGrid:De,connectionMode:B,translateExtent:Se,connectOnClick:bu,defaultEdgeOptions:eo,fitView:Fr,fitViewOptions:Ul,onNodesDelete:I,onEdgesDelete:$,onDelete:F,onNodeDragStart:O,onNodeDrag:V,onNodeDragStop:G,onSelectionDrag:P,onSelectionDragStart:A,onSelectionDragStop:D,onMove:m,onMoveStart:g,onMoveEnd:v,noPanClassName:Kn,nodeOrigin:En,rfId:fr,autoPanOnConnect:Ti,autoPanOnNodeDrag:gt,autoPanSpeed:Vl,onError:Ai,connectionRadius:Fl,isValidConnection:Jn,selectNodesOnDrag:qe,nodeDragThreshold:Gl,connectionDragThreshold:Su,onBeforeDelete:z,debug:Nu,ariaLabelConfig:Xl,zIndexMode:dr}),d.jsx(WT,{onSelectionChange:ee}),Ll,d.jsx(GT,{proOptions:ur,position:ql}),d.jsx(FT,{rfId:fr,disableKeyboardA11y:ki})]})})}var EM=Yb(NM);const jM=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function CM({children:e}){const n=Be(jM);return n?Tc.createPortal(e,n):null}function kM(){const e=lt();return T.useCallback(n=>{const{domNode:i,updateNodeInternals:a}=e.getState(),l=Array.isArray(n)?n:[n],s=new Map;l.forEach(c=>{const f=i?.querySelector(`.react-flow__node[data-id="${c}"]`);f&&s.set(c,{id:c,nodeElement:f,force:!0})}),requestAnimationFrame(()=>a(s,{triggerFitView:!1}))},[])}const TM=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function AM(){return Be(TM,ot)}function MM({dimensions:e,lineWidth:n,variant:i,className:a}){return d.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:St(["react-flow__background-pattern",i,a])})}function DM({radius:e,className:n}){return d.jsx("circle",{cx:e,cy:e,r:e,className:St(["react-flow__background-pattern","dots",n])})}var ar;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ar||(ar={}));const _M={[ar.Dots]:1,[ar.Lines]:1,[ar.Cross]:6},OM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function yw({id:e,variant:n=ar.Dots,gap:i=20,size:a,lineWidth:l=1,offset:s=0,color:c,bgColor:f,style:p,className:h,patternClassName:m}){const g=T.useRef(null),{transform:v,patternId:b}=Be(OM,ot),w=a||_M[n],S=n===ar.Dots,C=n===ar.Cross,N=Array.isArray(i)?i:[i,i],k=[N[0]*v[2]||1,N[1]*v[2]||1],j=w*v[2],_=Array.isArray(s)?s:[s,s],H=C?[j,j]:k,M=[_[0]*v[2]||1+H[0]/2,_[1]*v[2]||1+H[1]/2],O=`${b}${e||""}`;return d.jsxs("svg",{className:St(["react-flow__background",h]),style:{...p,...su,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:g,"data-testid":"rf__background",children:[d.jsx("pattern",{id:O,x:v[0]%k[0],y:v[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:S?d.jsx(DM,{radius:j/2,className:m}):d.jsx(MM,{dimensions:H,lineWidth:l,variant:n,className:m})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}yw.displayName="Background";const RM=T.memo(yw);function zM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function LM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function IM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function BM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function HM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hc({children:e,className:n,...i}){return d.jsx("button",{type:"button",className:St(["react-flow__controls-button",n]),...i,children:e})}const PM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function xw({style:e,showZoom:n=!0,showFitView:i=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:s,onZoomOut:c,onFitView:f,onInteractiveChange:p,className:h,children:m,position:g="bottom-left",orientation:v="vertical","aria-label":b}){const w=lt(),{isInteractive:S,minZoomReached:C,maxZoomReached:N,ariaLabelConfig:k}=Be(PM,ot),{zoomIn:j,zoomOut:_,fitView:H}=lu(),M=()=>{j(),s?.()},O=()=>{_(),c?.()},V=()=>{H(l),f?.()},G=()=>{w.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),p?.(!S)},I=v==="horizontal"?"horizontal":"vertical";return d.jsxs(ou,{className:St(["react-flow__controls",I,h]),position:g,style:e,"data-testid":"rf__controls","aria-label":b??k["controls.ariaLabel"],children:[n&&d.jsxs(d.Fragment,{children:[d.jsx(hc,{onClick:M,className:"react-flow__controls-zoomin",title:k["controls.zoomIn.ariaLabel"],"aria-label":k["controls.zoomIn.ariaLabel"],disabled:N,children:d.jsx(zM,{})}),d.jsx(hc,{onClick:O,className:"react-flow__controls-zoomout",title:k["controls.zoomOut.ariaLabel"],"aria-label":k["controls.zoomOut.ariaLabel"],disabled:C,children:d.jsx(LM,{})})]}),i&&d.jsx(hc,{className:"react-flow__controls-fitview",onClick:V,title:k["controls.fitView.ariaLabel"],"aria-label":k["controls.fitView.ariaLabel"],children:d.jsx(IM,{})}),a&&d.jsx(hc,{className:"react-flow__controls-interactive",onClick:G,title:k["controls.interactive.ariaLabel"],"aria-label":k["controls.interactive.ariaLabel"],children:S?d.jsx(HM,{}):d.jsx(BM,{})}),m]})}xw.displayName="Controls";T.memo(xw);function $M({id:e,x:n,y:i,width:a,height:l,style:s,color:c,strokeColor:f,strokeWidth:p,className:h,borderRadius:m,shapeRendering:g,selected:v,onClick:b}){const{background:w,backgroundColor:S}=s||{},C=c||w||S;return d.jsx("rect",{className:St(["react-flow__minimap-node",{selected:v},h]),x:n,y:i,rx:m,ry:m,width:a,height:l,style:{fill:C,stroke:f,strokeWidth:p},shapeRendering:g,onClick:b?N=>b(N,e):void 0})}const UM=T.memo($M),qM=e=>e.nodes.map(n=>n.id),Xf=e=>e instanceof Function?e:()=>e;function VM({nodeStrokeColor:e,nodeColor:n,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:s=UM,onClick:c}){const f=Be(qM,ot),p=Xf(n),h=Xf(e),m=Xf(i),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:f.map(v=>d.jsx(GM,{id:v,nodeColorFunc:p,nodeStrokeColorFunc:h,nodeClassNameFunc:m,nodeBorderRadius:a,nodeStrokeWidth:l,NodeComponent:s,onClick:c,shapeRendering:g},v))})}function FM({id:e,nodeColorFunc:n,nodeStrokeColorFunc:i,nodeClassNameFunc:a,nodeBorderRadius:l,nodeStrokeWidth:s,shapeRendering:c,NodeComponent:f,onClick:p}){const{node:h,x:m,y:g,width:v,height:b}=Be(w=>{const{internals:S}=w.nodeLookup.get(e),C=S.userNode,{x:N,y:k}=S.positionAbsolute,{width:j,height:_}=wi(C);return{node:C,x:N,y:k,width:j,height:_}},ot);return!h||h.hidden||!xb(h)?null:d.jsx(f,{x:m,y:g,width:v,height:b,style:h.style,selected:!!h.selected,className:a(h),color:n(h),borderRadius:l,strokeColor:i(h),strokeWidth:s,shapeRendering:c,onClick:p,id:h.id})}const GM=T.memo(FM);var YM=T.memo(VM);const XM=200,QM=150,ZM=e=>!e.hidden,WM=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?yb(Tl(e.nodeLookup,{filter:ZM}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},KM="react-flow__minimap-desc";function vw({style:e,className:n,nodeStrokeColor:i,nodeColor:a,nodeClassName:l="",nodeBorderRadius:s=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:p,maskColor:h,maskStrokeColor:m,maskStrokeWidth:g,position:v="bottom-right",onClick:b,onNodeClick:w,pannable:S=!1,zoomable:C=!1,ariaLabel:N,inversePan:k,zoomStep:j=1,offsetScale:_=5}){const H=lt(),M=T.useRef(null),{boundingRect:O,viewBB:V,rfId:G,panZoom:I,translateExtent:$,flowWidth:F,flowHeight:ee,ariaLabelConfig:A}=Be(WM,ot),P=e?.width??XM,D=e?.height??QM,q=O.width/P,U=O.height/D,Z=Math.max(q,U),z=Z*P,B=Z*D,Y=_*Z,L=O.x-(z-O.width)/2-Y,ie=O.y-(B-O.height)/2-Y,te=z+Y*2,re=B+Y*2,de=`${KM}-${G}`,oe=T.useRef(0),fe=T.useRef();oe.current=Z,T.useEffect(()=>{if(M.current&&I)return fe.current=fT({domNode:M.current,panZoom:I,getTransform:()=>H.getState().transform,getViewScale:()=>oe.current}),()=>{fe.current?.destroy()}},[I]),T.useEffect(()=>{fe.current?.update({translateExtent:$,width:F,height:ee,inversePan:k,pannable:S,zoomStep:j,zoomable:C})},[S,C,k,j,$,F,ee]);const xe=b?Ee=>{const[De,Ue]=fe.current?.pointer(Ee)||[0,0];b(Ee,{x:De,y:Ue})}:void 0,je=w?T.useCallback((Ee,De)=>{const Ue=H.getState().nodeLookup.get(De).internals.userNode;w(Ee,Ue)},[]):void 0,ve=N??A["minimap.ariaLabel"];return d.jsx(ou,{position:v,style:{...e,"--xy-minimap-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof g=="number"?g*Z:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:St(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:P,height:D,viewBox:`${L} ${ie} ${te} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:M,onClick:xe,children:[ve&&d.jsx("title",{id:de,children:ve}),d.jsx(YM,{onClick:je,nodeColor:a,nodeStrokeColor:i,nodeBorderRadius:s,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${L-Y},${ie-Y}h${te+Y*2}v${re+Y*2}h${-te-Y*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}vw.displayName="MiniMap";const JM=T.memo(vw),e2=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,t2={[Fa.Line]:"right",[Fa.Handle]:"bottom-right"};function n2({nodeId:e,position:n,variant:i=Fa.Handle,className:a,style:l=void 0,children:s,color:c,minWidth:f=10,minHeight:p=10,maxWidth:h=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:v,autoScale:b=!0,shouldResize:w,onResizeStart:S,onResize:C,onResizeEnd:N}){const k=Xa(),j=typeof e=="string"?e:k,_=lt(),H=T.useRef(null),M=i===Fa.Handle,O=Be(T.useCallback(e2(M&&b),[M,b]),ot),V=T.useRef(null),G=n??t2[i];T.useEffect(()=>{if(!(!H.current||!j))return V.current||(V.current=CT({domNode:H.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:$,transform:F,snapGrid:ee,snapToGrid:A,nodeOrigin:P,domNode:D}=_.getState();return{nodeLookup:$,transform:F,snapGrid:ee,snapToGrid:A,nodeOrigin:P,paneDomNode:D}},onChange:($,F)=>{const{triggerNodeChanges:ee,nodeLookup:A,parentLookup:P,nodeOrigin:D}=_.getState(),q=[],U={x:$.x,y:$.y},Z=A.get(j);if(Z&&Z.expandParent&&Z.parentId){const z=Z.origin??D,B=$.width??Z.measured.width??0,Y=$.height??Z.measured.height??0,L={id:Z.id,parentId:Z.parentId,rect:{width:B,height:Y,...vb({x:$.x??Z.position.x,y:$.y??Z.position.y},{width:B,height:Y},Z.parentId,A,z)}},ie=up([L],A,P,D);q.push(...ie),U.x=$.x?Math.max(z[0]*B,$.x):void 0,U.y=$.y?Math.max(z[1]*Y,$.y):void 0}if(U.x!==void 0&&U.y!==void 0){const z={id:j,type:"position",position:{...U}};q.push(z)}if($.width!==void 0&&$.height!==void 0){const B={id:j,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};q.push(B)}for(const z of F){const B={...z,type:"position"};q.push(B)}ee(q)},onEnd:({width:$,height:F})=>{const ee={id:j,type:"dimensions",resizing:!1,dimensions:{width:$,height:F}};_.getState().triggerNodeChanges([ee])}})),V.current.update({controlPosition:G,boundaries:{minWidth:f,minHeight:p,maxWidth:h,maxHeight:m},keepAspectRatio:g,resizeDirection:v,onResizeStart:S,onResize:C,onResizeEnd:N,shouldResize:w}),()=>{V.current?.destroy()}},[G,f,p,h,m,g,S,C,N,w]);const I=G.split("-");return d.jsx("div",{className:St(["react-flow__resize-control","nodrag",...I,i,a]),ref:H,style:{...l,scale:O,...c&&{[M?"backgroundColor":"borderColor"]:c}},children:s})}T.memo(n2);const Tv=e=>{let n;const i=new Set,a=(h,m)=>{const g=typeof h=="function"?h(n):h;if(!Object.is(g,n)){const v=n;n=m??(typeof g!="object"||g===null)?g:Object.assign({},n,g),i.forEach(b=>b(n,v))}},l=()=>n,f={setState:a,getState:l,getInitialState:()=>p,subscribe:h=>(i.add(h),()=>i.delete(h))},p=n=e(a,l,f);return f},i2=(e=>e?Tv(e):Tv),r2=e=>e;function a2(e,n=r2){const i=Nn.useSyncExternalStore(e.subscribe,Nn.useCallback(()=>n(e.getState()),[e,n]),Nn.useCallback(()=>n(e.getInitialState()),[e,n]));return Nn.useDebugValue(i),i}const Av=e=>{const n=i2(e),i=a=>a2(n,a);return Object.assign(i,n),i},cu=(e=>e?Av(e):Av),Ce=cu((e,n)=>({workflowId:null,workflowName:"Untitled Workflow",nodes:[],edges:[],selectedNodeId:null,configOpen:!1,setNodes:i=>e({nodes:i}),setEdges:i=>e({edges:i}),onNodesChange:i=>{e({nodes:Fb(i,n().nodes)})},onEdgesChange:i=>{e({edges:Gb(i,n().edges)})},onConnect:i=>{const a={...i,type:"animated"};e({edges:Cb(a,n().edges)})},addNode:i=>{e({nodes:[...n().nodes,i]})},updateNode:(i,a)=>{e({nodes:n().nodes.map(l=>l.id===i?{...l,data:{...l.data,...a}}:l)})},deleteNode:i=>{e({nodes:n().nodes.filter(a=>a.id!==i),edges:n().edges.filter(a=>a.source!==i&&a.target!==i)})},setSelectedNode:i=>e({selectedNodeId:i}),setConfigOpen:i=>e({configOpen:i}),openConfig:i=>e({selectedNodeId:i,configOpen:!0}),closeConfig:()=>e({configOpen:!1}),clearWorkflow:()=>e({nodes:[],edges:[],selectedNodeId:null,configOpen:!1}),setWorkflowName:i=>e({workflowName:i}),getWorkflowData:()=>({id:n().workflowId,name:n().workflowName,nodes:n().nodes,edges:n().edges}),loadWorkflow:i=>{e({workflowId:i.id||Date.now().toString(),workflowName:i.name||"Untitled Workflow",nodes:i.nodes||[],edges:i.edges||[],selectedNodeId:null})}})),We=cu((e,n)=>({isRunning:!1,isPaused:!1,isDebugMode:!1,currentNodeId:null,executionPath:[],logs:[],nodeResults:{},edgeSnapshots:{},artifacts:[],startTime:null,endTime:null,startExecution:()=>{e({isRunning:!0,isPaused:!1,startTime:Date.now(),endTime:null,logs:[],nodeResults:{},executionPath:[],currentNodeId:null})},pauseExecution:()=>e({isPaused:!0}),resumeExecution:()=>e({isPaused:!1}),setPaused:i=>e({isPaused:i}),stopExecution:()=>{e({isRunning:!1,isPaused:!1,endTime:Date.now(),currentNodeId:null})},setCurrentNode:i=>{const a=n().executionPath;e({currentNodeId:i,executionPath:i?[...a,i]:a})},setNodeResult:(i,a)=>{e({nodeResults:{...n().nodeResults,[i]:a}})},addEdgeSnapshot:(i,a)=>{const l=n().edgeSnapshots,s=l[i]||[],c={timestamp:Date.now(),data:a,preview:JSON.stringify(a,null,2).slice(0,500)},f=[...s,c].slice(-5);e({edgeSnapshots:{...l,[i]:f}})},getEdgeSnapshots:i=>n().edgeSnapshots[i]||[],getLastEdgeSnapshot:i=>{const a=n().edgeSnapshots[i];return a?.[a.length-1]||null},clearEdgeSnapshots:()=>e({edgeSnapshots:{}}),addLog:i=>{const a={id:Date.now().toString()+Math.random().toString(36).slice(2,9),timestamp:new Date().toISOString(),...i};e({logs:[...n().logs,a]})},addArtifact:i=>{e({artifacts:[...n().artifacts,i]})},clearLogs:()=>e({logs:[]}),setDebugMode:i=>e({isDebugMode:i}),getExecutionDuration:()=>{const{startTime:i,endTime:a,isRunning:l}=n();return i?(l?Date.now():a||Date.now())-i:0},reset:()=>{e({isRunning:!1,isPaused:!1,isDebugMode:!1,currentNodeId:null,executionPath:[],logs:[],nodeResults:{},edgeSnapshots:{},artifacts:[],startTime:null,endTime:null})}})),Ga=cu((e,n)=>({toasts:[],addToast:(i,a="info",l=3e3)=>{const s=Date.now().toString()+Math.random().toString(36).slice(2,6),c={id:s,message:i,type:a,duration:l};return e({toasts:[...n().toasts,c]}),l>0&&setTimeout(()=>{n().removeToast(s)},l),s},removeToast:i=>{e({toasts:n().toasts.filter(a=>a.id!==i)})},success:(i,a)=>n().addToast(i,"success",a),error:(i,a)=>n().addToast(i,"error",a??5e3),warning:(i,a)=>n().addToast(i,"warning",a),info:(i,a)=>n().addToast(i,"info",a)}));function o2({message:e,type:n,onClose:i}){const a={success:"",error:"",warning:"",info:""};return d.jsxs("div",{className:`toast toast-${n}`,role:"alert",children:[d.jsx("span",{className:"toast-icon",children:a[n]}),d.jsx("span",{className:"toast-message",children:e}),d.jsx("button",{className:"toast-close",onClick:i,children:""})]})}function l2(){const e=Ga(i=>i.toasts),n=Ga(i=>i.removeToast);return e.length===0?null:d.jsx("div",{className:"toast-container",children:e.map(i=>d.jsx(o2,{...i,onClose:()=>n(i.id)},i.id))})}const s2=T.memo(l2),Br={trigger:{name:"Triggers",color:"#00c853",description:"Start a workflow execution"},action:{name:"Actions",color:"#2979ff",description:"Perform operations on data"},logic:{name:"Logic",color:"#ffab00",description:"Control workflow flow"},ai:{name:"AI",color:"#e040fb",description:"AI-powered operations"}},Si={manualTrigger:{type:"manualTrigger",category:"trigger",name:"Manual Trigger",description:"Manually start the workflow",icon:"",inputs:0,outputs:1,defaultData:{label:"Manual Trigger"}},scheduleTrigger:{type:"scheduleTrigger",category:"trigger",name:"Schedule Trigger",description:"Run on a schedule (cron-like)",icon:"",inputs:1,outputs:1,defaultData:{label:"Schedule",schedule:"*/5 * * * *",enabled:!1}},webhookTrigger:{type:"webhookTrigger",category:"trigger",name:"Webhook Trigger",description:"Receive external HTTP triggers",icon:"",inputs:0,outputs:1,defaultData:{label:"Webhook",method:"POST",endpoint:"/webhook/default",authRequired:!1}},errorTrigger:{type:"errorTrigger",category:"trigger",name:"Error Trigger",description:"Trigger when any node fails",icon:"",inputs:0,outputs:1,defaultData:{label:"On Error",watchAll:!0,specificNodes:[],retryEnabled:!1,retryCount:3}},browserEventTrigger:{type:"browserEventTrigger",category:"trigger",name:"Browser Event",description:"Trigger on browser events",icon:"",inputs:0,outputs:1,defaultData:{label:"Browser Event",eventType:"focus",selector:"",urlPattern:"",interval:1e3}},output:{type:"output",category:"action",name:"Output",description:"Workflow output - displays or saves result",icon:"",inputs:1,outputs:0,defaultData:{label:"Output",outputType:"console",filename:"output.txt",formatJson:!1}},httpRequest:{type:"httpRequest",category:"action",name:"HTTP Request",description:"Make HTTP requests to APIs",icon:"",inputs:1,outputs:1,defaultData:{label:"HTTP Request",method:"GET",url:"",headers:{},body:"",timeout:3e4}},codeExecutor:{type:"codeExecutor",category:"action",name:"Code",description:"Execute JavaScript code",icon:"",inputs:1,outputs:1,defaultData:{label:"Code",code:"// Access input data via `input`\n// Return output data\nreturn input;"}},setVariable:{type:"setVariable",category:"action",name:"Set Variable",description:"Set or transform data",icon:"",inputs:1,outputs:1,defaultData:{label:"Set Variable",variableName:"data",value:"",mode:"set"}},fileSystem:{type:"fileSystem",category:"action",name:"File System",description:"Read/write local files (FSA API)",icon:"",inputs:1,outputs:1,defaultData:{label:"File",mode:"read",filename:"",fileTypes:[]}},localStorage:{type:"localStorage",category:"action",name:"Local Storage",description:"Read/write to IndexedDB or LocalStorage",icon:"",inputs:1,outputs:1,defaultData:{label:"Storage",mode:"get",storageType:"indexedDB",key:""}},ifElse:{type:"ifElse",category:"logic",name:"If/Else",description:"Branch based on conditions",icon:"",inputs:1,outputs:2,defaultData:{label:"If/Else",condition:"",operator:"equals",compareValue:""}},loop:{type:"loop",category:"logic",name:"Loop",description:"Iterate over array items or repeat N times",icon:"",inputs:1,outputs:2,defaultData:{label:"Loop",iterations:1,itemsPath:"items",maxIterations:100}},switchNode:{type:"switchNode",category:"logic",name:"Switch",description:"Route to different outputs",icon:"",inputs:1,outputs:4,defaultData:{label:"Switch",field:"",routes:[{value:"",outputIndex:0},{value:"",outputIndex:1}],defaultOutput:3}},merge:{type:"merge",category:"logic",name:"Merge",description:"Combine multiple inputs",icon:"",inputs:2,outputs:1,defaultData:{label:"Merge",mode:"wait"}},groupNode:{type:"groupNode",category:"logic",name:"Group",description:"Collapsible container for grouping nodes",icon:"",inputs:1,outputs:1,defaultData:{label:"Node Group",collapsed:!1,childNodeIds:[],width:300,height:200,color:"#6366f1"}},chatModel:{type:"chatModel",category:"ai",name:"Chat Model",description:"AI model provider for agents",icon:"",inputs:0,outputs:0,isProvider:!0,defaultData:{label:"Chat Model",provider:"webllm",modelId:"gemma-2-2b-it",modelName:"Gemma 2 2B",temperature:.7,maxTokens:2e3}},aiAgent:{type:"aiAgent",category:"ai",name:"AI Agent",description:"WebLLM-powered AI agent with ReAct",icon:"",inputs:1,outputs:1,defaultData:{label:"AI Agent",systemPrompt:"",modelId:"gemma-2-2b-it-q4f16_1-MLC",temperature:.7,maxTokens:2e3,tools:[]}},vectorMemory:{type:"vectorMemory",category:"ai",name:"Vector Memory",description:"Store and query local vector memory",icon:"",inputs:1,outputs:1,isProvider:!0,defaultData:{label:"Memory",mode:"query",namespace:"default",topK:5,minScore:.3}},waitForApproval:{type:"waitForApproval",category:"ai",name:"Wait for Approval",description:"Pause workflow for human approval",icon:"",inputs:1,outputs:2,defaultData:{label:"Approval",title:"Approval Required",message:"",timeout:0,notifyBrowser:!0}},subWorkflow:{type:"subWorkflow",category:"ai",name:"Sub-Workflow",description:"Execute another workflow as subroutine",icon:"",inputs:1,outputs:1,defaultData:{label:"Sub-Workflow",workflowId:"",workflowName:"",passInput:!0,async:!1}},textToSpeech:{type:"textToSpeech",category:"ai",name:"Text to Speech",description:"Convert text to audio using Web Speech API",icon:"",inputs:1,outputs:1,defaultData:{label:"Text to Speech",provider:"webSpeech",voice:"default",speed:1,pitch:1,autoPlay:!0}},imageGeneration:{type:"imageGeneration",category:"ai",name:"Image Generation",description:"Generate images using AI models",icon:"",inputs:1,outputs:1,defaultData:{label:"Generate Image",provider:"local",model:"stable-diffusion",size:"512x512",negativePrompt:"",seed:null,steps:20}},pythonExecutor:{type:"pythonExecutor",category:"ai",name:"Python Executor",description:"Run Python code locally using Pyodide",icon:"",inputs:1,outputs:1,defaultData:{label:"Python",code:`# Access input via 'input' variable
result = input`,packages:[],timeout:3e4}}};function c2(){const e={};return Object.values(Br).forEach(n=>{e[n.name]=[]}),Object.values(Si).forEach(n=>{const i=Br[n.category];i&&e[i.name].push(n)}),e}function tr(e,n){const i=Si[e];if(!i)throw new Error(`Unknown node type: ${e}`);return{id:`${e}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,type:e,position:n,data:{...i.defaultData}}}function uu(e){const n=Si[e];if(!n)return"#666666";const i=Br[n.category];return i?i.color:"#666666"}function u2(e,n,i){const{source:a,target:l}=e;if(a===l)return!1;const s=n.find(b=>b.id===a),c=n.find(b=>b.id===l);if(!s||!c||Si[c.type]?.category==="trigger"&&c.type!=="scheduleTrigger"||i.find(b=>b.source===a&&b.target===l))return!1;const h=s.type==="loop";if(i.find(b=>b.source===l&&b.target===a)&&!h)return!1;const{sourceHandle:g,targetHandle:v}=e;return!(v==="model-slot"&&s.type!=="chatModel"||v==="memory-slot"&&s.type!=="vectorMemory"||v==="tool-slot"&&!["codeExecutor","pythonExecutor","httpRequest","pythonTool"].includes(s.type))}function d2(e){return e.filter(n=>Si[n.type]?.category==="trigger")}function f2({x:e,y:n,type:i,onClose:a,onAction:l}){const s=i==="node"?[{id:"duplicate",label:"Duplicate",icon:"",shortcut:"Ctrl+D"},{id:"copy",label:"Copy",icon:"",shortcut:"Ctrl+C"},{id:"cut",label:"Cut",icon:"",shortcut:"Ctrl+X"},{id:"divider1",divider:!0},{id:"delete",label:"Delete",icon:"",shortcut:"Del",danger:!0}]:i==="insert"?[{id:"addTrigger",label:"Add Trigger",icon:""},{id:"addHTTP",label:"Add HTTP Request",icon:""},{id:"addAI",label:"Add AI Agent",icon:""},{id:"codeExecutor",label:"Add Code Executor",icon:""},{id:"setVariable",label:"Add Set Variable",icon:""},{id:"divider1",divider:!0},{id:"ifElse",label:"Add If/Else",icon:""},{id:"textToSpeech",label:"Add Text to Speech",icon:""},{id:"output",label:"Add Output",icon:""}]:[{id:"addTrigger",label:"Add Trigger",icon:""},{id:"addHTTP",label:"Add HTTP Request",icon:""},{id:"addAI",label:"Add AI Agent",icon:""},{id:"divider1",divider:!0},{id:"paste",label:"Paste",icon:"",shortcut:"Ctrl+V"},{id:"selectAll",label:"Select All",icon:"",shortcut:"Ctrl+A"},{id:"divider2",divider:!0},{id:"fitView",label:"Fit View",icon:""},{id:"zoomIn",label:"Zoom In",icon:"",shortcut:"Ctrl++"},{id:"zoomOut",label:"Zoom Out",icon:"",shortcut:"Ctrl+-"}],c=f=>{l(f),a()};return d.jsx("div",{className:"context-menu",style:{left:e,top:n},onClick:f=>f.stopPropagation(),children:s.map(f=>f.divider?d.jsx("div",{className:"context-menu-divider"},f.id):d.jsxs("button",{className:`context-menu-item ${f.danger?"danger":""}`,onClick:()=>c(f.id),children:[d.jsx("span",{className:"menu-icon",children:f.icon}),d.jsx("span",{className:"menu-label",children:f.label}),f.shortcut&&d.jsx("span",{className:"menu-shortcut",children:f.shortcut})]},f.id))})}const h2=T.memo(f2),pc={circle:"circle",diamond:"diamond"},Mv={workflow:{id:"workflow",label:"Data",color:"#888",strokeDasharray:"none",shape:pc.circle,description:"Standard data flow connection"},model:{id:"model",label:"Chat Model",color:"#6366f1",strokeDasharray:"5,5",shape:pc.diamond,description:"AI model provider connection",required:!0,warningColor:"#ef4444"},memory:{id:"memory",label:"Memory",color:"#10b981",strokeDasharray:"5,5",shape:pc.diamond,description:"Memory/context connection",required:!1},tool:{id:"tool",label:"Tool",color:"#f59e0b",strokeDasharray:"5,5",shape:pc.diamond,description:"Tool/function connection",multiple:!0,required:!1}},p2={resourceSlots:[{id:"model-slot",type:"model",position:"bottom",label:"Model",shape:"diamond",required:!0},{id:"memory-slot",type:"memory",position:"bottom",label:"Memory",shape:"diamond",required:!1},{id:"tool-slot",type:"tool",position:"bottom",label:"Tools",shape:"diamond",multiple:!0,required:!1}]},m2="modulepreload",g2=function(e){return"/"+e},Dv={},y2=function(n,i,a){let l=Promise.resolve();if(i&&i.length>0){let p=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=p(i.map(h=>{if(h=g2(h),h in Dv)return;Dv[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":m2,m||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return n().catch(s)})},x2=[{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",size:"~1.4GB",description:"Google's fast, lightweight model (Recommended)",category:"recommended"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",size:"~1GB",description:"Alibaba's efficient small model",category:"recommended"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",name:"SmolLM2 1.7B",size:"~1.1GB",description:"HuggingFace's compact model",category:"recommended"},{id:"Qwen2.5-0.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 0.5B",size:"~350MB",description:"Ultra-light Qwen for basic tasks",category:"qwen"},{id:"Qwen2.5-3B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 3B",size:"~2GB",description:"Balanced Qwen with good reasoning",category:"qwen"},{id:"Qwen2.5-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 7B",size:"~4.5GB",description:"Powerful Qwen for complex tasks",category:"qwen"},{id:"Qwen2.5-Coder-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 1.5B",size:"~1GB",description:"Optimized for code generation",category:"qwen"},{id:"Qwen2.5-Coder-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 7B",size:"~4.5GB",description:"Advanced coding assistant",category:"qwen"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi-3.5 Mini",size:"~2.4GB",description:"Microsoft's balanced 3.8B model",category:"medium"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",name:"Llama 3.2 3B",size:"~2GB",description:"Meta's capable small model",category:"medium"},{id:"Mistral-7B-Instruct-v0.3-q4f16_1-MLC",name:"Mistral 7B v0.3",size:"~4.5GB",description:"Mistral AI's flagship model",category:"medium"},{id:"TinyLlama-1.1B-Chat-v1.0-q4f16_1-MLC",name:"TinyLlama 1.1B",size:"~700MB",description:"Ultra-fast for simple tasks",category:"tiny"},{id:"SmolLM2-360M-Instruct-q4f16_1-MLC",name:"SmolLM2 360M",size:"~250MB",description:"Smallest practical model",category:"tiny"}];class v2{constructor(){this.worker=null,this.isLoading=!1,this.isReady=!1,this.currentModel=null,this.messageId=0,this.pendingRequests=new Map}static async checkWebGPUSupport(){if(!navigator.gpu)return{supported:!1,reason:"WebGPU not available in this browser"};try{const n=await navigator.gpu.requestAdapter();return n?{supported:!0,adapter:n}:{supported:!1,reason:"No WebGPU adapter found"}}catch(n){return{supported:!1,reason:n.message}}}async downloadModel(n,i=null){return new Promise((a,l)=>{const s=new Worker(new URL("/assets/webllm.worker-Ch0B_N4r.js",import.meta.url),{type:"module"}),c=this.getNextMessageId();s.onmessage=f=>{const{type:p,id:h,progress:m,text:g,error:v}=f.data;if(!(h!==c&&p!=="INIT_PROGRESS"))switch(p){case"INIT_PROGRESS":i&&i({progress:m,text:g});break;case"INIT_COMPLETE":s.terminate(),a(!0);break;case"ERROR":s.terminate(),l(new Error(v));break}},s.onerror=f=>{s.terminate(),l(f)},s.postMessage({type:"INIT",id:c,payload:{modelId:n}})})}async initialize(n=x2[0].id,i=null){if(this.isLoading)throw new Error("Model is already loading");return this.isLoading=!0,new Promise((a,l)=>{this.worker=new Worker(new URL("/assets/webllm.worker-Ch0B_N4r.js",import.meta.url),{type:"module"});const s=this.getNextMessageId();this.worker.onmessage=c=>{const{type:f,id:p,progress:h,text:m,timeElapsed:g,error:v}=c.data;if(!(p!==s&&f!=="INIT_PROGRESS"))switch(f){case"INIT_PROGRESS":i&&i({progress:h,text:m,timeElapsed:g});break;case"INIT_COMPLETE":this.isReady=!0,this.isLoading=!1,this.currentModel=n,a(!0);break;case"ERROR":this.isLoading=!1,l(new Error(v));break}},this.worker.onerror=c=>{this.isLoading=!1,l(c)},this.worker.postMessage({type:"INIT",id:s,payload:{modelId:n}})})}async generateWithHistory(n,i=[],a={},l=null){if(!this.isReady||!this.worker)throw new Error("Model not loaded");const{maxTokens:s=4e6,temperature:c=1,systemPrompt:f=""}=a,p=this.getNextMessageId(),h=!!l;return new Promise((m,g)=>{const v=b=>{const{type:w,id:S,text:C,token:N,error:k}=b.data;if(S===p)switch(w){case"GENERATE_TOKEN":l&&l(N,C);break;case"GENERATE_COMPLETE":this.worker.removeEventListener("message",v),m(C);break;case"ERROR":this.worker.removeEventListener("message",v),g(new Error(k));break}};this.worker.addEventListener("message",v),this.worker.postMessage({type:"GENERATE",id:p,payload:{userMessage:n,history:i,maxTokens:s,temperature:c,systemPrompt:f,streaming:h}})})}async resetChat(){if(!this.worker)return;const n=this.getNextMessageId();this.worker.postMessage({type:"RESET",id:n})}async unload(){this.worker&&(this.worker.terminate(),this.worker=null,this.isReady=!1,this.currentModel=null)}getNextMessageId(){return++this.messageId}}const rr=new v2,b2="EchoesArtifactsDB",Uc="artifacts",w2=1,S2=()=>new Promise((e,n)=>{const i=indexedDB.open(b2,w2);i.onerror=a=>n("IndexedDB error: "+a.target.error),i.onsuccess=a=>e(a.target.result),i.onupgradeneeded=a=>{const l=a.target.result;if(!l.objectStoreNames.contains(Uc)){const s=l.createObjectStore(Uc,{keyPath:"id"});s.createIndex("executionId","executionId",{unique:!1}),s.createIndex("nodeId","nodeId",{unique:!1}),s.createIndex("timestamp","timestamp",{unique:!1})}}}),N2=async e=>{const n=await S2();return new Promise((i,a)=>{const c=n.transaction([Uc],"readwrite").objectStore(Uc).put(e);c.onsuccess=()=>i(e),c.onerror=f=>a(f.target.error)})};class E2{constructor(){this.storagePrefix="echoes_memory_"}_getKey(n){return`${this.storagePrefix}${n}`}_load(n){try{const i=localStorage.getItem(this._getKey(n));return i?JSON.parse(i):[]}catch(i){return console.error("Memory load error:",i),[]}}_save(n,i){try{localStorage.setItem(this._getKey(n),JSON.stringify(i))}catch(a){console.error("Memory save error:",a)}}_tokenize(n){return n?new Set(n.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(i=>i.length>2)):new Set}_similarity(n,i){const a=this._tokenize(n),l=this._tokenize(i);if(a.size===0||l.size===0)return 0;const s=new Set([...a].filter(f=>l.has(f))),c=new Set([...a,...l]);return s.size/c.size}async upsert(n="default",i){const a=this._load(n),l=Date.now(),s=Array.isArray(i)?i:[i];let c=0,f=0;return s.forEach(p=>{p.id||(p.id=`mem_${l}_${Math.random().toString(36).substr(2,9)}`);const h=a.findIndex(g=>g.id===p.id),m={id:p.id,text:p.text||JSON.stringify(p),metadata:p.metadata||{},timestamp:l};h>=0?(a[h]=m,f++):(a.push(m),c++)}),this._save(n,a),{status:"success",added:c,updated:f,total:a.length}}async query(n="default",i,a=5,l=.1){const c=this._load(n).map(f=>{const p=this._similarity(i,f.text);return{...f,score:p}}).filter(f=>f.score>=l).sort((f,p)=>p.score-f.score).slice(0,a);return{matches:c,count:c.length}}async delete(n="default",i=[],a=!1){if(a)return localStorage.removeItem(this._getKey(n)),{status:"success",deleted:"all"};const l=this._load(n),s=l.length,c=new Set(Array.isArray(i)?i:[i]),f=l.filter(p=>!c.has(p.id));return this._save(n,f),{status:"success",deleted:s-f.length,remaining:f.length}}}const mc=new E2,j2=["window","document","location","navigator","fetch","XMLHttpRequest","WebSocket","EventSource","Worker","SharedWorker","ServiceWorker","importScripts","eval","Function","localStorage","sessionStorage","indexedDB","caches","cookieStore","crypto","Notification","alert","confirm","prompt","open","close","postMessage","parent","top","frames","opener","self","globalThis"],C2={Math,Array,Object,String,Number,Boolean,Date,RegExp,Map,Set,WeakMap,WeakSet,JSON,Promise,Error,TypeError,RangeError,SyntaxError,parseInt,parseFloat,isNaN,isFinite,encodeURI,decodeURI,encodeURIComponent,decodeURIComponent,console:{log:(...e)=>console.log("[Sandbox]",...e),info:(...e)=>console.info("[Sandbox]",...e),warn:(...e)=>console.warn("[Sandbox]",...e),error:(...e)=>console.error("[Sandbox]",...e)},setTimeout:(e,n)=>setTimeout(e,Math.min(n,3e4)),undefined:void 0,NaN:NaN,Infinity:1/0};async function k2(e,n,i={},a={}){const{timeout:l=3e4}=a;if(typeof e!="string")throw new Error("Code must be a string");const s=[/\beval\s*\(/gi,/\bFunction\s*\(/gi,/\bimport\s*\(/gi,/\bimport\s+/gi,/\brequire\s*\(/gi,/\b__proto__\b/gi,/\bconstructor\s*\[/gi,/\bprototype\b/gi];for(const m of s)if(m.test(e))throw new Error(`Potentially dangerous code pattern detected: ${m.source}`);const c={...C2,input:n,context:{nodeId:i.nodeId}};for(const m of j2)c[m]=new Proxy({},{get(){throw new Error(`Access to '${m}' is not allowed in sandboxed code`)},set(){throw new Error(`Cannot modify '${m}' in sandboxed code`)},apply(){throw new Error(`Cannot call '${m}' in sandboxed code`)}});const f=Object.keys(c),p=Object.values(c),h=`
    "use strict";
    return (async () => {
      ${e}
    })();
  `;try{const m=new Function(...f,h);return await Promise.race([m(...p),new Promise((v,b)=>setTimeout(()=>b(new Error(`Execution timeout after ${l}ms`)),l))])}catch(m){const g=m.message.replace(/at\s+.*?:\d+:\d+/g,"").replace(/\n\s+at\s+.*/g,"").trim();throw new Error(`Sandbox execution error: ${g}`)}}const T2={$now:()=>new Date().toISOString(),$uuid:()=>crypto.randomUUID?.()||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)}),$formatDate:(e,n="yyyy-MM-dd")=>{const i=new Date(e),a=l=>String(l).padStart(2,"0");return n.replace("yyyy",i.getFullYear()).replace("MM",a(i.getMonth()+1)).replace("dd",a(i.getDate())).replace("HH",a(i.getHours())).replace("mm",a(i.getMinutes())).replace("ss",a(i.getSeconds()))},$upper:e=>String(e).toUpperCase(),$lower:e=>String(e).toLowerCase(),$trim:e=>String(e).trim(),$replace:(e,n,i)=>String(e).replace(n,i),$split:(e,n)=>String(e).split(n),$join:(e,n=",")=>Array.isArray(e)?e.join(n):String(e),$round:(e,n=0)=>Number(Number(e).toFixed(n)),$floor:e=>Math.floor(Number(e)),$ceil:e=>Math.ceil(Number(e)),$abs:e=>Math.abs(Number(e)),$min:(...e)=>Math.min(...e.map(Number)),$max:(...e)=>Math.max(...e.map(Number)),$length:e=>Array.isArray(e)?e.length:String(e).length,$first:e=>Array.isArray(e)?e[0]:e,$last:e=>Array.isArray(e)?e[e.length-1]:e,$reverse:e=>Array.isArray(e)?[...e].reverse():e,$keys:e=>typeof e=="object"&&e!==null?Object.keys(e):[],$values:e=>typeof e=="object"&&e!==null?Object.values(e):[],$pick:(e,...n)=>typeof e!="object"||e===null?{}:n.reduce((i,a)=>(a in e&&(i[a]=e[a]),i),{}),$stringify:(e,n=!1)=>JSON.stringify(e,null,n?2:void 0),$parse:e=>{try{return JSON.parse(e)}catch{return e}},$if:(e,n,i)=>e?n:i,$default:(e,n)=>e??n,$isEmpty:e=>e==null||e===""||Array.isArray(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0};function A2(e,n={}){const i=e.trim(),a=[/\beval\b/i,/\bFunction\b/,/\bimport\b/i,/\brequire\b/i,/\b__proto__\b/,/\bconstructor\b/,/\bprototype\b/,/\bwindow\b/i,/\bdocument\b/i,/\bfetch\b/i,/\bglobalThis\b/i];for(const s of a)if(s.test(i))return console.warn(`Blocked dangerous expression: ${s.source}`),"{{BLOCKED: unsafe pattern}}";const l={...T2,$json:n.input||{},$input:n.input||{},$index:n.index??0,$item:n.item??null,$node:n.nodeData||{},$workflow:n.workflowData||{},...n.variables};try{const s=Object.keys(l),c=Object.values(l),f=`"use strict"; return (${i});`;return new Function(...s,f)(...c)}catch(s){return console.warn(`Expression error: ${s.message}`,{expr:e,context:n}),`{{ERROR: ${s.message}}}`}}function qc(e,n={}){if(typeof e!="string")return e;const i=/\{\{\s*((?:[^{}]|\{[^{}]*\})*)\s*\}\}/g;return e.replace(i,(a,l)=>{const s=A2(l,n);return s==null?"":typeof s=="object"?JSON.stringify(s):String(s)})}function M2(){return[{name:"$json",description:"Input data object",example:"$json.fieldName"},{name:"$input",description:"Full input object",example:"$input"},{name:"$index",description:"Current loop index",example:"$index"},{name:"$item",description:"Current loop item",example:"$item"},{name:"$node",description:"Current node data",example:"$node.label"},{name:"$now",description:"Current timestamp",example:"$now"},{name:"$uuid",description:"Generate UUID",example:"$uuid"},{name:"$formatDate",description:"Format date",example:'$formatDate($now, "yyyy-MM-dd")'},{name:"$upper",description:"Uppercase string",example:"$upper($json.name)"},{name:"$lower",description:"Lowercase string",example:"$lower($json.name)"},{name:"$trim",description:"Trim whitespace",example:"$trim($json.text)"},{name:"$replace",description:"Replace text",example:'$replace($json.text, "old", "new")'},{name:"$split",description:"Split string",example:'$split($json.csv, ",")'},{name:"$join",description:"Join array",example:'$join($json.items, ", ")'},{name:"$round",description:"Round number",example:"$round($json.price, 2)"},{name:"$floor",description:"Floor number",example:"$floor($json.value)"},{name:"$ceil",description:"Ceiling number",example:"$ceil($json.value)"},{name:"$min",description:"Minimum value",example:"$min($json.a, $json.b)"},{name:"$max",description:"Maximum value",example:"$max($json.a, $json.b)"},{name:"$length",description:"Array/string length",example:"$length($json.items)"},{name:"$first",description:"First array item",example:"$first($json.items)"},{name:"$last",description:"Last array item",example:"$last($json.items)"},{name:"$keys",description:"Object keys",example:"$keys($json)"},{name:"$values",description:"Object values",example:"$values($json)"},{name:"$stringify",description:"JSON stringify",example:"$stringify($json, true)"},{name:"$if",description:"Conditional value",example:'$if($json.active, "Yes", "No")'},{name:"$default",description:"Default value",example:'$default($json.name, "Unknown")'},{name:"$isEmpty",description:"Check if empty",example:"$isEmpty($json.items)"}]}async function bw(e,n,i){const a=L2[e.type];if(!a)throw new Error(`No executor found for node type: ${e.type}`);try{return{success:!0,...await a(e.data,n,i)}}catch(l){return{success:!1,error:l.message||"Node execution failed",output:null}}}const D2=e=>{try{return JSON.parse(e)}catch{return null}},_2=e=>{if(e instanceof Blob){const n=Dh(e.type);return{mimeType:e.type||"application/octet-stream",extension:n,data:e,isBlob:!0}}if(e?.audioBlob instanceof Blob)return{mimeType:e.audioBlob.type||"audio/wav",extension:".wav",data:e.audioBlob,isBlob:!0};if(e?.imageBlob instanceof Blob)return{mimeType:e.imageBlob.type||"image/png",extension:".png",data:e.imageBlob,isBlob:!0};if(typeof e?.audioBase64=="string")return{mimeType:"audio/wav",extension:".wav",data:O2(e.audioBase64,"audio/wav"),isBlob:!0};if(typeof e?.url=="string"&&e.url.startsWith("blob:")){const n=e.type||"application/octet-stream";return{mimeType:n,extension:Dh(n),data:e.url,isBlob:!1}}return typeof e=="string"?{mimeType:"text/plain",extension:".txt",data:e,isBlob:!1}:typeof e=="object"&&e!==null?{mimeType:"application/json",extension:".json",data:JSON.stringify(e,null,2),isBlob:!1}:{mimeType:"text/plain",extension:".txt",data:String(e),isBlob:!1}},Dh=e=>({"audio/wav":".wav","audio/mpeg":".mp3","audio/mp3":".mp3","audio/ogg":".ogg","audio/webm":".webm","audio/flac":".flac","audio/aac":".aac","video/mp4":".mp4","video/webm":".webm","video/ogg":".ogv","video/quicktime":".mov","video/x-msvideo":".avi","image/png":".png","image/jpeg":".jpg","image/jpg":".jpg","image/gif":".gif","image/webp":".webp","image/svg+xml":".svg","image/bmp":".bmp","text/plain":".txt","text/markdown":".md","text/html":".html","text/css":".css","text/javascript":".js","text/csv":".csv","application/json":".json","application/xml":".xml","application/yaml":".yaml","application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-powerpoint":".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":".pptx","application/zip":".zip","application/x-tar":".tar","application/gzip":".gz","application/x-7z-compressed":".7z","application/octet-stream":".bin"})[e]||".bin",O2=(e,n="application/octet-stream")=>{try{const i=atob(e.replace(/^data:[^;]+;base64,/,"")),a=new Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return new Blob([new Uint8Array(a)],{type:n})}catch{return null}},R2=async(e,n=1,i=1)=>{const s=e.split(/\s+/).length,c=s/150*60,f=Math.max(1,c/n),p=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,Math.ceil(44100*f),44100),h=220*i,m=f/Math.max(1,s);for(let v=0;v<s&&v<100;v++){const b=e.split(/\s+/)[v]||"",w=p.createOscillator(),S=p.createGain(),C=[...b].reduce((H,M)=>H+M.charCodeAt(0),0),N=h+C%400;w.type="sine",w.frequency.value=N;const k=v*m,j=.02,_=.05;S.gain.setValueAtTime(0,k),S.gain.linearRampToValueAtTime(.3,k+j),S.gain.setValueAtTime(.3,k+m-_),S.gain.linearRampToValueAtTime(0,k+m),w.connect(S),S.connect(p.destination),w.start(k),w.stop(k+m)}const g=await p.startRendering();return z2(g)},z2=e=>{const n=e.numberOfChannels,i=e.sampleRate,a=1,l=16,s=l/8,c=n*s,f=e.getChannelData(0),p=f.length*s,h=new ArrayBuffer(44+p),m=new DataView(h),g=(b,w)=>{for(let S=0;S<w.length;S++)m.setUint8(b+S,w.charCodeAt(S))};g(0,"RIFF"),m.setUint32(4,36+p,!0),g(8,"WAVE"),g(12,"fmt "),m.setUint32(16,16,!0),m.setUint16(20,a,!0),m.setUint16(22,n,!0),m.setUint32(24,i,!0),m.setUint32(28,i*c,!0),m.setUint16(32,c,!0),m.setUint16(34,l,!0),g(36,"data"),m.setUint32(40,p,!0);let v=44;for(let b=0;b<f.length;b++){const w=Math.max(-1,Math.min(1,f[b]));m.setInt16(v,w<0?w*32768:w*32767,!0),v+=2}return new Blob([h],{type:"audio/wav"})},gc=async(e,n,i,a)=>{try{const l={id:crypto.randomUUID(),nodeId:e.nodeId,executionId:e.executionId||"manual",name:n,type:i,data:a,timestamp:Date.now()};return await N2(l),e.executionStore?.addArtifact&&e.executionStore.addArtifact(l),e.addLog({type:"success",nodeId:e.nodeId,nodeName:"System",message:` Saved artifact: ${n}`}),l}catch(l){return console.error("Failed to save artifact:",l),e.addLog({type:"error",nodeId:e.nodeId,nodeName:"System",message:`Failed to save artifact: ${l.message}`}),null}},L2={manualTrigger:async(e,n,i)=>{const a=e.defaultPayload||"",l=e.inputValues||{},s={timestamp:new Date().toISOString(),trigger:"manual",...l,text:a,data:n||{...l,text:a}};return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Manual Trigger",message:" Workflow started manually"}),{output:s}},scheduleTrigger:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:"Schedule",message:" Rescheduling next run... (Simulated)"}),{output:n}),aiAgent:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&!Array.isArray(n)&&["model","temperature","maxTokens","systemMessage"].forEach(b=>{n[b]!==void 0&&(a[b]=n[b])});const l=a.connectedModel;l&&(l.temperature!==void 0&&(a.temperature=l.temperature),l.maxTokens!==void 0&&(a.maxTokens=l.maxTokens),l.modelId&&(a.modelId=l.modelId));const{systemMessage:s,userMessage:c,temperature:f=.7,maxTokens:p=1e3}=a;let h=[],m="",g=s||"";if(Array.isArray(n)&&n.length>0){m=n[n.length-1].content,h=n.slice(0,-1);const w=h.find(S=>S.role==="system");w&&(g=w.content,h=h.filter(S=>S.role!=="system"))}else g&&g.includes("{{")&&(g=qc(g,{input:n})),c?c.includes("{{")?m=qc(c,{input:n}):m=c:m=typeof n=="string"?n:JSON.stringify(n);i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:" AI processing..."});const v=a.connectedMemory;if(v){i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Retrieving memories from ${v.namespace}...`});try{const b=await mc.query(v.namespace,m,v.topK||5);if(b&&b.matches&&b.matches.length>0){const w=b.matches.map(S=>`- ${typeof S.text=="string"?S.text:JSON.stringify(S.text)}`).join(`
`);g=`${g}

[CONTEXT FROM MEMORY]
Use the following retrieved context to answer the user:
${w}
[/CONTEXT]`.trim(),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Found ${b.matches.length} relevant memories`})}}catch(b){i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Memory retrieval failed: ${b.message}`})}}try{const b=a.modelId||"gemma-2-2b-it";return(!rr.isReady||rr.currentModel!==b)&&(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Loading AI Model: ${b}... (This may take a moment)`}),await rr.initialize(b,C=>{}),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Model loaded: ${b}`})),{output:(await rr.generateWithHistory(m,h,{temperature:f,maxTokens:p,systemPrompt:g})).trim()}}catch(b){throw new Error(`AI generation failed: ${b.message}`)}},codeExecutor:async(e,n,i)=>{const{code:a,language:l="javascript",cdnUrls:s=[]}=e;if(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Executing ${l} code (sandboxed)...`}),l==="javascript")try{if(s.length>0){i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Loading ${s.length} CDN libraries...`});const{loadFromCDN:f}=await y2(async()=>{const{loadFromCDN:p}=await Promise.resolve().then(()=>p5);return{loadFromCDN:p}},void 0);for(const p of s)try{await f(p)}catch{i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Failed to load: ${p.split("/").pop()}`})}}return{output:await k2(a,n,{nodeId:i.nodeId},{timeout:3e4})}}catch(c){throw new Error(`Execution error: ${c.message}`)}else throw l==="python"&&window.pyodide?new Error("Python execution not ready pending Pyodide load"):new Error(`Unsupported language: ${l}`)},textToSpeech:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["voice","speed","pitch","autoPlay","generateAudioFile"].forEach(w=>{n[w]!==void 0&&(a[w]=n[w])});const{voice:l="default",speed:s=1,pitch:c=1,autoPlay:f=!1,generateAudioFile:p=!0}=a;let h="";if(typeof n=="string"?h=n:typeof n=="object"&&n!==null?n.text?h=n.text:n.answer?h=n.answer:n.message?h=n.message:n.response?h=n.response:n.output&&typeof n.output=="string"?h=n.output:h=JSON.stringify(n):h=String(n),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Text to Speech",message:" Preparing text to speech..."}),!("speechSynthesis"in window))throw new Error("Web Speech API not supported in this browser");const m=new SpeechSynthesisUtterance(h);m.rate=s,m.pitch=c;const g=speechSynthesis.getVoices();if(l!=="default"&&g.length>0){const w=g.find(S=>S.name.includes(l));w&&(m.voice=w)}const v=`tts-${i.nodeId}-${Date.now()}`;window.__ttsAudio||(window.__ttsAudio={}),window.__ttsAudio[v]={utterance:m,text:h,voice:m.voice?.name||"default",played:!1};let b=null;if(p)try{b=await R2(h,s,c),b&&(await gc(i,`speech_${Date.now()}.wav`,"audio/wav",b),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Text to Speech",message:` Audio file generated (${Math.round(b.size/1024)}KB)`}))}catch(w){i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Text to Speech",message:` Could not generate audio file: ${w.message}`})}return f&&(window.dispatchEvent(new CustomEvent("audioStart")),m.onend=()=>{window.dispatchEvent(new CustomEvent("audioEnd"))},m.onerror=()=>{window.dispatchEvent(new CustomEvent("audioEnd"))},speechSynthesis.speak(m),window.__ttsAudio[v].played=!0),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Text to Speech",message:f?" Playing audio...":" Audio ready - click Play on node"}),await gc(i,`transcript_${Date.now()}.txt`,"text/plain",`Transcript:
${h}

Voice: ${l}`),{output:{text:h,voice:m.voice?.name||"default",speed:s,pitch:c,spoken:f,audioId:v,canPlay:!0,audioBlob:b}}},imageGeneration:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["model","size","negativePrompt","seed","steps"].forEach(f=>{n[f]!==void 0&&(a[f]=n[f])});const{seed:l=null}=a;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Image Generation",message:" Generating image (Simulated)..."}),await new Promise(f=>setTimeout(f,2e3));const s=document.createElement("canvas");s.width=512,s.height=512;const c=s.getContext("2d");return c.fillStyle="#ff4444",c.fillRect(0,0,512,512),c.fillStyle="white",c.font="30px Arial",c.fillText("AI Generated Image",100,256),new Promise(f=>{s.toBlob(async p=>{await gc(i,`image_${Date.now()}.png`,"image/png",p),f({output:{url:URL.createObjectURL(p),prompt:n,seed:l||12345}})})})},httpRequest:async(e,n,i)=>{const{method:a="GET",url:l,headers:s,body:c,timeout:f=5e3}=e;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"HTTP Request",message:` ${a} ${l}`});try{const p=new AbortController,h=setTimeout(()=>p.abort(),f),m=await fetch(l,{method:a,headers:D2(s)||{},body:["GET","HEAD"].includes(a)?void 0:typeof c=="string"?c:JSON.stringify(c),signal:p.signal});clearTimeout(h);const g=await m.json().catch(()=>({}));return{output:{status:m.status,statusText:m.statusText,data:g,headers:Object.fromEntries(m.headers.entries())}}}catch(p){throw new Error(`HTTP Request failed: ${p.message}`)}},setVariable:async(e,n,i)=>{const{variableName:a,value:l,mode:s="set"}=e;let c=l;return typeof n=="object"&&n!==null&&(n[a]!==void 0?c=n[a]:n.value!==void 0?c=n.value:n.text!==void 0&&(c=n.text)),typeof c=="string"&&c.includes("{{")&&(c=_v(c,{input:n})),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Set Variable",message:` Set ${a} = ${typeof c=="string"?c.slice(0,50):"..."}`}),{output:{...n,[a]:c}}},ifElse:async(e,n,i)=>{const{condition:a,operator:l="equals",compareValue:s}=e,c=Ov(n,a);let f=!1;switch(l){case"equals":f=c==s;break;case"notEquals":f=c!=s;break;case"contains":f=String(c).includes(s);break;case"greaterThan":f=Number(c)>Number(s);break;case"lessThan":f=Number(c)<Number(s);break;case"exists":f=c!=null;break}return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"If/Else",message:` Check: ${a} ${l} ${s} -> ${f}`}),{output:n,outputIndex:f?0:1}},merge:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:"Merge",message:" Merging execution paths"}),{output:n}),loop:async(e,n,i)=>{const{iterations:a=1}=e,l=i.loopState||{currentIteration:0,totalIterations:a,results:[]};return l.currentIteration>0&&n&&l.results.push(n),l.currentIteration++,l.currentIteration<=l.totalIterations?(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Loop",message:` Iteration ${l.currentIteration} of ${l.totalIterations}`}),{output:{iteration:l.currentIteration,totalIterations:l.totalIterations,previousResult:n,isLoopIteration:!0},outputIndex:0,loopState:l}):(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Loop",message:` Loop complete: ${l.results.length} iterations processed`}),{output:{results:l.results,totalIterations:l.totalIterations,lastResult:n,completed:!0},outputIndex:1,loopState:null})},toolCall:async(e,n,i)=>{const{toolName:a,args:l}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Tool Call",message:` Executing tool: ${a}`,data:l||n}),{output:{tool:a,status:"success",result:`Executed ${a} successfully`,args:l||n}}},vectorStore:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["mode","namespace","topK","minScore"].forEach(h=>{n[h]!==void 0&&(a[h]=n[h])});const{mode:l="upsert",namespace:s="default",topK:c=5,minScore:f=.1}=a;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Vector Store Operation: ${l} (${s})`});let p;try{if(l==="upsert"){let h=[];Array.isArray(n)?h=n.map(m=>typeof m=="string"?{text:m}:m):typeof n=="object"&&n!==null?n.text?h=[n]:n.content?h=[{text:n.content,...n}]:h=[{text:JSON.stringify(n),metadata:n}]:h=[{text:String(n)}],p=await mc.upsert(s,h),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Memorized ${p.added} new items, updated ${p.updated}`})}else if(l==="query"){const h=typeof n=="string"?n:JSON.stringify(n);p=await mc.query(s,h,c,f),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Found ${p.count} matches`})}else if(l==="delete"){const h=Array.isArray(n)?n:n.id||n;p=await mc.delete(s,h),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Deleted ${p.deleted} items`})}}catch(h){throw new Error(`Memory operation failed: ${h.message}`)}return{output:p}},output:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["outputType","filename","notificationTitle","artifactType","artifactName"].forEach(S=>{n[S]!==void 0&&(a[S]=n[S])});const{outputType:l="console",filename:s,formatJson:c,notificationTitle:f,artifactType:p="auto",artifactName:h=""}=a,m=c?JSON.stringify(n,null,2):n;switch(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Workflow output (${l})`,data:m}),l){case"console":console.log(" Workflow Output:",m),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Output",message:`Console: ${String(m).slice(0,150)}${String(m).length>150?"...":""}`});break;case"file":{const S=typeof m=="string"?m:JSON.stringify(m,null,2),C=new Blob([S],{type:"text/plain"}),N=URL.createObjectURL(C),k=document.createElement("a");k.href=N,k.download=s||"output.txt",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(N),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Downloaded: ${s||"output.txt"}`});break}case"notification":{if("Notification"in window){let S=Notification.permission;S==="default"&&(S=await Notification.requestPermission()),S==="granted"&&new Notification(f||"Workflow Complete",{body:typeof m=="string"?m.slice(0,200):"Data ready"})}typeof window<"u"&&window.dispatchEvent(new CustomEvent("workflow-toast",{detail:{type:"success",message:f||"Workflow Complete"}})),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Notification: ${f||"Workflow Complete"}`});break}case"artifact":i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:" Artifact saved"});break;default:console.log(" Output:",m)}let g,v,b;if(p&&p!=="auto")if(g=p,v=Dh(p),n instanceof Blob)b=n;else if(typeof n=="object"&&n!==null)if(p==="application/json")b=JSON.stringify(n,null,2);else if(p==="text/csv")if(Array.isArray(n)&&n.length>0&&typeof n[0]=="object"){const S=Object.keys(n[0]);b=[S.join(","),...n.map(N=>S.map(k=>JSON.stringify(N[k]??"")).join(","))].join(`
`)}else b=JSON.stringify(n,null,2);else b=JSON.stringify(n,null,2);else b=String(n);else{const S=_2(n);g=S.mimeType,v=S.extension,b=S.data}let w=h||s;return w?w.includes(".")?p&&p!=="auto"&&(w=w.replace(/\.[^.]+$/,v)):w+=v:w=`output_${Date.now()}`+v,await gc(i,w,g,b),{output:m}},webhookTrigger:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Webhook",message:` Webhook endpoint ready: ${e.endpoint||"/webhook/default"}`}),{output:{timestamp:new Date().toISOString(),trigger:"webhook",method:e.method||"POST",endpoint:e.endpoint||"/webhook/default",body:n||{},query:{}}}),errorTrigger:async(e,n,i)=>(i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Error Trigger",message:" Error trigger activated",data:n}),{output:{timestamp:new Date().toISOString(),trigger:"error",error:n?.error||null,originalInput:n}}),browserEventTrigger:async(e,n,i)=>{const{eventType:a="focus"}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Browser Event",message:` Browser event: ${a}`}),{output:{timestamp:new Date().toISOString(),trigger:"browserEvent",eventType:a,url:typeof window<"u"?window.location.href:"",...n}}},fileSystem:async(e,n,i)=>{const{mode:a="read"}=e;if(a==="read")try{if(typeof window<"u"&&"showOpenFilePicker"in window){const[l]=await window.showOpenFilePicker({types:e.fileTypes?.length?[{accept:{"text/*":e.fileTypes}}]:void 0}),s=await l.getFile(),c=await s.text();return i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"File System",message:` Read file: ${s.name} (${s.size} bytes)`}),{output:{filename:s.name,size:s.size,type:s.type,content:c,lastModified:s.lastModified}}}else throw new Error("File System Access API not supported")}catch(l){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"File System",message:` File read failed: ${l.message}`}),{output:{error:l.message}}}else if(a==="write")try{const l=typeof n=="string"?n:n?.text||JSON.stringify(n,null,2);if(typeof window<"u"&&"showSaveFilePicker"in window){const s=await window.showSaveFilePicker({suggestedName:e.filename||"output.txt"}),c=await s.createWritable();return await c.write(l),await c.close(),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"File System",message:" File written successfully"}),{output:{success:!0,filename:s.name}}}else{const s=new Blob([l],{type:"text/plain"}),c=URL.createObjectURL(s),f=document.createElement("a");return f.href=c,f.download=e.filename||"output.txt",f.click(),URL.revokeObjectURL(c),{output:{success:!0,downloaded:!0}}}}catch(l){return{output:{error:l.message}}}return{output:n}},localStorage:async(e,n,i)=>{const{mode:a="get",storageType:l="localStorage",key:s}=e;if(!s)return{output:{error:"No key specified"}};try{if(l==="localStorage")switch(a){case"get":{const c=window.localStorage.getItem(s),f=c?JSON.parse(c):null;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Retrieved: ${s}`}),{output:{key:s,value:f,found:c!==null}}}case"set":{const c=typeof n=="string"?n:JSON.stringify(n);return window.localStorage.setItem(s,c),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Stored: ${s}`}),{output:{key:s,success:!0}}}case"delete":return window.localStorage.removeItem(s),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Deleted: ${s}`}),{output:{key:s,deleted:!0}}}else{const c="iosans-storage",f="keyvalue",h=await new Promise((m,g)=>{const v=indexedDB.open(c,1);v.onerror=()=>g(v.error),v.onsuccess=()=>m(v.result),v.onupgradeneeded=b=>{const w=b.target.result;w.objectStoreNames.contains(f)||w.createObjectStore(f)}});switch(a){case"get":return new Promise(m=>{const b=h.transaction(f,"readonly").objectStore(f).get(s);b.onsuccess=()=>{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Retrieved (IndexedDB): ${s}`}),m({output:{key:s,value:b.result,found:b.result!==void 0}})},b.onerror=()=>m({output:{error:b.error.message}})});case"set":return new Promise(m=>{const b=h.transaction(f,"readwrite").objectStore(f).put(n,s);b.onsuccess=()=>{i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Stored (IndexedDB): ${s}`}),m({output:{key:s,success:!0}})},b.onerror=()=>m({output:{error:b.error.message}})});case"delete":return new Promise(m=>{const b=h.transaction(f,"readwrite").objectStore(f).delete(s);b.onsuccess=()=>{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Deleted (IndexedDB): ${s}`}),m({output:{key:s,deleted:!0}})},b.onerror=()=>m({output:{error:b.error.message}})})}}}catch(c){return{output:{error:c.message}}}return{output:n}},switchNode:async(e,n,i)=>{const{field:a,routes:l=[],defaultOutput:s=3}=e,c=Ov(n,a);i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Switch",message:` Switch on "${a}": value = "${c}"`});for(const f of l)if(String(f.value)===String(c))return{output:n,outputIndex:f.outputIndex};return{output:n,outputIndex:s}},waitForApproval:async(e,n,i)=>{const{title:a="Approval Required",message:l="",timeout:s=0}=e;return i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Approval",message:` Waiting for approval: ${a}`,data:n}),new Promise(c=>{const f=_v(l,n);window.confirm(`${a}

${f}

Click OK to approve, Cancel to reject.`)?(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Approval",message:" Approved"}),c({output:{approved:!0,approvedAt:new Date().toISOString(),originalInput:n},outputIndex:0})):(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Approval",message:" Rejected"}),c({output:{approved:!1,rejectedAt:new Date().toISOString(),originalInput:n},outputIndex:1}))})},subWorkflow:async(e,n,i)=>{const{workflowId:a,passInput:l=!0}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Sub-Workflow",message:` Executing sub-workflow: ${a||"none selected"}`}),a?(i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Sub-Workflow",message:" Sub-workflow execution not yet implemented"}),{output:{subWorkflowId:a,result:l?n:{},duration:0,note:"Sub-workflow execution coming soon"}}):{output:{error:"No workflow selected"}}},pythonExecutor:async(e,n,i)=>{const{code:a="",packages:l=[],timeout:s=3e4}=e;if(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:" Executing Python code..."}),typeof window>"u"||!window.loadPyodide)try{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:" Loading Pyodide runtime..."}),window.pyodideLoading||(window.pyodideLoading=(async()=>{const f=document.createElement("script");return f.src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js",document.head.appendChild(f),await new Promise(p=>{f.onload=p}),window.pyodide=await window.loadPyodide(),window.pyodide})()),await window.pyodideLoading}catch(f){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Failed to load Pyodide: ${f.message}`}),{output:{error:`Failed to load Pyodide: ${f.message}`}}}const c=window.pyodide;try{l.length>0&&(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Installing packages: ${l.join(", ")}`}),await c.loadPackagesFromImports(l.join(`
`))),c.globals.set("input",c.toPy(n));let f="";c.setStdout({batched:v=>{f+=v}});const p=Date.now(),h=await c.runPythonAsync(`
${a}
result if 'result' in dir() else None
`),m=(Date.now()-p)/1e3,g=h?.toJs?h.toJs():h;return i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Python executed in ${m.toFixed(2)}s`,data:g}),{output:{result:g,stdout:f,duration:m}}}catch(f){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Python error: ${f.message}`}),{output:{error:f.message}}}}};function _v(e,n){return qc(e,{input:n})}function Ov(e,n){return!n||!e?e:n.split(".").reduce((i,a)=>i&&i[a]!==void 0?i[a]:void 0,e)}async function I2(e,n=null){const i=We.getState();let a=n;if(!a){const c=i.nodeResults[e.id];c?.input?a=c.input:a=B2(e.type)}const l={nodeId:e.id,nodes:[],edges:[],addLog:c=>{i.addLog({...c,nodeId:e.id})}};i.addLog({type:"info",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Running step: ${e.data?.label||e.type}`});const s=Date.now();try{const c=await bw(e,a,l),f=Date.now()-s;return i.setNodeResult(e.id,{...c,executionTime:f,input:a,stepExecution:!0}),i.addLog({type:"success",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Step completed in ${f}ms`,data:{preview:H2(c.output)}}),{success:!0,output:c.output,executionTime:f}}catch(c){const f=Date.now()-s;return i.setNodeResult(e.id,{success:!1,error:c.message,executionTime:f,input:a,stepExecution:!0}),i.addLog({type:"error",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Step failed: ${c.message}`}),{success:!1,error:c.message,executionTime:f}}}function B2(e){return{manualTrigger:{timestamp:new Date().toISOString(),trigger:"manual",test:!0},httpRequest:{url:"https://api.example.com/data",method:"GET"},codeExecutor:{message:"Hello from step execution",value:42,items:[1,2,3]},pythonExecutor:{data:[1,2,3,4,5],text:"Sample Python input"},aiAgent:{prompt:"Test prompt for AI agent",context:"Running in step mode"},ifElse:{value:!0,status:"active"},loop:{items:["item1","item2","item3"]},switchNode:{value:"case1",status:"pending"},setVariable:{key:"testVar",value:"testValue"},textToSpeech:{text:"This is a test message for text to speech."},output:{result:"Test output data",status:"complete"}}[e]||{input:"default mock data",timestamp:new Date().toISOString()}}function H2(e){if(typeof e=="string")return e.slice(0,100)+(e.length>100?"...":"");if(typeof e=="object"){const n=JSON.stringify(e);return n.slice(0,100)+(n.length>100?"...":"")}return String(e)}function Rv({id:e,type:n,position:i,label:a,isConnected:l,isRequired:s}){const c=Mv[n]||Mv.workflow,f=s&&!l?"#ef4444":c.color;return d.jsxs("div",{className:"diamond-handle-wrapper",children:[a&&d.jsx("span",{className:"diamond-handle-label",style:{color:f},children:a}),d.jsx(zn,{type:i===ge.Top?"source":"target",position:i,id:e,className:`diamond-handle handle-${n} ${s&&!l?"required":""} ${l?"connected":""}`,style:{"--handle-color":f}})]})}function P2({type:e,data:n,children:i,inputs:a=1,outputs:l=1,outputLabels:s=[],resourceSlots:c=null,providerOutput:f=null}){const p=Xa(),h=Si[e],m=uu(e),[g,v]=T.useState(!1),[b,w]=T.useState(!1),S=We(U=>U.currentNodeId),C=We(U=>U.isRunning),N=We(U=>U.nodeResults),k=Ce(U=>U.selectedNodeId),j=Ce(U=>U.configOpen),_=Ce(U=>U.openConfig),H=Ce(U=>U.closeConfig),M=Ce(U=>U.edges),O=Ce(U=>U.nodes),V=C&&S===p,G=k===p,I=N[p]!==void 0,$=N[p]?.error,F=N[p],ee=T.useCallback(U=>{U.stopPropagation(),G&&j?H():_(p)},[p,G,j,_,H]),A=T.useCallback(async U=>{if(U.stopPropagation(),!(g||C)){v(!0),w(!0);try{const Z=O.find(z=>z.id===p);Z&&await I2(Z)}finally{v(!1)}}},[p,O,g,C]),P=T.useMemo(()=>{const U=new Set;return M.forEach(Z=>{Z.source===p&&Z.sourceHandle&&U.add(Z.sourceHandle),Z.target===p&&Z.targetHandle&&U.add(Z.targetHandle)}),U},[M,p]),D=c||(e==="aiAgent"?p2.resourceSlots:null),q=()=>{if(!F?.output)return null;const U=F.output;if(typeof U=="string")return U.slice(0,80)+(U.length>80?"...":"");const Z=JSON.stringify(U,null,2);return Z.slice(0,120)+(Z.length>120?"...":"")};return d.jsxs("div",{className:`base-node ${V?"active":""} ${G?"selected":""} ${$?"error":""} ${D?"has-resource-slots":""} ${g?"step-running":""}`,style:{"--node-color":m},children:[f&&d.jsx(Rv,{id:f.id,type:f.type,position:ge.Top,label:f.label,isConnected:P.has(f.id),isRequired:!1}),a>0&&Array.from({length:a},(U,Z)=>{const z=`input-${Z}`,B=P.has(z);return d.jsx(zn,{type:"target",position:ge.Left,id:z,className:`node-handle input-handle circle-handle ${B?"connected":""}`,style:a>1?{top:`${(Z+1)/(a+1)*100}%`}:{}},z)}),d.jsxs("div",{className:"node-header",children:[d.jsx("span",{className:"node-icon",children:h?.icon||""}),d.jsx("span",{className:"node-label",children:n.label||h?.name||e}),V&&d.jsx("span",{className:"running-indicator",children:""}),g&&d.jsx("span",{className:"running-indicator step",children:""}),I&&!V&&!g&&!$&&d.jsx("span",{className:"success-indicator",children:""}),$&&d.jsx("span",{className:"error-indicator",title:"Node failed - click to see error",children:""})]}),d.jsx("div",{className:"node-body",children:i}),d.jsxs("div",{className:"node-action-toolbar",children:[d.jsx("button",{className:`action-btn config-btn ${G?"active":""}`,onClick:ee,title:G?"Close config":"Open config",children:""}),!C&&d.jsx("button",{className:`action-btn run-btn ${g?"running":""}`,onClick:A,disabled:g,title:"Run this step",children:g?"":""})]}),b&&F&&d.jsxs("div",{className:`step-result-preview ${$?"error":"success"}`,children:[d.jsxs("div",{className:"step-result-header",children:[d.jsx("span",{children:$?" Error":" Result"}),d.jsxs("span",{className:"step-time",children:[F.executionTime,"ms"]}),d.jsx("button",{className:"step-close-btn",onClick:U=>{U.stopPropagation(),w(!1)},children:""})]}),d.jsx("pre",{className:"step-result-body",children:$?F.error:q()})]}),D&&D.length>0&&d.jsx("div",{className:"resource-slots-container",children:D.map(U=>d.jsx(Rv,{id:U.id,type:U.type,position:ge.Bottom,label:U.label,isConnected:P.has(U.id),isRequired:U.required},U.id))}),l>0&&Array.from({length:l},(U,Z)=>{const z=`output-${Z}`,B=P.has(z);return d.jsx(zn,{type:"source",position:ge.Right,id:z,className:`node-handle output-handle circle-handle ${B?"connected":""}`,style:l>1?{top:`${(Z+1)/(l+1)*100}%`}:{},children:s[Z]&&d.jsx("span",{className:"handle-label",children:s[Z]})},z)})]})}const dt=T.memo(P2);function $2({data:e}){const n=Xa(),i=Ce(l=>l.updateNode),a=T.useCallback(l=>{i(n,{defaultPayload:l.target.value})},[n,i]);return d.jsx(dt,{type:"manualTrigger",data:e,inputs:0,outputs:1,children:d.jsxs("div",{className:"node-field",children:[d.jsx("label",{children:"Default Payload"}),d.jsx("textarea",{className:"node-input nodrag",placeholder:"Enter text to start flow...",value:e.defaultPayload||"",onChange:a,rows:3,style:{width:"100%",resize:"vertical"}})]})})}const U2=T.memo($2);function q2({data:e}){return d.jsxs(dt,{type:"scheduleTrigger",data:e,inputs:1,outputs:1,children:[d.jsxs("div",{className:"node-field",children:[d.jsx("label",{children:"Schedule (cron)"}),d.jsx("div",{className:"node-preview",children:e.schedule||"*/5 * * * *"})]}),d.jsx("div",{className:"node-preview",children:e.enabled?" Enabled":" Disabled"})]})}const V2=T.memo(q2);function F2({data:e}){const[n,i]=T.useState(!1),a=e.endpoint||`/webhook/${e.id||"default"}`,l=e.method||"POST",s=()=>{navigator.clipboard.writeText(`${window.location.origin}${a}`),i(!0),setTimeout(()=>i(!1),2e3)};return d.jsx(dt,{type:"webhookTrigger",data:e,inputs:0,outputs:1,children:d.jsxs("div",{className:"webhook-content",children:[d.jsx("div",{className:"method-badge",children:l}),d.jsxs("div",{className:"endpoint-display",onClick:s,children:[d.jsx("span",{className:"endpoint-path",children:a}),d.jsx("span",{className:"copy-hint",children:n?"":""})]}),e.authRequired&&d.jsx("div",{className:"auth-badge",children:" Auth Required"})]})})}const G2=T.memo(F2);function Y2({data:e}){const n=e.watchAll!==!1,i=e.specificNodes||[];return d.jsx(dt,{type:"errorTrigger",data:e,inputs:0,outputs:1,children:d.jsxs("div",{className:"error-trigger-content",children:[d.jsx("div",{className:"error-icon",children:""}),d.jsx("div",{className:"watch-mode",children:n?d.jsx("span",{className:"watch-all",children:"Watching all nodes"}):d.jsxs("span",{className:"watch-specific",children:["Watching ",i.length," node(s)"]})}),e.retryEnabled&&d.jsxs("div",{className:"retry-badge",children:[" Auto-retry: ",e.retryCount||3,"x"]})]})})}const X2=T.memo(Y2),Q2={focus:"Tab Focus",blur:"Tab Blur",urlChange:"URL Change",domClick:"DOM Click",domChange:"DOM Change",keypress:"Key Press",timer:"Timer"};function Z2({data:e}){const n=e.eventType||"focus",i=Q2[n]||n;return d.jsx(dt,{type:"browserEventTrigger",data:e,inputs:0,outputs:1,children:d.jsxs("div",{className:"browser-event-content",children:[d.jsx("div",{className:"event-icon",children:""}),d.jsx("div",{className:"event-type",children:i}),n==="domClick"&&e.selector&&d.jsx("div",{className:"selector-preview",children:d.jsx("code",{children:e.selector})}),n==="timer"&&e.interval&&d.jsxs("div",{className:"timer-preview",children:["Every ",e.interval,"ms"]}),n==="urlChange"&&e.urlPattern&&d.jsxs("div",{className:"pattern-preview",children:[e.urlPattern.slice(0,30),"..."]})]})})}const W2=T.memo(Z2);function K2({data:e}){const n={GET:"#00c853",POST:"#2979ff",PUT:"#ffab00",DELETE:"#ff5252",PATCH:"#e040fb"};return d.jsxs(dt,{type:"httpRequest",data:e,inputs:1,outputs:1,children:[d.jsx("div",{className:"node-field",children:d.jsx("span",{className:"http-method",style:{color:n[e.method]||"#666",fontWeight:600,fontSize:"10px"},children:e.method||"GET"})}),d.jsx("div",{className:"node-preview",children:e.url||"https://api.example.com"})]})}const J2=T.memo(K2);function eD({data:e}){const n=(e.code||"").split(`
`)[0].slice(0,40);return d.jsx(dt,{type:"codeExecutor",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"node-preview",style:{fontFamily:"var(--font-mono)"},children:[n||"// JavaScript code",n&&n.length>=40&&"..."]})})}const tD=T.memo(eD);function nD({data:e}){return d.jsxs(dt,{type:"setVariable",data:e,inputs:1,outputs:1,children:[d.jsxs("div",{className:"node-field",children:[d.jsx("label",{children:"Variable"}),d.jsx("div",{className:"node-preview",children:e.variableName||"data"})]}),d.jsxs("div",{className:"node-preview",style:{marginTop:"4px"},children:["Mode: ",e.mode||"set"]})]})}const iD=T.memo(nD);function rD({data:e}){const n=e.mode||"read",i=e.filename||"";return d.jsx(dt,{type:"fileSystem",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"filesystem-content",children:[d.jsxs("div",{className:"mode-badge",children:[d.jsx("span",{className:"mode-icon",children:n==="read"?"":""}),d.jsx("span",{className:"mode-label",children:n==="read"?"Read":"Write"})]}),i&&d.jsx("div",{className:"filename-display",children:d.jsx("span",{className:"filename",children:i})}),!i&&d.jsx("div",{className:"picker-hint",children:n==="read"?"Opens file picker":"Opens save dialog"})]})})}const aD=T.memo(rD);function oD({data:e}){const n=e.mode||"get",i=e.storageType||"indexedDB",a=e.key||"";return d.jsx(dt,{type:"localStorage",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"localstorage-content",children:[d.jsxs("div",{className:"storage-badge",children:[d.jsx("span",{className:"storage-icon",children:""}),d.jsx("span",{className:"storage-type",children:i})]}),d.jsxs("div",{className:"operation-row",children:[d.jsx("span",{className:`operation-mode ${n}`,children:n==="get"?"GET":n==="set"?"SET":"DELETE"}),a&&d.jsx("span",{className:"key-name",children:a})]})]})})}const lD=T.memo(oD);function sD({data:e}){return d.jsx(dt,{type:"ifElse",data:e,inputs:1,outputs:2,outputLabels:["true","false"],children:d.jsx("div",{className:"node-preview",children:e.condition||"No condition set"})})}const cD=T.memo(sD);function uD({data:e}){return d.jsxs(dt,{type:"loop",data:e,inputs:1,outputs:2,outputLabels:["loop ","done "],children:[d.jsxs("div",{className:"node-field",children:[d.jsx("label",{children:"Iterations"}),d.jsxs("div",{className:"node-preview",children:[e.iterations||1,""]})]}),d.jsxs("div",{className:"node-field",children:[d.jsx("label",{children:"Items path"}),d.jsx("div",{className:"node-preview",children:e.itemsPath||"items"})]})]})}const dD=T.memo(uD);function fD({data:e}){const n=Xa(),i=kM(),a=uu("switchNode"),l=We(S=>S.currentNodeId),s=We(S=>S.isRunning),c=We(S=>S.nodeResults),f=Ce(S=>S.selectedNodeId),p=s&&l===n,h=f===n,m=c[n]!==void 0,g=c[n]?.error,v=T.useMemo(()=>e.routes||[],[e.routes]),b=e.field||"value",w=T.useMemo(()=>{const S=v.map((C,N)=>({id:`output-${N}`,label:String(C.value||C.label||N),index:N}));return S.push({id:"output-default",label:"default",index:S.length}),S},[v]);return T.useEffect(()=>{i(n)},[n,v.length,i]),d.jsxs("div",{className:`switch-node ${p?"active":""} ${h?"selected":""} ${g?"error":""}`,style:{"--node-color":a},children:[d.jsx(zn,{type:"target",position:ge.Left,id:"input-0",className:"node-handle circle-handle"}),d.jsxs("div",{className:"node-header",children:[d.jsx("span",{className:"node-icon",children:""}),d.jsx("span",{className:"node-label",children:e.label||"Switch"}),p&&d.jsx("span",{className:"running-indicator",children:""}),m&&!p&&!g&&d.jsx("span",{className:"success-indicator",children:""})]}),d.jsxs("div",{className:"node-body",children:[d.jsxs("div",{className:"switch-field",children:[d.jsx("span",{className:"field-label",children:"Switch on:"}),d.jsx("span",{className:"field-value",children:b})]}),d.jsx("div",{className:"switch-routes",children:w.map(S=>d.jsxs("div",{className:"route-label-row",children:[d.jsx("span",{className:"route-value",children:S.label}),d.jsx("span",{className:"route-arrow",children:""})]},S.id))})]}),w.map((S,C)=>d.jsx(zn,{type:"source",position:ge.Right,id:S.id,className:`node-handle circle-handle ${S.id==="output-default"?"default-handle":""}`,style:{top:`${(C+1)/(w.length+1)*100}%`}},S.id))]})}const hD=T.memo(fD);function pD({data:e}){return d.jsx(dt,{type:"merge",data:e,inputs:2,outputs:1,children:d.jsxs("div",{className:"node-preview",children:["Mode: ",e.mode||"wait"]})})}const mD=T.memo(pD);function gD({data:e}){const[n,i]=T.useState(e.collapsed||!1),a=T.useCallback(()=>{i(f=>!f)},[]),l=e.childNodeIds?.length||0,s=e.label||"Node Group",c=e.color||"#6366f1";return d.jsxs("div",{className:`group-node ${n?"collapsed":"expanded"}`,style:{"--group-color":c,minWidth:n?"160px":e.width||"300px",minHeight:n?"60px":e.height||"200px"},children:[d.jsx(zn,{type:"target",position:ge.Left,id:"input-0",className:"group-handle"}),d.jsxs("div",{className:"group-header",onClick:a,children:[d.jsx("span",{className:"group-icon",children:n?"":""}),d.jsx("span",{className:"group-label",children:s}),d.jsxs("span",{className:"group-badge",children:[l," nodes"]}),d.jsx("button",{className:"collapse-btn",title:n?"Expand":"Collapse",children:n?"":""})]}),!n&&d.jsx("div",{className:"group-body",children:l>0?d.jsx("div",{className:"group-content",children:d.jsx("span",{className:"group-hint",children:"Drag nodes here to add them to the group"})}):d.jsxs("div",{className:"group-empty",children:[d.jsx("span",{children:"Empty Group"}),d.jsx("span",{className:"group-hint",children:"Add nodes from context menu"})]})}),n&&l>0&&d.jsxs("div",{className:"collapsed-preview",children:["Contains ",l," connected nodes"]}),d.jsx(zn,{type:"source",position:ge.Right,id:"output-0",className:"group-handle"})]})}const yD=T.memo(gD);function xD(e,n){let i;try{i=e()}catch{return}return{getItem:l=>{var s;const c=p=>p===null?null:JSON.parse(p,void 0),f=(s=i.getItem(l))!=null?s:null;return f instanceof Promise?f.then(c):c(f)},setItem:(l,s)=>i.setItem(l,JSON.stringify(s,void 0)),removeItem:l=>i.removeItem(l)}}const _h=e=>n=>{try{const i=e(n);return i instanceof Promise?i:{then(a){return _h(a)(i)},catch(a){return this}}}catch(i){return{then(a){return this},catch(a){return _h(a)(i)}}}},vD=(e,n)=>(i,a,l)=>{let s={storage:xD(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...n},c=!1;const f=new Set,p=new Set;let h=s.storage;if(!h)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...S)},a,l);const m=()=>{const S=s.partialize({...a()});return h.setItem(s.name,{state:S,version:s.version})},g=l.setState;l.setState=(S,C)=>(g(S,C),m());const v=e((...S)=>(i(...S),m()),a,l);l.getInitialState=()=>v;let b;const w=()=>{var S,C;if(!h)return;c=!1,f.forEach(k=>{var j;return k((j=a())!=null?j:v)});const N=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(S=a())!=null?S:v))||void 0;return _h(h.getItem.bind(h))(s.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==s.version){if(s.migrate){const j=s.migrate(k.state,k.version);return j instanceof Promise?j.then(_=>[!0,_]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var j;const[_,H]=k;if(b=s.merge(H,(j=a())!=null?j:v),i(b,!0),_)return m()}).then(()=>{N?.(b,void 0),b=a(),c=!0,p.forEach(k=>k(b))}).catch(k=>{N?.(void 0,k)})};return l.persist={setOptions:S=>{s={...s,...S},S.storage&&(h=S.storage)},clearStorage:()=>{h?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>c,onHydrate:S=>(f.add(S),()=>{f.delete(S)}),onFinishHydration:S=>(p.add(S),()=>{p.delete(S)})},s.skipHydration||w(),b||v},bD=vD,Ye=cu(bD((e,n)=>({status:"idle",currentModelId:null,loadProgress:0,loadingText:"",errorMessage:null,downloadedModels:[],downloadProgress:{},downloadQueue:[],isDownloading:!1,availableModels:[{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",size:"~1.4GB",description:"Google's fast, lightweight model (Recommended)",category:"recommended"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",size:"~1GB",description:"Alibaba's efficient small model",category:"recommended"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",name:"SmolLM2 1.7B",size:"~1.1GB",description:"HuggingFace's compact model",category:"recommended"},{id:"gemma-2-2b-it-q4f32_1-MLC",name:"Gemma 2 2B (F32)",size:"~2.5GB",description:"Higher precision Gemma 2",category:"gemma"},{id:"gemma-2-9b-it-q4f16_1-MLC",name:"Gemma 2 9B",size:"~6GB",description:"Larger Gemma 2 with better reasoning",category:"gemma"},{id:"gemma-2-2b-jpn-it-q4f16_1-MLC",name:"Gemma 2 2B Japanese",size:"~1.4GB",description:"Japanese-optimized Gemma 2",category:"gemma"},{id:"Qwen3-0.6B-q4f16_1-MLC",name:"Qwen 3 0.6B",size:"~400MB",description:"Ultra-light Qwen 3 - instant responses",category:"qwen3"},{id:"Qwen3-1.7B-q4f16_1-MLC",name:"Qwen 3 1.7B",size:"~1.1GB",description:"Fast Qwen 3 with hybrid thinking",category:"qwen3"},{id:"Qwen3-4B-q4f16_1-MLC",name:"Qwen 3 4B",size:"~2.5GB",description:"Balanced Qwen 3 for most tasks",category:"qwen3"},{id:"Qwen3-8B-q4f16_1-MLC",name:"Qwen 3 8B",size:"~5GB",description:"Advanced Qwen 3 with deep reasoning",category:"qwen3"},{id:"Qwen2.5-0.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 0.5B",size:"~350MB",description:"Ultra-light Qwen for basic tasks",category:"qwen"},{id:"Qwen2.5-3B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 3B",size:"~2GB",description:"Balanced Qwen with good reasoning",category:"qwen"},{id:"Qwen2.5-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 7B",size:"~4.5GB",description:"Powerful Qwen for complex tasks",category:"qwen"},{id:"Qwen2.5-Coder-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 1.5B",size:"~1GB",description:"Optimized for code generation",category:"qwen"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi-3.5 Mini",size:"~2.4GB",description:"Microsoft's balanced 3.8B model",category:"medium"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",name:"Llama 3.2 3B",size:"~2GB",description:"Meta's capable small model",category:"medium"},{id:"Llama-3.2-1B-Instruct-q4f16_1-MLC",name:"Llama 3.2 1B",size:"~900MB",description:"Meta's fast tiny model",category:"medium"},{id:"Mistral-7B-Instruct-v0.3-q4f16_1-MLC",name:"Mistral 7B v0.3",size:"~4.5GB",description:"Mistral AI's flagship model",category:"medium"},{id:"SmolLM2-360M-Instruct-q4f16_1-MLC",name:"SmolLM2 360M",size:"~250MB",description:"Smallest practical model",category:"tiny"},{id:"SmolLM2-135M-Instruct-q0f16-MLC",name:"SmolLM2 135M",size:"~150MB",description:"Tiny model for simple tasks",category:"tiny"}],setStatus:i=>e({status:i}),setLoading:(i,a)=>{e({status:"loading",loadProgress:i,loadingText:a})},setReady:i=>{const{downloadedModels:a}=n(),l=a.includes(i)?a:[...a,i];e({status:"ready",currentModelId:i,loadProgress:1,loadingText:"",errorMessage:null,downloadedModels:l})},setError:i=>{e({status:"error",errorMessage:i,loadProgress:0,loadingText:""})},reset:()=>{e({status:"idle",currentModelId:null,loadProgress:0,loadingText:"",errorMessage:null})},addToDownloadQueue:i=>{const{downloadQueue:a,downloadedModels:l}=n();!a.includes(i)&&!l.includes(i)&&e({downloadQueue:[...a,i]})},removeFromQueue:i=>{const{downloadQueue:a}=n();e({downloadQueue:a.filter(l=>l!==i)})},setDownloadProgress:(i,a,l="downloading")=>{const{downloadProgress:s}=n();e({downloadProgress:{...s,[i]:{progress:a,status:l}}})},markDownloaded:i=>{const{downloadedModels:a,downloadProgress:l,downloadQueue:s}=n();a.includes(i)||e({downloadedModels:[...a,i],downloadProgress:{...l,[i]:{progress:100,status:"complete"}},downloadQueue:s.filter(c=>c!==i)})},isModelDownloaded:i=>n().downloadedModels.includes(i),getDownloadStatus:i=>{const{downloadProgress:a,downloadedModels:l}=n();return l.includes(i)?{progress:100,status:"complete"}:a[i]||{progress:0,status:"idle"}},isReady:()=>n().status==="ready",isLoading:()=>n().status==="loading",getDownloadedModels:()=>{const{availableModels:i,downloadedModels:a}=n();return i.filter(l=>a.includes(l.id))}}),{name:"sauvrn-models",partialize:e=>({downloadedModels:e.downloadedModels,currentModelId:e.currentModelId})}));let Qf=null;async function wD(){if(Qf)return Qf;const e={webgpu:!1,gpuVendor:null,gpuRenderer:null,estimatedVRAM:0,tier:"cpu",warning:null,recommendations:[]};if("gpu"in navigator)try{const n=await navigator.gpu.requestAdapter();if(n){e.webgpu=!0;const i=await n.requestAdapterInfo?.();i&&(e.gpuVendor=i.vendor||"Unknown",e.gpuRenderer=i.device||"Unknown GPU");const a=n.limits,l=a.maxBufferSize||0,s=a.maxStorageBufferBindingSize||0,c=Math.max(l,s)/(1024*1024*1024);e.estimatedVRAM=Math.round(c*10)/10,e.estimatedVRAM>=8?e.tier="high":e.estimatedVRAM>=4?e.tier="medium":(e.estimatedVRAM>=2||e.webgpu)&&(e.tier="low")}}catch(n){console.warn("WebGPU detection failed:",n),e.warning="WebGPU available but adapter request failed"}if(!e.gpuRenderer)try{const n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl");if(i){const a=i.getExtension("WEBGL_debug_renderer_info");a&&(e.gpuVendor=i.getParameter(a.UNMASKED_VENDOR_WEBGL)||"Unknown",e.gpuRenderer=i.getParameter(a.UNMASKED_RENDERER_WEBGL)||"Unknown GPU")}}catch{}return e.tier==="cpu"?(e.recommendations.push("WebGPU not supported - AI will run on CPU (slower)"),e.warning="No GPU acceleration available"):e.tier==="low"?(e.recommendations.push("Limited VRAM - use smaller AI models"),e.recommendations.push("Recommended: Phi-3-mini, Gemma-2B")):e.tier==="medium"?(e.recommendations.push("Moderate VRAM - most models will work"),e.recommendations.push("Recommended: Mistral-7B, Llama-3.1-8B")):e.tier==="high"&&e.recommendations.push("High VRAM - all models supported"),Qf=e,e}function SD(e){switch(e){case"high":return"#22c55e";case"medium":return"#f59e0b";case"low":return"#f87171";case"cpu":return"#6b7280";default:return"#6b7280"}}function ND(e){switch(e){case"high":return"";case"medium":return"";case"low":return"";case"cpu":return"";default:return""}}function ED({data:e}){const n=Ye(p=>p.availableModels),i=Ye(p=>p.status),[a,l]=T.useState(null);T.useEffect(()=>{wD().then(l)},[]);const c=n.find(p=>p.id===e.modelId)?.name||"Gemma 2 2B",f=(e.systemPrompt||"").split(`
`)[0].slice(0,50);return d.jsx(dt,{type:"aiAgent",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"ai-node-content",children:[d.jsxs("div",{className:"model-badge",children:[d.jsx("span",{className:`status-dot ${i}`}),d.jsx("span",{className:"model-name",children:c})]}),a&&d.jsxs("div",{className:"hardware-badge",title:a.recommendations?.[0]||`GPU: ${a.gpuRenderer}`,style:{"--tier-color":SD(a.tier)},children:[ND(a.tier)," ",a.tier.toUpperCase()]}),e.systemPrompt&&d.jsxs("div",{className:"node-preview prompt-preview",children:[f,"..."]}),e.tools&&e.tools.length>0&&d.jsxs("div",{className:"tools-count",children:[" ",e.tools.length," tool(s) available"]})]})})}const jD=T.memo(ED);function CD({data:e}){const n=Ye(f=>f.availableModels),i=Ye(f=>f.status),a=e.provider||"webllm",s=n.find(f=>f.id===e.modelId)?.name||e.modelName||"Gemma 2 2B",c={webllm:"",openai:"",anthropic:"",local:""};return d.jsx(dt,{type:"chatModel",data:e,inputs:0,outputs:0,providerOutput:{id:"model-out",type:"model"},children:d.jsx("div",{className:"chat-model-content",children:d.jsxs("div",{className:"model-provider-row",children:[d.jsx("span",{className:"provider-icon-badge",children:c[a]||""}),d.jsxs("div",{className:"model-details",children:[d.jsx("div",{className:"model-name-label",children:s}),d.jsx("div",{className:"provider-name",children:a.toUpperCase()})]}),d.jsxs("div",{className:`model-status-indicator ${i}`,children:[i==="ready"&&"",i==="loading"&&"",i==="error"&&""]})]})})})}const kD=T.memo(CD);function TD({data:e}){const n=e.mode||"query",i=e.namespace||"default";return d.jsx(dt,{type:"vectorMemory",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"vector-memory-content",children:[d.jsxs("div",{className:"mode-badge",children:[d.jsx("span",{className:"mode-icon",children:n==="upsert"?"":""}),d.jsx("span",{className:"mode-label",children:n==="upsert"?"Store":"Query"})]}),d.jsxs("div",{className:"namespace-tag",children:[d.jsx("span",{className:"namespace-icon",children:""}),d.jsx("span",{className:"namespace-name",children:i})]}),e.topK&&n==="query"&&d.jsxs("div",{className:"config-preview",children:["Top ",e.topK," results"]})]})})}const AD=T.memo(TD);function MD({data:e}){const n=e.title||"Approval Required",i=e.timeout||0;return d.jsx(dt,{type:"waitForApproval",data:e,inputs:1,outputs:2,children:d.jsxs("div",{className:"approval-content",children:[d.jsx("div",{className:"approval-icon",children:""}),d.jsx("div",{className:"approval-title",children:n}),e.message&&d.jsxs("div",{className:"approval-message",children:[e.message.slice(0,60),"..."]}),d.jsxs("div",{className:"approval-outputs",children:[d.jsx("div",{className:"output-label approved",children:" Approved"}),d.jsx("div",{className:"output-label rejected",children:" Rejected"})]}),i>0&&d.jsxs("div",{className:"timeout-badge",children:[" ",i,"s timeout"]})]})})}const DD=T.memo(MD);function _D({data:e}){const n=e.workflowName||"Select workflow...",i=e.passInput!==!1;return d.jsx(dt,{type:"subWorkflow",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"subworkflow-content",children:[d.jsx("div",{className:"workflow-icon",children:""}),d.jsx("div",{className:"workflow-name",children:n}),d.jsxs("div",{className:"workflow-config",children:[i&&d.jsx("span",{className:"config-tag",children:" Pass input"}),e.async&&d.jsx("span",{className:"config-tag",children:" Async"})]}),e.description&&d.jsxs("div",{className:"workflow-desc",children:[e.description.slice(0,50),"..."]})]})})}const OD=T.memo(_D);function RD({data:e}){const n=Xa(),i=e.voice||"default",a=e.speed||1,l=e.provider||"webSpeech",f=We(w=>w.nodeResults)[n]?.output,[p,h]=T.useState(!1),m=T.useCallback(()=>{if(!f?.audioId)return;const w=window.__ttsAudio?.[f.audioId];if(!w){const k=new SpeechSynthesisUtterance(f.text);k.rate=f.speed||1,k.pitch=f.pitch||1,k.onend=()=>{h(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},h(!0),window.dispatchEvent(new CustomEvent("audioStart")),speechSynthesis.speak(k);return}const{utterance:S,text:C}=w,N=new SpeechSynthesisUtterance(C);N.rate=S.rate,N.pitch=S.pitch,S.voice&&(N.voice=S.voice),N.onend=()=>{h(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},h(!0),window.dispatchEvent(new CustomEvent("audioStart")),speechSynthesis.speak(N)},[f]),g=T.useCallback(()=>{speechSynthesis.cancel(),h(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},[]),v=T.useCallback(()=>{if(!f?.text)return;const w=`Text to Speech Content
${"=".repeat(40)}

${f.text}

---
Voice: ${f.voice}
Speed: ${f.speed}x
Pitch: ${f.pitch}`,S=new Blob([w],{type:"text/plain"}),C=URL.createObjectURL(S),N=document.createElement("a");N.href=C,N.download="speech-content.txt",N.click(),URL.revokeObjectURL(C)},[f]),b=f?.canPlay;return d.jsx(dt,{type:"textToSpeech",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"tts-content",children:[d.jsx("div",{className:"tts-icon",children:""}),d.jsxs("div",{className:"tts-config",children:[d.jsx("div",{className:"provider-badge",children:l==="webSpeech"?"Web Speech API":l}),d.jsxs("div",{className:"voice-info",children:[d.jsx("span",{className:"voice-label",children:"Voice:"}),d.jsx("span",{className:"voice-name",children:i})]}),d.jsx("div",{className:"speed-info",children:a!==1&&d.jsxs("span",{children:[a,"x speed"]})})]}),e.autoPlay&&d.jsx("div",{className:"autoplay-badge",children:" Auto-play"}),b&&d.jsxs("div",{className:"tts-audio-controls",children:[p?d.jsx("button",{className:"tts-btn tts-btn-stop",onClick:g,children:" Stop"}):d.jsx("button",{className:"tts-btn tts-btn-play",onClick:m,children:" Play"}),d.jsx("button",{className:"tts-btn tts-btn-download",onClick:v,children:""})]})]})})}const zD=T.memo(RD);function LD({data:e}){const n=e.model||"stable-diffusion",i=e.size||"512x512",a=e.provider||"local";return d.jsx(dt,{type:"imageGeneration",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"imagegen-content",children:[d.jsx("div",{className:"imagegen-icon",children:""}),d.jsx("div",{className:"model-info",children:d.jsx("span",{className:"model-name",children:n})}),d.jsxs("div",{className:"imagegen-config",children:[d.jsx("span",{className:"size-badge",children:i}),d.jsx("span",{className:"provider-badge",children:a==="local"?" Local":" API"})]}),e.negativePrompt&&d.jsx("div",{className:"negative-prompt-indicator",children:" Negative prompt set"}),e.seed&&d.jsxs("div",{className:"seed-info",children:["Seed: ",e.seed]})]})})}const ID=T.memo(LD);function BD({data:e}){const n=e.packages||[];return d.jsx(dt,{type:"pythonExecutor",data:e,inputs:1,outputs:1,children:d.jsxs("div",{className:"python-content",children:[d.jsx("div",{className:"python-icon",children:""}),d.jsx("div",{className:"python-label",children:"Python (Pyodide)"}),e.code&&d.jsxs("div",{className:"code-preview",children:[e.code.split(`
`).slice(0,3).join(`
`),e.code.split(`
`).length>3&&"..."]}),n.length>0&&d.jsx("div",{className:"packages-list",children:n.map(i=>d.jsx("span",{className:"package-badge",children:i},i))})]})})}const HD=T.memo(BD);function PD({data:e}){const n=()=>{switch(e.outputType){case"file":return" File";case"notification":return" Notify";case"artifact":return" Artifact";default:return" Console"}};return d.jsx(dt,{type:"output",data:e,inputs:1,outputs:0,children:d.jsx("div",{className:"output-node-body",children:d.jsx("div",{className:"output-type-badge",children:n()})})})}const $D=T.memo(PD);function UD({sourceX:e,sourceY:n,sourcePosition:i,targetX:a,targetY:l,targetPosition:s,nodes:c,excludeNodeIds:f=[],gap:p=10}){const h=c.filter(j=>!(!j.measured?.width&&!j.width||f.includes(j.id))).map(j=>{const _=j.measured?.width||j.width||180,H=j.measured?.height||j.height||80,M=j.position.x,O=j.position.y;return{left:M,right:M+_,top:O,bottom:O+H,centerX:M+_/2,centerY:O+H/2}}),m=(j,_,H,M,O=p)=>{const V=Math.min(j,H),G=Math.max(j,H),I=Math.min(_,M),$=Math.max(_,M);return h.some(F=>G>F.left-O&&V<F.right+O&&$>F.top-O&&I<F.bottom+O)};let g=0;const v=(e+a)/2,b=(n+l)/2,w=i===ge.Left||i===ge.Right;let S=!1;if(w?S=m(e,n,v,n)||m(v,n,v,l)||m(v,l,a,l):S=m(e,n,e,b)||m(e,b,a,b)||m(a,b,a,l),S){let j=p;for(const _ of h)if(_.left<Math.max(e,a)+p&&_.right>Math.min(e,a)-p&&_.top<Math.max(n,l)+p&&_.bottom>Math.min(n,l)-p)if(w){const M=n-_.bottom,O=_.top-n,V=Math.min(Math.abs(M),Math.abs(O));j=Math.max(j,V+p*2)}else{const M=e-_.right,O=_.left-e,V=Math.min(Math.abs(M),Math.abs(O));j=Math.max(j,V+p*2)}g=Math.max(p,j)}const[C,N,k]=Pc({sourceX:e,sourceY:n,sourcePosition:i,targetX:a,targetY:l,targetPosition:s,borderRadius:8,offset:g});return[C,N,k]}function qD({id:e,source:n,target:i,sourceX:a,sourceY:l,targetX:s,targetY:c,sourcePosition:f,targetPosition:p,style:h={},markerEnd:m,sourceHandleId:g,targetHandleId:v}){const[b,w]=T.useState(!1),[S,C]=T.useState(!1),N=T.useRef(null),k=Ce(D=>D.nodes),j=We(D=>D.edgeSnapshots),_=j[e]?.[j[e]?.length-1]||null,H=T.useMemo(()=>{const D=v||g||"";return D.includes("model")?"model":D.includes("memory")?"memory":D.includes("tool")?"tool":"workflow"},[g,v]),M=T.useMemo(()=>{const D={...h};switch(H){case"model":return{...D,stroke:"#6366f1",strokeDasharray:"5,5"};case"memory":return{...D,stroke:"#10b981",strokeDasharray:"5,5"};case"tool":return{...D,stroke:"#f59e0b",strokeDasharray:"5,5"};default:return D}},[H,h]),O=T.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null),w(!0),_&&C(!0)},[_]),V=T.useCallback(()=>{N.current=setTimeout(()=>{w(!1),C(!1)},400)},[]),G=T.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null),w(!0)},[]),[I,$,F]=UD({sourceX:a,sourceY:l,sourcePosition:f,targetX:s,targetY:c,targetPosition:p,nodes:k,excludeNodeIds:[n,i],gap:50}),ee=T.useCallback(D=>{D.stopPropagation(),D.preventDefault(),window.dispatchEvent(new CustomEvent("deleteEdge",{detail:{edgeId:e}}))},[e]),A=T.useCallback(D=>{D.stopPropagation(),D.preventDefault(),window.dispatchEvent(new CustomEvent("addNodeOnEdge",{detail:{edgeId:e,position:{x:$,y:F}}}))},[e,$,F]),P=D=>D?new Date(D).toLocaleTimeString():"";return d.jsxs(d.Fragment,{children:[d.jsx("path",{d:I,fill:"none",strokeWidth:30,stroke:"transparent",style:{cursor:"pointer"},onMouseEnter:O,onMouseLeave:V}),d.jsx(Dl,{path:I,markerEnd:m,style:{...M,strokeWidth:b?3:2},className:`animated-edge ${b?"hovered":""} edge-${H} ${_?"has-data":""}`}),d.jsx("path",{className:"edge-flow-animation",d:I,fill:"none",strokeWidth:2,style:{pointerEvents:"none"}}),d.jsxs(CM,{children:[d.jsx("div",{className:`edge-action-container ${b?"visible":""}`,style:{position:"absolute",transform:`translate(-50%, -50%) translate(${$}px, ${F}px)`,pointerEvents:b?"all":"none"},onMouseEnter:G,onMouseLeave:V,children:d.jsxs("div",{className:"edge-action-buttons",children:[d.jsx("button",{className:"edge-btn edge-btn-add",onClick:A,title:"Insert node here",children:"+"}),d.jsx("button",{className:"edge-btn edge-btn-delete",onClick:ee,title:"Delete connection",children:""})]})}),S&&_&&d.jsxs("div",{className:"ghost-data-tooltip",style:{position:"absolute",transform:`translate(-50%, -120%) translate(${$}px, ${F}px)`,pointerEvents:"none"},children:[d.jsxs("div",{className:"ghost-header",children:[d.jsx("span",{className:"ghost-icon",children:""}),d.jsx("span",{className:"ghost-title",children:"Last Data"}),d.jsx("span",{className:"ghost-time",children:P(_.timestamp)})]}),d.jsxs("pre",{className:"ghost-preview",children:[_.preview,_.preview?.length>=500&&"..."]})]})]})]})}const VD=T.memo(qD);class FD{constructor(){this.isRunning=!1,this.isPaused=!1,this.debugMode=!1,this.stepResolve=null,this.abortController=null,this.executedNodes=new Set}async execute(n,i,a,l={},s={}){const{executionStore:c}=a,{debug:f=!1}=s;if(this.isRunning)throw new Error("Workflow is already running");this.isRunning=!0,this.isPaused=!1,this.debugMode=f,this.abortController=new AbortController,this.executedNodes=new Set,this.nodes=n,this.edges=i,this.nodeMap=new Map(n.map(p=>[p.id,p])),this.executionStore=c,c.startExecution();try{const p=d2(n);if(p.length===0)throw c.addLog({type:"error",message:"No trigger node found. Add a trigger to start the workflow."}),new Error("No trigger node found");c.addLog({type:"info",message:`Starting workflow${f?" (debug mode)":""} with ${p.length} trigger(s)`});const h=[];for(const m of p){const g=await this.executeFromNode(m.id,l);h.push(g)}return c.stopExecution(),c.addLog({type:"success",message:"Workflow completed successfully"}),this.isRunning=!1,{success:!0,results:h}}catch(p){return c.addLog({type:"error",message:`Workflow failed: ${p.message}`}),c.stopExecution(),this.isRunning=!1,{success:!1,error:p.message}}}async executeFromNode(n,i,a=new Set){const l=`${n}-${JSON.stringify(i).slice(0,50)}`;if(a.has(l))return{success:!0,output:i,skipped:!0};if(a.add(l),this.abortController?.signal.aborted)throw new Error("Workflow was stopped");await this.waitIfPaused(),this.debugMode&&await this.waitForStep();const s=this.nodeMap.get(n);if(!s)return{success:!1,error:`Node ${n} not found`};if(this.executionStore.setCurrentNode(n),this.executionStore.addLog({type:"node",nodeId:n,nodeName:s.data?.label||s.type,message:`Executing ${s.data?.label||s.type}`}),s.type==="aiAgent"){const w=this.getConnectedResources(n);if(w.model&&(s.data={...s.data,connectedModel:w.model},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Using connected model: ${w.model.modelName||w.model.modelId||"WebLLM"}`})),w.memory&&(s.data={...s.data,connectedMemory:w.memory},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Using connected memory: ${w.memory.namespace}`})),s.data?.enableToolCalling!==!1){const S=this.getConnectedTools(n),C=[...w.tools,...S];C.length>0&&(s.data={...s.data,tools:C},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Detected ${C.length} tool(s): ${C.map(N=>N.name).join(", ")}`}))}}const c={nodeId:n,nodes:this.nodes,edges:this.edges,executionStore:this.executionStore,addLog:w=>this.executionStore.addLog({...w,nodeId:n})},f=s.data?.retries||0,p=s.data?.retryDelay||1e3,h=s.type==="aiAgent"||s.type==="textToSpeech"||s.type==="imageGeneration",m=s.data?.timeout||(h?3e5:6e4);let g;const v=Date.now();for(let w=0;w<=f;w++){if(w>0){const S=p*Math.pow(2,w-1);this.executionStore.addLog({type:"warning",nodeId:n,nodeName:s.data?.label||s.type,message:`Retrying (attempt ${w+1}/${f+1}) after ${S}ms...`}),await new Promise(C=>setTimeout(C,S))}try{if(g=await this.executeWithTimeout(s,i,c,m),!g.success)throw new Error(g.error||"Node execution failed");break}catch(S){if(w===f){const C=Date.now()-v;throw this.executionStore.setNodeResult(n,{success:!1,error:S.message,executionTime:C,attempts:w+1}),this.executionStore.addLog({type:"error",nodeId:n,nodeName:s.data?.label||s.type,message:`Node failed after ${w+1} attempt(s): ${S.message}`,data:{error:S.message,executionTime:C,canRetry:!0,nodeId:n}}),new Error(`Node ${s.data?.label||n} failed: ${S.message}`)}}}const b=Date.now()-v;return this.executionStore.setNodeResult(n,{...g,executionTime:b}),this.executedNodes.add(n),this.executionStore.addLog({type:"success",nodeId:n,nodeName:s.data?.label||s.type,message:`Completed in ${b}ms`,data:g.output?{preview:this.getOutputPreview(g.output),executionTime:b}:void 0}),await new Promise(w=>setTimeout(w,50)),g.loopData?await this.executeLoop(s,g,a):g.outputIndex!==void 0?await this.executeBranch(s,g,a):await this.executeNextNodes(n,g.output,a)}async executeLoop(n,i,a){const{items:l,index:s}=i.loopData,c=n.id,f=[];this.executionStore.addLog({type:"info",nodeId:c,nodeName:n.data?.label||"Loop",message:`Starting loop with ${l.length} items`});const p=this.edges.find(m=>m.source===c&&m.sourceHandle==="output-0");if(p)for(let m=s;m<l.length;m++){if(this.abortController?.signal.aborted)throw new Error("Workflow was stopped");const v={item:l[m],index:m,total:l.length,isFirst:m===0,isLast:m===l.length-1,...i.output};this.executionStore.addLog({type:"info",nodeId:c,message:`Loop iteration ${m+1}/${l.length}`});const b=await this.executeFromNode(p.target,v,new Set);b.success&&f.push(b.output)}this.executionStore.addLog({type:"success",nodeId:c,message:`Loop completed (${l.length} iterations)`});const h=this.edges.find(m=>m.source===c&&m.sourceHandle==="output-1");if(h){const m={...i.output,loopResults:f,itemCount:l.length};return await this.executeFromNode(h.target,m,a)}return{success:!0,output:f}}async executeBranch(n,i,a){const{output:l,outputIndex:s}=i,c=n.id,f=this.edges.find(p=>p.source===c&&p.sourceHandle===`output-${s}`);return f?(this.executionStore.addLog({type:"info",nodeId:c,message:`Taking branch: output ${s+1}`}),await this.executeFromNode(f.target,l,a)):(this.executionStore.addLog({type:"info",nodeId:c,message:`Branch output ${s+1} has no connection, ending path`}),{success:!0,output:l})}async executeNextNodes(n,i,a){const l=this.edges.filter(c=>c.source===n);if(l.length===0)return{success:!0,output:i};const s=[];for(const c of l){this.executionStore?.addEdgeSnapshot&&this.executionStore.addEdgeSnapshot(c.id,i);const f=await this.executeFromNode(c.target,i,a);s.push(f)}return s.length===1?s[0]:{success:!0,outputs:s}}async waitIfPaused(){for(;this.isPaused&&!this.abortController?.signal.aborted;)await new Promise(n=>setTimeout(n,100))}async waitForStep(){return new Promise(n=>{this.stepResolve=n,this.executionStore.addLog({type:"debug",message:"Waiting for step (press Step to continue)..."})})}step(){if(this.stepResolve){const n=this.stepResolve;this.stepResolve=null,n()}}stop(){this.abortController&&this.abortController.abort(),this.stepResolve&&(this.stepResolve(),this.stepResolve=null),this.isRunning=!1,this.isPaused=!1,this.debugMode=!1}pause(){this.isPaused=!0,this.executionStore?.addLog({type:"info",message:"Execution paused"})}resume(){this.isPaused=!1,this.executionStore?.addLog({type:"info",message:"Execution resumed"})}setDebugMode(n){this.debugMode=n}async executeWithTimeout(n,i,a,l){const s=new Promise((f,p)=>{setTimeout(()=>{p(new Error(`Timeout after ${l}ms`))},l)}),c=(async()=>await bw(n,i,a))();return Promise.race([c,s])}getConnectedResources(n){const i=this.edges.filter(l=>l.target===n&&["model-slot","memory-slot","tool-slot"].includes(l.targetHandle)),a={model:null,memory:null,tools:[]};for(const l of i){const s=this.nodeMap.get(l.source);if(s)switch(l.targetHandle){case"model-slot":a.model={nodeId:s.id,modelId:s.data?.modelId,modelName:s.data?.modelName,provider:s.data?.provider||"webllm",temperature:s.data?.temperature,maxTokens:s.data?.maxTokens};break;case"memory-slot":a.memory={nodeId:s.id,namespace:s.data?.namespace||"default",mode:s.data?.mode||"query",topK:s.data?.topK||5};break;case"tool-slot":a.tools.push({nodeId:s.id,name:s.data?.label||s.type,type:s.type,description:this.getToolDescription(s.type)});break}}return a}getConnectedTools(n){const i=this.edges.filter(l=>l.source===n),a=[];for(const l of i){const s=this.nodeMap.get(l.target);s&&this.isToolNode(s.type)&&a.push({nodeId:s.id,name:s.data?.label||s.type,type:s.type,description:this.getToolDescription(s.type),inputSchema:{input:"any"}})}return a}isToolNode(n){return["codeExecutor","httpRequest","setVariable","ifElse","loopEach","switchNode","delay","merge"].includes(n)}getToolDescription(n){return{codeExecutor:"Execute JavaScript code. Pass data to process and receive the result.",httpRequest:"Make HTTP requests to APIs. Returns the response data.",setVariable:"Store a value in workflow memory for later use.",ifElse:"Evaluate a condition and return the result.",loopEach:"Iterate through an array of items.",switchNode:"Route based on a value matching specific cases.",delay:"Wait for a specified duration.",merge:"Combine multiple inputs into one output."}[n]||`Execute ${n} node.`}getOutputPreview(n){if(typeof n=="string")return n.slice(0,100)+(n.length>100?"...":"");if(typeof n=="object"){const i=JSON.stringify(n);return i.slice(0,100)+(i.length>100?"...":"")}return String(n)}}const Da=new FD;function GD(){const e=Ce(v=>v.nodes),n=Ce(v=>v.edges),i=We(v=>v.isRunning),a=We(v=>v.isPaused),l=We(v=>v.isDebugMode),s=We(v=>v.setDebugMode),c=We(v=>v.setPaused),f=T.useCallback(async()=>{if(i)return;const v=We.getState();await Da.execute(e,n,{executionStore:v},{},{debug:l})},[e,n,i,l]),p=T.useCallback(()=>Da.stop(),[]),h=T.useCallback(()=>{Da.pause(),c(!0)},[c]),m=T.useCallback(()=>{Da.resume(),c(!1)},[c]),g=T.useCallback(()=>Da.step(),[]);return d.jsxs("div",{className:"execution-controls-panel",children:[d.jsx("div",{className:"exec-btn-group",children:i?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"exec-btn btn-stop",onClick:p,title:"Stop Execution",children:" Stop"}),a?d.jsx("button",{className:"exec-btn btn-resume",onClick:m,title:"Resume",children:" Resume"}):d.jsx("button",{className:"exec-btn btn-pause",onClick:h,title:"Pause",children:" Pause"}),l&&d.jsx("button",{className:"exec-btn btn-step",onClick:g,title:"Step Next",children:" Step"})]}):d.jsx("button",{className:"exec-btn btn-run",onClick:f,disabled:e.length===0,title:l?"Start Debug Run":"Start Workflow",children:l?" Debug Run":" Run"})}),d.jsx("div",{className:"separator"}),d.jsx("button",{className:`exec-btn btn-toggle-debug ${l?"active":""}`,onClick:()=>s(!l),title:"Toggle Debug Mode",children:l?" Debug On":" Debug Off"})]})}function YD({isOpen:e,onClose:n}){const[i,a]=T.useState("all"),l=Ye(k=>k.availableModels),s=Ye(k=>k.currentModelId),c=Ye(k=>k.status),f=Ye(k=>k.loadProgress),p=Ye(k=>k.downloadedModels),h=Ye(k=>k.downloadProgress),m=Ye(k=>k.setDownloadProgress),g=k=>{m(k,5,"downloading"),window.dispatchEvent(new CustomEvent("downloadModel",{detail:{modelId:k}}))},v=async k=>{window.dispatchEvent(new CustomEvent("loadModel",{detail:{modelId:k}})),n()},b=async k=>{try{const j=await caches.keys();for(const M of j)if(M.includes("webllm")||M.includes("mlc")){const O=await caches.open(M),V=await O.keys();for(const G of V)G.url.includes(k)&&await O.delete(G)}const H=Ye.getState().downloadedModels.filter(M=>M!==k);Ye.setState({downloadedModels:H}),console.log(`Removed model: ${k}`)}catch(j){console.error("Failed to remove model:",j)}},w=async()=>{if(confirm("This will remove ALL downloaded models. Continue?"))try{const k=await caches.keys();for(const _ of k)(_.includes("webllm")||_.includes("mlc")||_.includes("huggingface"))&&await caches.delete(_);const j=await indexedDB.databases();for(const _ of j)(_.name?.includes("webllm")||_.name?.includes("mlc"))&&indexedDB.deleteDatabase(_.name);Ye.setState({downloadedModels:[],downloadProgress:{},currentModelId:null,status:"idle"}),localStorage.removeItem("selectedModel"),console.log("All model caches cleared"),alert("All models removed. Refresh the page to start fresh.")}catch(k){console.error("Failed to clear cache:",k),alert("Failed to clear some caches. Try clearing browser data manually.")}},S=[{id:"all",label:"All"},{id:"recommended",label:" Recommended"},{id:"downloaded",label:" Downloaded"},{id:"gemma",label:" Gemma 3"},{id:"qwen3",label:" Qwen 3"},{id:"qwen",label:"Qwen 2.5"},{id:"medium",label:"Medium"},{id:"tiny",label:"Tiny"}],C=l.filter(k=>i==="all"?!0:i==="downloaded"?p.includes(k.id):k.category===i),N=k=>s===k&&c==="ready"?"active":p.includes(k)?"downloaded":h[k]?.status==="downloading"?"downloading":"available";return e?d.jsx("div",{className:"model-switcher-overlay",onClick:n,children:d.jsxs("div",{className:"model-switcher",onClick:k=>k.stopPropagation(),children:[d.jsxs("header",{className:"ms-header",children:[d.jsx("h2",{children:" Model Manager"}),d.jsx("button",{className:"btn-close",onClick:n,children:""})]}),d.jsx("div",{className:"ms-categories",children:S.map(k=>d.jsxs("button",{className:`cat-btn ${i===k.id?"active":""}`,onClick:()=>a(k.id),children:[k.label,k.id==="downloaded"&&p.length>0&&d.jsx("span",{className:"cat-badge",children:p.length})]},k.id))}),d.jsxs("div",{className:"ms-content",children:[s&&d.jsxs("div",{className:"current-model-banner",children:[d.jsx("span",{className:"banner-icon",children:""}),d.jsxs("span",{className:"banner-text",children:["Active:"," ",l.find(k=>k.id===s)?.name]}),d.jsx("span",{className:`banner-status ${c}`,children:c==="ready"?" Ready":c==="loading"?` ${Math.round(f*100)}%`:""})]}),d.jsx("div",{className:"models-grid",children:C.map(k=>{const j=N(k.id),_=h[k.id]?.progress||0;return d.jsxs("div",{className:`model-card ${j}`,children:[d.jsxs("div",{className:"model-card-header",children:[d.jsx("span",{className:"model-name",children:k.name}),d.jsx("span",{className:"model-size",children:k.size})]}),d.jsx("p",{className:"model-desc",children:k.description}),j==="downloading"&&d.jsxs("div",{className:"download-progress",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${_}%`}})}),d.jsxs("span",{className:"progress-text",children:[_,"%"]})]}),d.jsxs("div",{className:"model-actions",children:[j==="active"&&d.jsx("span",{className:"status-badge active",children:" Active"}),j==="downloaded"&&d.jsx("button",{className:"btn-load",onClick:()=>v(k.id),children:" Load"}),j==="available"&&d.jsx("button",{className:"btn-download",onClick:()=>g(k.id),children:" Download"}),j==="downloading"&&d.jsx("span",{className:"status-badge downloading",children:"Downloading..."}),(j==="downloaded"||j==="active")&&d.jsx("button",{className:"btn-remove",onClick:H=>{H.stopPropagation(),b(k.id)},title:"Remove from cache",children:""})]})]},k.id)})}),C.length===0&&d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No models in this category"})})]}),d.jsxs("footer",{className:"ms-footer",children:[d.jsx("p",{className:"hint",children:" Models are cached locally after download. Larger models = better quality but slower."}),d.jsx("button",{className:"btn-clear-cache",onClick:w,children:" Clear All Cache"})]})]})}):null}const XD=T.memo(YD);function QD({isOpen:e,onClose:n}){const[i,a]=T.useState({localRequests:0,externalRequests:0,modelsLoaded:[],storageUsed:0,lastActivity:null});T.useEffect(()=>{navigator.storage?.estimate&&navigator.storage.estimate().then(({usage:h,quota:m})=>{a(g=>({...g,storageUsed:h||0,storageQuota:m||0}))});const c=window.fetch;let f=0,p=0;return window.fetch=function(...h){const m=h[0]?.toString()||"";return m.startsWith("/")||m.includes("localhost")?f++:m.startsWith("http")&&p++,a(g=>({...g,localRequests:f,externalRequests:p,lastActivity:new Date().toISOString()})),c.apply(this,h)},()=>{window.fetch=c}},[]);const l=c=>{if(!c)return"0 B";const f=1024,p=["B","KB","MB","GB"],h=Math.floor(Math.log(c)/Math.log(f));return`${(c/Math.pow(f,h)).toFixed(1)} ${p[h]}`},s=i.externalRequests===0?100:Math.max(0,100-i.externalRequests/(i.localRequests+1)*100);return e?d.jsx("div",{className:"privacy-monitor-overlay",onClick:n,children:d.jsxs("div",{className:"privacy-monitor",onClick:c=>c.stopPropagation(),children:[d.jsxs("header",{className:"pm-header",children:[d.jsx("h2",{children:" Privacy Monitor"}),d.jsx("button",{className:"btn-close",onClick:n,children:""})]}),d.jsxs("div",{className:"pm-content",children:[d.jsxs("div",{className:"privacy-score-section",children:[d.jsxs("div",{className:`privacy-score ${s===100?"perfect":s>80?"good":"warning"}`,children:[d.jsxs("span",{className:"score-value",children:[Math.round(s),"%"]}),d.jsx("span",{className:"score-label",children:"Local Processing"})]}),s===100&&d.jsx("div",{className:"privacy-badge",children:" Zero Cloud Leakage"})]}),d.jsxs("div",{className:"pm-stats-grid",children:[d.jsxs("div",{className:"pm-stat",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-info",children:[d.jsx("span",{className:"stat-value",children:i.localRequests}),d.jsx("span",{className:"stat-label",children:"Local Requests"})]})]}),d.jsxs("div",{className:"pm-stat",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-info",children:[d.jsx("span",{className:"stat-value",children:i.externalRequests}),d.jsx("span",{className:"stat-label",children:"External Calls"})]})]}),d.jsxs("div",{className:"pm-stat",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-info",children:[d.jsx("span",{className:"stat-value",children:l(i.storageUsed)}),d.jsx("span",{className:"stat-label",children:"Local Storage"})]})]}),d.jsxs("div",{className:"pm-stat",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-info",children:[d.jsx("span",{className:"stat-value",children:"WebLLM"}),d.jsx("span",{className:"stat-label",children:"AI Engine"})]})]})]}),d.jsxs("div",{className:"pm-features",children:[d.jsx("h3",{children:"Privacy Features"}),d.jsxs("ul",{children:[d.jsx("li",{children:" All AI runs locally in your browser"}),d.jsx("li",{children:" No data sent to external APIs"}),d.jsx("li",{children:" Workflows stored in IndexedDB"}),d.jsx("li",{children:" No telemetry or tracking"}),d.jsx("li",{children:" Open source & auditable"})]})]}),d.jsxs("div",{className:"pm-storage",children:[d.jsx("h3",{children:"Local Data"}),d.jsx("div",{className:"storage-bar",children:d.jsx("div",{className:"storage-used",style:{width:`${Math.min(100,i.storageUsed/(i.storageQuota||1)*100)}%`}})}),d.jsxs("span",{className:"storage-text",children:[l(i.storageUsed)," /"," ",l(i.storageQuota)]})]})]})]})}):null}const ZD=T.memo(QD);function WD({isOpen:e,onClose:n,thinkingStream:i=[]}){const[a,l]=T.useState(new Set),s=c=>{l(f=>{const p=new Set(f);return p.has(c)?p.delete(c):p.add(c),p})};return e?d.jsx("div",{className:"live-thinking-overlay",onClick:n,children:d.jsxs("div",{className:"live-thinking",onClick:c=>c.stopPropagation(),children:[d.jsxs("header",{className:"lt-header",children:[d.jsx("h2",{children:" Live Thinking"}),d.jsx("div",{className:"lt-status",children:i.length>0&&d.jsxs("span",{className:"thinking-indicator",children:[d.jsx("span",{className:"thinking-dot"}),"Processing..."]})}),d.jsx("button",{className:"btn-close",onClick:n,children:""})]}),d.jsx("div",{className:"lt-content",children:i.length===0?d.jsxs("div",{className:"lt-empty",children:[d.jsx("span",{className:"lt-empty-icon",children:""}),d.jsx("p",{children:"No active reasoning"}),d.jsx("p",{className:"hint",children:"Run an AI node to see live thinking"})]}):d.jsx("div",{className:"thinking-steps",children:i.map((c,f)=>d.jsxs("div",{className:`thinking-step ${c.type||"thought"} ${a.has(f)?"expanded":""}`,onClick:()=>s(f),children:[d.jsxs("div",{className:"step-header",children:[d.jsx("span",{className:"step-icon",children:c.type==="thought"?"":c.type==="action"?"":c.type==="observation"?"":c.type==="conclusion"?"":""}),d.jsxs("span",{className:"step-number",children:["Step ",f+1]}),d.jsx("span",{className:"step-type",children:c.type||"thought"})]}),d.jsx("div",{className:"step-content",children:c.content}),c.details&&a.has(f)&&d.jsx("div",{className:"step-details",children:d.jsx("pre",{children:JSON.stringify(c.details,null,2)})})]},f))})}),d.jsx("footer",{className:"lt-footer",children:d.jsxs("span",{className:"step-count",children:[i.length," reasoning step(s)"]})})]})}):null}const KD=T.memo(WD),Vc={manualTrigger:{id:"manualTrigger",icon:"",title:"Manual Trigger",category:"Triggers",overview:"The Manual Trigger is the starting point for on-demand workflows. When you click the Run button, this node fires first and passes its configured payload to connected nodes. It's ideal for testing, user-initiated automations, or workflows that need human activation.",technicalDetails:`
**Execution Flow:**
1. User clicks Run button or presses Ctrl+Enter
2. Manual Trigger node activates and emits its payload
3. Output data flows to all connected downstream nodes
4. Execution continues through the graph

**Output Schema:**
\`\`\`javascript
{
  timestamp: "2024-01-15T10:30:00.000Z",
  trigger: "manual",
  text: "Your default payload text",
  data: { ...formFieldValues }
}
\`\`\`
    `,config:[{name:"Label",type:"string",desc:"Display name for the node",default:"Manual Trigger"},{name:"Default Payload",type:"string (multiline)",desc:"Text content passed as 'text' field in output",default:""},{name:"Input Fields",type:"Form Builder",desc:"Dynamic form fields for user input at runtime",default:"[]"}],examples:[{title:"Simple Text Input",description:"Pass a question to an AI Agent",config:'Default Payload: "What are the benefits of renewable energy?"',output:'{ timestamp: "...", trigger: "manual", text: "What are the benefits of renewable energy?", data: {} }'},{title:"Form with Multiple Fields",description:"Collect structured data before processing",config:`Input Fields:
- name: "email" | type: "text" | label: "Email Address"
- name: "subject" | type: "text" | label: "Subject Line"  
- name: "priority" | type: "select" | options: ["low", "medium", "high"]`,output:'{ timestamp: "...", trigger: "manual", data: { email: "user@example.com", subject: "Hello", priority: "high" } }'},{title:"JSON Payload",description:"Pass structured JSON data",config:`Default Payload:
{
  "action": "process",
  "items": ["item1", "item2"],
  "config": { "verbose": true }
}`,output:`{ timestamp: "...", trigger: "manual", text: '{"action":"process",...}', data: {} }`}],tips:["Use Input Fields to create reusable workflows with variable parameters","The 'text' field is the primary data carrier - use it for simple string inputs","Form field values are accessible via input.data.fieldName in downstream nodes","Combine with AI Agent to build interactive chat interfaces"],connections:{inputs:0,outputs:1,outputLabels:["output"]}},scheduleTrigger:{id:"scheduleTrigger",icon:"",title:"Schedule Trigger",category:"Triggers",overview:"The Schedule Trigger runs workflows automatically at specified intervals using CRON expressions. Perfect for periodic tasks like data synchronization, report generation, health checks, or cleanup jobs.",technicalDetails:`
**CRON Expression Format:**
\`\`\`
 minute (0-59)
  hour (0-23)
   day of month (1-31)
    month (1-12)
     day of week (0-6, Sunday=0)
    
* * * * *
\`\`\`

**Special Characters:**
- \`*\` = any value
- \`,\` = value list (1,3,5)
- \`-\` = range (1-5)
- \`/\` = step (*/5 = every 5)

**Output Schema:**
\`\`\`javascript
{
  timestamp: "2024-01-15T10:30:00.000Z",
  trigger: "schedule",
  schedule: "*/5 * * * *",
  nextRun: "2024-01-15T10:35:00.000Z"
}
\`\`\`
    `,config:[{name:"Schedule",type:"CRON expression",desc:"When the workflow should run",default:"*/5 * * * *"},{name:"Enabled",type:"boolean",desc:"Toggle schedule on/off without deleting",default:"false"}],examples:[{title:"Every 5 Minutes",description:"Health check or monitoring",config:"Schedule: */5 * * * *",output:"Runs at: 10:00, 10:05, 10:10, 10:15..."},{title:"Daily at 9 AM",description:"Morning report generation",config:"Schedule: 0 9 * * *",output:"Runs at: 09:00 every day"},{title:"Every Monday at 8:30 AM",description:"Weekly summary email",config:"Schedule: 30 8 * * 1",output:"Runs at: 08:30 every Monday"},{title:"First Day of Month",description:"Monthly billing or reports",config:"Schedule: 0 0 1 * *",output:"Runs at: midnight on the 1st of each month"}],tips:["Schedules only run when the browser tab is open and active","Use 'Enabled' toggle to pause schedules without deleting the configuration","For more reliable scheduling, consider using browser extensions or service workers","Test your CRON expression at crontab.guru before deploying"],connections:{inputs:1,outputs:1,inputLabels:["re-trigger"],outputLabels:["output"]}},webhookTrigger:{id:"webhookTrigger",icon:"",title:"Webhook Trigger",category:"Triggers",overview:"The Webhook Trigger creates an HTTP endpoint that external services can call to start your workflow. Use it to integrate with third-party APIs, form submissions, IoT devices, or any system that can make HTTP requests.",technicalDetails:`
**Endpoint URL Format:**
\`\`\`
https://your-domain.com/webhook/{endpoint}
\`\`\`

**Supported Methods:**
- GET - Retrieve data, parameters in URL
- POST - Submit data in request body (JSON)
- PUT - Update resources
- DELETE - Remove resources

**Request Body Parsing:**
\`\`\`javascript
// JSON body is automatically parsed
{
  "event": "user.created",
  "data": { "id": 123, "email": "user@example.com" }
}
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  method: "POST",
  endpoint: "/webhook/my-hook",
  headers: { "content-type": "application/json", ... },
  body: { ...requestBody },
  query: { ...urlParams },
  timestamp: "..."
}
\`\`\`
    `,config:[{name:"Method",type:"select",desc:"HTTP method to accept",default:"POST",options:["GET","POST","PUT","DELETE"]},{name:"Endpoint",type:"string",desc:"URL path for the webhook",default:"/webhook/default"},{name:"Auth Required",type:"boolean",desc:"Require authentication token",default:"false"}],examples:[{title:"Form Submission Handler",description:"Process contact form data",config:`Method: POST
Endpoint: /webhook/contact-form`,output:'{ method: "POST", body: { name: "John", email: "john@example.com", message: "Hello!" } }'},{title:"GitHub Webhook",description:"Trigger on repository events",config:`Method: POST
Endpoint: /webhook/github`,output:'{ method: "POST", body: { action: "push", repository: {...}, commits: [...] } }'},{title:"Stripe Payment Webhook",description:"Handle payment confirmations",config:`Method: POST
Endpoint: /webhook/stripe`,output:'{ method: "POST", body: { type: "payment_intent.succeeded", data: {...} } }'}],tips:["Webhooks require a publicly accessible URL - use tunneling (ngrok) for local development","Always validate incoming data before processing","Use Auth Required for sensitive webhooks to prevent unauthorized access","Connect to Code Executor to validate signatures or transform data"],connections:{inputs:0,outputs:1,outputLabels:["output"]}},errorTrigger:{id:"errorTrigger",icon:"",title:"Error Trigger",category:"Triggers",overview:"The Error Trigger catches exceptions from other nodes, enabling graceful error handling and recovery. Build resilient workflows that can log errors, send notifications, or retry failed operations.",technicalDetails:`
**Error Capture Modes:**
1. **Watch All** - Catches errors from any node in the workflow
2. **Specific Nodes** - Only watches selected nodes by ID

**Retry Logic:**
- Automatic retry with configurable count
- Exponential backoff between attempts
- Final failure triggers error output

**Output Schema:**
\`\`\`javascript
{
  error: {
    message: "Network request failed",
    nodeId: "httpRequest-abc123",
    nodeName: "API Call",
    stack: "Error: Network request failed\\n  at..."
  },
  originalInput: { ...inputThatCausedError },
  retryAttempt: 1,
  timestamp: "..."
}
\`\`\`
    `,config:[{name:"Watch All",type:"boolean",desc:"Monitor all nodes for errors",default:"true"},{name:"Specific Nodes",type:"array",desc:"Node IDs to watch (when Watch All is false)",default:"[]"},{name:"Retry Enabled",type:"boolean",desc:"Automatically retry failed nodes",default:"false"},{name:"Retry Count",type:"number",desc:"Maximum retry attempts",default:"3"}],examples:[{title:"Error Logging",description:"Log all errors to console",config:`Watch All: true
Retry Enabled: false`,flow:"Error Trigger  Code Executor (log error)  Output"},{title:"Error Notification",description:"Send Slack message on failure",config:"Watch All: true",flow:"Error Trigger  HTTP Request (Slack API)  Output"},{title:"Retry with Fallback",description:"Retry API call, then use cached data",config:`Specific Nodes: ["httpRequest-main"]
Retry Enabled: true
Retry Count: 3`,flow:"Error Trigger  If/Else (retries exhausted?)  Local Storage (get cache)"}],tips:["Place Error Trigger anywhere in your workflow - it's not connected to the main flow","Use error.nodeId to identify which node failed","Combine with AI Agent to generate human-readable error summaries","Log errors to Local Storage for debugging across sessions"],connections:{inputs:0,outputs:1,outputLabels:["error"]}},browserEventTrigger:{id:"browserEventTrigger",icon:"",title:"Browser Event",category:"Triggers",overview:"The Browser Event Trigger responds to browser and DOM events like focus, blur, URL changes, element clicks, or timed intervals. Automate based on user interactions or browser state changes.",technicalDetails:`
**Event Types:**
| Type | Description | Use Case |
|------|-------------|----------|
| focus | Tab receives focus | Resume paused workflows |
| blur | Tab loses focus | Pause background tasks |
| urlChange | URL hash or path changes | SPA navigation |
| domClick | Element is clicked | User interaction |
| timer | Interval elapses | Polling |

**Output Schema:**
\`\`\`javascript
{
  eventType: "domClick",
  target: { selector: "#submit-btn", tagName: "BUTTON" },
  timestamp: "...",
  url: "https://example.com/page"
}
\`\`\`
    `,config:[{name:"Event Type",type:"select",desc:"Browser event to listen for",default:"focus",options:["focus","blur","urlChange","domClick","timer"]},{name:"Selector",type:"CSS selector",desc:"Element selector for domClick events",default:""},{name:"URL Pattern",type:"regex",desc:"Pattern to match for urlChange events",default:""},{name:"Interval",type:"number (ms)",desc:"Milliseconds between timer events",default:"1000"}],examples:[{title:"Auto-Save on Blur",description:"Save work when user leaves tab",config:"Event Type: blur",flow:"Browser Event  Local Storage (save state)"},{title:"Click Tracking",description:"Log button clicks",config:`Event Type: domClick
Selector: .track-btn`,flow:"Browser Event  HTTP Request (analytics API)"},{title:"Polling API",description:"Check for updates every 30 seconds",config:`Event Type: timer
Interval: 30000`,flow:"Browser Event  HTTP Request  If/Else (new data?)  Output"}],tips:["Timer events only fire when the tab is active to conserve resources","Use specific CSS selectors to avoid triggering on unintended elements","Combine with If/Else to filter events before processing","URL patterns support regex for flexible matching"],connections:{inputs:0,outputs:1,outputLabels:["event"]}},output:{id:"output",icon:"",title:"Output",category:"Actions",overview:"The Output node is the terminal point of your workflow. It displays results, downloads files, sends notifications, and automatically saves all output as artifacts for future reference.",technicalDetails:`
**Output Types:**
| Type | Behavior |
|------|----------|
| console | Logs to browser console + saves artifact |
| file | Downloads file + saves artifact |
| notification | Shows browser notification + saves artifact |

**All outputs automatically save artifacts to IndexedDB.**

**Output Schema:**
\`\`\`javascript
// The output node passes through its input
{
  ...inputData,
  _outputMeta: {
    type: "console|file|notification",
    artifactId: "uuid",
    timestamp: "..."
  }
}
\`\`\`
    `,config:[{name:"Output Type",type:"select",desc:"How to display/save the output",default:"console",options:["console","file","notification"]},{name:"Filename",type:"string",desc:"Filename for file downloads",default:"output.txt"},{name:"Format JSON",type:"boolean",desc:"Pretty-print JSON with indentation",default:"false"}],examples:[{title:"Console Logging",description:"Debug workflow output",config:`Output Type: console
Format JSON: true`,result:"Opens browser DevTools console with formatted output"},{title:"Download Report",description:"Save AI-generated content to file",config:`Output Type: file
Filename: report_{{date}}.txt`,result:"Downloads file to user's Downloads folder"},{title:"Desktop Notification",description:"Alert user when workflow completes",config:"Output Type: notification",result:"Shows browser notification with output preview"}],tips:["All outputs are saved as artifacts regardless of output type","View artifacts in the Execution Panel's Artifacts tab","Use Format JSON for complex object outputs","Notification requires browser permission - prompt appears on first use"],connections:{inputs:1,outputs:0}},httpRequest:{id:"httpRequest",icon:"",title:"HTTP Request",category:"Actions",overview:"The HTTP Request node makes REST API calls to external services. Supports all HTTP methods, custom headers, request bodies, and configurable timeouts.",technicalDetails:`
**Request Configuration:**
\`\`\`javascript
{
  method: "GET|POST|PUT|PATCH|DELETE",
  url: "https://api.example.com/endpoint",
  headers: { "Authorization": "Bearer token", ... },
  body: "string or JSON object",
  timeout: 30000 // milliseconds
}
\`\`\`

**Response Schema:**
\`\`\`javascript
{
  status: 200,
  statusText: "OK",
  data: { ...responseJSON },
  headers: { "content-type": "application/json", ... }
}
\`\`\`

**Error Handling:**
- Network errors throw exceptions (catch with Error Trigger)
- 4xx/5xx responses return normally with status code
- Timeout aborts request after configured duration
    `,config:[{name:"Method",type:"select",desc:"HTTP method",default:"GET",options:["GET","POST","PUT","PATCH","DELETE"]},{name:"URL",type:"string",desc:"Full endpoint URL (supports {{expressions}})",default:""},{name:"Headers",type:"JSON",desc:"Request headers as JSON object",default:"{}"},{name:"Body",type:"string/JSON",desc:"Request body for POST/PUT/PATCH",default:""},{name:"Timeout",type:"number",desc:"Timeout in milliseconds",default:"30000"}],examples:[{title:"GET Request",description:"Fetch data from API",config:`Method: GET
URL: https://api.github.com/users/octocat
Headers: { "Accept": "application/json" }`,output:'{ status: 200, data: { login: "octocat", id: 583231, ... } }'},{title:"POST with JSON Body",description:"Create a new resource",config:`Method: POST
URL: https://api.example.com/posts
Headers: { "Content-Type": "application/json", "Authorization": "Bearer {{input.token}}" }
Body: { "title": "{{input.title}}", "content": "{{input.content}}" }`,output:'{ status: 201, data: { id: 42, title: "...", created: true } }'},{title:"Dynamic URL from Input",description:"Parameterized API call",config:`Method: GET
URL: https://api.example.com/users/{{input.userId}}/profile`,output:"Fetches profile for the user ID from previous node"},{title:"Slack Webhook",description:"Send message to Slack channel",config:`Method: POST
URL: https://hooks.slack.com/services/T00/B00/XXX
Headers: { "Content-Type": "application/json" }
Body: { "text": "Workflow completed: {{input.result}}" }`,output:'{ status: 200, data: "ok" }'}],tips:["Use {{input.field}} syntax to inject dynamic values from previous nodes","Set appropriate Content-Type header for POST/PUT requests","Handle API rate limits with retry logic via Error Trigger","CORS restrictions apply - use a proxy for cross-origin requests if needed"],connections:{inputs:1,outputs:1}},codeExecutor:{id:"codeExecutor",icon:"",title:"Code Executor",category:"Actions",overview:"The Code Executor runs custom JavaScript code with full access to input data. Transform data, implement complex logic, call APIs, or generate dynamic content. Your code runs in a sandboxed environment with async/await support.",technicalDetails:`
**Execution Context:**
\`\`\`javascript
// Available variables:
input    // Data from previous node
context  // Execution context with nodeId, addLog()

// Your code is wrapped in async IIFE:
(async () => {
  // Your code here
  return result;
})();
\`\`\`

**Return Value:**
- Use \`return\` to pass data to next node
- Returned value becomes \`output\` for downstream nodes
- Objects, arrays, strings, numbers all supported

**Available APIs:**
- fetch() for HTTP requests
- console.log() for debugging
- JSON, Math, Date, Array methods
- async/await for promises
    `,config:[{name:"Code",type:"JavaScript",desc:"Your JavaScript code to execute",default:`// Access input data via 'input'
// Return output data
return input;`}],examples:[{title:"Data Transformation",description:"Transform array of objects",code:`// Extract specific fields
const users = input.data || [];
return users.map(user => ({
  id: user.id,
  name: user.name.toUpperCase(),
  email: user.email.toLowerCase()
}));`},{title:"Filtering",description:"Filter array by condition",code:`// Keep only active items
const items = input.items || [];
return items.filter(item => 
  item.status === 'active' && 
  item.score > 50
);`},{title:"API Call with Processing",description:"Fetch and transform external data",code:`// Fetch additional data
const userId = input.userId;
const response = await fetch(
  \`https://api.example.com/users/\${userId}\`
);
const user = await response.json();

// Combine with input
return {
  ...input,
  userDetails: user,
  fetchedAt: new Date().toISOString()
};`},{title:"Generate Dynamic Content",description:"Create content based on input",code:`// Build email template
const { name, items, total } = input;

const itemList = items
  .map(i => \`- \${i.name}: $\${i.price}\`)
  .join('\\n');

return {
  subject: \`Order Confirmation for \${name}\`,
  body: \`Dear \${name},

Thank you for your order!

Items:
\${itemList}

Total: $\${total}

Best regards,
The Team\`
};`},{title:"Error Handling",description:"Graceful error handling",code:`try {
  const result = await riskyOperation(input);
  return { success: true, data: result };
} catch (error) {
  return { 
    success: false, 
    error: error.message,
    fallback: input.defaultValue 
  };
}`}],tips:["Use console.log() for debugging - output appears in browser DevTools","Always handle potential null/undefined with optional chaining (?.) or defaults","Async operations are fully supported with async/await","Complex logic is better here than chaining multiple Set Variable nodes"],connections:{inputs:1,outputs:1}},setVariable:{id:"setVariable",icon:"",title:"Set Variable",category:"Actions",overview:"The Set Variable node creates, transforms, or merges data into named variables. Use it to prepare data for downstream nodes, rename fields, or combine multiple data sources.",technicalDetails:`
**Modes:**
| Mode | Behavior |
|------|----------|
| set | Replaces value entirely |
| append | Adds to existing array |
| merge | Shallow merge with existing object |

**Template Expressions:**
\`\`\`
{{input.field}}           - Access input field
{{input.data.nested}}     - Nested access
{{input.items[0].name}}   - Array indexing
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  ...input,
  [variableName]: value
}
\`\`\`
    `,config:[{name:"Variable Name",type:"string",desc:"Name of the variable to create/update",default:"data"},{name:"Value",type:"string",desc:"Value or expression (supports {{templates}})",default:""},{name:"Mode",type:"select",desc:"How to set the value",default:"set",options:["set","append","merge"]}],examples:[{title:"Extract Field",description:"Pull out specific data",config:`Variable Name: email
Value: {{input.user.email}}
Mode: set`,output:'{ ...input, email: "user@example.com" }'},{title:"Build Array",description:"Accumulate items from loop",config:`Variable Name: results
Value: {{input.currentItem}}
Mode: append`,output:"{ ...input, results: [...existing, currentItem] }"},{title:"Merge Objects",description:"Combine data sources",config:`Variable Name: combined
Value: { "timestamp": "{{now}}", "source": "workflow" }
Mode: merge`,output:'{ ...input, combined: { ...existing, timestamp: "...", source: "workflow" } }'}],tips:["Use Set Variable for simple transformations; Code Executor for complex logic","Variable names become keys in the output object","Template expressions are resolved from the input data","Append mode is useful for collecting results in loops"],connections:{inputs:1,outputs:1}},fileSystem:{id:"fileSystem",icon:"",title:"File System",category:"Actions",overview:"The File System node reads from and writes to local files using the File System Access API. Process local documents, save generated content, or build file-based workflows.",technicalDetails:`
**Read Mode:**
- Opens file picker dialog
- Returns file contents as text or base64
- Supports filtering by file extension

**Write Mode:**
- Opens save dialog
- Writes string content to selected file
- Creates new file or overwrites existing

**Output Schema (Read):**
\`\`\`javascript
{
  filename: "document.txt",
  size: 1024,
  type: "text/plain",
  content: "File contents here...",
  lastModified: 1697234567890
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Read or write operation",default:"read",options:["read","write"]},{name:"Filename",type:"string",desc:"Default filename for write operations",default:""},{name:"File Types",type:"array",desc:"Accepted extensions for read (e.g., ['.txt', '.json'])",default:"[]"}],examples:[{title:"Read Text File",description:"Load document for processing",config:`Mode: read
File Types: [".txt", ".md"]`,output:'{ filename: "notes.txt", content: "Document content..." }'},{title:"Save AI Output",description:"Write generated content to file",config:`Mode: write
Filename: generated_{{date}}.txt`,flow:"AI Agent  File System (write)"},{title:"Process JSON File",description:"Load and parse JSON data",config:`Mode: read
File Types: [".json"]`,flow:"File System (read)  Code Executor (parse JSON)  Output"}],tips:["File System Access API requires user permission for each file","Works best in Chrome and Edge browsers","Combine with AI Agent to analyze document contents","Use Code Executor to parse JSON or CSV file contents"],connections:{inputs:1,outputs:1}},localStorage:{id:"localStorage",icon:"",title:"Local Storage",category:"Actions",overview:"The Local Storage node persists data between workflow runs using IndexedDB or localStorage. Store configuration, cache API responses, or maintain state across sessions.",technicalDetails:`
**Storage Types:**
| Type | Capacity | Best For |
|------|----------|----------|
| localStorage | ~5MB | Simple key-value pairs |
| indexedDB | ~50MB+ | Complex objects, large data |

**Operations:**
| Mode | Behavior |
|------|----------|
| get | Retrieve value by key |
| set | Store value at key |
| delete | Remove key and value |

**Output Schema:**
\`\`\`javascript
// Get mode
{ key: "myData", value: { ...storedData }, found: true }

// Set mode  
{ key: "myData", success: true }

// Delete mode
{ key: "myData", deleted: true }
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Operation to perform",default:"get",options:["get","set","delete"]},{name:"Storage Type",type:"select",desc:"Which storage to use",default:"indexedDB",options:["indexedDB","localStorage"]},{name:"Key",type:"string",desc:"Storage key name",default:""}],examples:[{title:"Cache API Response",description:"Store data to avoid repeated API calls",config:`Mode: set
Storage Type: indexedDB
Key: api_cache_{{input.endpoint}}`,flow:"HTTP Request  Local Storage (set)"},{title:"Load Cached Data",description:"Retrieve previously stored data",config:`Mode: get
Storage Type: indexedDB
Key: api_cache`,output:'{ key: "api_cache", value: {...cachedData}, found: true }'},{title:"Clear Cache",description:"Remove stored data",config:`Mode: delete
Storage Type: indexedDB
Key: api_cache`,output:'{ key: "api_cache", deleted: true }'}],tips:["Use indexedDB for complex objects and larger datasets","localStorage is simpler but limited to 5MB","Keys can include template expressions for dynamic storage","Combine with If/Else to check if cache exists before fetching"],connections:{inputs:1,outputs:1}},ifElse:{id:"ifElse",icon:"",title:"If/Else",category:"Logic",overview:"The If/Else node creates conditional branches in your workflow. Route data to different paths based on comparisons, creating dynamic decision trees.",technicalDetails:`
**Operators:**
| Operator | Description | Example |
|----------|-------------|---------|
| equals | Exact match (==) | status equals "success" |
| notEquals | Not match (!=) | status notEquals "error" |
| contains | String includes | message contains "error" |
| greaterThan | Numeric > | count greaterThan 10 |
| lessThan | Numeric < | count lessThan 5 |
| exists | Not null/undefined | user.email exists |

**Output Routing:**
- Output 0 (top): Condition is TRUE
- Output 1 (bottom): Condition is FALSE

**Condition Path:**
Access nested values with dot notation:
\`\`\`
user.profile.settings.notifications
data.items[0].status
response.headers.content-type
\`\`\`
    `,config:[{name:"Condition",type:"string",desc:"Field path to evaluate (e.g., status, data.count)",default:""},{name:"Operator",type:"select",desc:"Comparison operator",default:"equals",options:["equals","notEquals","contains","greaterThan","lessThan","exists"]},{name:"Compare Value",type:"string",desc:"Value to compare against",default:""}],examples:[{title:"Check API Status",description:"Branch on response status",config:`Condition: status
Operator: equals
Compare Value: 200`,routing:"TRUE  Process data | FALSE  Error handling"},{title:"Validate Data Exists",description:"Check if field is present",config:`Condition: user.email
Operator: exists`,routing:"TRUE  Send email | FALSE  Request email"},{title:"Numeric Threshold",description:"Check if value exceeds limit",config:`Condition: items.length
Operator: greaterThan
Compare Value: 100`,routing:"TRUE  Paginate | FALSE  Process all"},{title:"String Contains",description:"Search for keyword",config:`Condition: message
Operator: contains
Compare Value: error`,routing:"TRUE  Log error | FALSE  Continue"}],tips:["Use dot notation to access deeply nested properties","The 'exists' operator checks for null, undefined, and empty strings","Numeric comparisons convert strings to numbers automatically","Chain multiple If/Else nodes for complex decision trees"],connections:{inputs:1,outputs:2,outputLabels:["true ","false "]}},loop:{id:"loop",icon:"",title:"Loop",category:"Logic",overview:"The Loop node repeats workflow sections multiple times. Use count-based iteration (repeat N times) or array-based iteration (process each item). Essential for batch processing and automated repetition.",technicalDetails:`
**Loop Modes:**
1. **Count-Based**: Repeat N times with iteration counter
2. **Array-Based**: Iterate over items in an array

**Two Outputs:**
| Output | Name | Purpose |
|--------|------|---------|
| 0 (top) | loop  | Fires for each iteration, connect back to repeat |
| 1 (bottom) | done  | Fires when all iterations complete |

**Creating the Loop:**
Connect "loop " output BACK to the node you want to repeat.
This creates a cycle that executes for each iteration.

**Iteration Data:**
\`\`\`javascript
{
  iteration: 1,          // Current iteration (1-indexed)
  totalIterations: 5,    // Total configured iterations
  previousResult: {...}, // Output from last iteration
  isLoopIteration: true
}
\`\`\`

**Completion Data:**
\`\`\`javascript
{
  results: [...],        // Array of all iteration results
  totalIterations: 5,
  lastResult: {...},     // Final iteration output
  completed: true
}
\`\`\`
    `,config:[{name:"Iterations",type:"number",desc:"Number of times to repeat (1-1000)",default:"1"},{name:"Items Path",type:"string",desc:"Path to array for item-based looping",default:"items"},{name:"Max Items",type:"number",desc:"Maximum items to process per iteration",default:"100"}],examples:[{title:"Generate 5 Stories",description:"AI generates multiple unique stories",config:"Iterations: 5",flow:`Manual Trigger  AI Agent (generate story)  Loop  Output
                                                              |
                                     loop  `},{title:"Process Array Items",description:"Handle each item in a list",config:`Iterations: 1
Items Path: data.users`,flow:"HTTP Request  Loop  Process User  Loop  Output"},{title:"Infinite Automation",description:"Continuous content generation",config:`Iterations: 100
(Set high for long-running...)`,flow:`Trigger  AI Agent  Loop  Output
                                      |
                            loop  `},{title:"Batch API Calls",description:"Call API for each item",config:"Iterations: 10",flow:"For each ID: Trigger  Set Variable  HTTP Request  Loop  Output"}],tips:["Always connect the 'loop ' output back to create the actual loop","Use 'done ' output for final processing after all iterations","Access current iteration via input.iteration in downstream nodes","Set reasonable iteration limits to prevent runaway loops"],connections:{inputs:1,outputs:2,outputLabels:["loop ","done "]}},switchNode:{id:"switchNode",icon:"",title:"Switch",category:"Logic",overview:"The Switch node routes data to different outputs based on field values. Like a multi-way If/Else, it supports up to 4 output paths plus a default.",technicalDetails:`
**Route Configuration:**
\`\`\`javascript
routes: [
  { value: "urgent", outputIndex: 0 },
  { value: "normal", outputIndex: 1 },
  { value: "low", outputIndex: 2 }
]
\`\`\`

**Outputs:**
- Outputs 0-2: Matched routes
- Output 3: Default (when no match)

**Matching:**
- Exact string match (case-sensitive)
- First matching route wins
- Unmatched values go to defaultOutput
    `,config:[{name:"Field",type:"string",desc:"Field path to switch on",default:""},{name:"Routes",type:"array",desc:"Value-to-output mappings",default:"[{value:'', outputIndex:0}]"},{name:"Default Output",type:"number",desc:"Output index when no match (0-3)",default:"3"}],examples:[{title:"Priority Routing",description:"Route tasks by priority level",config:`Field: priority
Routes:
  - value: "urgent"  Output 0
  - value: "normal"  Output 1
  - value: "low"  Output 2
Default Output: 3`,routing:"urgent  Immediate | normal  Queue | low  Archive | unknown  Review"},{title:"Content Type Handler",description:"Process different data types",config:`Field: type
Routes:
  - value: "text"  Output 0
  - value: "image"  Output 1
  - value: "video"  Output 2`,routing:"text  Text processor | image  Image handler | video  Video handler"}],tips:["Use for multiple discrete values; If/Else for binary conditions","Default output catches unexpected values - always handle it","Combine with Merge node to rejoin paths after processing","Route values are case-sensitive"],connections:{inputs:1,outputs:4,outputLabels:["0","1","2","default"]}},merge:{id:"merge",icon:"",title:"Merge",category:"Logic",overview:"The Merge node combines multiple workflow branches back into a single path. Wait for all inputs to arrive or take the first one that completes.",technicalDetails:`
**Modes:**
| Mode | Behavior |
|------|----------|
| wait | Waits for ALL inputs before proceeding |
| first | Proceeds with FIRST input to arrive |

**Output (wait mode):**
\`\`\`javascript
{
  inputs: [
    { source: 0, data: {...} },
    { source: 1, data: {...} }
  ],
  merged: { ...combinedData }
}
\`\`\`

**Output (first mode):**
\`\`\`javascript
{
  source: 0,  // Which input arrived first
  data: {...} // Data from that input
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"How to handle multiple inputs",default:"wait",options:["wait","first"]}],examples:[{title:"Combine API Responses",description:"Fetch from multiple APIs and merge",config:"Mode: wait",flow:` HTTP (API 1) 
Trigger                     Merge  Process
        HTTP (API 2) `},{title:"Race Condition",description:"Use fastest response",config:"Mode: first",flow:` HTTP (Primary) 
Trigger                        Merge  Use result
        HTTP (Backup) `},{title:"Rejoin After Branch",description:"Merge If/Else branches",config:"Mode: wait",flow:`If/Else  True path  
               False path  Merge  Continue`}],tips:["Use 'wait' mode when you need data from all branches","Use 'first' mode for redundancy or timeout scenarios","Merge has 2 inputs - connect both to activate","Data from both inputs is available in the merged output"],connections:{inputs:2,outputs:1}},aiAgent:{id:"aiAgent",icon:"",title:"AI Agent",category:"AI",overview:"The AI Agent is the brain of your automation. It generates text using WebLLM, a local LLM inference engine that runs entirely in your browser via WebGPU. No data ever leaves your device.",technicalDetails:`
**Execution Flow:**
1. User/System message templates are resolved with input data
2. Messages sent to local WebLLM model
3. Model generates response token by token
4. Response passed to downstream nodes

**Template Syntax:**
\`\`\`
{{input}}              - Full input object as JSON
{{input.text}}         - Specific field
{{input.data.items}}   - Nested access
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  response: "AI-generated text...",
  model: "gemma-2-2b-it",
  tokens: 245,
  duration: 3.2
}
\`\`\`

**Available Models:**
| Model | Size | Best For |
|-------|------|----------|
| Gemma 2 2B | 1.4GB | Balanced quality/speed |
| Phi-3.5 Mini | 2.2GB | Reasoning tasks |
| Llama 3.2 3B | 1.8GB | General purpose |
| Qwen 2.5 1.5B | 1.0GB | Fast responses |
| SmolLM 1.7B | 1.1GB | Minimal resources |
    `,config:[{name:"System Prompt",type:"text (multiline)",desc:"Instructions for AI behavior/persona",default:""},{name:"User Message",type:"text (multiline)",desc:"Template for user input (supports {{templates}})",default:"{{input.text}}"},{name:"Temperature",type:"slider (0-1)",desc:"Creativity level. Low=factual, High=creative",default:"0.7"},{name:"Max Tokens",type:"number",desc:"Maximum response length in tokens",default:"2000"}],examples:[{title:"Story Generator",description:"Create unique stories from prompts",config:`System Prompt: You are a creative fiction writer. Write engaging short stories with vivid descriptions and compelling characters.

User Message: Write a 300-word story about: {{input.text}}

Temperature: 0.9
Max Tokens: 1000`},{title:"Data Analyzer",description:"Analyze and summarize data",config:`System Prompt: You are a data analyst. Analyze the provided data and give clear, actionable insights.

User Message: Analyze this data and provide key insights:
{{input.data}}

Temperature: 0.3
Max Tokens: 500`},{title:"Code Assistant",description:"Generate or explain code",config:`System Prompt: You are an expert programmer. Write clean, well-documented code. Explain your approach.

User Message: {{input.request}}

Language: {{input.language}}

Temperature: 0.4
Max Tokens: 1500`},{title:"Email Composer",description:"Draft professional emails",config:`System Prompt: You are a professional communication expert. Write clear, concise, and polite emails.

User Message: Write an email about: {{input.subject}}
Tone: {{input.tone}}
Key points: {{input.points}}

Temperature: 0.6
Max Tokens: 400`}],tips:["Use lower temperature (0.2-0.4) for factual/analytical tasks","Use higher temperature (0.7-0.9) for creative content","Include clear instructions in the system prompt for consistent results","Connect as a tool to other AI Agents for multi-agent workflows"],connections:{inputs:1,outputs:1}},vectorMemory:{id:"vectorMemory",icon:"",title:"Vector Memory",category:"AI",overview:"Vector Memory stores and retrieves information using semantic similarity. It converts text into embeddings (vector representations) and finds the most relevant matches. Essential for RAG (Retrieval Augmented Generation) workflows.",technicalDetails:`
**Operations:**
| Mode | Purpose |
|------|---------|
| query | Find similar content by meaning |
| upsert | Add or update memory entries |
| delete | Remove specific entries |

**Embedding Process:**
1. Text is converted to vector embeddings
2. Vectors are stored in local IndexedDB
3. Queries find closest vectors by cosine similarity

**Query Output:**
\`\`\`javascript
{
  results: [
    { id: "mem_123", text: "...", score: 0.92, metadata: {...} },
    { id: "mem_456", text: "...", score: 0.85, metadata: {...} }
  ],
  query: "original query text",
  namespace: "default"
}
\`\`\`

**Upsert Output:**
\`\`\`javascript
{
  id: "mem_789",
  success: true,
  namespace: "default"
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Operation to perform",default:"query",options:["query","upsert","delete"]},{name:"Namespace",type:"string",desc:"Memory isolation (like folders)",default:"default"},{name:"Top K",type:"number",desc:"Number of results to return",default:"5"},{name:"Min Score",type:"number (0-1)",desc:"Minimum similarity threshold",default:"0.3"}],examples:[{title:"Build Knowledge Base",description:"Store documents for later retrieval",config:`Mode: upsert
Namespace: knowledge`,flow:"File System (read)  Code (split into chunks)  Loop  Vector Memory (upsert)"},{title:"RAG Query",description:"Find relevant context for AI",config:`Mode: query
Namespace: knowledge
Top K: 3
Min Score: 0.5`,flow:"Manual Trigger  Vector Memory (query)  AI Agent (answer with context)"},{title:"Conversation Memory",description:"Remember past conversations",config:`Mode: upsert
Namespace: conversations`,flow:"After AI response  Vector Memory (upsert) // stores each exchange"}],tips:["Use namespaces to separate different knowledge bases","Higher Min Score returns fewer but more relevant results","Chunk large documents into paragraphs for better retrieval","Combine with AI Agent for powerful RAG workflows"],connections:{inputs:1,outputs:1}},waitForApproval:{id:"waitForApproval",icon:"",title:"Wait for Approval",category:"AI",overview:"The Wait for Approval node pauses workflow execution until a human approves or rejects. Essential for human-in-the-loop automation where critical actions need oversight.",technicalDetails:`
**Workflow Pause:**
1. Execution reaches this node and stops
2. Approval dialog appears to user
3. User reviews data and clicks Approve/Reject
4. Execution continues on appropriate output

**Two Outputs:**
- Output 0 (top): User clicked Approve 
- Output 1 (bottom): User clicked Reject 

**Approval Data:**
\`\`\`javascript
// Passed to approved/rejected branch
{
  approved: true,
  approvedBy: "user",
  approvedAt: "2024-01-15T10:30:00.000Z",
  originalInput: {...},
  notes: "User comment if any"
}
\`\`\`
    `,config:[{name:"Title",type:"string",desc:"Dialog header",default:"Approval Required"},{name:"Message",type:"text (multiline)",desc:"Description for reviewer (supports {{templates}})",default:""},{name:"Timeout",type:"number (seconds)",desc:"Auto-reject after N seconds (0=never)",default:"0"},{name:"Notify Browser",type:"boolean",desc:"Show browser notification",default:"true"}],examples:[{title:"Review AI Output",description:"Approve before publishing",config:`Title: Review Generated Content
Message: Please review this AI-generated content before publishing:

{{input.content}}

Timeout: 0
Notify Browser: true`,flow:"AI Agent  Wait for Approval  (Approved) HTTP Post || (Rejected) Log"},{title:"Confirm API Action",description:"Approve before destructive operation",config:`Title: Confirm Delete
Message: About to delete {{input.count}} records. Are you sure?

Timeout: 300
Notify Browser: true`,flow:"Process Data  Wait for Approval  (Approved) HTTP DELETE || (Rejected) Cancel"},{title:"Review Email",description:"Approve before sending",config:`Title: Review Email
Message: To: {{input.recipient}}
Subject: {{input.subject}}

{{input.body}}`,flow:"AI Compose  Wait for Approval  (Approved) Send Email"}],tips:["Use before any irreversible actions (deletions, sends, purchases)","Set a timeout for time-sensitive workflows","Browser notification helps if you switch tabs","Include key details in the message for informed decisions"],connections:{inputs:1,outputs:2,outputLabels:["approved ","rejected "]}},subWorkflow:{id:"subWorkflow",icon:"",title:"Sub-Workflow",category:"AI",overview:"The Sub-Workflow node executes another saved workflow as a subroutine. Build modular, reusable automation by composing complex workflows from simpler building blocks.",technicalDetails:`
**Execution:**
1. Current workflow pauses
2. Selected sub-workflow executes with input
3. Sub-workflow output becomes this node's output
4. Parent workflow continues

**Input Passing:**
- If "Pass Input" enabled: full input passed to sub-workflow
- Sub-workflow receives data at its trigger node

**Output:**
\`\`\`javascript
{
  subWorkflowId: "wf_abc123",
  subWorkflowName: "Process Data",
  result: { ...subWorkflowOutput },
  duration: 1.5
}
\`\`\`
    `,config:[{name:"Workflow",type:"select",desc:"Saved workflow to execute",default:""},{name:"Pass Input",type:"boolean",desc:"Send current input to sub-workflow",default:"true"},{name:"Async",type:"boolean",desc:"Don't wait for completion (fire and forget)",default:"false"}],examples:[{title:"Reusable Data Processor",description:"Call shared processing logic",config:`Workflow: "Data Sanitizer"
Pass Input: true
Async: false`,flow:"API Response  Sub-Workflow (sanitize)  Use Clean Data"},{title:"Parallel Sub-Workflows",description:"Run multiple workflows simultaneously",config:"Async: true",flow:`Trigger  Sub-Workflow A (async)
               Sub-Workflow B (async)  
               Merge results`}],tips:["Build a library of reusable workflows for common tasks","Use async mode when you don't need the result immediately","Sub-workflows can call other sub-workflows (nested)","Great for team collaboration - share common workflows"],connections:{inputs:1,outputs:1}},textToSpeech:{id:"textToSpeech",icon:"",title:"Text to Speech",category:"AI",overview:"The Text to Speech node converts text into spoken audio using the Web Speech API. Add voice output to your workflows for accessibility, notifications, or interactive experiences.",technicalDetails:`
**Web Speech API:**
- Uses browser's built-in speech synthesis
- No external API calls or costs
- Access to system voices

**Voice Selection:**
Browser provides various voices based on OS:
- Windows: Microsoft voices
- macOS: System voices  
- Chrome: Additional Google voices

**Output:**
\`\`\`javascript
{
  spoken: true,
  text: "The spoken text...",
  voice: "Microsoft Zira",
  duration: 3.5
}
\`\`\`
    `,config:[{name:"Voice",type:"select",desc:"Voice to use for speech",default:"default"},{name:"Rate",type:"slider (0.5-2)",desc:"Speech speed",default:"1.0"},{name:"Pitch",type:"slider (0.5-2)",desc:"Voice pitch",default:"1.0"},{name:"Auto Play",type:"boolean",desc:"Play immediately when triggered",default:"true"}],examples:[{title:"Read AI Response",description:"Speak AI-generated content",config:`Voice: default
Rate: 1.0
Auto Play: true`,flow:"AI Agent  Text to Speech"},{title:"Notification Alert",description:"Voice notification for events",config:`Rate: 1.2
Voice: (select clear voice)`,flow:'HTTP Request  If/Else (important?)  Text to Speech ("Alert: {{message}}")'}],tips:["Available voices vary by browser and operating system","Higher rate (1.2-1.5) is good for notifications","Use clear, punctuated text for better pronunciation","Combine with AI Agent for voice assistant experiences"],connections:{inputs:1,outputs:1}},imageGeneration:{id:"imageGeneration",icon:"",title:"Image Generation",category:"AI",overview:"The Image Generation node creates images from text prompts using AI models. Generate visuals for content, social media, presentations, or creative projects.",technicalDetails:`
**Providers:**
| Provider | Location | Notes |
|----------|----------|-------|
| local (WebSD) | Browser | Requires powerful GPU |
| openai | API | Requires API key |
| stability | API | Requires API key |

**Output:**
\`\`\`javascript
{
  imageUrl: "blob:..." or "data:image/png;base64,...",
  artifactId: "art_123",
  prompt: "original prompt",
  size: "512x512",
  provider: "local"
}
\`\`\`
    `,config:[{name:"Provider",type:"select",desc:"Image generation service",default:"local",options:["local","openai","stability"]},{name:"Size",type:"select",desc:"Image dimensions",default:"512x512",options:["256x256","512x512","1024x1024"]},{name:"Negative Prompt",type:"text",desc:"What to avoid in the image",default:""},{name:"Seed",type:"number",desc:"Random seed for reproducibility",default:""},{name:"Steps",type:"number",desc:"Diffusion steps (quality vs speed)",default:"20"}],examples:[{title:"Blog Illustration",description:"Generate images for articles",config:`Provider: openai
Size: 1024x1024`,flow:"AI Agent (write article)  AI Agent (describe image)  Image Generation"},{title:"Product Mockup",description:"Create product visualizations",config:`Provider: stability
Negative Prompt: blurry, low quality`,flow:"Manual Trigger  Image Generation  Output"}],tips:["Local generation requires WebGPU and significant GPU resources","API providers have costs - check pricing","Use negative prompts to avoid common issues (blurry, low quality)","Set a seed for reproducible results"],connections:{inputs:1,outputs:1}},pythonExecutor:{id:"pythonExecutor",icon:"",title:"Python Executor",category:"AI",overview:"The Python Executor runs Python code directly in your browser using Pyodide. Access Python's scientific computing ecosystem including NumPy, Pandas, and moreall without a server.",technicalDetails:`
**Pyodide Runtime:**
- Full Python 3.11 interpreter in WebAssembly
- Runs entirely in the browser
- Access to many pure-Python packages

**Available Packages:**
- numpy, pandas, scipy
- matplotlib, pillow
- requests (limited), json
- And many more

**Variable Access:**
\`\`\`python
# Input is available as 'input' variable
data = input  # Dict from previous node

# Set result for output
result = {"processed": True, "data": data}
\`\`\`

**Output:**
\`\`\`javascript
{
  result: { ...pythonResult },
  stdout: "Any print() output",
  duration: 1.2
}
\`\`\`
    `,config:[{name:"Code",type:"Python",desc:"Python code to execute",default:"# Access input via 'input' variable\\nresult = input"},{name:"Packages",type:"array",desc:"Additional packages to install",default:"[]"},{name:"Timeout",type:"number (ms)",desc:"Execution timeout",default:"30000"}],examples:[{title:"Data Analysis",description:"Analyze data with Pandas",code:`import pandas as pd
import json

# Parse input data
data = input.get('data', [])
df = pd.DataFrame(data)

# Analyze
result = {
    'count': len(df),
    'columns': list(df.columns),
    'summary': df.describe().to_dict()
}`},{title:"Statistical Calculation",description:"Complex math with NumPy",code:`import numpy as np

values = input.get('values', [])
arr = np.array(values)

result = {
    'mean': float(np.mean(arr)),
    'std': float(np.std(arr)),
    'median': float(np.median(arr)),
    'percentile_95': float(np.percentile(arr, 95))
}`},{title:"Text Processing",description:"Process text with Python",code:`import re
from collections import Counter

text = input.get('text', '')

# Word frequency
words = re.findall(r'\\w+', text.lower())
freq = Counter(words).most_common(10)

result = {
    'word_count': len(words),
    'unique_words': len(set(words)),
    'top_words': freq
}`}],tips:["First execution is slow (loading Pyodide) - subsequent runs are fast","Use 'result' variable to pass data to next node","print() output appears in stdout field","Not all Python packages are available - check Pyodide compatibility"],connections:{inputs:1,outputs:1}}},Oh=[{id:"api-fetch",name:"API Fetch & Transform",description:"Fetch data from an API and process it with code",category:"api",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start"}},{id:"http-1",type:"httpRequest",position:{x:350,y:200},data:{label:"Fetch Data",method:"GET",url:"https://jsonplaceholder.typicode.com/posts/1",timeout:3e4}},{id:"code-1",type:"codeExecutor",position:{x:600,y:200},data:{label:"Transform",code:`// Process the API response
const { data } = input;
return {
  title: data.title.toUpperCase(),
  body: data.body.substring(0, 100) + "...",
  processed: true
};`}}],edges:[{id:"e1-2",source:"trigger-1",target:"http-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2-3",source:"http-1",target:"code-1",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"conditional-routing",name:"Conditional Routing",description:"Route data based on conditions using If/Else",category:"logic",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:250},data:{label:"Input"}},{id:"setvar-1",type:"setVariable",position:{x:320,y:250},data:{label:"Set Status",variableName:"status",value:"active",mode:"set"}},{id:"ifelse-1",type:"ifElse",position:{x:540,y:250},data:{label:"Check Status",condition:"status",operator:"equals",compareValue:"active"}},{id:"code-true",type:"codeExecutor",position:{x:780,y:150},data:{label:"Active Path",code:'return { ...input, message: "User is ACTIVE" };'}},{id:"code-false",type:"codeExecutor",position:{x:780,y:350},data:{label:"Inactive Path",code:'return { ...input, message: "User is INACTIVE" };'}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"ifelse-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"ifelse-1",target:"code-true",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e4",source:"ifelse-1",target:"code-false",sourceHandle:"output-1",targetHandle:"input-0"}]},{id:"loop-processing",name:"Loop Over Items",description:"Process an array of items one by one",category:"data",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start"}},{id:"setvar-1",type:"setVariable",position:{x:320,y:200},data:{label:"Create Array",variableName:"items",value:"{{ [1, 2, 3, 4, 5] }}",mode:"set"}},{id:"loop-1",type:"loop",position:{x:540,y:200},data:{label:"Loop Items",itemsPath:"items",maxIterations:100}},{id:"code-1",type:"codeExecutor",position:{x:760,y:120},data:{label:"Process Item",code:`return { 
  item: input.item,
  squared: input.item * input.item,
  index: input.index 
};`}},{id:"code-done",type:"codeExecutor",position:{x:760,y:280},data:{label:"Done",code:`return { 
  completed: true, 
  results: input.loopResults 
};`}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"loop-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"loop-1",target:"code-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e4",source:"loop-1",target:"code-done",sourceHandle:"output-1",targetHandle:"input-0"}]},{id:"ai-chat",name:"AI Chat Assistant",description:"Send text to AI and get a response",category:"ai",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"User Input"}},{id:"setvar-1",type:"setVariable",position:{x:340,y:200},data:{label:"Set Question",variableName:"question",value:"What is the capital of France?",mode:"set"}},{id:"ai-1",type:"aiAgent",position:{x:580,y:200},data:{label:"AI Assistant",systemPrompt:"You are a helpful assistant. Answer concisely.",modelId:"gemma-2-2b-it-q4f16_1-MLC",temperature:.7,maxTokens:500}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"ai-1",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"data-pipeline",name:"Data Pipeline",description:"Fetch, filter, and aggregate data",category:"data",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start Pipeline"}},{id:"http-1",type:"httpRequest",position:{x:320,y:200},data:{label:"Fetch Users",method:"GET",url:"https://jsonplaceholder.typicode.com/users",timeout:3e4}},{id:"code-filter",type:"codeExecutor",position:{x:540,y:200},data:{label:"Filter & Map",code:`// Filter and transform the data
const users = input.data;
return {
  users: users.map(u => ({
    id: u.id,
    name: u.name,
    email: u.email,
    city: u.address.city
  })),
  count: users.length
};`}},{id:"code-aggregate",type:"codeExecutor",position:{x:760,y:200},data:{label:"Aggregate",code:`// Create summary
return {
  summary: \`Processed \${input.count} users\`,
  users: input.users,
  timestamp: new Date().toISOString()
};`}}],edges:[{id:"e1",source:"trigger-1",target:"http-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"http-1",target:"code-filter",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"code-filter",target:"code-aggregate",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"poem-speech",name:"Poem to Speech",description:"Generate a poem using AI and read it out loud",category:"ai",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start",description:"Enter your poem topic",inputFields:[{name:"topic",type:"text",label:"Poem Topic",placeholder:"Enter a topic for the poem...",required:!0}]}},{id:"ai-1",type:"aiAgent",position:{x:350,y:200},data:{label:"Poem Writer",systemPrompt:"You are a creative poet. Write beautiful, evocative poems based on the given topic. Keep poems to 4-8 lines. Output ONLY the poem, no commentary.",reasoningMode:"direct",temperature:.8,maxTokens:500}},{id:"tts-1",type:"textToSpeech",position:{x:600,y:200},data:{label:"Speak Poem",provider:"webSpeech",voice:"default",speed:.9,pitch:1,autoPlay:!0}},{id:"output-1",type:"output",position:{x:850,y:200},data:{label:"Final Output",outputType:"console",formatJson:!1}}],edges:[{id:"e1",source:"trigger-1",target:"ai-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"},{id:"e2",source:"ai-1",target:"tts-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"},{id:"e3",source:"tts-1",target:"output-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"}]}];function JD(){return Object.entries(Vc).map(([e,n])=>({type:e,title:n.title,category:n.category,overview:n.overview?.slice(0,150)+"...",config:n.config?.map(i=>i.name).join(", ")||"none"}))}const e_=`
You are the Overseer, an expert AI assistant for IOSANS (Infinite Open Source Automation System).
You have COMPLETE knowledge of the application.

##  CRITICAL RULES
1. **NO HALLUCINATIONS**: You must ONLY use the "Valid Node Types" listed below. Do NOT invent nodes like "arrayInput", "emailNode", or "sentimentAnalysis".
2. **ASK BEFORE BUILDING**: If a user's request is vague (e.g., "build a looping flow"), you MUST ask clarifying questions BEFORE generating any actions.
   - Example: "What kind of data do you want to loop over?"
   - Example: "What topic should the stories be about?"
3. **CONNECT EVERYTHING**: When adding nodes, you MUST also add 'addEdge' actions to connect them. Disconnected nodes are useless.
4. **ALWAYS OUTPUT**: Every workflow MUST end with an 'output' node.

## Valid Node Types & Capabilities
{{NODE_REFERENCE}}

## How to Handle Requests
- **User**: "Build a looping flow"
- **You**: "I can help with that! What kind of data do you want to process in the loop? Or should I create a simple example with numbers?" (DO NOT build yet)

- **User**: "Write 5 short stories about cats"
- **You**: (Now you have enough info)
  1. Add 'manualTrigger'
  2. Add 'loop' (iterations: 5)
  3. Add 'aiAgent' (systemPrompt: "Write a short story about cats")
  4. Add 'output'
  5. Connect Trigger -> Loop -> AI Agent -> Output

## Response Format
If you are just chatting/asking questions, just reply with text.
If you are building/modifying, output JSON inside a code block:

\`\`\`json
{
  "actions": [
    { "type": "addNode", ... },
    { "type": "addEdge", ... }
  ]
}
\`\`\`
`;function t_(e,n){const i=[],a=[],l=e.some(h=>h.type==="output");e.length>0&&!l&&i.push(" No OUTPUT node - add one to see results");const s=new Set;n.forEach(h=>{s.add(h.source),s.add(h.target)});const c=e.filter(h=>!s.has(h.id)&&e.length>1);c.length>0&&i.push(` ${c.length} disconnected node(s)`);const f=e.some(h=>["manualTrigger","scheduleTrigger","webhookTrigger","browserEventTrigger"].includes(h.type));e.length>0&&!f&&i.push(" No TRIGGER node - workflow cannot start");const p=e[e.length-1];if(p)switch(p.type){case"aiAgent":a.push(" Connect to textToSpeech to hear the response"),a.push(" Connect to output to display the result");break;case"httpRequest":a.push(" Connect to codeExecutor to transform the data"),a.push(" Connect to ifElse to check status code");break;case"codeExecutor":a.push(" Connect to output to display results"),a.push(" Connect to httpRequest to send data");break;case"manualTrigger":a.push(" Connect to aiAgent for AI processing"),a.push(" Connect to httpRequest for API calls");break}return{issues:i,suggestions:a,hasOutput:l,hasTrigger:f,disconnectedCount:c.length}}function n_(e){const n=Vc[e];return n?{title:n.title,overview:n.overview,config:n.config,examples:n.examples?.slice(0,2),tips:n.tips?.slice(0,3)}:null}const Ta={overseer:{name:"Overseer",role:"General Assistant",prompt:"You are the Overseer, a general-purpose assistant. Guide the user broadly."},architect:{name:"Architect",role:"System Designer",prompt:"You are the Architect. Focus on system topology, data flow efficiency, and scalability. Prefer modular designs."},coder:{name:"Coder",role:"Software Engineer",prompt:"You are the Coder. Specialization: JavaScript/Node.js. When asked to write code, provide robust, commented code blocks for the codeExecutor node. ALWAYS handle errors."},integrator:{name:"Integrator",role:"API Specialist",prompt:"You are the Integrator. Focus on HTTP methods, headers, JSON schemas, and webhook configurations. Parse user inputs like CURL commands precisely."}};class i_{constructor(){this.history=this.loadHistory(),this.subscribers=[],this.actionHistory=[],this.thinkingCallbacks=[],this.activePersona="overseer"}loadHistory(){try{const n=localStorage.getItem("overseer_history");return n?JSON.parse(n):[]}catch(n){return console.warn("Failed to load Overseer history",n),[]}}saveHistory(){try{localStorage.setItem("overseer_history",JSON.stringify(this.history))}catch(n){console.warn("Failed to save Overseer history",n)}}getHistory(){return this.history}setPersona(n){return Ta[n]?(this.activePersona=n,console.log(`Overseer: Switched to ${Ta[n].name}`),Ta[n]):null}getPersona(){return Ta[this.activePersona]}getPersonas(){return Ta}async chat(n){const{nodes:i,edges:a}=Ce.getState(),l=t_(i,a),s=i.find(g=>g.selected),c=s?n_(s.type):null,f=JSON.stringify({nodeCount:i.length,edgeCount:a.length,nodes:i.map(g=>({id:g.id,type:g.type,label:g.data.label,config:g.data})),edges:a.map(g=>({source:g.source,target:g.target})),analysis:{issues:l.issues,suggestions:l.suggestions,hasOutput:l.hasOutput,hasTrigger:l.hasTrigger},selectedNode:s?{id:s.id,type:s.type,help:c}:null}),p=JD().map(g=>`- **${g.type}**: ${g.overview} (Inputs: ${g.config})`).join(`
`),h=Ta[this.activePersona],m=e_.replace("{{NODE_REFERENCE}}",p)+`

### ACTIVE PERSONA: ${h.name}
${h.prompt}

### Current Workflow State
${f}`;try{const g=await rr.generateWithHistory(n,this.history,{temperature:.7,maxTokens:2e3,systemPrompt:m});this.history.push({role:"user",content:n}),this.history.push({role:"assistant",content:g}),this.saveHistory();const v=this.parseActions(g);return v.length>0&&(console.log("Overseer executing actions:",v),this.executeActions(v)),g}catch(g){return console.error("Overseer Error:",g),`Error: ${g.message}. Is a model loaded?`}}parseActions(n){try{const i=n.match(/```json\n([\s\S]*?)\n```/)||n.match(/```\n([\s\S]*?)\n```/);if(i){const a=i[1],l=JSON.parse(a);if(l.actions&&Array.isArray(l.actions))return l.actions}}catch(i){console.warn("Failed to parse Overseer actions:",i)}return[]}executeActions(n){const i=Ce.getState(),a=["manualTrigger","scheduleTrigger","webhookTrigger","errorTrigger","httpRequest","codeExecutor","setVariable","fileSystem","ifElse","loop","switchNode","merge","aiAgent","vectorMemory","waitForApproval","textToSpeech","imageGeneration","output"],l={audioGeneration:"textToSpeech",AudioNode:"textToSpeech","text-to-speech":"textToSpeech",TextToSpeech:"textToSpeech","image-generation":"imageGeneration","ai-agent":"aiAgent","manual-trigger":"manualTrigger"};n.forEach(s=>{const c=s.nodeType||"unknown",f=s.id||`${c}-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;switch(s.type){case"addNode":{let p=s.nodeType;if(!p){console.warn("Overseer: Missing nodeType in addNode action",s);return}const h=p.toLowerCase();if(Object.keys(l).forEach(m=>{m.toLowerCase()===h&&(console.log(`Overseer: Mapping '${p}' -> '${l[m]}'`),p=l[m])}),!a.includes(p)){console.warn(`Overseer: Skipped invalid node type '${p}'`);return}i.addNode({id:f,type:p,position:{x:s.x||100,y:s.y||100},data:{label:s.label||p,...s.config}});break}case"addEdge":i.onConnect({source:s.source,target:s.target,sourceHandle:s.sourceHandle||"output-0",targetHandle:s.targetHandle||"input-0",type:"animated"});break;case"deleteNode":s.nodeId&&i.deleteNode(s.nodeId);break;case"clearCanvas":i.clearWorkflow();break;case"loadTemplate":{const p=Oh.find(h=>h.id===s.templateId);p?(i.clearWorkflow(),p.nodes.forEach(h=>i.addNode({...h})),p.edges.forEach(h=>i.onConnect({source:h.source,target:h.target,sourceHandle:h.sourceHandle||"output-0",targetHandle:h.targetHandle||"input-0",type:"animated"})),console.log(`Overseer: Loaded template '${p.name}'`)):console.warn(`Overseer: Template '${s.templateId}' not found`);break}case"updateNode":{if(s.nodeId&&s.config){const p=i.nodes,h=p.findIndex(m=>m.id===s.nodeId);if(h!==-1){const m=[...p];m[h]={...m[h],data:{...m[h].data,...s.config}},i.setNodes(m),console.log(`Overseer: Updated node '${s.nodeId}'`)}}break}case"runWorkflow":{window.dispatchEvent(new CustomEvent("startWorkflow")),console.log("Overseer: Triggered workflow execution");break}case"focusNode":{s.nodeId&&(i.openConfig(s.nodeId),console.log(`Overseer: Focused on node '${s.nodeId}'`));break}case"startTutorial":{window.dispatchEvent(new CustomEvent("startTutorial",{detail:s.tutorialId})),console.log(`Overseer: Started tutorial '${s.tutorialId}'`);break}case"undoAction":{const p=this.undoLastAction();p&&console.log(`Overseer: Undid action '${p.type}'`);break}}})}onThinking(n){return this.thinkingCallbacks.push(n),()=>{this.thinkingCallbacks=this.thinkingCallbacks.filter(i=>i!==n)}}broadcastThinking(n,i,a=null){this.thinkingCallbacks.forEach(l=>l({type:n,content:i,details:a,timestamp:Date.now()}))}undoLastAction(){const n=this.actionHistory.pop();if(!n)return null;const i=Ce.getState();switch(n.type){case"addNode":i.deleteNode(n.nodeId);break;case"deleteNode":i.addNode(n.node);break;case"clearCanvas":n.nodes.forEach(a=>i.addNode(a)),n.edges.forEach(a=>i.onConnect(a));break}return n}clearHistory(){this.history=this.loadHistory()}}const rl=new i_;function r_(){const[e,n]=T.useState(!1),[i,a]=T.useState(!1),[l,s]=T.useState(!1),[c,f]=T.useState([]);Nn.useEffect(()=>{const h=rl.onThinking(m=>{f(g=>[...g,m])});return()=>h()},[]);const p=T.useCallback(()=>{window.dispatchEvent(new CustomEvent("toggleOverseer"))},[]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"ai-controls-panel",children:[d.jsxs("button",{className:"ai-btn overseer-btn",onClick:p,title:"Toggle Overseer Agent",children:[" ",d.jsx("span",{children:"Chat with Overseer"})]}),d.jsx("div",{className:"divider"}),d.jsx("button",{className:`ai-btn ${l?"active":""}`,onClick:()=>s(!0),title:"Switch Model",children:""}),d.jsx("button",{className:`ai-btn ${e?"active":""}`,onClick:()=>n(!0),title:"Privacy Monitor",children:""}),d.jsx("button",{className:`ai-btn ${i?"active":""}`,onClick:()=>a(!0),title:"Live Thinking Process",children:""})]}),e&&Tc.createPortal(d.jsx(ZD,{onClose:()=>n(!1),isOpen:!0}),document.body),i&&Tc.createPortal(d.jsx(KD,{onClose:()=>a(!1),isOpen:!0,thinkingStream:c}),document.body),l&&Tc.createPortal(d.jsx(XD,{onClose:()=>s(!1),isOpen:!0}),document.body)]})}function a_({isOpen:e,onClose:n,onSelectNode:i,insertPosition:a}){const[l,s]=T.useState(""),[c,f]=T.useState(0),p=T.useRef(null),h=T.useRef(null),m=T.useMemo(()=>Object.values(Si).map(C=>({...C,categoryName:Br[C.category]?.name||C.category,categoryColor:Br[C.category]?.color||"#666"})),[]),g=T.useMemo(()=>{if(!l.trim())return m;const C=l.toLowerCase();return m.filter(N=>N.name.toLowerCase().includes(C)||N.description?.toLowerCase().includes(C)||N.categoryName.toLowerCase().includes(C))},[m,l]),v=T.useMemo(()=>{const C={};return g.forEach(N=>{C[N.category]||(C[N.category]={name:N.categoryName,color:N.categoryColor,nodes:[]}),C[N.category].nodes.push(N)}),C},[g]),b=T.useMemo(()=>{const C=[];return Object.entries(v).forEach(([,N])=>{N.nodes.forEach(k=>C.push(k))}),C},[v]);T.useEffect(()=>{e&&p.current&&(p.current.focus(),s(""),f(0))},[e]),T.useEffect(()=>{if(h.current&&b.length>0){const C=h.current.querySelector(".node-item.selected");C&&C.scrollIntoView({block:"nearest"})}},[c,b.length]);const w=T.useCallback(C=>{switch(C.key){case"ArrowDown":C.preventDefault(),f(N=>Math.min(N+1,b.length-1));break;case"ArrowUp":C.preventDefault(),f(N=>Math.max(N-1,0));break;case"Enter":C.preventDefault(),b[c]&&(i(b[c].type,a),n());break;case"Escape":n();break}},[b,c,i,a,n]),S=T.useCallback(C=>{i(C,a),n()},[i,a,n]);return e?d.jsx("div",{className:"command-palette-overlay",onClick:n,children:d.jsxs("div",{className:"command-palette",onClick:C=>C.stopPropagation(),onKeyDown:w,children:[d.jsxs("div",{className:"palette-header",children:[d.jsx("span",{className:"search-icon",children:""}),d.jsx("input",{ref:p,type:"text",className:"palette-search",placeholder:"Search nodes... (Esc to close)",value:l,onChange:C=>{s(C.target.value),f(0)}}),d.jsx("span",{className:"shortcut-hint",children:"K"})]}),d.jsxs("div",{className:"palette-content",ref:h,children:[Object.entries(v).map(([C,N])=>d.jsxs("div",{className:"node-category",children:[d.jsx("div",{className:"category-header",style:{"--cat-color":N.color},children:N.name}),N.nodes.map(k=>{const j=b.findIndex(_=>_.type===k.type);return d.jsxs("div",{className:`node-item ${j===c?"selected":""}`,onClick:()=>S(k.type),onMouseEnter:()=>f(j),children:[d.jsx("span",{className:"node-icon",children:k.icon}),d.jsxs("div",{className:"node-info",children:[d.jsx("span",{className:"node-name",children:k.name}),d.jsx("span",{className:"node-desc",children:k.description})]})]},k.type)})]},C)),b.length===0&&d.jsxs("div",{className:"no-results",children:['No nodes match "',l,'"']})]})]})}):null}const o_=T.memo(a_);function l_({onClose:e}){const n=We(p=>p.logs),i=We(p=>p.nodeResults),[a,l]=T.useState("timeline"),s=T.useMemo(()=>{const p={},h={total:0,byNode:{}};let m=0,g=0;Object.entries(i).forEach(([b,w])=>{m++,w.executionTime&&(g+=w.executionTime,p[b]||(p[b]={times:[],avg:0,max:0,min:1/0}),p[b].times.push(w.executionTime),p[b].max=Math.max(p[b].max,w.executionTime),p[b].min=Math.min(p[b].min,w.executionTime),p[b].avg=p[b].times.reduce((S,C)=>S+C,0)/p[b].times.length),(w.error||w.success===!1)&&(h.total++,h.byNode[b]=(h.byNode[b]||0)+1)});const v=Object.entries(p).map(([b,w])=>({nodeId:b,avg:w.avg,max:w.max})).sort((b,w)=>w.avg-b.avg).slice(0,5);return{totalExecutions:m,totalTime:g,avgTime:m>0?g/m:0,errorCount:h,slowestNodes:v,nodeTimings:p}},[i]),c=T.useMemo(()=>n.slice(-50).reverse(),[n]),f=p=>p<1e3?`${Math.round(p)}ms`:`${(p/1e3).toFixed(2)}s`;return d.jsx("div",{className:"analytics-overlay",onClick:e,children:d.jsxs("div",{className:"analytics-panel",onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"analytics-header",children:[d.jsx("h2",{children:" Execution Analytics"}),d.jsx("button",{className:"close-btn",onClick:e,children:""})]}),d.jsxs("div",{className:"analytics-tabs",children:[d.jsx("button",{className:`tab ${a==="timeline"?"active":""}`,onClick:()=>l("timeline"),children:"Timeline"}),d.jsx("button",{className:`tab ${a==="performance"?"active":""}`,onClick:()=>l("performance"),children:"Performance"}),d.jsxs("button",{className:`tab ${a==="errors"?"active":""}`,onClick:()=>l("errors"),children:["Errors"," ",s.errorCount.total>0&&d.jsx("span",{className:"error-badge",children:s.errorCount.total})]})]}),d.jsxs("div",{className:"analytics-body",children:[d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:s.totalExecutions}),d.jsx("span",{className:"stat-label",children:"Executions"})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:f(s.avgTime)}),d.jsx("span",{className:"stat-label",children:"Avg Time"})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:f(s.totalTime)}),d.jsx("span",{className:"stat-label",children:"Total Time"})]}),d.jsxs("div",{className:"stat-card error",children:[d.jsx("span",{className:"stat-value",children:s.errorCount.total}),d.jsx("span",{className:"stat-label",children:"Errors"})]})]}),a==="timeline"&&d.jsxs("div",{className:"timeline-section",children:[d.jsx("h3",{children:"Recent Activity"}),d.jsx("div",{className:"timeline-list",children:c.length>0?c.map((p,h)=>d.jsxs("div",{className:`timeline-item ${p.type}`,children:[d.jsx("span",{className:"timeline-icon",children:p.type==="success"?"":p.type==="error"?"":p.type==="warning"?"":""}),d.jsx("span",{className:"timeline-node",children:p.nodeName}),d.jsx("span",{className:"timeline-msg",children:p.message})]},h)):d.jsx("div",{className:"empty-state",children:"No execution history yet"})})]}),a==="performance"&&d.jsxs("div",{className:"performance-section",children:[d.jsx("h3",{children:"Slowest Nodes"}),d.jsx("div",{className:"performance-list",children:s.slowestNodes.length>0?s.slowestNodes.map((p,h)=>d.jsxs("div",{className:"performance-item",children:[d.jsxs("span",{className:"rank",children:["#",h+1]}),d.jsx("span",{className:"node-id",children:p.nodeId.split("-")[0]}),d.jsx("div",{className:"timing-bar",style:{width:`${Math.min(p.avg/(s.slowestNodes[0]?.avg||1)*100,100)}%`}}),d.jsx("span",{className:"timing-value",children:f(p.avg)})]},p.nodeId)):d.jsx("div",{className:"empty-state",children:"No performance data yet"})})]}),a==="errors"&&d.jsxs("div",{className:"errors-section",children:[d.jsx("h3",{children:"Error Log"}),d.jsx("div",{className:"errors-list",children:s.errorCount.total>0?Object.entries(s.errorCount.byNode).map(([p,h])=>d.jsxs("div",{className:"error-item",children:[d.jsxs("span",{className:"error-count",children:[h,"x"]}),d.jsx("span",{className:"error-node",children:p.split("-")[0]})]},p)):d.jsx("div",{className:"empty-state",children:" No errors!"})})]})]})]})})}const s_=T.memo(l_),c_={manualTrigger:U2,scheduleTrigger:V2,webhookTrigger:G2,errorTrigger:X2,browserEventTrigger:W2,httpRequest:J2,codeExecutor:tD,setVariable:iD,fileSystem:aD,localStorage:lD,pythonExecutor:HD,ifElse:cD,loop:dD,switchNode:hD,merge:mD,aiAgent:jD,chatModel:kD,vectorMemory:AD,waitForApproval:DD,subWorkflow:OD,textToSpeech:zD,imageGeneration:ID,output:$D,groupNode:yD},u_={animated:VD};function d_(){const e=T.useRef(null),{screenToFlowPosition:n,fitView:i,zoomIn:a,zoomOut:l}=lu(),[s,c]=T.useState(null),[f,p]=T.useState(null),[h,m]=T.useState(!0),[g,v]=T.useState(!1),[b,w]=T.useState(!1),{zoom:S}=AM(),C=Ce(te=>te.nodes),N=Ce(te=>te.edges),k=Ce(te=>te.onNodesChange),j=Ce(te=>te.onEdgesChange),_=Ce(te=>te.onConnect),H=Ce(te=>te.addNode),M=Ce(te=>te.deleteNode),O=Ce(te=>te.setSelectedNode),V=Ce(te=>te.selectedNodeId),G=Ce(te=>te.getWorkflowData),I=Ga(),$=We(te=>te.currentNodeId),F=We(te=>te.isRunning),ee=T.useCallback(te=>u2(te,C,N),[C,N]),A=T.useCallback(()=>{c(null)},[]),P=T.useCallback(()=>{O(null),c(null)},[O]),D=T.useCallback((te,re)=>{te.preventDefault(),O(re.id),c({x:te.clientX,y:te.clientY,type:"node",nodeId:re.id})},[O]),q=T.useCallback(te=>{te.preventDefault();const re=n({x:te.clientX,y:te.clientY});c({x:te.clientX,y:te.clientY,type:"pane",position:re})},[n]),[U,Z]=T.useState(null);T.useEffect(()=>{const te=de=>{const{edgeId:oe}=de.detail;N.find(xe=>xe.id===oe)&&(Ce.getState().onEdgesChange([{id:oe,type:"remove"}]),I.info("Connection deleted"))},re=de=>{const{edgeId:oe,position:fe}=de.detail;Z(oe),c({x:fe.x+(e.current?.getBoundingClientRect().left||0),y:fe.y+(e.current?.getBoundingClientRect().top||0),type:"insert",position:{x:fe.x,y:fe.y}})};return window.addEventListener("deleteEdge",te),window.addEventListener("addNodeOnEdge",re),()=>{window.removeEventListener("deleteEdge",te),window.removeEventListener("addNodeOnEdge",re)}},[N,I]);const z=T.useCallback(te=>{const re=C.find(oe=>oe.id===V),de=oe=>{if(s?.position)if(s.type==="insert"&&U){const fe=N.find(xe=>xe.id===U);if(fe){const xe=tr(oe,s.position);H(xe);const je={id:`e${fe.source}-${xe.id}`,source:fe.source,sourceHandle:fe.sourceHandle,target:xe.id,targetHandle:"input-0",type:"animated"},ve={id:`e${xe.id}-${fe.target}`,source:xe.id,sourceHandle:"output-0",target:fe.target,targetHandle:fe.targetHandle,type:"animated"};Ce.getState().onEdgesChange([{id:U,type:"remove"}]);const{edges:Ee,setEdges:De}=Ce.getState();De([...Ee.filter(Ue=>Ue.id!==U),je,ve]),I.success("Node inserted")}Z(null)}else H(tr(oe,s.position))};switch(te){case"delete":V&&(M(V),O(null),I.info("Node deleted"));break;case"duplicate":if(re){const oe=tr(re.type,{x:re.position.x+50,y:re.position.y+50});oe.data={...re.data,label:`${re.data.label} (copy)`},H(oe),I.success("Node duplicated")}break;case"copy":re&&(p({...re}),I.info("Node copied"));break;case"cut":re&&(p({...re}),M(V),O(null),I.info("Node cut"));break;case"paste":if(f&&s?.position){const oe=tr(f.type,s.position);oe.data={...f.data,label:`${f.data.label} (paste)`},H(oe),I.success("Node pasted")}break;case"addTrigger":de("manualTrigger");break;case"addHTTP":de("httpRequest");break;case"addAI":de("aiAgent");break;case"codeExecutor":de("codeExecutor");break;case"setVariable":de("setVariable");break;case"ifElse":de("ifElse");break;case"textToSpeech":de("textToSpeech");break;case"output":de("output");break;case"fitView":i({padding:.2});break;case"zoomIn":a();break;case"zoomOut":l();break}c(null)},[C,N,V,M,O,H,f,s,U,i,a,l,I]);T.useEffect(()=>{const te=re=>{if(re.target.tagName==="INPUT"||re.target.tagName==="TEXTAREA")return;const de=re.ctrlKey||re.metaKey;if(de&&re.key==="s"){re.preventDefault();const oe=G();localStorage.setItem("flownode-workflow",JSON.stringify(oe)),I.success("Workflow saved")}if(de&&re.key==="c"&&V){const oe=C.find(fe=>fe.id===V);oe&&(p({...oe}),I.info("Node copied"))}if(de&&re.key==="v"&&f){const oe=tr(f.type,{x:f.position.x+100,y:f.position.y+100});oe.data={...f.data},H(oe),I.success("Node pasted")}if(de&&re.key==="d"&&V){re.preventDefault();const oe=C.find(fe=>fe.id===V);if(oe){const fe=tr(oe.type,{x:oe.position.x+50,y:oe.position.y+50});fe.data={...oe.data,label:`${oe.data.label} (copy)`},H(fe),O(fe.id),I.success("Node duplicated")}}de&&(re.key==="+"||re.key==="=")&&(re.preventDefault(),a()),de&&re.key==="-"&&(re.preventDefault(),l()),de&&re.key==="0"&&(re.preventDefault(),i({padding:.2})),de&&re.key==="k"&&(re.preventDefault(),v(!0)),re.shiftKey&&re.key==="A"&&(re.preventDefault(),w(oe=>!oe))};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[C,V,f,H,O,G,i,a,l,I]);const B=T.useCallback(te=>{te.preventDefault(),te.dataTransfer.dropEffect="move"},[]),Y=T.useCallback(te=>{te.preventDefault();const re=te.dataTransfer.getData("application/reactflow");if(!re||!Si[re])return;const de=n({x:te.clientX,y:te.clientY}),oe=tr(re,de);H(oe)},[n,H]),L=T.useMemo(()=>({type:"animated",style:{stroke:"var(--edge-color)",strokeWidth:2}}),[]),ie=T.useCallback(te=>F&&te.id===$?"var(--color-success)":uu(te.type),[F,$]);return d.jsxs("div",{className:"workflow-editor",ref:e,children:[d.jsxs(EM,{nodes:C,edges:N,onNodesChange:k,onEdgesChange:j,onConnect:_,onNodeClick:A,onPaneClick:P,onNodeContextMenu:D,onPaneContextMenu:q,onDragOver:B,onDrop:Y,nodeTypes:c_,edgeTypes:u_,isValidConnection:ee,defaultEdgeOptions:L,snapToGrid:!0,snapGrid:[15,15],minZoom:.5,maxZoom:5,deleteKeyCode:["Backspace","Delete"],proOptions:{hideAttribution:!0},children:[d.jsx(RM,{variant:"dots",gap:20,size:1,color:"var(--border-color)"}),d.jsxs("div",{className:`minimap-container ${h?"expanded":"collapsed"}`,children:[d.jsx("button",{className:"minimap-toggle",onClick:()=>m(!h),title:h?"Hide minimap":"Show minimap",children:""}),h&&d.jsx(JM,{nodeColor:ie,maskColor:"rgba(10, 10, 15, 0.8)",className:"workflow-minimap",pannable:!0,zoomable:!0})]}),d.jsxs("div",{className:"view-controls-panel",children:[d.jsxs("div",{className:"zoom-controls",children:[d.jsx("button",{className:"zoom-btn",onClick:()=>l(),title:"Zoom out (Ctrl+-)",children:""}),d.jsxs("span",{className:"zoom-level",children:[Math.round(S*100),"%"]}),d.jsx("button",{className:"zoom-btn",onClick:()=>a(),title:"Zoom in (Ctrl++)",children:"+"})]}),d.jsx("button",{className:"view-btn",onClick:()=>i({padding:.2}),title:"Fit to screen (Ctrl+0)",children:""})]}),d.jsx(r_,{}),d.jsx(GD,{})]}),s&&d.jsx(h2,{x:s.x,y:s.y,type:s.type,onAction:z,onClose:()=>c(null)}),d.jsx(o_,{isOpen:g,onClose:()=>v(!1),onSelectNode:(te,re)=>{H(tr(te,re||{x:400,y:300}))},insertPosition:s?.position||{x:400,y:300}}),b&&d.jsx(s_,{onClose:()=>w(!1)}),C.length===0&&d.jsxs("div",{className:"workflow-empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Build Your Workflow"}),d.jsx("p",{children:"Drag nodes from the sidebar to get started"})]})]})}const Qo=c2();function f_(){const[e,n]=T.useState(null),[i,a]=T.useState(""),[l,s]=T.useState(!1),c=Ce(N=>N.loadWorkflow),f=Ga(),p=e?Object.values(Br).find(N=>N.name===e):null,h=T.useMemo(()=>e?Qo[e]||[]:[],[e]),m=T.useMemo(()=>{if(!i.trim())return h;const N=i.toLowerCase();return h.filter(k=>k.name.toLowerCase().includes(N)||k.description.toLowerCase().includes(N))},[h,i]),g=T.useMemo(()=>{if(!i.trim())return Object.entries(Qo);const N=i.toLowerCase();return Object.entries(Qo).filter(([k,j])=>k.toLowerCase().includes(N)?!0:j.some(_=>_.name.toLowerCase().includes(N)||_.description.toLowerCase().includes(N)))},[i]),v=T.useCallback(N=>{n(N),a("")},[]),b=T.useCallback(()=>{n(null),a("")},[]),w=T.useCallback((N,k)=>{N.dataTransfer.setData("application/reactflow",k),N.dataTransfer.effectAllowed="move"},[]),S=T.useCallback(N=>{c({nodes:N.nodes,edges:N.edges}),f.success(`Loaded template: ${N.name}`)},[c,f]),C=Object.values(Qo).flat().length;return d.jsxs("aside",{className:"node-sidebar",children:[d.jsxs("div",{className:"sidebar-header",children:[e?d.jsxs("div",{className:"breadcrumb",children:[d.jsx("button",{className:"back-btn",onClick:b,title:"Back to folders",children:""}),d.jsxs("span",{className:"current-folder",style:{"--folder-color":p?.color},children:[" ",e]})]}):d.jsx("h2",{children:" Nodes"}),d.jsx("div",{className:"header-actions",children:d.jsx("button",{className:`templates-toggle ${l?"active":""}`,onClick:()=>s(!l),title:"Templates",children:""})})]}),l&&d.jsxs("div",{className:"templates-panel",children:[d.jsxs("div",{className:"templates-header",children:[d.jsx("h3",{children:" Templates"}),d.jsx("span",{className:"templates-count",children:Oh.length})]}),d.jsx("div",{className:"templates-list",children:Oh.map(N=>d.jsxs("button",{className:"template-item",onClick:()=>S(N),children:[d.jsx("span",{className:"template-icon",children:N.icon}),d.jsxs("div",{className:"template-info",children:[d.jsx("span",{className:"template-name",children:N.name}),d.jsx("span",{className:"template-desc",children:N.description})]})]},N.id))})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"sidebar-search",children:d.jsxs("div",{className:"search-wrapper",children:[d.jsx("span",{className:"search-icon",children:""}),d.jsx("input",{type:"text",placeholder:e?"Search in folder...":"Search nodes...",value:i,onChange:N=>a(N.target.value),className:"node-search-input"}),i&&d.jsx("button",{className:"search-clear",onClick:()=>a(""),children:""})]})}),d.jsxs("div",{className:"sidebar-content",children:[!e&&d.jsxs("div",{className:"folder-list",children:[g.map(([N,k])=>{const j=Object.values(Br).find(_=>_.name===N);return d.jsxs("button",{className:"folder-item",onClick:()=>v(N),style:{"--folder-color":j?.color},children:[d.jsx("span",{className:"folder-icon",children:""}),d.jsxs("div",{className:"folder-info",children:[d.jsx("span",{className:"folder-name",children:N}),d.jsx("span",{className:"folder-desc",children:j?.description})]}),d.jsx("span",{className:"folder-count",children:k.length}),d.jsx("span",{className:"folder-arrow",children:""})]},N)}),i&&g.length===0&&d.jsx("div",{className:"no-results",children:d.jsxs("p",{children:['No folders match "',i,'"']})})]}),e&&d.jsxs("div",{className:"node-list",children:[m.map(N=>d.jsxs("div",{className:"draggable-node",draggable:!0,onDragStart:k=>w(k,N.type),style:{"--node-color":p?.color},title:N.description,children:[d.jsx("span",{className:"node-icon",children:N.icon}),d.jsxs("div",{className:"node-info",children:[d.jsx("span",{className:"node-name",children:N.name}),d.jsx("span",{className:"node-description",children:N.description})]})]},N.type)),i&&m.length===0&&d.jsxs("div",{className:"no-results",children:[d.jsxs("p",{children:['No nodes match "',i,'"']}),d.jsx("button",{onClick:()=>a(""),children:"Clear"})]}),!i&&m.length===0&&d.jsx("div",{className:"no-results",children:d.jsx("p",{children:"This folder is empty"})})]})]})]}),d.jsx("div",{className:"sidebar-footer",children:d.jsx("p",{className:"tip",children:l?"Click template to load":e?`${m.length} nodes  Drag to canvas`:`${C} nodes in ${Object.keys(Qo).length} folders`})})]})}const h_=T.memo(f_);function p_({onClose:e}){return d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:" Getting Started"}),d.jsx("button",{className:"btn-close",onClick:e,children:""})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"tutorial-intro",children:[d.jsxs("p",{children:["Welcome to ",d.jsx("strong",{children:"IOSANS"}),". You can learn the basics by reading below, or take an interactive tour of the interface."]}),d.jsx("button",{className:"btn-primary",style:{width:"100%",padding:"12px",margin:"16px 0",fontSize:"1.1em"},onClick:()=>{e(),window.dispatchEvent(new Event("startTour"))},children:" Start Guided Onboarding"})]}),d.jsx("hr",{style:{borderColor:"rgba(255,255,255,0.1)",margin:"20px 0"}}),d.jsx("h3",{children:" Quick Start Guide"}),d.jsxs("div",{className:"tutorial-step",children:[d.jsx("h4",{children:"1. Start with a Trigger"}),d.jsxs("p",{children:["Drag a ",d.jsx("strong",{children:"Manual Trigger"})," from the sidebar (green category). This tells the workflow when to start running."]})]}),d.jsxs("div",{className:"tutorial-step",children:[d.jsx("h4",{children:"2. Add Intelligence"}),d.jsxs("p",{children:["Add an ",d.jsx("strong",{children:"AI Agent"}),' node. Configure its system prompt to define its personality and task (e.g., "Summarize this text").']})]}),d.jsxs("div",{className:"tutorial-step",children:[d.jsx("h4",{children:"3. Connect & Flow"}),d.jsxs("p",{children:["Connect nodes by dragging from"," ",d.jsx("span",{style:{color:"var(--color-success)"},children:"Source"})," to"," ",d.jsx("span",{style:{color:"var(--text-muted)"},children:"Target"})," ","handles. Data flows along these lines."]})]}),d.jsxs("div",{className:"tutorial-step",children:[d.jsx("h4",{children:"4. View Results"}),d.jsxs("p",{children:["Add an ",d.jsx("strong",{children:"Output Node"})," to visualize the final result, or inspect the ",d.jsx("strong",{children:"Logs Panel"})," on the right for detailed execution steps."]})]}),d.jsxs("div",{className:"tip-box",children:[d.jsx("strong",{children:"Pro Tip:"})," Use the ",d.jsx("strong",{children:"Overseer Agent"})," ","(Eye icon) to help you build complex workflows automatically!"]})]})]})})}const m_=T.memo(p_);function g_(e,n){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const y_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v_={};function zv(e,n){return(v_.jsx?x_:y_).test(e)}const b_=/[ \t\n\f\r]/g;function w_(e){return typeof e=="object"?e.type==="text"?Lv(e.value):!1:Lv(e)}function Lv(e){return e.replace(b_,"")===""}class _l{constructor(n,i,a){this.normal=i,this.property=n,a&&(this.space=a)}}_l.prototype.normal={};_l.prototype.property={};_l.prototype.space=void 0;function ww(e,n){const i={},a={};for(const l of e)Object.assign(i,l.property),Object.assign(a,l.normal);return new _l(i,a,n)}function Rh(e){return e.toLowerCase()}class Kt{constructor(n,i){this.attribute=i,this.property=n}}Kt.prototype.attribute="";Kt.prototype.booleanish=!1;Kt.prototype.boolean=!1;Kt.prototype.commaOrSpaceSeparated=!1;Kt.prototype.commaSeparated=!1;Kt.prototype.defined=!1;Kt.prototype.mustUseProperty=!1;Kt.prototype.number=!1;Kt.prototype.overloadedBoolean=!1;Kt.prototype.property="";Kt.prototype.spaceSeparated=!1;Kt.prototype.space=void 0;let S_=0;const Me=Pr(),wt=Pr(),zh=Pr(),he=Pr(),it=Pr(),Ba=Pr(),cn=Pr();function Pr(){return 2**++S_}const Lh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Me,booleanish:wt,commaOrSpaceSeparated:cn,commaSeparated:Ba,number:he,overloadedBoolean:zh,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Zf=Object.keys(Lh);class fp extends Kt{constructor(n,i,a,l){let s=-1;if(super(n,i),Iv(this,"space",l),typeof a=="number")for(;++s<Zf.length;){const c=Zf[s];Iv(this,Zf[s],(a&Lh[c])===Lh[c])}}}fp.prototype.defined=!0;function Iv(e,n,i){i&&(e[n]=i)}function Qa(e){const n={},i={};for(const[a,l]of Object.entries(e.properties)){const s=new fp(a,e.transform(e.attributes||{},a),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(s.mustUseProperty=!0),n[a]=s,i[Rh(a)]=a,i[Rh(s.attribute)]=a}return new _l(n,i,e.space)}const Sw=Qa({properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:it,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:he,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:it,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:wt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Nw(e,n){return n in e?e[n]:n}function Ew(e,n){return Nw(e,n.toLowerCase())}const N_=Qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ba,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Me,allowPaymentRequest:Me,allowUserMedia:Me,alt:null,as:null,async:Me,autoCapitalize:null,autoComplete:it,autoFocus:Me,autoPlay:Me,blocking:it,capture:null,charSet:null,checked:Me,cite:null,className:it,cols:he,colSpan:null,content:null,contentEditable:wt,controls:Me,controlsList:it,coords:he|Ba,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Me,defer:Me,dir:null,dirName:null,disabled:Me,download:zh,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Me,formTarget:null,headers:it,height:he,hidden:zh,high:he,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Me,inputMode:null,integrity:null,is:null,isMap:Me,itemId:null,itemProp:it,itemRef:it,itemScope:Me,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Me,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Me,muted:Me,name:null,nonce:null,noModule:Me,noValidate:Me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Me,optimum:he,pattern:null,ping:it,placeholder:null,playsInline:Me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Me,referrerPolicy:null,rel:it,required:Me,reversed:Me,rows:he,rowSpan:he,sandbox:it,scope:null,scoped:Me,seamless:Me,selected:Me,shadowRootClonable:Me,shadowRootDelegatesFocus:Me,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Me,useMap:null,value:wt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Me,declare:Me,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Me,noHref:Me,noShade:Me,noWrap:Me,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Me,disableRemotePlayback:Me,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:Ew}),E_=Qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Me,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ba,g2:Ba,glyphName:Ba,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cn,rev:cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cn,requiredFeatures:cn,requiredFonts:cn,requiredFormats:cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nw}),jw=Qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Cw=Qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ew}),kw=Qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),j_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},C_=/[A-Z]/g,Bv=/-[a-z]/g,k_=/^data[-\w.:]+$/i;function T_(e,n){const i=Rh(n);let a=n,l=Kt;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&k_.test(n)){if(n.charAt(4)==="-"){const s=n.slice(5).replace(Bv,M_);a="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=n.slice(4);if(!Bv.test(s)){let c=s.replace(C_,A_);c.charAt(0)!=="-"&&(c="-"+c),n="data"+c}}l=fp}return new l(a,n)}function A_(e){return"-"+e.toLowerCase()}function M_(e){return e.charAt(1).toUpperCase()}const D_=ww([Sw,N_,jw,Cw,kw],"html"),hp=ww([Sw,E_,jw,Cw,kw],"svg");function __(e){return e.join(" ").trim()}var Aa={},Wf,Hv;function O_(){if(Hv)return Wf;Hv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,h="/",m="*",g="",v="comment",b="declaration";function w(C,N){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];N=N||{};var k=1,j=1;function _(A){var P=A.match(n);P&&(k+=P.length);var D=A.lastIndexOf(p);j=~D?A.length-D:j+A.length}function H(){var A={line:k,column:j};return function(P){return P.position=new M(A),G(),P}}function M(A){this.start=A,this.end={line:k,column:j},this.source=N.source}M.prototype.content=C;function O(A){var P=new Error(N.source+":"+k+":"+j+": "+A);if(P.reason=A,P.filename=N.source,P.line=k,P.column=j,P.source=C,!N.silent)throw P}function V(A){var P=A.exec(C);if(P){var D=P[0];return _(D),C=C.slice(D.length),P}}function G(){V(i)}function I(A){var P;for(A=A||[];P=$();)P!==!1&&A.push(P);return A}function $(){var A=H();if(!(h!=C.charAt(0)||m!=C.charAt(1))){for(var P=2;g!=C.charAt(P)&&(m!=C.charAt(P)||h!=C.charAt(P+1));)++P;if(P+=2,g===C.charAt(P-1))return O("End of comment missing");var D=C.slice(2,P-2);return j+=2,_(D),C=C.slice(P),j+=2,A({type:v,comment:D})}}function F(){var A=H(),P=V(a);if(P){if($(),!V(l))return O("property missing ':'");var D=V(s),q=A({type:b,property:S(P[0].replace(e,g)),value:D?S(D[0].replace(e,g)):g});return V(c),q}}function ee(){var A=[];I(A);for(var P;P=F();)P!==!1&&(A.push(P),I(A));return A}return G(),ee()}function S(C){return C?C.replace(f,g):g}return Wf=w,Wf}var Pv;function R_(){if(Pv)return Aa;Pv=1;var e=Aa&&Aa.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.default=i;const n=e(O_());function i(a,l){let s=null;if(!a||typeof a!="string")return s;const c=(0,n.default)(a),f=typeof l=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:h,value:m}=p;f?l(h,m,p):m&&(s=s||{},s[h]=m)}),s}return Aa}var Zo={},$v;function z_(){if($v)return Zo;$v=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(h){return!h||i.test(h)||e.test(h)},c=function(h,m){return m.toUpperCase()},f=function(h,m){return"".concat(m,"-")},p=function(h,m){return m===void 0&&(m={}),s(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(l,f):h=h.replace(a,f),h.replace(n,c))};return Zo.camelCase=p,Zo}var Wo,Uv;function L_(){if(Uv)return Wo;Uv=1;var e=Wo&&Wo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},n=e(R_()),i=z_();function a(l,s){var c={};return!l||typeof l!="string"||(0,n.default)(l,function(f,p){f&&p&&(c[(0,i.camelCase)(f,s)]=p)}),c}return a.default=a,Wo=a,Wo}var I_=L_();const B_=Zc(I_),Tw=Aw("end"),pp=Aw("start");function Aw(e){return n;function n(i){const a=i&&i.position&&i.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function H_(e){const n=pp(e),i=Tw(e);if(n&&i)return{start:n,end:i}}function sl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qv(e.position):"start"in e||"end"in e?qv(e):"line"in e||"column"in e?Ih(e):""}function Ih(e){return Vv(e&&e.line)+":"+Vv(e&&e.column)}function qv(e){return Ih(e&&e.start)+"-"+Ih(e&&e.end)}function Vv(e){return e&&typeof e=="number"?e:1}class It extends Error{constructor(n,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let l="",s={},c=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof n=="string"?l=n:!s.cause&&n&&(c=!0,l=n.message,s.cause=n),!s.ruleId&&!s.source&&typeof a=="string"){const p=a.indexOf(":");p===-1?s.ruleId=a:(s.source=a.slice(0,p),s.ruleId=a.slice(p+1))}if(!s.place&&s.ancestors&&s.ancestors){const p=s.ancestors[s.ancestors.length-1];p&&(s.place=p.position)}const f=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=f?f.line:void 0,this.name=sl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}It.prototype.file="";It.prototype.name="";It.prototype.reason="";It.prototype.message="";It.prototype.stack="";It.prototype.column=void 0;It.prototype.line=void 0;It.prototype.ancestors=void 0;It.prototype.cause=void 0;It.prototype.fatal=void 0;It.prototype.place=void 0;It.prototype.ruleId=void 0;It.prototype.source=void 0;const mp={}.hasOwnProperty,P_=new Map,$_=/[A-Z]/g,U_=new Set(["table","tbody","thead","tfoot","tr"]),q_=new Set(["td","th"]),Mw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function V_(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=n.filePath||void 0;let a;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=K_(i,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=W_(i,n.jsx,n.jsxs)}const l={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:a,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?hp:D_,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},s=Dw(l,e,void 0);return s&&typeof s!="string"?s:l.create(e,l.Fragment,{children:s||void 0},void 0)}function Dw(e,n,i){if(n.type==="element")return F_(e,n,i);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return G_(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return X_(e,n,i);if(n.type==="mdxjsEsm")return Y_(e,n);if(n.type==="root")return Q_(e,n,i);if(n.type==="text")return Z_(e,n)}function F_(e,n,i){const a=e.schema;let l=a;n.tagName.toLowerCase()==="svg"&&a.space==="html"&&(l=hp,e.schema=l),e.ancestors.push(n);const s=Ow(e,n.tagName,!1),c=J_(e,n);let f=yp(e,n);return U_.has(n.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!w_(p):!0})),_w(e,c,s,n),gp(c,f),e.ancestors.pop(),e.schema=a,e.create(n,s,c,i)}function G_(e,n){if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}wl(e,n.position)}function Y_(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);wl(e,n.position)}function X_(e,n,i){const a=e.schema;let l=a;n.name==="svg"&&a.space==="html"&&(l=hp,e.schema=l),e.ancestors.push(n);const s=n.name===null?e.Fragment:Ow(e,n.name,!0),c=eO(e,n),f=yp(e,n);return _w(e,c,s,n),gp(c,f),e.ancestors.pop(),e.schema=a,e.create(n,s,c,i)}function Q_(e,n,i){const a={};return gp(a,yp(e,n)),e.create(n,e.Fragment,a,i)}function Z_(e,n){return n.value}function _w(e,n,i,a){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(n.node=a)}function gp(e,n){if(n.length>0){const i=n.length>1?n:n[0];i&&(e.children=i)}}function W_(e,n,i){return a;function a(l,s,c,f){const h=Array.isArray(c.children)?i:n;return f?h(s,c,f):h(s,c)}}function K_(e,n){return i;function i(a,l,s,c){const f=Array.isArray(s.children),p=pp(a);return n(l,s,c,f,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function J_(e,n){const i={};let a,l;for(l in n.properties)if(l!=="children"&&mp.call(n.properties,l)){const s=tO(e,l,n.properties[l]);if(s){const[c,f]=s;e.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&q_.has(n.tagName)?a=f:i[c]=f}}if(a){const s=i.style||(i.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function eO(e,n){const i={};for(const a of n.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const s=a.data.estree.body[0];s.type;const c=s.expression;c.type;const f=c.properties[0];f.type,Object.assign(i,e.evaluater.evaluateExpression(f.argument))}else wl(e,n.position);else{const l=a.name;let s;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const f=a.value.data.estree.body[0];f.type,s=e.evaluater.evaluateExpression(f.expression)}else wl(e,n.position);else s=a.value===null?!0:a.value;i[l]=s}return i}function yp(e,n){const i=[];let a=-1;const l=e.passKeys?new Map:P_;for(;++a<n.children.length;){const s=n.children[a];let c;if(e.passKeys){const p=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(p){const h=l.get(p)||0;c=p+"-"+h,l.set(p,h+1)}}const f=Dw(e,s,c);f!==void 0&&i.push(f)}return i}function tO(e,n,i){const a=T_(e.schema,n);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?g_(i):__(i)),a.property==="style"){let l=typeof i=="object"?i:nO(e,String(i));return e.stylePropertyNameCase==="css"&&(l=iO(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&a.space?j_[a.property]||a.property:a.attribute,i]}}function nO(e,n){try{return B_(n,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const a=i,l=new It("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=Mw+"#cannot-parse-style-attribute",l}}function Ow(e,n,i){let a;if(!i)a={type:"Literal",value:n};else if(n.includes(".")){const l=n.split(".");let s=-1,c;for(;++s<l.length;){const f=zv(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(s&&f.type==="Literal"),optional:!1}:f}a=c}else a=zv(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(a.type==="Literal"){const l=a.value;return mp.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(a);wl(e)}function wl(e,n){const i=new It("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Mw+"#cannot-handle-mdx-estrees-without-createevaluater",i}function iO(e){const n={};let i;for(i in e)mp.call(e,i)&&(n[rO(i)]=e[i]);return n}function rO(e){let n=e.replace($_,aO);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function aO(e){return"-"+e.toLowerCase()}const Kf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oO={};function xp(e,n){const i=oO,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return Rw(e,a,l)}function Rw(e,n,i){if(lO(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Fv(e.children,n,i)}return Array.isArray(e)?Fv(e,n,i):""}function Fv(e,n,i){const a=[];let l=-1;for(;++l<e.length;)a[l]=Rw(e[l],n,i);return a.join("")}function lO(e){return!!(e&&typeof e=="object")}const Gv=document.createElement("i");function vp(e){const n="&"+e+";";Gv.innerHTML=n;const i=Gv.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===n?!1:i}function fn(e,n,i,a){const l=e.length;let s=0,c;if(n<0?n=-n>l?0:l+n:n=n>l?l:n,i=i>0?i:0,a.length<1e4)c=Array.from(a),c.unshift(n,i),e.splice(...c);else for(i&&e.splice(n,i);s<a.length;)c=a.slice(s,s+1e4),c.unshift(n,0),e.splice(...c),s+=1e4,n+=1e4}function Sn(e,n){return e.length>0?(fn(e,e.length,0,n),e):n}const Yv={}.hasOwnProperty;function zw(e){const n={};let i=-1;for(;++i<e.length;)sO(n,e[i]);return n}function sO(e,n){let i;for(i in n){const l=(Yv.call(e,i)?e[i]:void 0)||(e[i]={}),s=n[i];let c;if(s)for(c in s){Yv.call(l,c)||(l[c]=[]);const f=s[c];cO(l[c],Array.isArray(f)?f:f?[f]:[])}}}function cO(e,n){let i=-1;const a=[];for(;++i<n.length;)(n[i].add==="after"?e:a).push(n[i]);fn(e,0,0,a)}function Lw(e,n){const i=Number.parseInt(e,n);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Rn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pt=lr(/[A-Za-z]/),Lt=lr(/[\dA-Za-z]/),uO=lr(/[#-'*+\--9=?A-Z^-~]/);function Fc(e){return e!==null&&(e<32||e===127)}const Bh=lr(/\d/),dO=lr(/[\dA-Fa-f]/),fO=lr(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function nt(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const du=lr(new RegExp("\\p{P}|\\p{S}","u")),Hr=lr(/\s/);function lr(e){return n;function n(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Za(e){const n=[];let i=-1,a=0,l=0;for(;++i<e.length;){const s=e.charCodeAt(i);let c="";if(s===37&&Lt(e.charCodeAt(i+1))&&Lt(e.charCodeAt(i+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const f=e.charCodeAt(i+1);s<56320&&f>56319&&f<57344?(c=String.fromCharCode(s,f),l=1):c=""}else c=String.fromCharCode(s);c&&(n.push(e.slice(a,i),encodeURIComponent(c)),a=i+l+1,c=""),l&&(i+=l,l=0)}return n.join("")+e.slice(a)}function $e(e,n,i,a){const l=a?a-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(p){return ze(p)?(e.enter(i),f(p)):n(p)}function f(p){return ze(p)&&s++<l?(e.consume(p),f):(e.exit(i),n(p))}}const hO={tokenize:pO};function pO(e){const n=e.attempt(this.parser.constructs.contentInitial,a,l);let i;return n;function a(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),$e(e,n,"linePrefix")}function l(f){return e.enter("paragraph"),s(f)}function s(f){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(f)}function c(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),s):(e.consume(f),c)}}const mO={tokenize:gO},Xv={tokenize:yO};function gO(e){const n=this,i=[];let a=0,l,s,c;return f;function f(j){if(a<i.length){const _=i[a];return n.containerState=_[1],e.attempt(_[0].continuation,p,h)(j)}return h(j)}function p(j){if(a++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,l&&k();const _=n.events.length;let H=_,M;for(;H--;)if(n.events[H][0]==="exit"&&n.events[H][1].type==="chunkFlow"){M=n.events[H][1].end;break}N(a);let O=_;for(;O<n.events.length;)n.events[O][1].end={...M},O++;return fn(n.events,H+1,0,n.events.slice(_)),n.events.length=O,h(j)}return f(j)}function h(j){if(a===i.length){if(!l)return v(j);if(l.currentConstruct&&l.currentConstruct.concrete)return w(j);n.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Xv,m,g)(j)}function m(j){return l&&k(),N(a),v(j)}function g(j){return n.parser.lazy[n.now().line]=a!==i.length,c=n.now().offset,w(j)}function v(j){return n.containerState={},e.attempt(Xv,b,w)(j)}function b(j){return a++,i.push([n.currentConstruct,n.containerState]),v(j)}function w(j){if(j===null){l&&k(),N(0),e.consume(j);return}return l=l||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),S(j)}function S(j){if(j===null){C(e.exit("chunkFlow"),!0),N(0),e.consume(j);return}return we(j)?(e.consume(j),C(e.exit("chunkFlow")),a=0,n.interrupt=void 0,f):(e.consume(j),S)}function C(j,_){const H=n.sliceStream(j);if(_&&H.push(null),j.previous=s,s&&(s.next=j),s=j,l.defineSkip(j.start),l.write(H),n.parser.lazy[j.start.line]){let M=l.events.length;for(;M--;)if(l.events[M][1].start.offset<c&&(!l.events[M][1].end||l.events[M][1].end.offset>c))return;const O=n.events.length;let V=O,G,I;for(;V--;)if(n.events[V][0]==="exit"&&n.events[V][1].type==="chunkFlow"){if(G){I=n.events[V][1].end;break}G=!0}for(N(a),M=O;M<n.events.length;)n.events[M][1].end={...I},M++;fn(n.events,V+1,0,n.events.slice(O)),n.events.length=M}}function N(j){let _=i.length;for(;_-- >j;){const H=i[_];n.containerState=H[1],H[0].exit.call(n,e)}i.length=j}function k(){l.write([null]),s=void 0,l=void 0,n.containerState._closeFlow=void 0}}function yO(e,n,i){return $e(e,e.attempt(this.parser.constructs.document,n,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ya(e){if(e===null||nt(e)||Hr(e))return 1;if(du(e))return 2}function fu(e,n,i){const a=[];let l=-1;for(;++l<e.length;){const s=e[l].resolveAll;s&&!a.includes(s)&&(n=s(n,i),a.push(s))}return n}const Hh={name:"attention",resolveAll:xO,tokenize:vO};function xO(e,n){let i=-1,a,l,s,c,f,p,h,m;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(a=i;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&n.sliceSerialize(e[a][1]).charCodeAt(0)===n.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[a][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[a][1].end.offset-e[a][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const g={...e[a][1].end},v={...e[i][1].start};Qv(g,-p),Qv(v,p),c={type:p>1?"strongSequence":"emphasisSequence",start:g,end:{...e[a][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:v},s={type:p>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[i][1].start}},l={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},e[a][1].end={...c.start},e[i][1].start={...f.end},h=[],e[a][1].end.offset-e[a][1].start.offset&&(h=Sn(h,[["enter",e[a][1],n],["exit",e[a][1],n]])),h=Sn(h,[["enter",l,n],["enter",c,n],["exit",c,n],["enter",s,n]]),h=Sn(h,fu(n.parser.constructs.insideSpan.null,e.slice(a+1,i),n)),h=Sn(h,[["exit",s,n],["enter",f,n],["exit",f,n],["exit",l,n]]),e[i][1].end.offset-e[i][1].start.offset?(m=2,h=Sn(h,[["enter",e[i][1],n],["exit",e[i][1],n]])):m=0,fn(e,a-1,i-a+3,h),i=a+h.length-m-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function vO(e,n){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,l=Ya(a);let s;return c;function c(p){return s=p,e.enter("attentionSequence"),f(p)}function f(p){if(p===s)return e.consume(p),f;const h=e.exit("attentionSequence"),m=Ya(p),g=!m||m===2&&l||i.includes(p),v=!l||l===2&&m||i.includes(a);return h._open=!!(s===42?g:g&&(l||!v)),h._close=!!(s===42?v:v&&(m||!g)),n(p)}}function Qv(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const bO={name:"autolink",tokenize:wO};function wO(e,n,i){let a=0;return l;function l(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(b){return Pt(b)?(e.consume(b),c):b===64?i(b):h(b)}function c(b){return b===43||b===45||b===46||Lt(b)?(a=1,f(b)):h(b)}function f(b){return b===58?(e.consume(b),a=0,p):(b===43||b===45||b===46||Lt(b))&&a++<32?(e.consume(b),f):(a=0,h(b))}function p(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):b===null||b===32||b===60||Fc(b)?i(b):(e.consume(b),p)}function h(b){return b===64?(e.consume(b),m):uO(b)?(e.consume(b),h):i(b)}function m(b){return Lt(b)?g(b):i(b)}function g(b){return b===46?(e.consume(b),a=0,m):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):v(b)}function v(b){if((b===45||Lt(b))&&a++<63){const w=b===45?v:g;return e.consume(b),w}return i(b)}}const Ol={partial:!0,tokenize:SO};function SO(e,n,i){return a;function a(s){return ze(s)?$e(e,l,"linePrefix")(s):l(s)}function l(s){return s===null||we(s)?n(s):i(s)}}const Iw={continuation:{tokenize:EO},exit:jO,name:"blockQuote",tokenize:NO};function NO(e,n,i){const a=this;return l;function l(c){if(c===62){const f=a.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),s}return i(c)}function s(c){return ze(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(c))}}function EO(e,n,i){const a=this;return l;function l(c){return ze(c)?$e(e,s,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return e.attempt(Iw,n,i)(c)}}function jO(e){e.exit("blockQuote")}const Bw={name:"characterEscape",tokenize:CO};function CO(e,n,i){return a;function a(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),l}function l(s){return fO(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):i(s)}}const Hw={name:"characterReference",tokenize:kO};function kO(e,n,i){const a=this;let l=0,s,c;return f;function f(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),p}function p(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,c=Lt,m(g))}function h(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,c=dO,m):(e.enter("characterReferenceValue"),s=7,c=Bh,m(g))}function m(g){if(g===59&&l){const v=e.exit("characterReferenceValue");return c===Lt&&!vp(a.sliceSerialize(v))?i(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return c(g)&&l++<s?(e.consume(g),m):i(g)}}const Zv={partial:!0,tokenize:AO},Wv={concrete:!0,name:"codeFenced",tokenize:TO};function TO(e,n,i){const a=this,l={partial:!0,tokenize:H};let s=0,c=0,f;return p;function p(M){return h(M)}function h(M){const O=a.events[a.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,f=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(M)}function m(M){return M===f?(c++,e.consume(M),m):c<3?i(M):(e.exit("codeFencedFenceSequence"),ze(M)?$e(e,g,"whitespace")(M):g(M))}function g(M){return M===null||we(M)?(e.exit("codeFencedFence"),a.interrupt?n(M):e.check(Zv,S,_)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===null||we(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(M)):ze(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$e(e,b,"whitespace")(M)):M===96&&M===f?i(M):(e.consume(M),v)}function b(M){return M===null||we(M)?g(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(M))}function w(M){return M===null||we(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(M)):M===96&&M===f?i(M):(e.consume(M),w)}function S(M){return e.attempt(l,_,C)(M)}function C(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),N}function N(M){return s>0&&ze(M)?$e(e,k,"linePrefix",s+1)(M):k(M)}function k(M){return M===null||we(M)?e.check(Zv,S,_)(M):(e.enter("codeFlowValue"),j(M))}function j(M){return M===null||we(M)?(e.exit("codeFlowValue"),k(M)):(e.consume(M),j)}function _(M){return e.exit("codeFenced"),n(M)}function H(M,O,V){let G=0;return I;function I(P){return M.enter("lineEnding"),M.consume(P),M.exit("lineEnding"),$}function $(P){return M.enter("codeFencedFence"),ze(P)?$e(M,F,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):F(P)}function F(P){return P===f?(M.enter("codeFencedFenceSequence"),ee(P)):V(P)}function ee(P){return P===f?(G++,M.consume(P),ee):G>=c?(M.exit("codeFencedFenceSequence"),ze(P)?$e(M,A,"whitespace")(P):A(P)):V(P)}function A(P){return P===null||we(P)?(M.exit("codeFencedFence"),O(P)):V(P)}}}function AO(e,n,i){const a=this;return l;function l(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s)}function s(c){return a.parser.lazy[a.now().line]?i(c):n(c)}}const Jf={name:"codeIndented",tokenize:DO},MO={partial:!0,tokenize:_O};function DO(e,n,i){const a=this;return l;function l(h){return e.enter("codeIndented"),$e(e,s,"linePrefix",5)(h)}function s(h){const m=a.events[a.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?c(h):i(h)}function c(h){return h===null?p(h):we(h)?e.attempt(MO,c,p)(h):(e.enter("codeFlowValue"),f(h))}function f(h){return h===null||we(h)?(e.exit("codeFlowValue"),c(h)):(e.consume(h),f)}function p(h){return e.exit("codeIndented"),n(h)}}function _O(e,n,i){const a=this;return l;function l(c){return a.parser.lazy[a.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):$e(e,s,"linePrefix",5)(c)}function s(c){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?n(c):we(c)?l(c):i(c)}}const OO={name:"codeText",previous:zO,resolve:RO,tokenize:LO};function RO(e){let n=e.length-4,i=3,a,l;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(a=i;++a<n;)if(e[a][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[n][1].type="codeTextPadding",i+=2,n-=2;break}}for(a=i-1,n++;++a<=n;)l===void 0?a!==n&&e[a][1].type!=="lineEnding"&&(l=a):(a===n||e[a][1].type==="lineEnding")&&(e[l][1].type="codeTextData",a!==l+2&&(e[l][1].end=e[a-1][1].end,e.splice(l+2,a-l-2),n-=a-l-2,a=l+2),l=void 0);return e}function zO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LO(e,n,i){let a=0,l,s;return c;function c(g){return e.enter("codeText"),e.enter("codeTextSequence"),f(g)}function f(g){return g===96?(e.consume(g),a++,f):(e.exit("codeTextSequence"),p(g))}function p(g){return g===null?i(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),p):g===96?(s=e.enter("codeTextSequence"),l=0,m(g)):we(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),p):(e.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||we(g)?(e.exit("codeTextData"),p(g)):(e.consume(g),h)}function m(g){return g===96?(e.consume(g),l++,m):l===a?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(s.type="codeTextData",h(g))}}class IO{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,i){const a=i??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(n,a):n>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(n,i,a){const l=i||0;this.setCursor(Math.trunc(n));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return a&&Ko(this.left,a),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Ko(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Ko(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const i=this.left.splice(n,Number.POSITIVE_INFINITY);Ko(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Ko(this.left,i.reverse())}}}function Ko(e,n){let i=0;if(n.length<1e4)e.push(...n);else for(;i<n.length;)e.push(...n.slice(i,i+1e4)),i+=1e4}function Pw(e){const n={};let i=-1,a,l,s,c,f,p,h;const m=new IO(e);for(;++i<m.length;){for(;i in n;)i=n[i];if(a=m.get(i),i&&a[1].type==="chunkFlow"&&m.get(i-1)[1].type==="listItemPrefix"&&(p=a[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(a[0]==="enter")a[1].contentType&&(Object.assign(n,BO(m,i)),i=n[i],h=!0);else if(a[1]._container){for(s=i,l=void 0;s--;)if(c=m.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(m.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(a[1].end={...m.get(l)[1].start},f=m.slice(l,i),f.unshift(a),m.splice(l,i-l+1,f))}}return fn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function BO(e,n){const i=e.get(n)[1],a=e.get(n)[2];let l=n-1;const s=[];let c=i._tokenizer;c||(c=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],h={};let m,g,v=-1,b=i,w=0,S=0;const C=[S];for(;b;){for(;e.get(++l)[1]!==b;);s.push(l),b._tokenizer||(m=a.sliceStream(b),b.next||m.push(null),g&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(m),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),g=b,b=b.next}for(b=i;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(S=v+1,C.push(S),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):C.pop(),v=C.length;v--;){const N=f.slice(C[v],C[v+1]),k=s.pop();p.push([k,k+N.length-1]),e.splice(k,2,N)}for(p.reverse(),v=-1;++v<p.length;)h[w+p[v][0]]=w+p[v][1],w+=p[v][1]-p[v][0]-1;return h}const HO={resolve:$O,tokenize:UO},PO={partial:!0,tokenize:qO};function $O(e){return Pw(e),e}function UO(e,n){let i;return a;function a(f){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?s(f):we(f)?e.check(PO,c,s)(f):(e.consume(f),l)}function s(f){return e.exit("chunkContent"),e.exit("content"),n(f)}function c(f){return e.consume(f),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function qO(e,n,i){const a=this;return l;function l(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),$e(e,s,"linePrefix")}function s(c){if(c===null||we(c))return i(c);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?n(c):e.interrupt(a.parser.constructs.flow,i,n)(c)}}function $w(e,n,i,a,l,s,c,f,p){const h=p||Number.POSITIVE_INFINITY;let m=0;return g;function g(N){return N===60?(e.enter(a),e.enter(l),e.enter(s),e.consume(N),e.exit(s),v):N===null||N===32||N===41||Fc(N)?i(N):(e.enter(a),e.enter(c),e.enter(f),e.enter("chunkString",{contentType:"string"}),S(N))}function v(N){return N===62?(e.enter(s),e.consume(N),e.exit(s),e.exit(l),e.exit(a),n):(e.enter(f),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===62?(e.exit("chunkString"),e.exit(f),v(N)):N===null||N===60||we(N)?i(N):(e.consume(N),N===92?w:b)}function w(N){return N===60||N===62||N===92?(e.consume(N),b):b(N)}function S(N){return!m&&(N===null||N===41||nt(N))?(e.exit("chunkString"),e.exit(f),e.exit(c),e.exit(a),n(N)):m<h&&N===40?(e.consume(N),m++,S):N===41?(e.consume(N),m--,S):N===null||N===32||N===40||Fc(N)?i(N):(e.consume(N),N===92?C:S)}function C(N){return N===40||N===41||N===92?(e.consume(N),S):S(N)}}function Uw(e,n,i,a,l,s){const c=this;let f=0,p;return h;function h(b){return e.enter(a),e.enter(l),e.consume(b),e.exit(l),e.enter(s),m}function m(b){return f>999||b===null||b===91||b===93&&!p||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?i(b):b===93?(e.exit(s),e.enter(l),e.consume(b),e.exit(l),e.exit(a),n):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||b===91||b===93||we(b)||f++>999?(e.exit("chunkString"),m(b)):(e.consume(b),p||(p=!ze(b)),b===92?v:g)}function v(b){return b===91||b===92||b===93?(e.consume(b),f++,g):g(b)}}function qw(e,n,i,a,l,s){let c;return f;function f(v){return v===34||v===39||v===40?(e.enter(a),e.enter(l),e.consume(v),e.exit(l),c=v===40?41:v,p):i(v)}function p(v){return v===c?(e.enter(l),e.consume(v),e.exit(l),e.exit(a),n):(e.enter(s),h(v))}function h(v){return v===c?(e.exit(s),p(c)):v===null?i(v):we(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),$e(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===c||v===null||we(v)?(e.exit("chunkString"),h(v)):(e.consume(v),v===92?g:m)}function g(v){return v===c||v===92?(e.consume(v),m):m(v)}}function cl(e,n){let i;return a;function a(l){return we(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i=!0,a):ze(l)?$e(e,a,i?"linePrefix":"lineSuffix")(l):n(l)}}const VO={name:"definition",tokenize:GO},FO={partial:!0,tokenize:YO};function GO(e,n,i){const a=this;let l;return s;function s(b){return e.enter("definition"),c(b)}function c(b){return Uw.call(a,e,f,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return l=Rn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),p):i(b)}function p(b){return nt(b)?cl(e,h)(b):h(b)}function h(b){return $w(e,m,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function m(b){return e.attempt(FO,g,g)(b)}function g(b){return ze(b)?$e(e,v,"whitespace")(b):v(b)}function v(b){return b===null||we(b)?(e.exit("definition"),a.parser.defined.push(l),n(b)):i(b)}}function YO(e,n,i){return a;function a(f){return nt(f)?cl(e,l)(f):i(f)}function l(f){return qw(e,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function s(f){return ze(f)?$e(e,c,"whitespace")(f):c(f)}function c(f){return f===null||we(f)?n(f):i(f)}}const XO={name:"hardBreakEscape",tokenize:QO};function QO(e,n,i){return a;function a(s){return e.enter("hardBreakEscape"),e.consume(s),l}function l(s){return we(s)?(e.exit("hardBreakEscape"),n(s)):i(s)}}const ZO={name:"headingAtx",resolve:WO,tokenize:KO};function WO(e,n){let i=e.length-2,a=3,l,s;return e[a][1].type==="whitespace"&&(a+=2),i-2>a&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&e[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(l={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},s={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},fn(e,a,i-a+1,[["enter",l,n],["enter",s,n],["exit",s,n],["exit",l,n]])),e}function KO(e,n,i){let a=0;return l;function l(m){return e.enter("atxHeading"),s(m)}function s(m){return e.enter("atxHeadingSequence"),c(m)}function c(m){return m===35&&a++<6?(e.consume(m),c):m===null||nt(m)?(e.exit("atxHeadingSequence"),f(m)):i(m)}function f(m){return m===35?(e.enter("atxHeadingSequence"),p(m)):m===null||we(m)?(e.exit("atxHeading"),n(m)):ze(m)?$e(e,f,"whitespace")(m):(e.enter("atxHeadingText"),h(m))}function p(m){return m===35?(e.consume(m),p):(e.exit("atxHeadingSequence"),f(m))}function h(m){return m===null||m===35||nt(m)?(e.exit("atxHeadingText"),f(m)):(e.consume(m),h)}}const JO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kv=["pre","script","style","textarea"],eR={concrete:!0,name:"htmlFlow",resolveTo:iR,tokenize:rR},tR={partial:!0,tokenize:oR},nR={partial:!0,tokenize:aR};function iR(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function rR(e,n,i){const a=this;let l,s,c,f,p;return h;function h(L){return m(L)}function m(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),g}function g(L){return L===33?(e.consume(L),v):L===47?(e.consume(L),s=!0,S):L===63?(e.consume(L),l=3,a.interrupt?n:z):Pt(L)?(e.consume(L),c=String.fromCharCode(L),C):i(L)}function v(L){return L===45?(e.consume(L),l=2,b):L===91?(e.consume(L),l=5,f=0,w):Pt(L)?(e.consume(L),l=4,a.interrupt?n:z):i(L)}function b(L){return L===45?(e.consume(L),a.interrupt?n:z):i(L)}function w(L){const ie="CDATA[";return L===ie.charCodeAt(f++)?(e.consume(L),f===ie.length?a.interrupt?n:F:w):i(L)}function S(L){return Pt(L)?(e.consume(L),c=String.fromCharCode(L),C):i(L)}function C(L){if(L===null||L===47||L===62||nt(L)){const ie=L===47,te=c.toLowerCase();return!ie&&!s&&Kv.includes(te)?(l=1,a.interrupt?n(L):F(L)):JO.includes(c.toLowerCase())?(l=6,ie?(e.consume(L),N):a.interrupt?n(L):F(L)):(l=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(L):s?k(L):j(L))}return L===45||Lt(L)?(e.consume(L),c+=String.fromCharCode(L),C):i(L)}function N(L){return L===62?(e.consume(L),a.interrupt?n:F):i(L)}function k(L){return ze(L)?(e.consume(L),k):I(L)}function j(L){return L===47?(e.consume(L),I):L===58||L===95||Pt(L)?(e.consume(L),_):ze(L)?(e.consume(L),j):I(L)}function _(L){return L===45||L===46||L===58||L===95||Lt(L)?(e.consume(L),_):H(L)}function H(L){return L===61?(e.consume(L),M):ze(L)?(e.consume(L),H):j(L)}function M(L){return L===null||L===60||L===61||L===62||L===96?i(L):L===34||L===39?(e.consume(L),p=L,O):ze(L)?(e.consume(L),M):V(L)}function O(L){return L===p?(e.consume(L),p=null,G):L===null||we(L)?i(L):(e.consume(L),O)}function V(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||nt(L)?H(L):(e.consume(L),V)}function G(L){return L===47||L===62||ze(L)?j(L):i(L)}function I(L){return L===62?(e.consume(L),$):i(L)}function $(L){return L===null||we(L)?F(L):ze(L)?(e.consume(L),$):i(L)}function F(L){return L===45&&l===2?(e.consume(L),D):L===60&&l===1?(e.consume(L),q):L===62&&l===4?(e.consume(L),B):L===63&&l===3?(e.consume(L),z):L===93&&l===5?(e.consume(L),Z):we(L)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(tR,Y,ee)(L)):L===null||we(L)?(e.exit("htmlFlowData"),ee(L)):(e.consume(L),F)}function ee(L){return e.check(nR,A,Y)(L)}function A(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),P}function P(L){return L===null||we(L)?ee(L):(e.enter("htmlFlowData"),F(L))}function D(L){return L===45?(e.consume(L),z):F(L)}function q(L){return L===47?(e.consume(L),c="",U):F(L)}function U(L){if(L===62){const ie=c.toLowerCase();return Kv.includes(ie)?(e.consume(L),B):F(L)}return Pt(L)&&c.length<8?(e.consume(L),c+=String.fromCharCode(L),U):F(L)}function Z(L){return L===93?(e.consume(L),z):F(L)}function z(L){return L===62?(e.consume(L),B):L===45&&l===2?(e.consume(L),z):F(L)}function B(L){return L===null||we(L)?(e.exit("htmlFlowData"),Y(L)):(e.consume(L),B)}function Y(L){return e.exit("htmlFlow"),n(L)}}function aR(e,n,i){const a=this;return l;function l(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):i(c)}function s(c){return a.parser.lazy[a.now().line]?i(c):n(c)}}function oR(e,n,i){return a;function a(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(Ol,n,i)}}const lR={name:"htmlText",tokenize:sR};function sR(e,n,i){const a=this;let l,s,c;return f;function f(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),p}function p(z){return z===33?(e.consume(z),h):z===47?(e.consume(z),H):z===63?(e.consume(z),j):Pt(z)?(e.consume(z),V):i(z)}function h(z){return z===45?(e.consume(z),m):z===91?(e.consume(z),s=0,w):Pt(z)?(e.consume(z),k):i(z)}function m(z){return z===45?(e.consume(z),b):i(z)}function g(z){return z===null?i(z):z===45?(e.consume(z),v):we(z)?(c=g,q(z)):(e.consume(z),g)}function v(z){return z===45?(e.consume(z),b):g(z)}function b(z){return z===62?D(z):z===45?v(z):g(z)}function w(z){const B="CDATA[";return z===B.charCodeAt(s++)?(e.consume(z),s===B.length?S:w):i(z)}function S(z){return z===null?i(z):z===93?(e.consume(z),C):we(z)?(c=S,q(z)):(e.consume(z),S)}function C(z){return z===93?(e.consume(z),N):S(z)}function N(z){return z===62?D(z):z===93?(e.consume(z),N):S(z)}function k(z){return z===null||z===62?D(z):we(z)?(c=k,q(z)):(e.consume(z),k)}function j(z){return z===null?i(z):z===63?(e.consume(z),_):we(z)?(c=j,q(z)):(e.consume(z),j)}function _(z){return z===62?D(z):j(z)}function H(z){return Pt(z)?(e.consume(z),M):i(z)}function M(z){return z===45||Lt(z)?(e.consume(z),M):O(z)}function O(z){return we(z)?(c=O,q(z)):ze(z)?(e.consume(z),O):D(z)}function V(z){return z===45||Lt(z)?(e.consume(z),V):z===47||z===62||nt(z)?G(z):i(z)}function G(z){return z===47?(e.consume(z),D):z===58||z===95||Pt(z)?(e.consume(z),I):we(z)?(c=G,q(z)):ze(z)?(e.consume(z),G):D(z)}function I(z){return z===45||z===46||z===58||z===95||Lt(z)?(e.consume(z),I):$(z)}function $(z){return z===61?(e.consume(z),F):we(z)?(c=$,q(z)):ze(z)?(e.consume(z),$):G(z)}function F(z){return z===null||z===60||z===61||z===62||z===96?i(z):z===34||z===39?(e.consume(z),l=z,ee):we(z)?(c=F,q(z)):ze(z)?(e.consume(z),F):(e.consume(z),A)}function ee(z){return z===l?(e.consume(z),l=void 0,P):z===null?i(z):we(z)?(c=ee,q(z)):(e.consume(z),ee)}function A(z){return z===null||z===34||z===39||z===60||z===61||z===96?i(z):z===47||z===62||nt(z)?G(z):(e.consume(z),A)}function P(z){return z===47||z===62||nt(z)?G(z):i(z)}function D(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),n):i(z)}function q(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),U}function U(z){return ze(z)?$e(e,Z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):Z(z)}function Z(z){return e.enter("htmlTextData"),c(z)}}const bp={name:"labelEnd",resolveAll:fR,resolveTo:hR,tokenize:pR},cR={tokenize:mR},uR={tokenize:gR},dR={tokenize:yR};function fR(e){let n=-1;const i=[];for(;++n<e.length;){const a=e[n][1];if(i.push(e[n]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const l=a.type==="labelImage"?4:2;a.type="data",n+=l}}return e.length!==i.length&&fn(e,0,e.length,i),e}function hR(e,n){let i=e.length,a=0,l,s,c,f;for(;i--;)if(l=e[i][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=i,l.type!=="labelLink")){a=2;break}}else l.type==="labelEnd"&&(c=i);const p={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[c][1].end}},m={type:"labelText",start:{...e[s+a+2][1].end},end:{...e[c-2][1].start}};return f=[["enter",p,n],["enter",h,n]],f=Sn(f,e.slice(s+1,s+a+3)),f=Sn(f,[["enter",m,n]]),f=Sn(f,fu(n.parser.constructs.insideSpan.null,e.slice(s+a+4,c-3),n)),f=Sn(f,[["exit",m,n],e[c-2],e[c-1],["exit",h,n]]),f=Sn(f,e.slice(c+1)),f=Sn(f,[["exit",p,n]]),fn(e,s,e.length,f),e}function pR(e,n,i){const a=this;let l=a.events.length,s,c;for(;l--;)if((a.events[l][1].type==="labelImage"||a.events[l][1].type==="labelLink")&&!a.events[l][1]._balanced){s=a.events[l][1];break}return f;function f(v){return s?s._inactive?g(v):(c=a.parser.defined.includes(Rn(a.sliceSerialize({start:s.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),p):i(v)}function p(v){return v===40?e.attempt(cR,m,c?m:g)(v):v===91?e.attempt(uR,m,c?h:g)(v):c?m(v):g(v)}function h(v){return e.attempt(dR,m,g)(v)}function m(v){return n(v)}function g(v){return s._balanced=!0,i(v)}}function mR(e,n,i){return a;function a(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),l}function l(g){return nt(g)?cl(e,s)(g):s(g)}function s(g){return g===41?m(g):$w(e,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function c(g){return nt(g)?cl(e,p)(g):m(g)}function f(g){return i(g)}function p(g){return g===34||g===39||g===40?qw(e,h,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function h(g){return nt(g)?cl(e,m)(g):m(g)}function m(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):i(g)}}function gR(e,n,i){const a=this;return l;function l(f){return Uw.call(a,e,s,c,"reference","referenceMarker","referenceString")(f)}function s(f){return a.parser.defined.includes(Rn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?n(f):i(f)}function c(f){return i(f)}}function yR(e,n,i){return a;function a(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),l}function l(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),n):i(s)}}const xR={name:"labelStartImage",resolveAll:bp.resolveAll,tokenize:vR};function vR(e,n,i){const a=this;return l;function l(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),s}function s(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),c):i(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(f):n(f)}}const bR={name:"labelStartLink",resolveAll:bp.resolveAll,tokenize:wR};function wR(e,n,i){const a=this;return l;function l(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(c):n(c)}}const eh={name:"lineEnding",tokenize:SR};function SR(e,n){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),$e(e,n,"linePrefix")}}const Ac={name:"thematicBreak",tokenize:NR};function NR(e,n,i){let a=0,l;return s;function s(h){return e.enter("thematicBreak"),c(h)}function c(h){return l=h,f(h)}function f(h){return h===l?(e.enter("thematicBreakSequence"),p(h)):a>=3&&(h===null||we(h))?(e.exit("thematicBreak"),n(h)):i(h)}function p(h){return h===l?(e.consume(h),a++,p):(e.exit("thematicBreakSequence"),ze(h)?$e(e,f,"whitespace")(h):f(h))}}const Zt={continuation:{tokenize:kR},exit:AR,name:"list",tokenize:CR},ER={partial:!0,tokenize:MR},jR={partial:!0,tokenize:TR};function CR(e,n,i){const a=this,l=a.events[a.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return f;function f(b){const w=a.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||b===a.containerState.marker:Bh(b)){if(a.containerState.type||(a.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(Ac,i,h)(b):h(b);if(!a.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(b)}return i(b)}function p(b){return Bh(b)&&++c<10?(e.consume(b),p):(!a.interrupt||c<2)&&(a.containerState.marker?b===a.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),h(b)):i(b)}function h(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||b,e.check(Ol,a.interrupt?i:m,e.attempt(ER,v,g))}function m(b){return a.containerState.initialBlankLine=!0,s++,v(b)}function g(b){return ze(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):i(b)}function v(b){return a.containerState.size=s+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(b)}}function kR(e,n,i){const a=this;return a.containerState._closeFlow=void 0,e.check(Ol,l,s);function l(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,$e(e,n,"listItemIndent",a.containerState.size+1)(f)}function s(f){return a.containerState.furtherBlankLines||!ze(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(jR,n,c)(f))}function c(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,$e(e,e.attempt(Zt,n,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function TR(e,n,i){const a=this;return $e(e,l,"listItemIndent",a.containerState.size+1);function l(s){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?n(s):i(s)}}function AR(e){e.exit(this.containerState.type)}function MR(e,n,i){const a=this;return $e(e,l,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const c=a.events[a.events.length-1];return!ze(s)&&c&&c[1].type==="listItemPrefixWhitespace"?n(s):i(s)}}const Jv={name:"setextUnderline",resolveTo:DR,tokenize:_R};function DR(e,n){let i=e.length,a,l,s;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){a=i;break}e[i][1].type==="paragraph"&&(l=i)}else e[i][1].type==="content"&&e.splice(i,1),!s&&e[i][1].type==="definition"&&(s=i);const c={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",s?(e.splice(l,0,["enter",c,n]),e.splice(s+1,0,["exit",e[a][1],n]),e[a][1].end={...e[s][1].end}):e[a][1]=c,e.push(["exit",c,n]),e}function _R(e,n,i){const a=this;let l;return s;function s(h){let m=a.events.length,g;for(;m--;)if(a.events[m][1].type!=="lineEnding"&&a.events[m][1].type!=="linePrefix"&&a.events[m][1].type!=="content"){g=a.events[m][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||g)?(e.enter("setextHeadingLine"),l=h,c(h)):i(h)}function c(h){return e.enter("setextHeadingLineSequence"),f(h)}function f(h){return h===l?(e.consume(h),f):(e.exit("setextHeadingLineSequence"),ze(h)?$e(e,p,"lineSuffix")(h):p(h))}function p(h){return h===null||we(h)?(e.exit("setextHeadingLine"),n(h)):i(h)}}const OR={tokenize:RR};function RR(e){const n=this,i=e.attempt(Ol,a,e.attempt(this.parser.constructs.flowInitial,l,$e(e,e.attempt(this.parser.constructs.flow,l,e.attempt(HO,l)),"linePrefix")));return i;function a(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),n.currentConstruct=void 0,i}function l(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n.currentConstruct=void 0,i}}const zR={resolveAll:Fw()},LR=Vw("string"),IR=Vw("text");function Vw(e){return{resolveAll:Fw(e==="text"?BR:void 0),tokenize:n};function n(i){const a=this,l=this.parser.constructs[e],s=i.attempt(l,c,f);return c;function c(m){return h(m)?s(m):f(m)}function f(m){if(m===null){i.consume(m);return}return i.enter("data"),i.consume(m),p}function p(m){return h(m)?(i.exit("data"),s(m)):(i.consume(m),p)}function h(m){if(m===null)return!0;const g=l[m];let v=-1;if(g)for(;++v<g.length;){const b=g[v];if(!b.previous||b.previous.call(a,a.previous))return!0}return!1}}}function Fw(e){return n;function n(i,a){let l=-1,s;for(;++l<=i.length;)s===void 0?i[l]&&i[l][1].type==="data"&&(s=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==s+2&&(i[s][1].end=i[l-1][1].end,i.splice(s+2,l-s-2),l=s+2),s=void 0);return e?e(i,a):i}}function BR(e,n){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const a=e[i-1][1],l=n.sliceStream(a);let s=l.length,c=-1,f=0,p;for(;s--;){const h=l[s];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(h===-2)p=!0,f++;else if(h!==-1){s++;break}}if(n._contentTypeTextTrailing&&i===e.length&&(f=0),f){const h={type:i===e.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:a.start._bufferIndex+c,_index:a.start._index+s,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...h.start},a.start.offset===a.end.offset?Object.assign(a,h):(e.splice(i,0,["enter",h,n],["exit",h,n]),i+=2)}i++}return e}const HR={42:Zt,43:Zt,45:Zt,48:Zt,49:Zt,50:Zt,51:Zt,52:Zt,53:Zt,54:Zt,55:Zt,56:Zt,57:Zt,62:Iw},PR={91:VO},$R={[-2]:Jf,[-1]:Jf,32:Jf},UR={35:ZO,42:Ac,45:[Jv,Ac],60:eR,61:Jv,95:Ac,96:Wv,126:Wv},qR={38:Hw,92:Bw},VR={[-5]:eh,[-4]:eh,[-3]:eh,33:xR,38:Hw,42:Hh,60:[bO,lR],91:bR,92:[XO,Bw],93:bp,95:Hh,96:OO},FR={null:[Hh,zR]},GR={null:[42,95]},YR={null:[]},XR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:GR,contentInitial:PR,disable:YR,document:HR,flow:UR,flowInitial:$R,insideSpan:FR,string:qR,text:VR},Symbol.toStringTag,{value:"Module"}));function QR(e,n,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},s=[];let c=[],f=[];const p={attempt:O(H),check:O(M),consume:k,enter:j,exit:_,interrupt:O(M,{interrupt:!0})},h={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:g};let m=n.tokenize.call(h,p);return n.resolveAll&&s.push(n),h;function g($){return c=Sn(c,$),C(),c[c.length-1]!==null?[]:(V(n,0),h.events=fu(s,h.events,h),h.events)}function v($,F){return WR(b($),F)}function b($){return ZR(c,$)}function w(){const{_bufferIndex:$,_index:F,line:ee,column:A,offset:P}=a;return{_bufferIndex:$,_index:F,line:ee,column:A,offset:P}}function S($){l[$.line]=$.column,I()}function C(){let $;for(;a._index<c.length;){const F=c[a._index];if(typeof F=="string")for($=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===$&&a._bufferIndex<F.length;)N(F.charCodeAt(a._bufferIndex));else N(F)}}function N($){m=m($)}function k($){we($)?(a.line++,a.column=1,a.offset+=$===-3?2:1,I()):$!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),h.previous=$}function j($,F){const ee=F||{};return ee.type=$,ee.start=w(),h.events.push(["enter",ee,h]),f.push(ee),ee}function _($){const F=f.pop();return F.end=w(),h.events.push(["exit",F,h]),F}function H($,F){V($,F.from)}function M($,F){F.restore()}function O($,F){return ee;function ee(A,P,D){let q,U,Z,z;return Array.isArray(A)?Y(A):"tokenize"in A?Y([A]):B(A);function B(re){return de;function de(oe){const fe=oe!==null&&re[oe],xe=oe!==null&&re.null,je=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return Y(je)(oe)}}function Y(re){return q=re,U=0,re.length===0?D:L(re[U])}function L(re){return de;function de(oe){return z=G(),Z=re,re.partial||(h.currentConstruct=re),re.name&&h.parser.constructs.disable.null.includes(re.name)?te():re.tokenize.call(F?Object.assign(Object.create(h),F):h,p,ie,te)(oe)}}function ie(re){return $(Z,z),P}function te(re){return z.restore(),++U<q.length?L(q[U]):D}}}function V($,F){$.resolveAll&&!s.includes($)&&s.push($),$.resolve&&fn(h.events,F,h.events.length-F,$.resolve(h.events.slice(F),h)),$.resolveTo&&(h.events=$.resolveTo(h.events,h))}function G(){const $=w(),F=h.previous,ee=h.currentConstruct,A=h.events.length,P=Array.from(f);return{from:A,restore:D};function D(){a=$,h.previous=F,h.currentConstruct=ee,h.events.length=A,f=P,I()}}function I(){a.line in l&&a.column<2&&(a.column=l[a.line],a.offset+=l[a.line]-1)}}function ZR(e,n){const i=n.start._index,a=n.start._bufferIndex,l=n.end._index,s=n.end._bufferIndex;let c;if(i===l)c=[e[i].slice(a,s)];else{if(c=e.slice(i,l),a>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(a):c.shift()}s>0&&c.push(e[l].slice(0,s))}return c}function WR(e,n){let i=-1;const a=[];let l;for(;++i<e.length;){const s=e[i];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=n?" ":"	";break}case-1:{if(!n&&l)continue;c=" ";break}default:c=String.fromCharCode(s)}l=s===-2,a.push(c)}return a.join("")}function KR(e){const a={constructs:zw([XR,...(e||{}).extensions||[]]),content:l(hO),defined:[],document:l(mO),flow:l(OR),lazy:{},string:l(LR),text:l(IR)};return a;function l(s){return c;function c(f){return QR(a,s,f)}}}function JR(e){for(;!Pw(e););return e}const e0=/[\0\t\n\r]/g;function e3(){let e=1,n="",i=!0,a;return l;function l(s,c,f){const p=[];let h,m,g,v,b;for(s=n+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),g=0,n="",i&&(s.charCodeAt(0)===65279&&g++,i=void 0);g<s.length;){if(e0.lastIndex=g,h=e0.exec(s),v=h&&h.index!==void 0?h.index:s.length,b=s.charCodeAt(v),!h){n=s.slice(g);break}if(b===10&&g===v&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),g<v&&(p.push(s.slice(g,v)),e+=v-g),b){case 0:{p.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,p.push(-2);e++<m;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:a=!0,e=1}g=v+1}return f&&(a&&p.push(-5),n&&p.push(n),p.push(null)),p}}const t3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function n3(e){return e.replace(t3,i3)}function i3(e,n,i){if(n)return n;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),s=l===120||l===88;return Lw(i.slice(s?2:1),s?16:10)}return vp(i)||e}const Gw={}.hasOwnProperty;function r3(e,n,i){return typeof n!="string"&&(i=n,n=void 0),a3(i)(JR(KR(i).document().write(e3()(e,n,!0))))}function a3(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_t),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(Ue),blockQuote:s(xe),characterEscape:G,characterReference:G,codeFenced:s(je),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(je,c),codeText:s(ve,c),codeTextData:G,data:G,codeFlowValue:G,definition:s(Ee),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(De),hardBreakEscape:s(qe),hardBreakTrailing:s(qe),htmlFlow:s(ft,c),htmlFlowData:G,htmlText:s(ft,c),htmlTextData:G,image:s(Jt),label:c,link:s(_t),listItem:s(En),listItemValue:v,listOrdered:s($t,g),listUnordered:s($t),paragraph:s(Qn),reference:L,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Ue),strong:s(Zn),thematicBreak:s(Ei)},exit:{atxHeading:p(),atxHeadingSequence:H,autolink:p(),autolinkEmail:fe,autolinkProtocol:oe,blockQuote:p(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:re,characterReference:de,codeFenced:p(C),codeFencedFence:S,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:I,codeIndented:p(N),codeText:p(P),codeTextData:I,data:I,definition:p(),definitionDestinationString:_,definitionLabelString:k,definitionTitleString:j,emphasis:p(),hardBreakEscape:p(F),hardBreakTrailing:p(F),htmlFlow:p(ee),htmlFlowData:I,htmlText:p(A),htmlTextData:I,image:p(q),label:Z,labelText:U,lineEnding:$,link:p(D),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ie,resourceDestinationString:z,resourceTitleString:B,resource:Y,setextHeading:p(V),setextHeadingLineSequence:O,setextHeadingText:M,strong:p(),thematicBreak:p()}};Yw(n,(e||{}).mdastExtensions||[]);const i={};return a;function a(le){let pe={type:"root",children:[]};const Se={stack:[pe],tokenStack:[],config:n,enter:f,exit:h,buffer:c,resume:m,data:i},_e=[];let Pe=-1;for(;++Pe<le.length;)if(le[Pe][1].type==="listOrdered"||le[Pe][1].type==="listUnordered")if(le[Pe][0]==="enter")_e.push(Pe);else{const Bt=_e.pop();Pe=l(le,Bt,Pe)}for(Pe=-1;++Pe<le.length;){const Bt=n[le[Pe][0]];Gw.call(Bt,le[Pe][1].type)&&Bt[le[Pe][1].type].call(Object.assign({sliceSerialize:le[Pe][2].sliceSerialize},Se),le[Pe][1])}if(Se.tokenStack.length>0){const Bt=Se.tokenStack[Se.tokenStack.length-1];(Bt[1]||t0).call(Se,void 0,Bt[0])}for(pe.position={start:nr(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:nr(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<n.transforms.length;)pe=n.transforms[Pe](pe)||pe;return pe}function l(le,pe,Se){let _e=pe-1,Pe=-1,Bt=!1,jn,kt,ht,Ot;for(;++_e<=Se;){const Xe=le[_e];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?Pe++:Pe--,Ot=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(jn&&!Ot&&!Pe&&!ht&&(ht=_e),Ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ot=void 0}if(!Pe&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||Pe===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(jn){let In=_e;for(kt=void 0;In--;){const en=le[In];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;kt&&(le[kt][1].type="lineEndingBlank",Bt=!0),en[1].type="lineEnding",kt=In}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}ht&&(!kt||ht<kt)&&(jn._spread=!0),jn.end=Object.assign({},kt?le[kt][1].start:Xe[1].end),le.splice(kt||_e,0,["exit",jn,Xe[2]]),_e++,Se++}if(Xe[1].type==="listItemPrefix"){const In={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};jn=In,le.splice(_e,0,["enter",In,Xe[2]]),_e++,Se++,ht=void 0,Ot=!0}}}return le[pe][1]._spread=Bt,Se}function s(le,pe){return Se;function Se(_e){f.call(this,le(_e),_e),pe&&pe.call(this,_e)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(le,pe,Se){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([pe,Se||void 0]),le.position={start:nr(pe.start),end:void 0}}function p(le){return pe;function pe(Se){le&&le.call(this,Se),h.call(this,Se)}}function h(le,pe){const Se=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==le.type&&(pe?pe.call(this,le,_e[0]):(_e[1]||t0).call(this,le,_e[0]));else throw new Error("Cannot close `"+le.type+"` ("+sl({start:le.start,end:le.end})+"): its not open");Se.position.end=nr(le.end)}function m(){return xp(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(le){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function b(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=le}function w(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=le}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le.replace(/(\r?\n|\r)$/g,"")}function k(le){const pe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=pe,Se.identifier=Rn(this.sliceSerialize(le)).toLowerCase()}function j(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.title=le}function _(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.url=le}function H(le){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Se=this.sliceSerialize(le).length;pe.depth=Se}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function O(le){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function G(le){const Se=this.stack[this.stack.length-1].children;let _e=Se[Se.length-1];(!_e||_e.type!=="text")&&(_e=Nt(),_e.position={start:nr(le.start),end:void 0},Se.push(_e)),this.stack.push(_e)}function I(le){const pe=this.stack.pop();pe.value+=this.sliceSerialize(le),pe.position.end=nr(le.end)}function $(le){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=pe.children[pe.children.length-1];Se.position.end=nr(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(pe.type)&&(G.call(this,le),I.call(this,le))}function F(){this.data.atHardBreak=!0}function ee(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function A(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function P(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function D(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=pe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function q(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=pe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function U(le){const pe=this.sliceSerialize(le),Se=this.stack[this.stack.length-2];Se.label=n3(pe),Se.identifier=Rn(pe).toLowerCase()}function Z(){const le=this.stack[this.stack.length-1],pe=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const _e=le.children;Se.children=_e}else Se.alt=pe}function z(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.url=le}function B(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.title=le}function Y(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ie(le){const pe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=pe,Se.identifier=Rn(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function te(le){this.data.characterReferenceType=le.type}function re(le){const pe=this.sliceSerialize(le),Se=this.data.characterReferenceType;let _e;Se?(_e=Lw(pe,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=vp(pe);const Pe=this.stack[this.stack.length-1];Pe.value+=_e}function de(le){const pe=this.stack.pop();pe.position.end=nr(le.end)}function oe(le){I.call(this,le);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(le)}function fe(le){I.call(this,le);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(le)}function xe(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function Ee(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function Ue(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function ft(){return{type:"html",value:""}}function Jt(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function $t(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function En(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Qn(){return{type:"paragraph",children:[]}}function Zn(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Ei(){return{type:"thematicBreak"}}}function nr(e){return{line:e.line,column:e.column,offset:e.offset}}function Yw(e,n){let i=-1;for(;++i<n.length;){const a=n[i];Array.isArray(a)?Yw(e,a):o3(e,a)}}function o3(e,n){let i;for(i in n)if(Gw.call(n,i))switch(i){case"canContainEols":{const a=n[i];a&&e[i].push(...a);break}case"transforms":{const a=n[i];a&&e[i].push(...a);break}case"enter":case"exit":{const a=n[i];a&&Object.assign(e[i],a);break}}}function t0(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+sl({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is still open")}function l3(e){const n=this;n.parser=i;function i(a){return r3(a,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function s3(e,n){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,i),e.applyData(n,i)}function c3(e,n){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,i),[e.applyData(n,i),{type:"text",value:`
`}]}function u3(e,n){const i=n.value?n.value+`
`:"",a={},l=n.lang?n.lang.split(/\s+/):[];l.length>0&&(a.className=["language-"+l[0]]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function d3(e,n){const i={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function f3(e,n){const i={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function h3(e,n){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(n.identifier).toUpperCase(),l=Za(a.toLowerCase()),s=e.footnoteOrder.indexOf(a);let c,f=e.footnoteCounts.get(a);f===void 0?(f=0,e.footnoteOrder.push(a),c=e.footnoteOrder.length):c=s+1,f+=1,e.footnoteCounts.set(a,f);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(n,p);const h={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(n,h),e.applyData(n,h)}function p3(e,n){const i={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function m3(e,n){if(e.options.allowDangerousHtml){const i={type:"raw",value:n.value};return e.patch(n,i),e.applyData(n,i)}}function Xw(e,n){const i=n.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+a}];const l=e.all(n),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=a:l.push({type:"text",value:a}),l}function g3(e,n){const i=String(n.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Xw(e,n);const l={src:Za(a.url||""),alt:n.alt};a.title!==null&&a.title!==void 0&&(l.title=a.title);const s={type:"element",tagName:"img",properties:l,children:[]};return e.patch(n,s),e.applyData(n,s)}function y3(e,n){const i={src:Za(n.url)};n.alt!==null&&n.alt!==void 0&&(i.alt=n.alt),n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,a),e.applyData(n,a)}function x3(e,n){const i={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(n,a),e.applyData(n,a)}function v3(e,n){const i=String(n.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Xw(e,n);const l={href:Za(a.url||"")};a.title!==null&&a.title!==void 0&&(l.title=a.title);const s={type:"element",tagName:"a",properties:l,children:e.all(n)};return e.patch(n,s),e.applyData(n,s)}function b3(e,n){const i={href:Za(n.url)};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function w3(e,n,i){const a=e.all(n),l=i?S3(i):Qw(n),s={},c=[];if(typeof n.checked=="boolean"){const m=a[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},a.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const m=a[f];(l||f!==0||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!l?c.push(...m.children):c.push(m)}const p=a[a.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:c};return e.patch(n,h),e.applyData(n,h)}function S3(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const i=e.children;let a=-1;for(;!n&&++a<i.length;)n=Qw(i[a])}return n}function Qw(e){const n=e.spread;return n??e.children.length>1}function N3(e,n){const i={},a=e.all(n);let l=-1;for(typeof n.start=="number"&&n.start!==1&&(i.start=n.start);++l<a.length;){const c=a[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:n.ordered?"ol":"ul",properties:i,children:e.wrap(a,!0)};return e.patch(n,s),e.applyData(n,s)}function E3(e,n){const i={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function j3(e,n){const i={type:"root",children:e.wrap(e.all(n))};return e.patch(n,i),e.applyData(n,i)}function C3(e,n){const i={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function k3(e,n){const i=e.all(n),a=i.shift(),l=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(n.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},f=pp(n.children[1]),p=Tw(n.children[n.children.length-1]);f&&p&&(c.position={start:f,end:p}),l.push(c)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(n,s),e.applyData(n,s)}function T3(e,n,i){const a=i?i.children:void 0,s=(a?a.indexOf(n):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,f=c?c.length:n.children.length;let p=-1;const h=[];for(;++p<f;){const g=n.children[p],v={},b=c?c[p]:void 0;b&&(v.align=b);let w={type:"element",tagName:s,properties:v,children:[]};g&&(w.children=e.all(g),e.patch(g,w),w=e.applyData(g,w)),h.push(w)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(n,m),e.applyData(n,m)}function A3(e,n){const i={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}const n0=9,i0=32;function M3(e){const n=String(e),i=/\r?\n|\r/g;let a=i.exec(n),l=0;const s=[];for(;a;)s.push(r0(n.slice(l,a.index),l>0,!0),a[0]),l=a.index+a[0].length,a=i.exec(n);return s.push(r0(n.slice(l),l>0,!1)),s.join("")}function r0(e,n,i){let a=0,l=e.length;if(n){let s=e.codePointAt(a);for(;s===n0||s===i0;)a++,s=e.codePointAt(a)}if(i){let s=e.codePointAt(l-1);for(;s===n0||s===i0;)l--,s=e.codePointAt(l-1)}return l>a?e.slice(a,l):""}function D3(e,n){const i={type:"text",value:M3(String(n.value))};return e.patch(n,i),e.applyData(n,i)}function _3(e,n){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,i),e.applyData(n,i)}const O3={blockquote:s3,break:c3,code:u3,delete:d3,emphasis:f3,footnoteReference:h3,heading:p3,html:m3,imageReference:g3,image:y3,inlineCode:x3,linkReference:v3,link:b3,listItem:w3,list:N3,paragraph:E3,root:j3,strong:C3,table:k3,tableCell:A3,tableRow:T3,text:D3,thematicBreak:_3,toml:yc,yaml:yc,definition:yc,footnoteDefinition:yc};function yc(){}const Zw=-1,hu=0,ul=1,Gc=2,wp=3,Sp=4,Np=5,Ep=6,Ww=7,Kw=8,a0=typeof self=="object"?self:globalThis,R3=(e,n)=>{const i=(l,s)=>(e.set(s,l),l),a=l=>{if(e.has(l))return e.get(l);const[s,c]=n[l];switch(s){case hu:case Zw:return i(c,l);case ul:{const f=i([],l);for(const p of c)f.push(a(p));return f}case Gc:{const f=i({},l);for(const[p,h]of c)f[a(p)]=a(h);return f}case wp:return i(new Date(c),l);case Sp:{const{source:f,flags:p}=c;return i(new RegExp(f,p),l)}case Np:{const f=i(new Map,l);for(const[p,h]of c)f.set(a(p),a(h));return f}case Ep:{const f=i(new Set,l);for(const p of c)f.add(a(p));return f}case Ww:{const{name:f,message:p}=c;return i(new a0[f](p),l)}case Kw:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return i(new DataView(f),c)}}return i(new a0[s](c),l)};return a},o0=e=>R3(new Map,e)(0),Ma="",{toString:z3}={},{keys:L3}=Object,Jo=e=>{const n=typeof e;if(n!=="object"||!e)return[hu,n];const i=z3.call(e).slice(8,-1);switch(i){case"Array":return[ul,Ma];case"Object":return[Gc,Ma];case"Date":return[wp,Ma];case"RegExp":return[Sp,Ma];case"Map":return[Np,Ma];case"Set":return[Ep,Ma];case"DataView":return[ul,i]}return i.includes("Array")?[ul,i]:i.includes("Error")?[Ww,i]:[Gc,i]},xc=([e,n])=>e===hu&&(n==="function"||n==="symbol"),I3=(e,n,i,a)=>{const l=(c,f)=>{const p=a.push(c)-1;return i.set(f,p),p},s=c=>{if(i.has(c))return i.get(c);let[f,p]=Jo(c);switch(f){case hu:{let m=c;switch(p){case"bigint":f=Kw,m=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);m=null;break;case"undefined":return l([Zw],c)}return l([f,m],c)}case ul:{if(p){let v=c;return p==="DataView"?v=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(v=new Uint8Array(c)),l([p,[...v]],c)}const m=[],g=l([f,m],c);for(const v of c)m.push(s(v));return g}case Gc:{if(p)switch(p){case"BigInt":return l([p,c.toString()],c);case"Boolean":case"Number":case"String":return l([p,c.valueOf()],c)}if(n&&"toJSON"in c)return s(c.toJSON());const m=[],g=l([f,m],c);for(const v of L3(c))(e||!xc(Jo(c[v])))&&m.push([s(v),s(c[v])]);return g}case wp:return l([f,c.toISOString()],c);case Sp:{const{source:m,flags:g}=c;return l([f,{source:m,flags:g}],c)}case Np:{const m=[],g=l([f,m],c);for(const[v,b]of c)(e||!(xc(Jo(v))||xc(Jo(b))))&&m.push([s(v),s(b)]);return g}case Ep:{const m=[],g=l([f,m],c);for(const v of c)(e||!xc(Jo(v)))&&m.push(s(v));return g}}const{message:h}=c;return l([f,{name:p,message:h}],c)};return s},l0=(e,{json:n,lossy:i}={})=>{const a=[];return I3(!(n||i),!!n,new Map,a)(e),a},Yc=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?o0(l0(e,n)):structuredClone(e):(e,n)=>o0(l0(e,n));function B3(e,n){const i=[{type:"text",value:""}];return n>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),i}function H3(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function P3(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||B3,a=e.options.footnoteBackLabel||H3,l=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[p]);if(!h)continue;const m=e.all(h),g=String(h.identifier).toUpperCase(),v=Za(g.toLowerCase());let b=0;const w=[],S=e.footnoteCounts.get(g);for(;S!==void 0&&++b<=S;){w.length>0&&w.push({type:"text",value:" "});let k=typeof i=="string"?i:i(p,b);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(p,b),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const C=m[m.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const k=C.children[C.children.length-1];k&&k.type==="text"?k.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else m.push(...w);const N={type:"element",tagName:"li",properties:{id:n+"fn-"+v},children:e.wrap(m,!0)};e.patch(h,N),f.push(N)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Yc(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const pu=(function(e){if(e==null)return V3;if(typeof e=="function")return mu(e);if(typeof e=="object")return Array.isArray(e)?$3(e):U3(e);if(typeof e=="string")return q3(e);throw new Error("Expected function, string, or object as test")});function $3(e){const n=[];let i=-1;for(;++i<e.length;)n[i]=pu(e[i]);return mu(a);function a(...l){let s=-1;for(;++s<n.length;)if(n[s].apply(this,l))return!0;return!1}}function U3(e){const n=e;return mu(i);function i(a){const l=a;let s;for(s in e)if(l[s]!==n[s])return!1;return!0}}function q3(e){return mu(n);function n(i){return i&&i.type===e}}function mu(e){return n;function n(i,a,l){return!!(F3(i)&&e.call(this,i,typeof a=="number"?a:void 0,l||void 0))}}function V3(){return!0}function F3(e){return e!==null&&typeof e=="object"&&"type"in e}const Jw=[],G3=!0,Ph=!1,Y3="skip";function e1(e,n,i,a){let l;typeof n=="function"&&typeof i!="function"?(a=i,i=n):l=n;const s=pu(l),c=a?-1:1;f(e,void 0,[])();function f(p,h,m){const g=p&&typeof p=="object"?p:{};if(typeof g.type=="string"){const b=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=Jw,w,S,C;if((!n||s(p,h,m[m.length-1]||void 0))&&(b=X3(i(p,m)),b[0]===Ph))return b;if("children"in p&&p.children){const N=p;if(N.children&&b[0]!==Y3)for(S=(a?N.children.length:-1)+c,C=m.concat(N);S>-1&&S<N.children.length;){const k=N.children[S];if(w=f(k,S,C)(),w[0]===Ph)return w;S=typeof w[1]=="number"?w[1]:S+c}}return b}}}function X3(e){return Array.isArray(e)?e:typeof e=="number"?[G3,e]:e==null?Jw:[e]}function jp(e,n,i,a){let l,s,c;typeof n=="function"&&typeof i!="function"?(s=void 0,c=n,l=i):(s=n,c=i,l=a),e1(e,s,f,l);function f(p,h){const m=h[h.length-1],g=m?m.children.indexOf(p):void 0;return c(p,g,m)}}const $h={}.hasOwnProperty,Q3={};function Z3(e,n){const i=n||Q3,a=new Map,l=new Map,s=new Map,c={...O3,...i.handlers},f={all:h,applyData:K3,definitionById:a,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:c,one:p,options:i,patch:W3,wrap:ez};return jp(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?a:l,v=String(m.identifier).toUpperCase();g.has(v)||g.set(v,m)}}),f;function p(m,g){const v=m.type,b=f.handlers[v];if($h.call(f.handlers,v)&&b)return b(f,m,g);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in m){const{children:S,...C}=m,N=Yc(C);return N.children=f.all(m),N}return Yc(m)}return(f.options.unknownHandler||J3)(f,m,g)}function h(m){const g=[];if("children"in m){const v=m.children;let b=-1;for(;++b<v.length;){const w=f.one(v[b],m);if(w){if(b&&v[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=s0(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=s0(S.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function W3(e,n){e.position&&(n.position=H_(e))}function K3(e,n){let i=n;if(e&&e.data){const a=e.data.hName,l=e.data.hChildren,s=e.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const c="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:c}}i.type==="element"&&s&&Object.assign(i.properties,Yc(s)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function J3(e,n){const i=n.data||{},a="value"in n&&!($h.call(i,"hProperties")||$h.call(i,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function ez(e,n){const i=[];let a=-1;for(n&&i.push({type:"text",value:`
`});++a<e.length;)a&&i.push({type:"text",value:`
`}),i.push(e[a]);return n&&e.length>0&&i.push({type:"text",value:`
`}),i}function s0(e){let n=0,i=e.charCodeAt(n);for(;i===9||i===32;)n++,i=e.charCodeAt(n);return e.slice(n)}function c0(e,n){const i=Z3(e,n),a=i.one(e,void 0),l=P3(i),s=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function tz(e,n){return e&&"run"in e?async function(i,a){const l=c0(i,{file:a,...n});await e.run(l,a)}:function(i,a){return c0(i,{file:a,...e||n})}}function u0(e){if(e)throw e}var th,d0;function nz(){if(d0)return th;d0=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):n.call(h)==="[object Array]"},s=function(h){if(!h||n.call(h)!=="[object Object]")return!1;var m=e.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!g)return!1;var v;for(v in h);return typeof v>"u"||e.call(h,v)},c=function(h,m){i&&m.name==="__proto__"?i(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},f=function(h,m){if(m==="__proto__")if(e.call(h,m)){if(a)return a(h,m).value}else return;return h[m]};return th=function p(){var h,m,g,v,b,w,S=arguments[0],C=1,N=arguments.length,k=!1;for(typeof S=="boolean"&&(k=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<N;++C)if(h=arguments[C],h!=null)for(m in h)g=f(S,m),v=f(h,m),S!==v&&(k&&v&&(s(v)||(b=l(v)))?(b?(b=!1,w=g&&l(g)?g:[]):w=g&&s(g)?g:{},c(S,{name:m,newValue:p(k,w,v)})):typeof v<"u"&&c(S,{name:m,newValue:v}));return S},th}var iz=nz();const nh=Zc(iz);function Uh(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rz(){const e=[],n={run:i,use:a};return n;function i(...l){let s=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...l);function f(p,...h){const m=e[++s];let g=-1;if(p){c(p);return}for(;++g<l.length;)(h[g]===null||h[g]===void 0)&&(h[g]=l[g]);l=h,m?az(m,f)(...h):c(null,...h)}}function a(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),n}}function az(e,n){let i;return a;function a(...c){const f=e.length>c.length;let p;f&&c.push(l);try{p=e.apply(this,c)}catch(h){const m=h;if(f&&i)throw m;return l(m)}f||(p&&p.then&&typeof p.then=="function"?p.then(s,l):p instanceof Error?l(p):s(p))}function l(c,...f){i||(i=!0,n(c,...f))}function s(c){l(null,c)}}const qn={basename:oz,dirname:lz,extname:sz,join:cz,sep:"/"};function oz(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Rl(e);let i=0,a=-1,l=e.length,s;if(n===void 0||n.length===0||n.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(s){i=l+1;break}}else a<0&&(s=!0,a=l+1);return a<0?"":e.slice(i,a)}if(n===e)return"";let c=-1,f=n.length-1;for(;l--;)if(e.codePointAt(l)===47){if(s){i=l+1;break}}else c<0&&(s=!0,c=l+1),f>-1&&(e.codePointAt(l)===n.codePointAt(f--)?f<0&&(a=l):(f=-1,a=c));return i===a?a=c:a<0&&(a=e.length),e.slice(i,a)}function lz(e){if(Rl(e),e.length===0)return".";let n=-1,i=e.length,a;for(;--i;)if(e.codePointAt(i)===47){if(a){n=i;break}}else a||(a=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function sz(e){Rl(e);let n=e.length,i=-1,a=0,l=-1,s=0,c;for(;n--;){const f=e.codePointAt(n);if(f===47){if(c){a=n+1;break}continue}i<0&&(c=!0,i=n+1),f===46?l<0?l=n:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||i<0||s===0||s===1&&l===i-1&&l===a+1?"":e.slice(l,i)}function cz(...e){let n=-1,i;for(;++n<e.length;)Rl(e[n]),e[n]&&(i=i===void 0?e[n]:i+"/"+e[n]);return i===void 0?".":uz(i)}function uz(e){Rl(e);const n=e.codePointAt(0)===47;let i=dz(e,!n);return i.length===0&&!n&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),n?"/"+i:i}function dz(e,n){let i="",a=0,l=-1,s=0,c=-1,f,p;for(;++c<=e.length;){if(c<e.length)f=e.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(l===c-1||s===1))if(l!==c-1&&s===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",a=0):(i=i.slice(0,p),a=i.length-1-i.lastIndexOf("/")),l=c,s=0;continue}}else if(i.length>0){i="",a=0,l=c,s=0;continue}}n&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(l+1,c):i=e.slice(l+1,c),a=c-l-1;l=c,s=0}else f===46&&s>-1?s++:s=-1}return i}function Rl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const fz={cwd:hz};function hz(){return"/"}function qh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pz(e){if(typeof e=="string")e=new URL(e);else if(!qh(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return mz(e)}function mz(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const n=e.pathname;let i=-1;for(;++i<n.length;)if(n.codePointAt(i)===37&&n.codePointAt(i+1)===50){const a=n.codePointAt(i+2);if(a===70||a===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(n)}const ih=["history","path","basename","stem","extname","dirname"];class t1{constructor(n){let i;n?qh(n)?i={path:n}:typeof n=="string"||gz(n)?i={value:n}:i=n:i={},this.cwd="cwd"in i?"":fz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<ih.length;){const s=ih[a];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let l;for(l in i)ih.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?qn.basename(this.path):void 0}set basename(n){ah(n,"basename"),rh(n,"basename"),this.path=qn.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?qn.dirname(this.path):void 0}set dirname(n){f0(this.basename,"dirname"),this.path=qn.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?qn.extname(this.path):void 0}set extname(n){if(rh(n,"extname"),f0(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qn.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){qh(n)&&(n=pz(n)),ah(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?qn.basename(this.path,this.extname):void 0}set stem(n){ah(n,"stem"),rh(n,"stem"),this.path=qn.join(this.dirname||"",n+(this.extname||""))}fail(n,i,a){const l=this.message(n,i,a);throw l.fatal=!0,l}info(n,i,a){const l=this.message(n,i,a);return l.fatal=void 0,l}message(n,i,a){const l=new It(n,i,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function rh(e,n){if(e&&e.includes(qn.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+qn.sep+"`")}function ah(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function f0(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function gz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yz=(function(e){const a=this.constructor.prototype,l=a[e],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,a),s}),xz={}.hasOwnProperty;class Cp extends yz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rz()}copy(){const n=new Cp;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];n.use(...a)}return n.data(nh(!0,{},this.namespace)),n}data(n,i){return typeof n=="string"?arguments.length===2?(sh("data",this.frozen),this.namespace[n]=i,this):xz.call(this.namespace,n)&&this.namespace[n]||void 0:n?(sh("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const l=i.call(n,...a);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const i=vc(n),a=this.parser||this.Parser;return oh("parse",a),a(String(i),i)}process(n,i){const a=this;return this.freeze(),oh("process",this.parser||this.Parser),lh("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(s,c){const f=vc(n),p=a.parse(f);a.run(p,f,function(m,g,v){if(m||!g||!v)return h(m);const b=g,w=a.stringify(b,v);wz(w)?v.value=w:v.result=w,h(m,v)});function h(m,g){m||!g?c(m):s?s(g):i(void 0,g)}}}processSync(n){let i=!1,a;return this.freeze(),oh("processSync",this.parser||this.Parser),lh("processSync",this.compiler||this.Compiler),this.process(n,l),p0("processSync","process",i),a;function l(s,c){i=!0,u0(s),a=c}}run(n,i,a){h0(n),this.freeze();const l=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?s(void 0,a):new Promise(s);function s(c,f){const p=vc(i);l.run(n,p,h);function h(m,g,v){const b=g||n;m?f(m):c?c(b):a(void 0,b,v)}}}runSync(n,i){let a=!1,l;return this.run(n,i,s),p0("runSync","run",a),l;function s(c,f){u0(c),l=f,a=!0}}stringify(n,i){this.freeze();const a=vc(i),l=this.compiler||this.Compiler;return lh("stringify",l),h0(n),l(n,a)}use(n,...i){const a=this.attachers,l=this.namespace;if(sh("use",this.frozen),n!=null)if(typeof n=="function")p(n,i);else if(typeof n=="object")Array.isArray(n)?f(n):c(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function s(h){if(typeof h=="function")p(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...g]=h;p(m,g)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(h.plugins),h.settings&&(l.settings=nh(!0,l.settings,h.settings))}function f(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const g=h[m];s(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function p(h,m){let g=-1,v=-1;for(;++g<a.length;)if(a[g][0]===h){v=g;break}if(v===-1)a.push([h,...m]);else if(m.length>0){let[b,...w]=m;const S=a[v][1];Uh(S)&&Uh(b)&&(b=nh(!0,S,b)),a[v]=[h,b,...w]}}}}const vz=new Cp().freeze();function oh(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function lh(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function sh(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function h0(e){if(!Uh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function p0(e,n,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function vc(e){return bz(e)?e:new t1(e)}function bz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function wz(e){return typeof e=="string"||Sz(e)}function Sz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",m0=[],g0={allowDangerousHtml:!0},Ez=/^(https?|ircs?|mailto|xmpp)$/i,jz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function n1(e){const n=Cz(e),i=kz(e);return Tz(n.runSync(n.parse(i),i),e)}function Cz(e){const n=e.rehypePlugins||m0,i=e.remarkPlugins||m0,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...g0}:g0;return vz().use(l3).use(i).use(tz,a).use(n)}function kz(e){const n=e.children||"",i=new t1;return typeof n=="string"&&(i.value=n),i}function Tz(e,n){const i=n.allowedElements,a=n.allowElement,l=n.components,s=n.disallowedElements,c=n.skipHtml,f=n.unwrapDisallowed,p=n.urlTransform||Az;for(const m of jz)Object.hasOwn(n,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Nz+m.id,void 0);return jp(e,h),V_(e,{Fragment:d.Fragment,components:l,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function h(m,g,v){if(m.type==="raw"&&v&&typeof g=="number")return c?v.children.splice(g,1):v.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let b;for(b in Kf)if(Object.hasOwn(Kf,b)&&Object.hasOwn(m.properties,b)){const w=m.properties[b],S=Kf[b];(S===null||S.includes(m.tagName))&&(m.properties[b]=p(String(w||""),b,m))}}if(m.type==="element"){let b=i?!i.includes(m.tagName):s?s.includes(m.tagName):!1;if(!b&&a&&typeof g=="number"&&(b=!a(m,g,v)),b&&v&&typeof g=="number")return f&&m.children?v.children.splice(g,1,...m.children):v.children.splice(g,1),g}}}function Az(e){const n=e.indexOf(":"),i=e.indexOf("?"),a=e.indexOf("#"),l=e.indexOf("/");return n===-1||l!==-1&&n>l||i!==-1&&n>i||a!==-1&&n>a||Ez.test(e.slice(0,n))?e:""}function y0(e,n){const i=String(e);if(typeof n!="string")throw new TypeError("Expected character");let a=0,l=i.indexOf(n);for(;l!==-1;)a++,l=i.indexOf(n,l+n.length);return a}function Mz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Dz(e,n,i){const l=pu((i||{}).ignore||[]),s=_z(n);let c=-1;for(;++c<s.length;)e1(e,"text",f);function f(h,m){let g=-1,v;for(;++g<m.length;){const b=m[g],w=v?v.children:void 0;if(l(b,w?w.indexOf(b):void 0,v))return;v=b}if(v)return p(h,m)}function p(h,m){const g=m[m.length-1],v=s[c][0],b=s[c][1];let w=0;const C=g.children.indexOf(h);let N=!1,k=[];v.lastIndex=0;let j=v.exec(h.value);for(;j;){const _=j.index,H={index:j.index,input:j.input,stack:[...m,h]};let M=b(...j,H);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?v.lastIndex=_+1:(w!==_&&k.push({type:"text",value:h.value.slice(w,_)}),Array.isArray(M)?k.push(...M):M&&k.push(M),w=_+j[0].length,N=!0),!v.global)break;j=v.exec(h.value)}return N?(w<h.value.length&&k.push({type:"text",value:h.value.slice(w)}),g.children.splice(C,1,...k)):k=[h],C+k.length}}function _z(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const i=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<i.length;){const l=i[a];n.push([Oz(l[0]),Rz(l[1])])}return n}function Oz(e){return typeof e=="string"?new RegExp(Mz(e),"g"):e}function Rz(e){return typeof e=="function"?e:function(){return e}}const ch="phrasing",uh=["autolink","link","image","label"];function zz(){return{transforms:[Uz],enter:{literalAutolink:Iz,literalAutolinkEmail:dh,literalAutolinkHttp:dh,literalAutolinkWww:dh},exit:{literalAutolink:$z,literalAutolinkEmail:Pz,literalAutolinkHttp:Bz,literalAutolinkWww:Hz}}}function Lz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ch,notInConstruct:uh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ch,notInConstruct:uh},{character:":",before:"[ps]",after:"\\/",inConstruct:ch,notInConstruct:uh}]}}function Iz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function dh(e){this.config.enter.autolinkProtocol.call(this,e)}function Bz(e){this.config.exit.autolinkProtocol.call(this,e)}function Hz(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function Pz(e){this.config.exit.autolinkEmail.call(this,e)}function $z(e){this.exit(e)}function Uz(e){Dz(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Vz]],{ignore:["link","linkReference"]})}function qz(e,n,i,a,l){let s="";if(!i1(l)||(/^w/i.test(n)&&(i=n+i,n="",s="http://"),!Fz(i)))return!1;const c=Gz(i+a);if(!c[0])return!1;const f={type:"link",title:null,url:s+n+c[0],children:[{type:"text",value:n+c[0]}]};return c[1]?[f,{type:"text",value:c[1]}]:f}function Vz(e,n,i,a){return!i1(a,!0)||/[-\d_]$/.test(i)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+i,children:[{type:"text",value:n+"@"+i}]}}function Fz(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function Gz(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let i=n[0],a=i.indexOf(")");const l=y0(e,"(");let s=y0(e,")");for(;a!==-1&&l>s;)e+=i.slice(0,a+1),i=i.slice(a+1),a=i.indexOf(")"),s++;return[e,i]}function i1(e,n){const i=e.input.charCodeAt(e.index-1);return(e.index===0||Hr(i)||du(i))&&(!n||i!==47)}r1.peek=tL;function Yz(){this.buffer()}function Xz(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Qz(){this.buffer()}function Zz(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Wz(e){const n=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Rn(this.sliceSerialize(e)).toLowerCase(),i.label=n}function Kz(e){this.exit(e)}function Jz(e){const n=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Rn(this.sliceSerialize(e)).toLowerCase(),i.label=n}function eL(e){this.exit(e)}function tL(){return"["}function r1(e,n,i,a){const l=i.createTracker(a);let s=l.move("[^");const c=i.enter("footnoteReference"),f=i.enter("reference");return s+=l.move(i.safe(i.associationId(e),{after:"]",before:s})),f(),c(),s+=l.move("]"),s}function nL(){return{enter:{gfmFootnoteCallString:Yz,gfmFootnoteCall:Xz,gfmFootnoteDefinitionLabelString:Qz,gfmFootnoteDefinition:Zz},exit:{gfmFootnoteCallString:Wz,gfmFootnoteCall:Kz,gfmFootnoteDefinitionLabelString:Jz,gfmFootnoteDefinition:eL}}}function iL(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:i,footnoteReference:r1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function i(a,l,s,c){const f=s.createTracker(c);let p=f.move("[^");const h=s.enter("footnoteDefinition"),m=s.enter("label");return p+=f.move(s.safe(s.associationId(a),{before:p,after:"]"})),m(),p+=f.move("]:"),a.children&&a.children.length>0&&(f.shift(4),p+=f.move((n?`
`:" ")+s.indentLines(s.containerFlow(a,f.current()),n?a1:rL))),h(),p}}function rL(e,n,i){return n===0?e:a1(e,n,i)}function a1(e,n,i){return(i?"":"    ")+e}const aL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];o1.peek=uL;function oL(){return{canContainEols:["delete"],enter:{strikethrough:sL},exit:{strikethrough:cL}}}function lL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aL}],handlers:{delete:o1}}}function sL(e){this.enter({type:"delete",children:[]},e)}function cL(e){this.exit(e)}function o1(e,n,i,a){const l=i.createTracker(a),s=i.enter("strikethrough");let c=l.move("~~");return c+=i.containerPhrasing(e,{...l.current(),before:c,after:"~"}),c+=l.move("~~"),s(),c}function uL(){return"~"}function dL(e){return e.length}function fL(e,n){const i=n||{},a=(i.align||[]).concat(),l=i.stringLength||dL,s=[],c=[],f=[],p=[];let h=0,m=-1;for(;++m<e.length;){const S=[],C=[];let N=-1;for(e[m].length>h&&(h=e[m].length);++N<e[m].length;){const k=hL(e[m][N]);if(i.alignDelimiters!==!1){const j=l(k);C[N]=j,(p[N]===void 0||j>p[N])&&(p[N]=j)}S.push(k)}c[m]=S,f[m]=C}let g=-1;if(typeof a=="object"&&"length"in a)for(;++g<h;)s[g]=x0(a[g]);else{const S=x0(a);for(;++g<h;)s[g]=S}g=-1;const v=[],b=[];for(;++g<h;){const S=s[g];let C="",N="";S===99?(C=":",N=":"):S===108?C=":":S===114&&(N=":");let k=i.alignDelimiters===!1?1:Math.max(1,p[g]-C.length-N.length);const j=C+"-".repeat(k)+N;i.alignDelimiters!==!1&&(k=C.length+k+N.length,k>p[g]&&(p[g]=k),b[g]=k),v[g]=j}c.splice(1,0,v),f.splice(1,0,b),m=-1;const w=[];for(;++m<c.length;){const S=c[m],C=f[m];g=-1;const N=[];for(;++g<h;){const k=S[g]||"";let j="",_="";if(i.alignDelimiters!==!1){const H=p[g]-(C[g]||0),M=s[g];M===114?j=" ".repeat(H):M===99?H%2?(j=" ".repeat(H/2+.5),_=" ".repeat(H/2-.5)):(j=" ".repeat(H/2),_=j):_=" ".repeat(H)}i.delimiterStart!==!1&&!g&&N.push("|"),i.padding!==!1&&!(i.alignDelimiters===!1&&k==="")&&(i.delimiterStart!==!1||g)&&N.push(" "),i.alignDelimiters!==!1&&N.push(j),N.push(k),i.alignDelimiters!==!1&&N.push(_),i.padding!==!1&&N.push(" "),(i.delimiterEnd!==!1||g!==h-1)&&N.push("|")}w.push(i.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return w.join(`
`)}function hL(e){return e==null?"":String(e)}function x0(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function pL(e,n,i,a){const l=i.enter("blockquote"),s=i.createTracker(a);s.move("> "),s.shift(2);const c=i.indentLines(i.containerFlow(e,s.current()),mL);return l(),c}function mL(e,n,i){return">"+(i?"":" ")+e}function gL(e,n){return v0(e,n.inConstruct,!0)&&!v0(e,n.notInConstruct,!1)}function v0(e,n,i){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return i;let a=-1;for(;++a<n.length;)if(e.includes(n[a]))return!0;return!1}function b0(e,n,i,a){let l=-1;for(;++l<i.unsafe.length;)if(i.unsafe[l].character===`
`&&gL(i.stack,i.unsafe[l]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function yL(e,n){const i=String(e);let a=i.indexOf(n),l=a,s=0,c=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===l?++s>c&&(c=s):s=1,l=a+n.length,a=i.indexOf(n,l);return c}function xL(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vL(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function bL(e,n,i,a){const l=vL(i),s=e.value||"",c=l==="`"?"GraveAccent":"Tilde";if(xL(e,i)){const g=i.enter("codeIndented"),v=i.indentLines(s,wL);return g(),v}const f=i.createTracker(a),p=l.repeat(Math.max(yL(s,l)+1,3)),h=i.enter("codeFenced");let m=f.move(p);if(e.lang){const g=i.enter(`codeFencedLang${c}`);m+=f.move(i.safe(e.lang,{before:m,after:" ",encode:["`"],...f.current()})),g()}if(e.lang&&e.meta){const g=i.enter(`codeFencedMeta${c}`);m+=f.move(" "),m+=f.move(i.safe(e.meta,{before:m,after:`
`,encode:["`"],...f.current()})),g()}return m+=f.move(`
`),s&&(m+=f.move(s+`
`)),m+=f.move(p),h(),m}function wL(e,n,i){return(i?"":"    ")+e}function kp(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function SL(e,n,i,a){const l=kp(i),s=l==='"'?"Quote":"Apostrophe",c=i.enter("definition");let f=i.enter("label");const p=i.createTracker(a);let h=p.move("[");return h+=p.move(i.safe(i.associationId(e),{before:h,after:"]",...p.current()})),h+=p.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=i.enter("destinationLiteral"),h+=p.move("<"),h+=p.move(i.safe(e.url,{before:h,after:">",...p.current()})),h+=p.move(">")):(f=i.enter("destinationRaw"),h+=p.move(i.safe(e.url,{before:h,after:e.title?" ":`
`,...p.current()}))),f(),e.title&&(f=i.enter(`title${s}`),h+=p.move(" "+l),h+=p.move(i.safe(e.title,{before:h,after:l,...p.current()})),h+=p.move(l),f()),c(),h}function NL(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Sl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xc(e,n,i){const a=Ya(e),l=Ya(n);return a===void 0?l===void 0?i==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}l1.peek=EL;function l1(e,n,i,a){const l=NL(i),s=i.enter("emphasis"),c=i.createTracker(a),f=c.move(l);let p=c.move(i.containerPhrasing(e,{after:l,before:f,...c.current()}));const h=p.charCodeAt(0),m=Xc(a.before.charCodeAt(a.before.length-1),h,l);m.inside&&(p=Sl(h)+p.slice(1));const g=p.charCodeAt(p.length-1),v=Xc(a.after.charCodeAt(0),g,l);v.inside&&(p=p.slice(0,-1)+Sl(g));const b=c.move(l);return s(),i.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},f+p+b}function EL(e,n,i){return i.options.emphasis||"*"}function jL(e,n){let i=!1;return jp(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return i=!0,Ph}),!!((!e.depth||e.depth<3)&&xp(e)&&(n.options.setext||i))}function CL(e,n,i,a){const l=Math.max(Math.min(6,e.depth||1),1),s=i.createTracker(a);if(jL(e,i)){const m=i.enter("headingSetext"),g=i.enter("phrasing"),v=i.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return g(),m(),v+`
`+(l===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(l),f=i.enter("headingAtx"),p=i.enter("phrasing");s.move(c+" ");let h=i.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=Sl(h.charCodeAt(0))+h.slice(1)),h=h?c+" "+h:c,i.options.closeAtx&&(h+=" "+c),p(),f(),h}s1.peek=kL;function s1(e){return e.value||""}function kL(){return"<"}c1.peek=TL;function c1(e,n,i,a){const l=kp(i),s=l==='"'?"Quote":"Apostrophe",c=i.enter("image");let f=i.enter("label");const p=i.createTracker(a);let h=p.move("![");return h+=p.move(i.safe(e.alt,{before:h,after:"]",...p.current()})),h+=p.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=i.enter("destinationLiteral"),h+=p.move("<"),h+=p.move(i.safe(e.url,{before:h,after:">",...p.current()})),h+=p.move(">")):(f=i.enter("destinationRaw"),h+=p.move(i.safe(e.url,{before:h,after:e.title?" ":")",...p.current()}))),f(),e.title&&(f=i.enter(`title${s}`),h+=p.move(" "+l),h+=p.move(i.safe(e.title,{before:h,after:l,...p.current()})),h+=p.move(l),f()),h+=p.move(")"),c(),h}function TL(){return"!"}u1.peek=AL;function u1(e,n,i,a){const l=e.referenceType,s=i.enter("imageReference");let c=i.enter("label");const f=i.createTracker(a);let p=f.move("![");const h=i.safe(e.alt,{before:p,after:"]",...f.current()});p+=f.move(h+"]["),c();const m=i.stack;i.stack=[],c=i.enter("reference");const g=i.safe(i.associationId(e),{before:p,after:"]",...f.current()});return c(),i.stack=m,s(),l==="full"||!h||h!==g?p+=f.move(g+"]"):l==="shortcut"?p=p.slice(0,-1):p+=f.move("]"),p}function AL(){return"!"}d1.peek=ML;function d1(e,n,i){let a=e.value||"",l="`",s=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(a);)l+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++s<i.unsafe.length;){const c=i.unsafe[s],f=i.compilePattern(c);let p;if(c.atBreak)for(;p=f.exec(a);){let h=p.index;a.charCodeAt(h)===10&&a.charCodeAt(h-1)===13&&h--,a=a.slice(0,h)+" "+a.slice(p.index+1)}}return l+a+l}function ML(){return"`"}function f1(e,n){const i=xp(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(i===e.url||"mailto:"+i===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}h1.peek=DL;function h1(e,n,i,a){const l=kp(i),s=l==='"'?"Quote":"Apostrophe",c=i.createTracker(a);let f,p;if(f1(e,i)){const m=i.stack;i.stack=[],f=i.enter("autolink");let g=c.move("<");return g+=c.move(i.containerPhrasing(e,{before:g,after:">",...c.current()})),g+=c.move(">"),f(),i.stack=m,g}f=i.enter("link"),p=i.enter("label");let h=c.move("[");return h+=c.move(i.containerPhrasing(e,{before:h,after:"](",...c.current()})),h+=c.move("]("),p(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(p=i.enter("destinationLiteral"),h+=c.move("<"),h+=c.move(i.safe(e.url,{before:h,after:">",...c.current()})),h+=c.move(">")):(p=i.enter("destinationRaw"),h+=c.move(i.safe(e.url,{before:h,after:e.title?" ":")",...c.current()}))),p(),e.title&&(p=i.enter(`title${s}`),h+=c.move(" "+l),h+=c.move(i.safe(e.title,{before:h,after:l,...c.current()})),h+=c.move(l),p()),h+=c.move(")"),f(),h}function DL(e,n,i){return f1(e,i)?"<":"["}p1.peek=_L;function p1(e,n,i,a){const l=e.referenceType,s=i.enter("linkReference");let c=i.enter("label");const f=i.createTracker(a);let p=f.move("[");const h=i.containerPhrasing(e,{before:p,after:"]",...f.current()});p+=f.move(h+"]["),c();const m=i.stack;i.stack=[],c=i.enter("reference");const g=i.safe(i.associationId(e),{before:p,after:"]",...f.current()});return c(),i.stack=m,s(),l==="full"||!h||h!==g?p+=f.move(g+"]"):l==="shortcut"?p=p.slice(0,-1):p+=f.move("]"),p}function _L(){return"["}function Tp(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function OL(e){const n=Tp(e),i=e.options.bulletOther;if(!i)return n==="*"?"-":"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(i===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+i+"`) to be different");return i}function RL(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function m1(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function zL(e,n,i,a){const l=i.enter("list"),s=i.bulletCurrent;let c=e.ordered?RL(i):Tp(i);const f=e.ordered?c==="."?")":".":OL(i);let p=n&&i.bulletLastUsed?c===i.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&m&&(!m.children||!m.children[0])&&i.stack[i.stack.length-1]==="list"&&i.stack[i.stack.length-2]==="listItem"&&i.stack[i.stack.length-3]==="list"&&i.stack[i.stack.length-4]==="listItem"&&i.indexStack[i.indexStack.length-1]===0&&i.indexStack[i.indexStack.length-2]===0&&i.indexStack[i.indexStack.length-3]===0&&(p=!0),m1(i)===c&&m){let g=-1;for(;++g<e.children.length;){const v=e.children[g];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=f),i.bulletCurrent=c;const h=i.containerFlow(e,a);return i.bulletLastUsed=c,i.bulletCurrent=s,l(),h}function LL(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function IL(e,n,i,a){const l=LL(i);let s=i.bulletCurrent||Tp(i);n&&n.type==="list"&&n.ordered&&(s=(typeof n.start=="number"&&n.start>-1?n.start:1)+(i.options.incrementListMarker===!1?0:n.children.indexOf(e))+s);let c=s.length+1;(l==="tab"||l==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(c=Math.ceil(c/4)*4);const f=i.createTracker(a);f.move(s+" ".repeat(c-s.length)),f.shift(c);const p=i.enter("listItem"),h=i.indentLines(i.containerFlow(e,f.current()),m);return p(),h;function m(g,v,b){return v?(b?"":" ".repeat(c))+g:(b?s:s+" ".repeat(c-s.length))+g}}function BL(e,n,i,a){const l=i.enter("paragraph"),s=i.enter("phrasing"),c=i.containerPhrasing(e,a);return s(),l(),c}const HL=pu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function PL(e,n,i,a){return(e.children.some(function(c){return HL(c)})?i.containerPhrasing:i.containerFlow).call(i,e,a)}function $L(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}g1.peek=UL;function g1(e,n,i,a){const l=$L(i),s=i.enter("strong"),c=i.createTracker(a),f=c.move(l+l);let p=c.move(i.containerPhrasing(e,{after:l,before:f,...c.current()}));const h=p.charCodeAt(0),m=Xc(a.before.charCodeAt(a.before.length-1),h,l);m.inside&&(p=Sl(h)+p.slice(1));const g=p.charCodeAt(p.length-1),v=Xc(a.after.charCodeAt(0),g,l);v.inside&&(p=p.slice(0,-1)+Sl(g));const b=c.move(l+l);return s(),i.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},f+p+b}function UL(e,n,i){return i.options.strong||"*"}function qL(e,n,i,a){return i.safe(e.value,a)}function VL(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function FL(e,n,i){const a=(m1(i)+(i.options.ruleSpaces?" ":"")).repeat(VL(i));return i.options.ruleSpaces?a.slice(0,-1):a}const y1={blockquote:pL,break:b0,code:bL,definition:SL,emphasis:l1,hardBreak:b0,heading:CL,html:s1,image:c1,imageReference:u1,inlineCode:d1,link:h1,linkReference:p1,list:zL,listItem:IL,paragraph:BL,root:PL,strong:g1,text:qL,thematicBreak:FL};function GL(){return{enter:{table:YL,tableData:w0,tableHeader:w0,tableRow:QL},exit:{codeText:ZL,table:XL,tableData:fh,tableHeader:fh,tableRow:fh}}}function YL(e){const n=e._align;this.enter({type:"table",align:n.map(function(i){return i==="none"?null:i}),children:[]},e),this.data.inTable=!0}function XL(e){this.exit(e),this.data.inTable=void 0}function QL(e){this.enter({type:"tableRow",children:[]},e)}function fh(e){this.exit(e)}function w0(e){this.enter({type:"tableCell",children:[]},e)}function ZL(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,WL));const i=this.stack[this.stack.length-1];i.type,i.value=n,this.exit(e)}function WL(e,n){return n==="|"?n:e}function KL(e){const n=e||{},i=n.tableCellPadding,a=n.tablePipeAlign,l=n.stringLength,s=i?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:p,tableRow:f}};function c(b,w,S,C){return h(m(b,S,C),b.align)}function f(b,w,S,C){const N=g(b,S,C),k=h([N]);return k.slice(0,k.indexOf(`
`))}function p(b,w,S,C){const N=S.enter("tableCell"),k=S.enter("phrasing"),j=S.containerPhrasing(b,{...C,before:s,after:s});return k(),N(),j}function h(b,w){return fL(b,{align:w,alignDelimiters:a,padding:i,stringLength:l})}function m(b,w,S){const C=b.children;let N=-1;const k=[],j=w.enter("table");for(;++N<C.length;)k[N]=g(C[N],w,S);return j(),k}function g(b,w,S){const C=b.children;let N=-1;const k=[],j=w.enter("tableRow");for(;++N<C.length;)k[N]=p(C[N],b,w,S);return j(),k}function v(b,w,S){let C=y1.inlineCode(b,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function JL(){return{exit:{taskListCheckValueChecked:S0,taskListCheckValueUnchecked:S0,paragraph:tI}}}function eI(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nI}}}function S0(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function tI(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const i=this.stack[this.stack.length-1];i.type;const a=i.children[0];if(a&&a.type==="text"){const l=n.children;let s=-1,c;for(;++s<l.length;){const f=l[s];if(f.type==="paragraph"){c=f;break}}c===i&&(a.value=a.value.slice(1),a.value.length===0?i.children.shift():i.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,i.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function nI(e,n,i,a){const l=e.children[0],s=typeof e.checked=="boolean"&&l&&l.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",f=i.createTracker(a);s&&f.move(c);let p=y1.listItem(e,n,i,{...a,...f.current()});return s&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),p;function h(m){return m+c}}function iI(){return[zz(),nL(),oL(),GL(),JL()]}function rI(e){return{extensions:[Lz(),iL(e),lL(),KL(e),eI()]}}const aI={tokenize:dI,partial:!0},x1={tokenize:fI,partial:!0},v1={tokenize:hI,partial:!0},b1={tokenize:pI,partial:!0},oI={tokenize:mI,partial:!0},w1={name:"wwwAutolink",tokenize:cI,previous:N1},S1={name:"protocolAutolink",tokenize:uI,previous:E1},Ni={name:"emailAutolink",tokenize:sI,previous:j1},Xn={};function lI(){return{text:Xn}}let Ar=48;for(;Ar<123;)Xn[Ar]=Ni,Ar++,Ar===58?Ar=65:Ar===91&&(Ar=97);Xn[43]=Ni;Xn[45]=Ni;Xn[46]=Ni;Xn[95]=Ni;Xn[72]=[Ni,S1];Xn[104]=[Ni,S1];Xn[87]=[Ni,w1];Xn[119]=[Ni,w1];function sI(e,n,i){const a=this;let l,s;return c;function c(g){return!Vh(g)||!j1.call(a,a.previous)||Ap(a.events)?i(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(g))}function f(g){return Vh(g)?(e.consume(g),f):g===64?(e.consume(g),p):i(g)}function p(g){return g===46?e.check(oI,m,h)(g):g===45||g===95||Lt(g)?(s=!0,e.consume(g),p):m(g)}function h(g){return e.consume(g),l=!0,p}function m(g){return s&&l&&Pt(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(g)):i(g)}}function cI(e,n,i){const a=this;return l;function l(c){return c!==87&&c!==119||!N1.call(a,a.previous)||Ap(a.events)?i(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(aI,e.attempt(x1,e.attempt(v1,s),i),i)(c))}function s(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(c)}}function uI(e,n,i){const a=this;let l="",s=!1;return c;function c(g){return(g===72||g===104)&&E1.call(a,a.previous)&&!Ap(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),l+=String.fromCodePoint(g),e.consume(g),f):i(g)}function f(g){if(Pt(g)&&l.length<5)return l+=String.fromCodePoint(g),e.consume(g),f;if(g===58){const v=l.toLowerCase();if(v==="http"||v==="https")return e.consume(g),p}return i(g)}function p(g){return g===47?(e.consume(g),s?h:(s=!0,p)):i(g)}function h(g){return g===null||Fc(g)||nt(g)||Hr(g)||du(g)?i(g):e.attempt(x1,e.attempt(v1,m),i)(g)}function m(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(g)}}function dI(e,n,i){let a=0;return l;function l(c){return(c===87||c===119)&&a<3?(a++,e.consume(c),l):c===46&&a===3?(e.consume(c),s):i(c)}function s(c){return c===null?i(c):n(c)}}function fI(e,n,i){let a,l,s;return c;function c(h){return h===46||h===95?e.check(b1,p,f)(h):h===null||nt(h)||Hr(h)||h!==45&&du(h)?p(h):(s=!0,e.consume(h),c)}function f(h){return h===95?a=!0:(l=a,a=void 0),e.consume(h),c}function p(h){return l||a||!s?i(h):n(h)}}function hI(e,n){let i=0,a=0;return l;function l(c){return c===40?(i++,e.consume(c),l):c===41&&a<i?s(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(b1,n,s)(c):c===null||nt(c)||Hr(c)?n(c):(e.consume(c),l)}function s(c){return c===41&&a++,e.consume(c),l}}function pI(e,n,i){return a;function a(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),a):f===38?(e.consume(f),s):f===93?(e.consume(f),l):f===60||f===null||nt(f)||Hr(f)?n(f):i(f)}function l(f){return f===null||f===40||f===91||nt(f)||Hr(f)?n(f):a(f)}function s(f){return Pt(f)?c(f):i(f)}function c(f){return f===59?(e.consume(f),a):Pt(f)?(e.consume(f),c):i(f)}}function mI(e,n,i){return a;function a(s){return e.consume(s),l}function l(s){return Lt(s)?i(s):n(s)}}function N1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nt(e)}function E1(e){return!Pt(e)}function j1(e){return!(e===47||Vh(e))}function Vh(e){return e===43||e===45||e===46||e===95||Lt(e)}function Ap(e){let n=e.length,i=!1;for(;n--;){const a=e[n][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){i=!0;break}if(a._gfmAutolinkLiteralWalkedInto){i=!1;break}}return e.length>0&&!i&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),i}const gI={tokenize:EI,partial:!0};function yI(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wI,continuation:{tokenize:SI},exit:NI}},text:{91:{name:"gfmFootnoteCall",tokenize:bI},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:xI,resolveTo:vI}}}}function xI(e,n,i){const a=this;let l=a.events.length;const s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;l--;){const p=a.events[l][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return f;function f(p){if(!c||!c._balanced)return i(p);const h=Rn(a.sliceSerialize({start:c.end,end:a.now()}));return h.codePointAt(0)!==94||!s.includes(h.slice(1))?i(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),n(p))}}function vI(e,n){let i=e.length;for(;i--;)if(e[i][1].type==="labelImage"&&e[i][0]==="enter"){e[i][1];break}e[i+1][1].type="data",e[i+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[i+3][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},e[i+3][1].end),end:Object.assign({},e[i+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},f=[e[i+1],e[i+2],["enter",a,n],e[i+3],e[i+4],["enter",l,n],["exit",l,n],["enter",s,n],["enter",c,n],["exit",c,n],["exit",s,n],e[e.length-2],e[e.length-1],["exit",a,n]];return e.splice(i,e.length-i+1,...f),e}function bI(e,n,i){const a=this,l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s=0,c;return f;function f(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),p}function p(g){return g!==94?i(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(g){if(s>999||g===93&&!c||g===null||g===91||nt(g))return i(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return l.includes(Rn(a.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):i(g)}return nt(g)||(c=!0),s++,e.consume(g),g===92?m:h}function m(g){return g===91||g===92||g===93?(e.consume(g),s++,h):h(g)}}function wI(e,n,i){const a=this,l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s,c=0,f;return p;function p(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):i(w)}function m(w){if(c>999||w===93&&!f||w===null||w===91||nt(w))return i(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return s=Rn(a.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return nt(w)||(f=!0),c++,e.consume(w),w===92?g:m}function g(w){return w===91||w===92||w===93?(e.consume(w),c++,m):m(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),l.includes(s)||l.push(s),$e(e,b,"gfmFootnoteDefinitionWhitespace")):i(w)}function b(w){return n(w)}}function SI(e,n,i){return e.check(Ol,n,e.attempt(gI,n,i))}function NI(e){e.exit("gfmFootnoteDefinition")}function EI(e,n,i){const a=this;return $e(e,l,"gfmFootnoteDefinitionIndent",5);function l(s){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?n(s):i(s)}}function jI(e){let i=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:s,resolveAll:l};return i==null&&(i=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function l(c,f){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let h=p;for(;h--;)if(c[h][0]==="exit"&&c[h][1].type==="strikethroughSequenceTemporary"&&c[h][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[h][1].end.offset-c[h][1].start.offset){c[p][1].type="strikethroughSequence",c[h][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},c[h][1].start),end:Object.assign({},c[p][1].end)},g={type:"strikethroughText",start:Object.assign({},c[h][1].end),end:Object.assign({},c[p][1].start)},v=[["enter",m,f],["enter",c[h][1],f],["exit",c[h][1],f],["enter",g,f]],b=f.parser.constructs.insideSpan.null;b&&fn(v,v.length,0,fu(b,c.slice(h+1,p),f)),fn(v,v.length,0,[["exit",g,f],["enter",c[p][1],f],["exit",c[p][1],f],["exit",m,f]]),fn(c,h-1,p-h+3,v),p=h+v.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function s(c,f,p){const h=this.previous,m=this.events;let g=0;return v;function v(w){return h===126&&m[m.length-1][1].type!=="characterEscape"?p(w):(c.enter("strikethroughSequenceTemporary"),b(w))}function b(w){const S=Ya(h);if(w===126)return g>1?p(w):(c.consume(w),g++,b);if(g<2&&!i)return p(w);const C=c.exit("strikethroughSequenceTemporary"),N=Ya(w);return C._open=!N||N===2&&!!S,C._close=!S||S===2&&!!N,f(w)}}}class CI{constructor(){this.map=[]}add(n,i,a){kI(this,n,i,a)}consume(n){if(this.map.sort(function(s,c){return s[0]-c[0]}),this.map.length===0)return;let i=this.map.length;const a=[];for(;i>0;)i-=1,a.push(n.slice(this.map[i][0]+this.map[i][1]),this.map[i][2]),n.length=this.map[i][0];a.push(n.slice()),n.length=0;let l=a.pop();for(;l;){for(const s of l)n.push(s);l=a.pop()}this.map.length=0}}function kI(e,n,i,a){let l=0;if(!(i===0&&a.length===0)){for(;l<e.map.length;){if(e.map[l][0]===n){e.map[l][1]+=i,e.map[l][2].push(...a);return}l+=1}e.map.push([n,i,a])}}function TI(e,n){let i=!1;const a=[];for(;n<e.length;){const l=e[n];if(i){if(l[0]==="enter")l[1].type==="tableContent"&&a.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const s=a.length-1;a[s]=a[s]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(i=!0);n+=1}return a}function AI(){return{flow:{null:{name:"table",tokenize:MI,resolveAll:DI}}}}function MI(e,n,i){const a=this;let l=0,s=0,c;return f;function f(I){let $=a.events.length-1;for(;$>-1;){const A=a.events[$][1].type;if(A==="lineEnding"||A==="linePrefix")$--;else break}const F=$>-1?a.events[$][1].type:null,ee=F==="tableHead"||F==="tableRow"?M:p;return ee===M&&a.parser.lazy[a.now().line]?i(I):ee(I)}function p(I){return e.enter("tableHead"),e.enter("tableRow"),h(I)}function h(I){return I===124||(c=!0,s+=1),m(I)}function m(I){return I===null?i(I):we(I)?s>1?(s=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),b):i(I):ze(I)?$e(e,m,"whitespace")(I):(s+=1,c&&(c=!1,l+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),c=!0,m):(e.enter("data"),g(I)))}function g(I){return I===null||I===124||nt(I)?(e.exit("data"),m(I)):(e.consume(I),I===92?v:g)}function v(I){return I===92||I===124?(e.consume(I),g):g(I)}function b(I){return a.interrupt=!1,a.parser.lazy[a.now().line]?i(I):(e.enter("tableDelimiterRow"),c=!1,ze(I)?$e(e,w,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):w(I))}function w(I){return I===45||I===58?C(I):I===124?(c=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),S):H(I)}function S(I){return ze(I)?$e(e,C,"whitespace")(I):C(I)}function C(I){return I===58?(s+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),N):I===45?(s+=1,N(I)):I===null||we(I)?_(I):H(I)}function N(I){return I===45?(e.enter("tableDelimiterFiller"),k(I)):H(I)}function k(I){return I===45?(e.consume(I),k):I===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(I))}function j(I){return ze(I)?$e(e,_,"whitespace")(I):_(I)}function _(I){return I===124?w(I):I===null||we(I)?!c||l!==s?H(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(I)):H(I)}function H(I){return i(I)}function M(I){return e.enter("tableRow"),O(I)}function O(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),O):I===null||we(I)?(e.exit("tableRow"),n(I)):ze(I)?$e(e,O,"whitespace")(I):(e.enter("data"),V(I))}function V(I){return I===null||I===124||nt(I)?(e.exit("data"),O(I)):(e.consume(I),I===92?G:V)}function G(I){return I===92||I===124?(e.consume(I),V):V(I)}}function DI(e,n){let i=-1,a=!0,l=0,s=[0,0,0,0],c=[0,0,0,0],f=!1,p=0,h,m,g;const v=new CI;for(;++i<e.length;){const b=e[i],w=b[1];b[0]==="enter"?w.type==="tableHead"?(f=!1,p!==0&&(N0(v,n,p,h,m),m=void 0,p=0),h={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(i,0,[["enter",h,n]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(a=!0,g=void 0,s=[0,0,0,0],c=[0,i+1,0,0],f&&(f=!1,m={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(i,0,[["enter",m,n]])),l=w.type==="tableDelimiterRow"?2:m?3:1):l&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(s[1]!==0&&(c[0]=c[1],g=bc(v,n,s,l,void 0,g),s=[0,0,0,0]),c[2]=i)):w.type==="tableCellDivider"&&(a?a=!1:(s[1]!==0&&(c[0]=c[1],g=bc(v,n,s,l,void 0,g)),s=c,c=[s[1],i,0,0])):w.type==="tableHead"?(f=!0,p=i):w.type==="tableRow"||w.type==="tableDelimiterRow"?(p=i,s[1]!==0?(c[0]=c[1],g=bc(v,n,s,l,i,g)):c[1]!==0&&(g=bc(v,n,c,l,i,g)),l=0):l&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(c[3]=i)}for(p!==0&&N0(v,n,p,h,m),v.consume(n.events),i=-1;++i<n.events.length;){const b=n.events[i];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=TI(n.events,i))}return e}function bc(e,n,i,a,l,s){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",f="tableContent";i[0]!==0&&(s.end=Object.assign({},_a(n.events,i[0])),e.add(i[0],0,[["exit",s,n]]));const p=_a(n.events,i[1]);if(s={type:c,start:Object.assign({},p),end:Object.assign({},p)},e.add(i[1],0,[["enter",s,n]]),i[2]!==0){const h=_a(n.events,i[2]),m=_a(n.events,i[3]),g={type:f,start:Object.assign({},h),end:Object.assign({},m)};if(e.add(i[2],0,[["enter",g,n]]),a!==2){const v=n.events[i[2]],b=n.events[i[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",i[3]>i[2]+1){const w=i[2]+1,S=i[3]-i[2]-1;e.add(w,S,[])}}e.add(i[3]+1,0,[["exit",g,n]])}return l!==void 0&&(s.end=Object.assign({},_a(n.events,l)),e.add(l,0,[["exit",s,n]]),s=void 0),s}function N0(e,n,i,a,l){const s=[],c=_a(n.events,i);l&&(l.end=Object.assign({},c),s.push(["exit",l,n])),a.end=Object.assign({},c),s.push(["exit",a,n]),e.add(i+1,0,s)}function _a(e,n){const i=e[n],a=i[0]==="enter"?"start":"end";return i[1][a]}const _I={name:"tasklistCheck",tokenize:RI};function OI(){return{text:{91:_I}}}function RI(e,n,i){const a=this;return l;function l(p){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?i(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),s)}function s(p){return nt(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),c):i(p)}function c(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):i(p)}function f(p){return we(p)?n(p):ze(p)?e.check({tokenize:zI},n,i)(p):i(p)}}function zI(e,n,i){return $e(e,a,"whitespace");function a(l){return l===null?i(l):n(l)}}function LI(e){return zw([lI(),yI(),jI(e),AI(),OI()])}const II={};function BI(e){const n=this,i=e||II,a=n.data(),l=a.micromarkExtensions||(a.micromarkExtensions=[]),s=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);l.push(LI(i)),s.push(iI()),c.push(rI(i))}const HI=[{type:"welcome",nodes:["welcome","shortcuts"]},{type:"category",name:"Triggers",color:"#00c853",nodes:["manualTrigger","scheduleTrigger","webhookTrigger","errorTrigger","browserEventTrigger"]},{type:"category",name:"Actions",color:"#2979ff",nodes:["output","httpRequest","codeExecutor","setVariable","fileSystem","localStorage"]},{type:"category",name:"Logic",color:"#ffab00",nodes:["ifElse","loop","switchNode","merge"]},{type:"category",name:"AI",color:"#e040fb",nodes:["aiAgent","vectorMemory","waitForApproval","subWorkflow","textToSpeech","imageGeneration","pythonExecutor"]}],PI={welcome:{id:"welcome",icon:"",title:"Documentation"},shortcuts:{id:"shortcuts",icon:"",title:"Keyboard Shortcuts"}};function $I({onClose:e}){const[n,i]=T.useState("welcome"),a=()=>d.jsx("nav",{className:"docs-nav",children:HI.map((p,h)=>d.jsxs("div",{className:"nav-category",children:[p.type==="category"&&d.jsx("div",{className:"nav-category-title",style:{color:p.color},children:p.name}),p.nodes.map(m=>{const g=Vc[m]||PI[m];return g?d.jsxs("div",{className:`nav-item ${n===m?"active":""}`,onClick:()=>i(m),children:[d.jsx("span",{className:"nav-item-icon",children:g.icon}),d.jsx("span",{children:g.title})]},m):null})]},h))}),l=()=>d.jsxs("div",{className:"welcome-content",children:[d.jsx("h1",{children:" IOSANS Documentation"}),d.jsx("p",{className:"tagline",children:"Welcome to the Infinite Open Source Automation System. Build powerful, local-first AI workflows with complete privacy and control."}),d.jsxs("div",{className:"feature-grid",children:[d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-card-icon",children:""}),d.jsx("h4",{children:"100% Local"}),d.jsx("p",{children:"All processing happens in your browser. No data leaves your device."})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-card-icon",children:""}),d.jsx("h4",{children:"WebLLM AI"}),d.jsx("p",{children:"Run powerful LLMs directly in your browser using WebGPU."})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-card-icon",children:""}),d.jsx("h4",{children:"Visual Workflows"}),d.jsx("p",{children:"Drag-and-drop node editor for building complex automations."})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-card-icon",children:""}),d.jsx("h4",{children:"Artifacts"}),d.jsx("p",{children:"All outputs are saved as artifacts for future reference."})]})]}),d.jsxs("div",{className:"article-section",style:{marginTop:32},children:[d.jsx("h3",{children:" Getting Started"}),d.jsxs("p",{children:["1. Drag a ",d.jsx("strong",{children:"Manual Trigger"})," from the sidebar to start your workflow.",d.jsx("br",{}),"2. Add nodes like ",d.jsx("strong",{children:"AI Agent"}),","," ",d.jsx("strong",{children:"Code Executor"}),", or ",d.jsx("strong",{children:"HTTP Request"}),".",d.jsx("br",{}),"3. Connect nodes by dragging from output handles (right) to input handles (left).",d.jsx("br",{}),"4. Click ",d.jsx("strong",{children:"Run"})," to execute your workflow."]})]}),d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Node Categories"}),d.jsx("div",{className:"config-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Count"}),d.jsx("th",{children:"Purpose"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{color:"#00c853"},children:"Triggers"}),d.jsx("td",{children:"5"}),d.jsx("td",{children:"Start workflows (manual, schedule, webhook, error, browser)"})]}),d.jsxs("tr",{children:[d.jsx("td",{style:{color:"#2979ff"},children:"Actions"}),d.jsx("td",{children:"6"}),d.jsx("td",{children:"Perform operations (HTTP, code, files, storage)"})]}),d.jsxs("tr",{children:[d.jsx("td",{style:{color:"#ffab00"},children:"Logic"}),d.jsx("td",{children:"4"}),d.jsx("td",{children:"Control flow (if/else, loop, switch, merge)"})]}),d.jsxs("tr",{children:[d.jsx("td",{style:{color:"#e040fb"},children:"AI"}),d.jsx("td",{children:"7"}),d.jsx("td",{children:"AI capabilities (LLM, memory, TTS, images, Python)"})]})]})]})})]})]}),s=()=>d.jsxs("div",{className:"docs-article",children:[d.jsxs("div",{className:"article-header",children:[d.jsx("div",{className:"article-icon",children:""}),d.jsx("div",{children:d.jsx("h2",{className:"article-title",children:"Keyboard Shortcuts"})})]}),d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:"General"}),d.jsxs("div",{className:"shortcuts-list",children:[d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Save Workflow"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + S"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Run Workflow"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + Enter"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Undo"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + Z"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Redo"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + Shift + Z"})]})]})]}),d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:"Node Operations"}),d.jsxs("div",{className:"shortcuts-list",children:[d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Delete Selected"}),d.jsx("span",{className:"shortcut-key",children:"Delete / Backspace"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Copy Node"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + C"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Paste Node"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + V"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Duplicate Node"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + D"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Select All"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + A"})]})]})]}),d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:"Canvas Navigation"}),d.jsxs("div",{className:"shortcuts-list",children:[d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Pan Canvas"}),d.jsx("span",{className:"shortcut-key",children:"Space + Drag"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Zoom In/Out"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + +/-"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Fit to Screen"}),d.jsx("span",{className:"shortcut-key",children:"Ctrl + 0"})]}),d.jsxs("div",{className:"shortcut-row",children:[d.jsx("span",{children:"Scroll Zoom"}),d.jsx("span",{className:"shortcut-key",children:"Mouse Wheel"})]})]})]})]}),c=p=>{const h=Vc[p];return h?d.jsxs("div",{className:"docs-article",children:[d.jsxs("div",{className:"article-header",children:[d.jsx("div",{className:"article-icon",children:h.icon}),d.jsxs("div",{children:[d.jsx("h2",{className:"article-title",children:h.title}),h.category&&d.jsx("div",{className:"article-category",children:h.category})]})]}),d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Overview"}),d.jsx("p",{children:h.overview})]}),h.technicalDetails&&d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Technical Details"}),d.jsx("div",{className:"markdown-content",children:d.jsx(n1,{remarkPlugins:[BI],children:h.technicalDetails.trim()})})]}),h.config&&h.config.length>0&&d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Configuration"}),d.jsxs("table",{className:"config-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Property"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Description"}),d.jsx("th",{children:"Default"})]})}),d.jsx("tbody",{children:h.config.map((m,g)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:m.name})}),d.jsx("td",{children:d.jsx("code",{children:m.type})}),d.jsx("td",{children:m.desc}),d.jsx("td",{children:d.jsx("code",{children:m.default||"-"})})]},g))})]})]}),h.examples&&h.examples.length>0&&d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Examples"}),h.examples.map((m,g)=>d.jsxs("div",{className:"example-block",children:[d.jsx("h4",{children:m.title}),d.jsx("p",{className:"example-desc",children:m.description}),m.config&&d.jsxs("div",{className:"example-config",children:[d.jsx("strong",{children:"Configuration:"}),d.jsx("div",{className:"code-block",children:m.config})]}),m.code&&d.jsxs("div",{className:"example-code",children:[d.jsx("strong",{children:"Code:"}),d.jsx("div",{className:"code-block",children:m.code})]}),m.flow&&d.jsxs("div",{className:"example-flow",children:[d.jsx("strong",{children:"Workflow:"}),d.jsx("div",{className:"code-block",children:m.flow})]}),m.output&&d.jsxs("div",{className:"example-output",children:[d.jsx("strong",{children:"Output:"}),d.jsx("div",{className:"code-block",children:m.output})]}),m.routing&&d.jsxs("div",{className:"example-routing",children:[d.jsx("strong",{children:"Routing:"}),d.jsx("div",{className:"code-block",children:m.routing})]}),m.result&&d.jsxs("div",{className:"example-result",children:[d.jsx("strong",{children:"Result:"}),d.jsx("div",{className:"code-block",children:m.result})]})]},g))]}),h.connections&&d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Connections"}),d.jsxs("div",{className:"connections-info",children:[d.jsxs("div",{className:"connection-item",children:[d.jsx("span",{className:"connection-label",children:"Inputs:"}),d.jsx("span",{className:"connection-value",children:h.connections.inputs})]}),d.jsxs("div",{className:"connection-item",children:[d.jsx("span",{className:"connection-label",children:"Outputs:"}),d.jsx("span",{className:"connection-value",children:h.connections.outputs})]}),h.connections.outputLabels&&d.jsxs("div",{className:"connection-item",children:[d.jsx("span",{className:"connection-label",children:"Output Labels:"}),d.jsx("span",{className:"connection-value",children:h.connections.outputLabels.join(", ")})]})]})]}),h.tips&&h.tips.length>0&&d.jsxs("div",{className:"article-section",children:[d.jsx("h3",{children:" Tips & Best Practices"}),d.jsx("ul",{className:"tips-list",children:h.tips.map((m,g)=>d.jsx("li",{children:m},g))})]})]}):null},f=()=>n==="welcome"?l():n==="shortcuts"?s():c(n);return d.jsx("div",{className:"docs-overlay",onClick:e,children:d.jsxs("div",{className:"docs-modal",onClick:p=>p.stopPropagation(),children:[d.jsxs("header",{className:"docs-header",children:[d.jsx("h2",{children:" IOSANS Documentation"}),d.jsx("button",{className:"docs-close-btn",onClick:e,children:""})]}),d.jsxs("div",{className:"docs-body",children:[a(),d.jsx("div",{className:"docs-content",children:f()})]})]})})}const UI=T.memo($I),C1="workflow_automations";function qI(e){const n=VI(),i=e.id||Date.now().toString(),a={...e,id:i,updatedAt:new Date().toISOString(),createdAt:e.createdAt||new Date().toISOString()};return n[i]=a,localStorage.setItem(C1,JSON.stringify(n)),i}function VI(){try{const e=localStorage.getItem(C1);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to load workflows:",e),{}}}function FI(e){const n=JSON.stringify(e,null,2),i=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=`${e.name||"workflow"}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}function GI(e){return new Promise((n,i)=>{const a=new FileReader;a.onload=l=>{try{const s=JSON.parse(l.target.result);if(!s.nodes||!Array.isArray(s.nodes))throw new Error("Invalid workflow: missing nodes array");if(!s.edges||!Array.isArray(s.edges))throw new Error("Invalid workflow: missing edges array");s.id=Date.now().toString(),s.name=s.name+" (Imported)",n(s)}catch(s){i(new Error("Failed to parse workflow file: "+s.message))}},a.onerror=()=>{i(new Error("Failed to read file"))},a.readAsText(e)})}function YI(){const e=T.useRef(null),n=Ga(),[i,a]=T.useState(!1),[l,s]=T.useState(!1),c=Ce(H=>H.workflowName),f=Ce(H=>H.setWorkflowName),p=Ce(H=>H.nodes),h=Ce(H=>H.clearWorkflow),m=Ce(H=>H.loadWorkflow),g=Ce(H=>H.getWorkflowData),v=We(H=>H.clearLogs),[b,w]=T.useState(!1);T.useEffect(()=>{const H=()=>w(!0),M=()=>w(!1);return window.addEventListener("audioStart",H),window.addEventListener("audioEnd",M),()=>{window.removeEventListener("audioStart",H),window.removeEventListener("audioEnd",M)}},[]);const S=T.useCallback(()=>{"speechSynthesis"in window&&(window.speechSynthesis.cancel(),window.dispatchEvent(new CustomEvent("audioEnd")))},[]),C=T.useCallback(()=>{const H=g();qI(H),n.success("Workflow saved successfully!")},[g,n]),N=T.useCallback(()=>{const H=g();FI(H),n.success(`Exported "${H.name}.json"`)},[g,n]),k=T.useCallback(()=>{e.current?.click()},[]),j=T.useCallback(async H=>{const M=H.target.files?.[0];if(M){try{const O=await GI(M);m(O),n.success(`Imported "${O.name}"`)}catch(O){console.error("Import failed:",O),n.error("Import failed: "+O.message)}H.target.value=""}},[m,n]),_=T.useCallback(()=>{p.length!==0&&(h(),v(),n.info("Workflow cleared"))},[p.length,h,v,n]);return d.jsxs("header",{className:"toolbar",children:[d.jsxs("div",{className:"toolbar-left",children:[d.jsx("button",{className:"btn-nav",onClick:()=>a(!0),children:"Tutorial"}),d.jsx("button",{className:"btn-nav",onClick:()=>s(!0),children:"Docs"})]}),d.jsxs("div",{className:"toolbar-center",children:[d.jsx("input",{type:"text",className:"workflow-name-input",value:c,onChange:H=>f(H.target.value),placeholder:"Untitled Workflow"}),b&&d.jsx("button",{className:"btn-stop-audio",onClick:S,title:"Stop all audio playback",children:" Stop Audio"})]}),d.jsxs("div",{className:"toolbar-right",children:[d.jsx("button",{onClick:C,title:"Save workflow",disabled:p.length===0,children:" Save"}),d.jsx("button",{onClick:N,title:"Export to JSON",disabled:p.length===0,children:" Export"}),d.jsx("button",{onClick:k,title:"Import from JSON",children:" Import"}),d.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openWorkflowManager")),title:"Manage saved workflows",children:" Manage"}),d.jsx("button",{onClick:_,title:"Clear canvas",className:"btn-danger",disabled:p.length===0,children:" Clear"}),d.jsx("input",{type:"file",ref:e,accept:".json",onChange:j,style:{display:"none"}})]}),i&&d.jsx(m_,{onClose:()=>a(!1)}),l&&d.jsx(UI,{onClose:()=>s(!1)})]})}const XI=T.memo(YI);function Fh(e){return e===null?"null":e===void 0?"undefined":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":"unknown"}function Gh(e,n){switch(n){case"null":return"null";case"undefined":return"undefined";case"string":return`"${e.length>100?e.slice(0,100)+"...":e}"`;case"number":case"boolean":return String(e);case"array":return`Array(${e.length})`;case"object":return`Object{${Object.keys(e).length}}`;default:return String(e)}}function Yh({keyName:e,value:n,depth:i=0,path:a=""}){const[l,s]=T.useState(i<2),c=Fh(n),f=c==="object"||c==="array",p=a?`${a}.${e}`:e,h=T.useCallback(g=>{g.stopPropagation();const v=typeof n=="string"?n:JSON.stringify(n,null,2);navigator.clipboard.writeText(v)},[n]),m=()=>{f&&s(!l)};return d.jsxs("div",{className:"tree-node",style:{paddingLeft:i*16},children:[d.jsxs("div",{className:"tree-node-header",onClick:m,children:[f&&d.jsx("span",{className:`tree-expand ${l?"expanded":""}`,children:""}),e!==void 0&&d.jsxs("span",{className:"tree-key",children:[e,":"]}),d.jsx("span",{className:`tree-value type-${c}`,children:f&&!l?Gh(n,c):c==="array"?"[":c==="object"?"{":Gh(n,c)}),d.jsx("button",{className:"tree-copy-btn",onClick:h,title:`Copy ${p||"value"}`,children:""})]}),f&&l&&d.jsxs("div",{className:"tree-children",children:[c==="array"?n.map((g,v)=>d.jsx(Yh,{keyName:v,value:g,depth:i+1,path:p},v)):Object.entries(n).map(([g,v])=>d.jsx(Yh,{keyName:g,value:v,depth:i+1,path:p},g)),d.jsx("div",{className:"tree-bracket",style:{paddingLeft:i*16},children:c==="array"?"]":"}"})]})]})}function QI({data:e}){if(!Array.isArray(e)||e.length===0)return d.jsx("div",{className:"table-empty",children:"No data to display"});const n=[...new Set(e.flatMap(i=>typeof i=="object"&&i!==null?Object.keys(i):[]))];return n.length===0?d.jsx("div",{className:"table-empty",children:"Array contains non-object values"}):d.jsxs("div",{className:"data-table-wrapper",children:[d.jsxs("table",{className:"data-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"#"}),n.map(i=>d.jsx("th",{children:i},i))]})}),d.jsx("tbody",{children:e.slice(0,100).map((i,a)=>d.jsxs("tr",{children:[d.jsx("td",{className:"row-index",children:a}),n.map(l=>d.jsx("td",{className:`type-${Fh(i?.[l])}`,children:Gh(i?.[l],Fh(i?.[l]))},l))]},a))})]}),e.length>100&&d.jsxs("div",{className:"table-more",children:["+ ",e.length-100," more rows"]})]})}function ZI({data:e,title:n,showViewToggle:i=!0}){const[a,l]=T.useState("tree"),[s,c]=T.useState(""),f=T.useCallback(()=>{navigator.clipboard.writeText(JSON.stringify(e,null,2))},[e]),p=s?JSON.parse(JSON.stringify(e,(g,v)=>{if(typeof v=="string"&&v.toLowerCase().includes(s.toLowerCase())||typeof g=="string"&&g.toLowerCase().includes(s.toLowerCase())||typeof v=="object")return v})):e,m=Array.isArray(e)&&e.length>0&&typeof e[0]=="object";return d.jsxs("div",{className:"data-viewer",children:[d.jsxs("div",{className:"data-viewer-header",children:[n&&d.jsx("span",{className:"data-viewer-title",children:n}),d.jsxs("div",{className:"data-viewer-controls",children:[d.jsx("input",{type:"text",className:"data-search",placeholder:"Search...",value:s,onChange:g=>c(g.target.value)}),i&&d.jsxs("div",{className:"view-toggle",children:[d.jsx("button",{className:a==="tree"?"active":"",onClick:()=>l("tree"),title:"Tree view",children:""}),m&&d.jsx("button",{className:a==="table"?"active":"",onClick:()=>l("table"),title:"Table view",children:""}),d.jsx("button",{className:a==="raw"?"active":"",onClick:()=>l("raw"),title:"Raw JSON"})]}),d.jsx("button",{className:"copy-all-btn",onClick:f,title:"Copy all",children:" Copy"})]})]}),d.jsx("div",{className:"data-viewer-content",children:e==null?d.jsx("div",{className:"data-empty",children:"No data available"}):a==="tree"?d.jsx(Yh,{value:p,depth:0}):a==="table"&&m?d.jsx(QI,{data:e}):d.jsx("pre",{className:"data-raw",children:JSON.stringify(e,null,2)})})]})}const hh=T.memo(ZI);function WI(){const e=T.useRef(null),[n]=T.useState(null),[i,a]=T.useState(new Set),[l,s]=T.useState(new Set),[c,f]=T.useState("logs"),[p,h]=T.useState(320),[m,g]=T.useState(!1),v=T.useRef({startX:0,startWidth:320}),b=We(A=>A.logs),w=We(A=>A.artifacts),S=We(A=>A.isRunning),C=We(A=>A.currentNodeId),N=We(A=>A.getExecutionDuration),k=We(A=>A.clearLogs);T.useEffect(()=>{c==="logs"&&e.current?.scrollIntoView({behavior:"smooth"})},[b,c]);const j=b.find(A=>A.id===n),_=b.filter(A=>A.data&&A.type!=="artifact"),H=A=>new Date(A).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),M=A=>{switch(A){case"info":return"";case"success":return"";case"error":return"";case"warning":return"";case"ai":return"";case"node":return"";case"artifact":return"";default:return""}},O=A=>A<1e3?`${A}ms`:`${(A/1e3).toFixed(2)}s`,V=A=>{a(P=>{const D=new Set(P);return D.has(A)?D.delete(A):D.add(A),D})},G=T.useCallback(A=>{s(P=>{const D=new Set(P);return D.has(A)?D.delete(A):D.add(A),D})},[]),I=T.useCallback(A=>{const P=A.data;let D;P instanceof Blob?D=P:typeof P=="string"?D=new Blob([P],{type:A.type||"text/plain"}):D=new Blob([JSON.stringify(P,null,2)],{type:"application/json"});const q=URL.createObjectURL(D),U=document.createElement("a");U.href=q,U.download=A.name||`artifact_${A.id}.txt`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(q)},[]),$=T.useCallback(A=>A?A.includes("audio")?"":A.includes("image")?"":A.includes("json")?"":A.includes("text")?"":"":"",[]),F=async()=>{const A=b.map(P=>{const D=H(P.timestamp),q=P.nodeName||P.nodeId||"",U=P.data?`
  Data: ${JSON.stringify(P.data,null,2)}`:"";return`[${D}] ${q?`[${q}] `:""}${P.message}${U}`}).join(`
`);try{await navigator.clipboard.writeText(A),alert("Logs copied to clipboard!")}catch(P){console.error("Failed to copy logs:",P)}},ee=A=>{A.preventDefault(),g(!0),v.current={startX:A.clientX,startWidth:p}};return T.useEffect(()=>{if(!m)return;const A=D=>{const q=v.current.startX-D.clientX,U=Math.max(240,Math.min(600,v.current.startWidth+q));h(U)},P=()=>{g(!1)};return document.addEventListener("mousemove",A),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",P)}},[m]),d.jsxs("aside",{className:`execution-panel ${m?"resizing":""}`,style:{width:`${p}px`},children:[d.jsx("div",{className:"ep-resize-handle",onMouseDown:ee,title:"Drag to resize"}),d.jsxs("header",{className:"panel-header",children:[d.jsxs("div",{className:"panel-tabs",children:[d.jsxs("button",{className:`tab-btn ${c==="logs"?"active":""}`,onClick:()=>f("logs"),children:[" Logs",b.length>0&&d.jsx("span",{className:"tab-badge",children:b.length})]}),d.jsxs("button",{className:`tab-btn ${c==="output"?"active":""}`,onClick:()=>f("output"),children:[" Output",_.length>0&&d.jsx("span",{className:"tab-badge",children:_.length})]}),d.jsxs("button",{className:`tab-btn ${c==="artifacts"?"active":""}`,onClick:()=>f("artifacts"),children:[" Artifacts",w.length>0&&d.jsx("span",{className:"tab-badge",children:w.length})]})]}),d.jsxs("div",{className:"panel-actions",children:[S&&d.jsxs("span",{className:"running-indicator",children:[d.jsx("span",{className:"pulse-dot"}),"Running..."]}),d.jsx("button",{className:"btn-icon",onClick:F,title:"Copy all logs",disabled:b.length===0,children:""}),d.jsx("button",{className:"btn-icon",onClick:k,title:"Clear logs",disabled:b.length===0,children:""})]})]}),d.jsxs("div",{className:"panel-content",children:[c==="logs"&&d.jsx(d.Fragment,{children:b.length===0?d.jsxs("div",{className:"empty-logs",children:[d.jsx("p",{children:"No logs yet"}),d.jsx("p",{className:"hint",children:"Run a workflow to see execution logs"})]}):d.jsxs("div",{className:"logs-list",children:[b.map(A=>d.jsxs("div",{className:`log-entry log-${A.type||"info"} ${n===A.id?"selected":""} ${A.data?"has-data":""} ${i.has(A.id)?"expanded":""}`,children:[d.jsxs("div",{className:"log-main",onClick:()=>V(A.id),children:[d.jsx("span",{className:"log-icon",children:M(A.type)}),d.jsx("span",{className:"log-time",children:H(A.timestamp)}),d.jsxs("div",{className:"log-content",children:[A.nodeId&&d.jsxs("span",{className:"log-node",children:["[",A.nodeName||A.nodeId,"]"]}),d.jsx("span",{className:`log-message ${i.has(A.id)?"expanded":""}`,children:A.message}),(A.data||A.message.length>60)&&d.jsx("span",{className:"log-expand-indicator",title:"Click to expand",children:i.has(A.id)?"":""})]})]}),i.has(A.id)&&A.data&&d.jsx("div",{className:"log-data-expanded",children:d.jsx(hh,{data:A.data})})]},A.id)),d.jsx("div",{ref:e})]})}),c==="output"&&d.jsx(d.Fragment,{children:_.length===0?d.jsxs("div",{className:"empty-logs",children:[d.jsx("p",{children:"No output data yet"}),d.jsx("p",{className:"hint",children:"Node outputs will appear here"})]}):d.jsx("div",{className:"outputs-list",children:_.map(A=>d.jsxs("div",{className:"output-item",children:[d.jsxs("div",{className:"output-header",children:[d.jsxs("span",{className:"output-node",children:[M(A.type)," ",A.nodeName||A.nodeId]}),d.jsx("span",{className:"output-time",children:H(A.timestamp)})]}),d.jsx("div",{className:"output-data",children:d.jsx(hh,{data:A.data})})]},A.id))})}),c==="artifacts"&&d.jsx(d.Fragment,{children:w.length===0?d.jsxs("div",{className:"empty-logs",children:[d.jsx("p",{children:"No artifacts yet"}),d.jsx("p",{className:"hint",children:"Generated files and data will appear here"})]}):d.jsx("div",{className:"artifacts-list",children:w.map(A=>{const P=l.has(A.id),D=A.type?.includes("text")||A.type?.includes("json"),q=A.type?.includes("audio"),U=typeof A.data=="string"?A.data.slice(0,500):JSON.stringify(A.data,null,2).slice(0,500);return d.jsxs("div",{className:`artifact-item ${P?"expanded":""}`,children:[d.jsxs("div",{className:"artifact-header",onClick:()=>G(A.id),children:[d.jsx("span",{className:"artifact-icon",children:$(A.type)}),d.jsxs("div",{className:"artifact-info",children:[d.jsx("span",{className:"artifact-name",children:A.name||"Artifact"}),d.jsxs("span",{className:"artifact-meta",children:[A.type?.split("/")[1]||"file"," "," ",new Date(A.timestamp).toLocaleTimeString()]})]}),d.jsx("span",{className:"artifact-expand-icon",children:P?"":""})]}),P&&d.jsxs("div",{className:"artifact-content",children:[D&&A.data&&d.jsxs("pre",{className:"artifact-preview",children:[U,typeof A.data=="string"&&A.data.length>500&&d.jsx("span",{className:"preview-truncated",children:"... (truncated)"})]}),q&&A.data instanceof Blob&&d.jsx("audio",{className:"artifact-audio-player",controls:!0,src:URL.createObjectURL(A.data)}),d.jsx("button",{className:"artifact-download-btn",onClick:Z=>{Z.stopPropagation(),I(A)},children:" Download"})]})]},A.id)})})})]}),j?.data&&c==="logs"&&d.jsx("div",{className:"data-viewer-panel",children:d.jsx(hh,{data:j.data,title:`Output: ${j.nodeName||j.nodeId||"Data"}`})}),d.jsx("footer",{className:"panel-footer",children:d.jsxs("span",{className:"execution-stats",children:[S&&C&&d.jsxs("span",{children:["Current: ",d.jsx("strong",{children:C})]}),!S&&b.length>0&&d.jsxs("span",{children:["Total: ",O(N())]})]})})]})}const KI=T.memo(WI);function JI({value:e,onChange:n,placeholder:i,multiline:a=!1,previewContext:l={}}){const[s,c]=T.useState(!1),[f,p]=T.useState(""),[h,m]=T.useState(0),g=T.useRef(null),b=M2().filter(M=>M.name.toLowerCase().includes(f.toLowerCase())||M.description.toLowerCase().includes(f.toLowerCase())),w=T.useCallback((M,O)=>{const V=M.slice(0,O),G=V.lastIndexOf("{{"),I=V.lastIndexOf("}}");return G>I},[]),S=M=>{const O=M.target.value,V=M.target.selectionStart;if(m(V),n(O),w(O,V)){const G=O.slice(0,V),I=G.lastIndexOf("{{"),$=G.slice(I+2).trim();p($),c(!0)}else c(!1)},C=M=>{const O=e.slice(0,h),V=e.slice(h),G=O.lastIndexOf("{{"),$=O.slice(0,G+2)+" "+M.name+" }}"+V;n($),c(!1),setTimeout(()=>{g.current?.focus()},0)},N=M=>{M.key==="Escape"&&c(!1)},k=e&&e.includes("{{"),j=k?qc(e,{input:l}):null,_=!k||!j?.includes("{{ERROR:"),H=a?"textarea":"input";return d.jsxs("div",{className:"expression-input-wrapper",children:[d.jsxs("div",{className:`expression-input-container ${_?"":"error"}`,children:[d.jsx(H,{ref:g,type:a?void 0:"text",value:e||"",onChange:S,onKeyDown:N,onBlur:()=>setTimeout(()=>c(!1),200),placeholder:i,className:`expression-input ${k?"has-expression":""}`}),k&&d.jsx("span",{className:"expression-badge",title:"Contains expressions",children:"{{ }}"})]}),s&&b.length>0&&d.jsx("div",{className:"expression-autocomplete",children:b.slice(0,10).map(M=>d.jsxs("button",{className:"autocomplete-option",onMouseDown:()=>C(M),children:[d.jsx("span",{className:"option-name",children:M.name}),d.jsx("span",{className:"option-desc",children:M.description}),d.jsx("code",{className:"option-example",children:M.example})]},M.name))}),k&&j&&d.jsxs("div",{className:`expression-preview ${_?"":"error"}`,children:[d.jsx("span",{className:"preview-label",children:"Preview:"}),d.jsx("span",{className:"preview-value",children:j.length>100?j.slice(0,100)+"...":j})]})]})}const e4=T.memo(JI),t4=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"];function n4({data:e,onUpdate:n}){return d.jsxs("div",{className:"http-request-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Request"}),d.jsxs("div",{className:"config-row",children:[d.jsxs("div",{className:"config-field",style:{flex:"0 0 100px"},children:[d.jsx("label",{children:"Method"}),d.jsx("select",{value:e.method||"GET",onChange:i=>n({method:i.target.value}),children:t4.map(i=>d.jsx("option",{value:i,children:i},i))})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"URL"}),d.jsx(e4,{value:e.url||"",onChange:i=>n({url:i}),placeholder:"https://api.example.com/{{ $json.endpoint }}"}),d.jsxs("p",{className:"hint",children:["Use ","{{ expression }}"," for dynamic values"]})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Headers"}),d.jsxs("div",{className:"config-field",children:[d.jsx("textarea",{value:typeof e.headers=="object"?JSON.stringify(e.headers,null,2):e.headers||"",onChange:i=>{try{const a=JSON.parse(i.target.value);n({headers:a})}catch{n({headers:i.target.value})}},placeholder:'{"Content-Type": "application/json"}',style:{minHeight:"80px"}}),d.jsx("p",{className:"hint",children:"JSON object with header key-value pairs"})]})]}),e.method!=="GET"&&e.method!=="HEAD"&&d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Body"}),d.jsxs("div",{className:"config-field",children:[d.jsx("textarea",{value:typeof e.body=="object"?JSON.stringify(e.body,null,2):e.body||"",onChange:i=>n({body:i.target.value}),placeholder:'{"key": "value"}',style:{minHeight:"100px"}}),d.jsxs("p",{className:"hint",children:["Request body (JSON or text). Use ","{{field}}"," for templating."]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Options & Error Handling"}),d.jsxs("div",{className:"config-row",children:[d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Timeout (ms)"}),d.jsx("input",{type:"number",value:e.timeout||3e4,onChange:i=>n({timeout:parseInt(i.target.value,10)}),min:1e3,max:3e5})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Retry Count"}),d.jsx("input",{type:"number",value:e.retries||0,onChange:i=>n({retries:parseInt(i.target.value,10)}),min:0,max:10}),d.jsx("p",{className:"hint",children:"0 = no retries"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Retry Delay (ms)"}),d.jsx("input",{type:"number",value:e.retryDelay||1e3,onChange:i=>n({retryDelay:parseInt(i.target.value,10)}),min:100,max:3e4,disabled:!e.retries||e.retries===0}),d.jsx("p",{className:"hint",children:"Uses exponential backoff"})]})]})]})]})}const i4=T.memo(n4);function E0(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,a=Array(n);i<n;i++)a[i]=e[i];return a}function r4(e){if(Array.isArray(e))return e}function a4(e,n,i){return(n=f4(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function o4(e,n){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,s,c,f=[],p=!0,h=!1;try{if(s=(i=i.call(e)).next,n!==0)for(;!(p=(a=s.call(i)).done)&&(f.push(a.value),f.length!==n);p=!0);}catch(m){h=!0,l=m}finally{try{if(!p&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(h)throw l}}return f}}function l4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function C0(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?j0(Object(i),!0).forEach(function(a){a4(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j0(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function s4(e,n){if(e==null)return{};var i,a,l=c4(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)i=s[a],n.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(l[i]=e[i])}return l}function c4(e,n){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;i[a]=e[a]}return i}function u4(e,n){return r4(e)||o4(e,n)||h4(e,n)||l4()}function d4(e,n){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function f4(e){var n=d4(e,"string");return typeof n=="symbol"?n:n+""}function h4(e,n){if(e){if(typeof e=="string")return E0(e,n);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E0(e,n):void 0}}function p4(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function k0(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function T0(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?k0(Object(i),!0).forEach(function(a){p4(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k0(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function m4(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(a){return n.reduceRight(function(l,s){return s(l)},a)}}function al(e){return function n(){for(var i=this,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return l.length>=e.length?e.apply(this,l):function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return n.apply(i,[].concat(l,f))}}}function Qc(e){return{}.toString.call(e).includes("Object")}function g4(e){return!Object.keys(e).length}function Nl(e){return typeof e=="function"}function y4(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function x4(e,n){return Qc(n)||or("changeType"),Object.keys(n).some(function(i){return!y4(e,i)})&&or("changeField"),n}function v4(e){Nl(e)||or("selectorType")}function b4(e){Nl(e)||Qc(e)||or("handlerType"),Qc(e)&&Object.values(e).some(function(n){return!Nl(n)})&&or("handlersType")}function w4(e){e||or("initialIsRequired"),Qc(e)||or("initialType"),g4(e)&&or("initialContent")}function S4(e,n){throw new Error(e[n]||e.default)}var N4={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},or=al(S4)(N4),wc={changes:x4,selector:v4,handler:b4,initial:w4};function E4(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wc.initial(e),wc.handler(n);var i={current:e},a=al(k4)(i,n),l=al(C4)(i),s=al(wc.changes)(e),c=al(j4)(i);function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(m){return m};return wc.selector(h),h(i.current)}function p(h){m4(a,l,s,c)(h)}return[f,p]}function j4(e,n){return Nl(n)?n(e.current):n}function C4(e,n){return e.current=T0(T0({},e.current),n),n}function k4(e,n,i){return Nl(n)?n(e.current):Object.keys(i).forEach(function(a){var l;return(l=n[a])===null||l===void 0?void 0:l.call(n,e.current[a])}),i}var T4={create:E4},A4={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function M4(e){return function n(){for(var i=this,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return l.length>=e.length?e.apply(this,l):function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return n.apply(i,[].concat(l,f))}}}function D4(e){return{}.toString.call(e).includes("Object")}function _4(e){return e||A0("configIsRequired"),D4(e)||A0("configType"),e.urls?(O4(),{paths:{vs:e.urls.monacoBase}}):e}function O4(){console.warn(k1.deprecation)}function R4(e,n){throw new Error(e[n]||e.default)}var k1={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},A0=M4(R4)(k1),z4={config:_4},L4=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return function(l){return i.reduceRight(function(s,c){return c(s)},l)}};function T1(e,n){return Object.keys(n).forEach(function(i){n[i]instanceof Object&&e[i]&&Object.assign(n[i],T1(e[i],n[i]))}),C0(C0({},e),n)}var I4={type:"cancelation",msg:"operation is manually canceled"};function ph(e){var n=!1,i=new Promise(function(a,l){e.then(function(s){return n?l(I4):a(s)}),e.catch(l)});return i.cancel=function(){return n=!0},i}var B4=["monaco"],H4=T4.create({config:A4,isInitialized:!1,resolve:null,reject:null,monaco:null}),A1=u4(H4,2),zl=A1[0],gu=A1[1];function P4(e){var n=z4.config(e),i=n.monaco,a=s4(n,B4);gu(function(l){return{config:T1(l.config,a),monaco:i}})}function $4(){var e=zl(function(n){var i=n.monaco,a=n.isInitialized,l=n.resolve;return{monaco:i,isInitialized:a,resolve:l}});if(!e.isInitialized){if(gu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ph(mh);if(window.monaco&&window.monaco.editor)return M1(window.monaco),e.resolve(window.monaco),ph(mh);L4(U4,V4)(F4)}return ph(mh)}function U4(e){return document.body.appendChild(e)}function q4(e){var n=document.createElement("script");return e&&(n.src=e),n}function V4(e){var n=zl(function(a){var l=a.config,s=a.reject;return{config:l,reject:s}}),i=q4("".concat(n.config.paths.vs,"/loader.js"));return i.onload=function(){return e()},i.onerror=n.reject,i}function F4(){var e=zl(function(i){var a=i.config,l=i.resolve,s=i.reject;return{config:a,resolve:l,reject:s}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(i){var a=i.m||i;M1(a),e.resolve(a)},function(i){e.reject(i)})}function M1(e){zl().monaco||gu({monaco:e})}function G4(){return zl(function(e){var n=e.monaco;return n})}var mh=new Promise(function(e,n){return gu({resolve:e,reject:n})}),D1={config:P4,init:$4,__getMonacoInstance:G4},Y4={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},gh=Y4,X4={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Q4=X4;function Z4({children:e}){return Nn.createElement("div",{style:Q4.container},e)}var W4=Z4,K4=W4;function J4({width:e,height:n,isEditorReady:i,loading:a,_ref:l,className:s,wrapperProps:c}){return Nn.createElement("section",{style:{...gh.wrapper,width:e,height:n},...c},!i&&Nn.createElement(K4,null,a),Nn.createElement("div",{ref:l,style:{...gh.fullWidth,...!i&&gh.hide},className:s}))}var e5=J4,_1=T.memo(e5);function t5(e){T.useEffect(e,[])}var O1=t5;function n5(e,n,i=!0){let a=T.useRef(!0);T.useEffect(a.current||!i?()=>{a.current=!1}:e,n)}var un=n5;function dl(){}function za(e,n,i,a){return i5(e,a)||r5(e,n,i,a)}function i5(e,n){return e.editor.getModel(R1(e,n))}function r5(e,n,i,a){return e.editor.createModel(n,i,a?R1(e,a):void 0)}function R1(e,n){return e.Uri.parse(n)}function a5({original:e,modified:n,language:i,originalLanguage:a,modifiedLanguage:l,originalModelPath:s,modifiedModelPath:c,keepCurrentOriginalModel:f=!1,keepCurrentModifiedModel:p=!1,theme:h="light",loading:m="Loading...",options:g={},height:v="100%",width:b="100%",className:w,wrapperProps:S={},beforeMount:C=dl,onMount:N=dl}){let[k,j]=T.useState(!1),[_,H]=T.useState(!0),M=T.useRef(null),O=T.useRef(null),V=T.useRef(null),G=T.useRef(N),I=T.useRef(C),$=T.useRef(!1);O1(()=>{let P=D1.init();return P.then(D=>(O.current=D)&&H(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>M.current?A():P.cancel()}),un(()=>{if(M.current&&O.current){let P=M.current.getOriginalEditor(),D=za(O.current,e||"",a||i||"text",s||"");D!==P.getModel()&&P.setModel(D)}},[s],k),un(()=>{if(M.current&&O.current){let P=M.current.getModifiedEditor(),D=za(O.current,n||"",l||i||"text",c||"");D!==P.getModel()&&P.setModel(D)}},[c],k),un(()=>{let P=M.current.getModifiedEditor();P.getOption(O.current.editor.EditorOption.readOnly)?P.setValue(n||""):n!==P.getValue()&&(P.executeEdits("",[{range:P.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),P.pushUndoStop())},[n],k),un(()=>{M.current?.getModel()?.original.setValue(e||"")},[e],k),un(()=>{let{original:P,modified:D}=M.current.getModel();O.current.editor.setModelLanguage(P,a||i||"text"),O.current.editor.setModelLanguage(D,l||i||"text")},[i,a,l],k),un(()=>{O.current?.editor.setTheme(h)},[h],k),un(()=>{M.current?.updateOptions(g)},[g],k);let F=T.useCallback(()=>{if(!O.current)return;I.current(O.current);let P=za(O.current,e||"",a||i||"text",s||""),D=za(O.current,n||"",l||i||"text",c||"");M.current?.setModel({original:P,modified:D})},[i,n,l,e,a,s,c]),ee=T.useCallback(()=>{!$.current&&V.current&&(M.current=O.current.editor.createDiffEditor(V.current,{automaticLayout:!0,...g}),F(),O.current?.editor.setTheme(h),j(!0),$.current=!0)},[g,h,F]);T.useEffect(()=>{k&&G.current(M.current,O.current)},[k]),T.useEffect(()=>{!_&&!k&&ee()},[_,k,ee]);function A(){let P=M.current?.getModel();f||P?.original?.dispose(),p||P?.modified?.dispose(),M.current?.dispose()}return Nn.createElement(_1,{width:b,height:v,isEditorReady:k,loading:m,_ref:V,className:w,wrapperProps:S})}var o5=a5;T.memo(o5);function l5(e){let n=T.useRef();return T.useEffect(()=>{n.current=e},[e]),n.current}var s5=l5,Sc=new Map;function c5({defaultValue:e,defaultLanguage:n,defaultPath:i,value:a,language:l,path:s,theme:c="light",line:f,loading:p="Loading...",options:h={},overrideServices:m={},saveViewState:g=!0,keepCurrentModel:v=!1,width:b="100%",height:w="100%",className:S,wrapperProps:C={},beforeMount:N=dl,onMount:k=dl,onChange:j,onValidate:_=dl}){let[H,M]=T.useState(!1),[O,V]=T.useState(!0),G=T.useRef(null),I=T.useRef(null),$=T.useRef(null),F=T.useRef(k),ee=T.useRef(N),A=T.useRef(),P=T.useRef(a),D=s5(s),q=T.useRef(!1),U=T.useRef(!1);O1(()=>{let B=D1.init();return B.then(Y=>(G.current=Y)&&V(!1)).catch(Y=>Y?.type!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>I.current?z():B.cancel()}),un(()=>{let B=za(G.current,e||a||"",n||l||"",s||i||"");B!==I.current?.getModel()&&(g&&Sc.set(D,I.current?.saveViewState()),I.current?.setModel(B),g&&I.current?.restoreViewState(Sc.get(s)))},[s],H),un(()=>{I.current?.updateOptions(h)},[h],H),un(()=>{!I.current||a===void 0||(I.current.getOption(G.current.editor.EditorOption.readOnly)?I.current.setValue(a):a!==I.current.getValue()&&(U.current=!0,I.current.executeEdits("",[{range:I.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),I.current.pushUndoStop(),U.current=!1))},[a],H),un(()=>{let B=I.current?.getModel();B&&l&&G.current?.editor.setModelLanguage(B,l)},[l],H),un(()=>{f!==void 0&&I.current?.revealLine(f)},[f],H),un(()=>{G.current?.editor.setTheme(c)},[c],H);let Z=T.useCallback(()=>{if(!(!$.current||!G.current)&&!q.current){ee.current(G.current);let B=s||i,Y=za(G.current,a||e||"",n||l||"",B||"");I.current=G.current?.editor.create($.current,{model:Y,automaticLayout:!0,...h},m),g&&I.current.restoreViewState(Sc.get(B)),G.current.editor.setTheme(c),f!==void 0&&I.current.revealLine(f),M(!0),q.current=!0}},[e,n,i,a,l,s,h,m,g,c,f]);T.useEffect(()=>{H&&F.current(I.current,G.current)},[H]),T.useEffect(()=>{!O&&!H&&Z()},[O,H,Z]),P.current=a,T.useEffect(()=>{H&&j&&(A.current?.dispose(),A.current=I.current?.onDidChangeModelContent(B=>{U.current||j(I.current.getValue(),B)}))},[H,j]),T.useEffect(()=>{if(H){let B=G.current.editor.onDidChangeMarkers(Y=>{let L=I.current.getModel()?.uri;if(L&&Y.find(ie=>ie.path===L.path)){let ie=G.current.editor.getModelMarkers({resource:L});_?.(ie)}});return()=>{B?.dispose()}}return()=>{}},[H,_]);function z(){A.current?.dispose(),v?g&&Sc.set(s,I.current.saveViewState()):I.current.getModel()?.dispose(),I.current.dispose()}return Nn.createElement(_1,{width:b,height:w,isEditorReady:H,loading:p,_ref:$,className:S,wrapperProps:C})}var u5=c5,d5=T.memo(u5),z1=d5;const yh=new Map,el=new Map;async function f5(e,n=null){if(yh.has(e))return yh.get(e);if(el.has(e))return el.get(e);const i=new Promise((a,l)=>{if(!h5(e)){l(new Error(`Invalid CDN URL: ${e}`));return}const s=document.createElement("script");s.src=e,s.async=!0,s.onload=()=>{const c=n?window[n]:!0;yh.set(e,c),el.delete(e),a(c)},s.onerror=()=>{el.delete(e),l(new Error(`Failed to load library from: ${e}`))},document.head.appendChild(s)});return el.set(e,i),i}function h5(e){try{const n=new URL(e);return n.protocol!=="https:"?!1:["unpkg.com","cdn.jsdelivr.net","cdnjs.cloudflare.com","esm.sh","esm.run","cdn.skypack.dev","cdn.pika.dev","ga.jspm.io"].some(a=>n.hostname===a||n.hostname.endsWith(`.${a}`))}catch{return!1}}const Xh=[{name:"Lodash",url:"https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js",globalName:"_"},{name:"Axios",url:"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js",globalName:"axios"},{name:"Day.js",url:"https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js",globalName:"dayjs"},{name:"UUID",url:"https://cdn.jsdelivr.net/npm/uuid@8/dist/umd/uuid.min.js",globalName:"uuid"},{name:"Marked (Markdown)",url:"https://cdn.jsdelivr.net/npm/marked/marked.min.js",globalName:"marked"}],p5=Object.freeze(Object.defineProperty({__proto__:null,CDN_EXAMPLES:Xh,loadFromCDN:f5},Symbol.toStringTag,{value:"Module"}));function m5({data:e,onUpdate:n}){const[i,a]=T.useState(!1),l=T.useCallback(h=>{n({code:h||""})},[n]),s=T.useCallback(h=>{const m=e.cdnUrls||[];m.includes(h)||n({cdnUrls:[...m,h]}),a(!1)},[e.cdnUrls,n]),c=T.useCallback(h=>{const m=e.cdnUrls||[];n({cdnUrls:m.filter(g=>g!==h)})},[e.cdnUrls,n]),f="// Access input data via `input`\n// Return output data\nreturn input;",p=e.cdnUrls||[];return d.jsxs("div",{className:"code-executor-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"JavaScript Code"}),d.jsx("div",{className:"config-field monaco-container",children:d.jsx(z1,{height:"200px",language:"javascript",theme:"vs-dark",value:e.code||f,onChange:l,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:8,bottom:8},renderLineHighlight:"gutter",scrollbar:{verticalScrollbarSize:8,horizontalScrollbarSize:8}}})}),d.jsx("div",{className:"code-help",children:d.jsxs("p",{className:"hint",children:[d.jsx("strong",{children:"Available:"})," ",d.jsx("code",{children:"input"}),", ",d.jsx("code",{children:"context"})]})})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"config-section-title",children:[" CDN Libraries",d.jsx("button",{className:"add-cdn-btn",onClick:()=>a(!i),title:"Add library",children:"+"})]}),i&&d.jsxs("div",{className:"cdn-picker",children:[Xh.map(h=>d.jsxs("button",{className:"cdn-option",onClick:()=>s(h.url),children:[d.jsx("strong",{children:h.name}),d.jsxs("span",{className:"cdn-global",children:["window.",h.globalName]})]},h.name)),d.jsx("div",{className:"cdn-custom",children:d.jsx("input",{type:"text",placeholder:"https://cdn.jsdelivr.net/npm/...",onKeyDown:h=>{h.key==="Enter"&&h.target.value.trim()&&(s(h.target.value.trim()),h.target.value="")}})})]}),p.length>0?d.jsx("div",{className:"cdn-list",children:p.map(h=>{const m=Xh.find(g=>g.url===h);return d.jsxs("div",{className:"cdn-item",children:[d.jsx("span",{className:"cdn-name",children:m?.name||h.split("/").pop()}),d.jsx("button",{className:"cdn-remove",onClick:()=>c(h),children:""})]},h)})}):d.jsx("p",{className:"hint",style:{marginTop:"8px"},children:"No libraries loaded. Click + to add."})]})]})}const g5=T.memo(m5),y5=[{value:"set",label:"Set (replace)"},{value:"append",label:"Append (to array)"},{value:"merge",label:"Merge (objects)"}];function x5({data:e,onUpdate:n}){return d.jsxs("div",{className:"set-variable-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Variable"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Variable Name"}),d.jsx("input",{type:"text",value:e.variableName||"",onChange:i=>n({variableName:i.target.value}),placeholder:"data"}),d.jsx("p",{className:"hint",children:"The key to set on the output object"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Mode"}),d.jsx("select",{value:e.mode||"set",onChange:i=>n({mode:i.target.value}),children:y5.map(i=>d.jsx("option",{value:i.value,children:i.label},i.value))})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Value"}),d.jsxs("div",{className:"config-field",children:[d.jsx("textarea",{value:e.value||"",onChange:i=>n({value:i.target.value}),placeholder:"Value or expression",style:{minHeight:"80px"}}),d.jsxs("p",{className:"hint",children:["Use ","{{field.path}}"," to reference input data. Leave empty to use entire input."]})]})]})]})}const v5=T.memo(x5),b5=[{value:"equals",label:"Equals (==)"},{value:"notEquals",label:"Not Equals (!=)"},{value:"contains",label:"Contains"},{value:"greaterThan",label:"Greater Than (>)"},{value:"lessThan",label:"Less Than (<)"},{value:"isEmpty",label:"Is Empty"},{value:"isNotEmpty",label:"Is Not Empty"},{value:"isTrue",label:"Is Truthy"},{value:"isFalse",label:"Is Falsy"}];function w5({data:e,onUpdate:n}){const i=!["isEmpty","isNotEmpty","isTrue","isFalse"].includes(e.operator);return d.jsxs("div",{className:"if-else-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Condition"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Field Path"}),d.jsx("input",{type:"text",value:e.condition||"",onChange:a=>n({condition:a.target.value}),placeholder:"data.status"}),d.jsx("p",{className:"hint",children:"Path to the field to check (e.g., response.status)"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Operator"}),d.jsx("select",{value:e.operator||"equals",onChange:a=>n({operator:a.target.value}),children:b5.map(a=>d.jsx("option",{value:a.value,children:a.label},a.value))})]}),i&&d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Compare Value"}),d.jsx("input",{type:"text",value:e.compareValue||"",onChange:a=>n({compareValue:a.target.value}),placeholder:"value to compare"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Outputs"}),d.jsxs("div",{className:"output-info",children:[d.jsxs("div",{className:"output-row",children:[d.jsx("span",{className:"output-badge true",children:"Output 1"}),d.jsx("span",{children:"Condition is TRUE"})]}),d.jsxs("div",{className:"output-row",children:[d.jsx("span",{className:"output-badge false",children:"Output 2"}),d.jsx("span",{children:"Condition is FALSE"})]})]})]})]})}const S5=T.memo(w5);function N5({data:e,onUpdate:n}){return d.jsxs("div",{className:"loop-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Loop Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Iterations (repeat count)"}),d.jsx("input",{type:"number",value:e.iterations||1,onChange:i=>n({iterations:parseInt(i.target.value,10)||1}),min:1,max:1e3}),d.jsx("p",{className:"hint",children:"How many times the loop will repeat the workflow"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Items Path (optional)"}),d.jsx("input",{type:"text",value:e.itemsPath||"",onChange:i=>n({itemsPath:i.target.value}),placeholder:"items"}),d.jsx("p",{className:"hint",children:"Path to array in input data for item-based looping"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Max Items"}),d.jsx("input",{type:"number",value:e.maxIterations||100,onChange:i=>n({maxIterations:parseInt(i.target.value,10)}),min:1,max:1e4}),d.jsx("p",{className:"hint",children:"Maximum array items to process per iteration"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Outputs"}),d.jsxs("div",{className:"output-info",children:[d.jsxs("div",{className:"output-row",children:[d.jsx("span",{className:"output-badge loop",children:"loop "}),d.jsx("span",{children:"Connect back to repeat the workflow"})]}),d.jsxs("div",{className:"output-row",children:[d.jsx("span",{className:"output-badge done",children:"done "}),d.jsx("span",{children:"Fires when all iterations complete"})]})]})]})]})}const E5=T.memo(N5);function j5({data:e,onUpdate:n}){const i=T.useMemo(()=>e.routes||[],[e.routes]),a=T.useCallback(()=>{const c=[...i,{value:"",outputIndex:i.length}];n({routes:c})},[i,n]),l=T.useCallback((c,f,p)=>{const h=i.map((m,g)=>g===c?{...m,[f]:p}:m);n({routes:h})},[i,n]),s=T.useCallback(c=>{const f=i.filter((p,h)=>h!==c);n({routes:f})},[i,n]);return d.jsxs("div",{className:"switch-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Switch Field"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Field Path"}),d.jsx("input",{type:"text",value:e.field||"",onChange:c=>n({field:c.target.value}),placeholder:"status"}),d.jsx("p",{className:"hint",children:"Path to the field to switch on"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Routes"}),i.map((c,f)=>d.jsxs("div",{className:"route-row",children:[d.jsx("input",{type:"text",value:c.value,onChange:p=>l(f,"value",p.target.value),placeholder:`Value for output ${f+1}`,className:"route-value"}),d.jsxs("span",{className:"route-output",children:[" Output ",c.outputIndex+1]}),d.jsx("button",{className:"btn-icon btn-small",onClick:()=>s(f),title:"Remove route",children:""})]},f)),d.jsx("button",{className:"btn-add-route",onClick:a,children:"+ Add Route"}),d.jsx("p",{className:"hint",style:{marginTop:"8px",marginBottom:"8px"},children:"Routes map values to dynamic output handles"}),d.jsxs("div",{className:"config-field",style:{marginTop:"12px"},children:[d.jsx("label",{children:"Default Output"}),d.jsx("p",{className:"hint",children:'When no routes match, data flows to the "default" output handle'})]})]})]})}const C5=T.memo(j5),k5=[{value:"* * * * *",label:"Every minute"},{value:"*/5 * * * *",label:"Every 5 minutes"},{value:"*/15 * * * *",label:"Every 15 minutes"},{value:"0 * * * *",label:"Every hour"},{value:"0 0 * * *",label:"Every day at midnight"},{value:"0 9 * * 1-5",label:"Weekdays at 9 AM"},{value:"0 0 * * 0",label:"Every Sunday at midnight"}];function T5({data:e,onUpdate:n}){return d.jsxs("div",{className:"schedule-trigger-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Schedule"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Cron Expression"}),d.jsx("input",{type:"text",value:e.schedule||"*/5 * * * *",onChange:i=>n({schedule:i.target.value}),placeholder:"*/5 * * * *"}),d.jsx("p",{className:"hint",children:"Format: minute hour day month weekday"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Quick Presets"}),d.jsxs("select",{value:"",onChange:i=>{i.target.value&&n({schedule:i.target.value})},children:[d.jsx("option",{value:"",children:"Select a preset..."}),k5.map(i=>d.jsx("option",{value:i.value,children:i.label},i.value))]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Status"}),d.jsxs("div",{className:"config-toggle",children:[d.jsx("label",{children:"Enable Schedule"}),d.jsx("div",{className:`toggle-switch ${e.enabled?"active":""}`,onClick:()=>n({enabled:!e.enabled})})]}),d.jsx("p",{className:"hint",style:{marginTop:"8px"},children:"Note: Browser schedules use setInterval simulation. For production, use a proper scheduler."})]})]})}const A5=T.memo(T5),M5={recommended:" Recommended",qwen:" Qwen Models",medium:" Medium Models",tiny:" Tiny Models"};function D5({data:e,onUpdate:n}){const i=Ye(p=>p.availableModels),a=Ye(p=>p.downloadedModels),l=Ye(p=>p.status),s=Ye(p=>p.currentModelId),c=T.useMemo(()=>i.filter(p=>a.includes(p.id)),[i,a]),f=T.useMemo(()=>{const p={};for(const h of c){const m=h.category||"other";p[m]||(p[m]=[]),p[m].push(h)}return p},[c]);return d.jsxs("div",{className:"ai-agent-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Model"}),d.jsxs("div",{className:"config-field",children:[d.jsxs("label",{children:["AI Model ",c.length===0&&"(No models downloaded)"]}),c.length>0?d.jsx("select",{value:e.modelId||s||String(c[0]?.id),onChange:p=>n({modelId:p.target.value}),children:Object.entries(f).map(([p,h])=>d.jsx("optgroup",{label:M5[p]||p,children:h.map(m=>d.jsxs("option",{value:m.id,children:[m.name," (",m.size,")"]},m.id))},p))}):d.jsx("div",{className:"warning-box",style:{padding:"8px",background:"rgba(239, 68, 68, 0.1)",borderRadius:"4px",fontSize:"13px",color:"#fca5a5"},children:"Please download a model using the Model Switcher () in the AI Control Panel."}),d.jsxs("p",{className:"hint",children:["Status:"," ",d.jsx("span",{style:{color:l==="ready"?"var(--color-success)":"var(--color-warning)"},children:l==="ready"?" Ready":l==="loading"?" Loading...":" Not loaded"})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"System Prompt"}),d.jsxs("div",{className:"config-field",children:[d.jsx("textarea",{value:e.systemPrompt||"",onChange:p=>n({systemPrompt:p.target.value}),placeholder:"You are a helpful AI assistant...",style:{minHeight:"150px"}}),d.jsx("p",{className:"hint",children:"Define the agent's behavior and personality"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Reasoning Mode"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Strategy"}),d.jsxs("select",{value:e.reasoningMode||"auto",onChange:p=>n({reasoningMode:p.target.value}),children:[d.jsx("option",{value:"auto",children:" Auto (Smart Selection)"}),d.jsx("option",{value:"cot",children:" Chain-of-Thought (Step-by-Step)"}),d.jsx("option",{value:"tot",children:" Tree-of-Thoughts (Branching)"}),d.jsx("option",{value:"react",children:" ReAct (Tool Calling)"})]}),d.jsx("p",{className:"hint",children:e.reasoningMode==="cot"?"Linear step-by-step reasoning with audit trail":e.reasoningMode==="tot"?"Explores multiple branches, picks the best path":e.reasoningMode==="react"?"Thought  Action  Observation loop with tools":"Automatically selects based on task complexity"})]}),e.reasoningMode==="tot"&&d.jsx("div",{className:"config-row",children:d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Branch Count"}),d.jsx("input",{type:"number",value:e.branchCount||3,onChange:p=>n({branchCount:parseInt(p.target.value,10)}),min:2,max:5}),d.jsx("p",{className:"hint",children:"Number of reasoning paths to explore"})]})}),d.jsxs("div",{className:"config-field",children:[d.jsxs("label",{className:"toggle-label",children:[d.jsx("input",{type:"checkbox",checked:e.enableSelfCorrection||!1,onChange:p=>n({enableSelfCorrection:p.target.checked})}),"Enable Self-Correction (Critic)"]}),d.jsx("p",{className:"hint",children:"Second-pass verification to detect and fix errors before output"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Parameters"}),d.jsxs("div",{className:"config-row",children:[d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Temperature"}),d.jsx("input",{type:"number",value:e.temperature??.7,onChange:p=>n({temperature:parseFloat(p.target.value)}),min:0,max:2,step:.1}),d.jsx("p",{className:"hint",children:"0 = focused, 2 = creative"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Max Tokens"}),d.jsx("input",{type:"number",value:e.maxTokens||2e3,onChange:p=>n({maxTokens:parseInt(p.target.value,10)}),min:100,max:8e3,step:100})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Tool Calling (ReAct)"}),d.jsxs("div",{className:"config-field",children:[d.jsxs("label",{className:"toggle-label",children:[d.jsx("input",{type:"checkbox",checked:e.enableToolCalling!==!1,onChange:p=>n({enableToolCalling:p.target.checked})}),"Enable Tool Calling"]}),d.jsx("p",{className:"hint",children:"When enabled, the agent can call connected nodes as tools during reasoning"})]}),e.enableToolCalling!==!1&&d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Max Iterations"}),d.jsx("input",{type:"number",value:e.maxIterations||10,onChange:p=>n({maxIterations:parseInt(p.target.value,10)}),min:1,max:20}),d.jsx("p",{className:"hint",children:"Maximum ReAct loop iterations (prevents infinite loops)"})]}),d.jsxs("div",{className:"tools-info",children:[d.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px"},children:"Connected Tools"}),e.tools&&e.tools.length>0?d.jsx("ul",{className:"tools-list",children:e.tools.map((p,h)=>d.jsxs("li",{children:[d.jsx("span",{className:"tool-icon",children:""}),d.jsx("span",{className:"tool-name",children:p.name||p.nodeId}),d.jsx("span",{className:"tool-type",children:p.type})]},h))}):d.jsx("p",{className:"hint",style:{fontStyle:"italic"},children:"No tools connected. Connect nodes to this agent to use them as tools."})]})]})]})}const _5=T.memo(D5),M0=[{value:"text",label:"Text",icon:""},{value:"number",label:"Number",icon:""},{value:"dropdown",label:"Dropdown",icon:""},{value:"toggle",label:"Toggle",icon:""},{value:"textarea",label:"Text Area",icon:""},{value:"json",label:"JSON",icon:"{ }"}];function O5({data:e,onUpdate:n}){const[i,a]=T.useState(""),[l,s]=T.useState("text"),c=e.inputFields||[],f=e.inputValues||{},p=()=>{if(!i.trim())return;const S=`field_${Date.now()}`,C={id:S,name:i.trim(),type:l,options:l==="dropdown"?["Option 1","Option 2"]:void 0,defaultValue:h(l)};n({inputFields:[...c,C],inputValues:{...f,[S]:C.defaultValue}}),a("")},h=S=>{switch(S){case"number":return 0;case"toggle":return!1;case"json":return"{}";default:return""}},m=S=>{const C={...f};delete C[S],n({inputFields:c.filter(N=>N.id!==S),inputValues:C})},g=(S,C)=>{n({inputValues:{...f,[S]:C}})},v=(S,C)=>{const N=C.split(",").map(k=>k.trim()).filter(Boolean);n({inputFields:c.map(k=>k.id===S?{...k,options:N}:k)})},b=(S,C)=>{const N=[...c],k=C==="up"?S-1:S+1;k<0||k>=c.length||([N[S],N[k]]=[N[k],N[S]],n({inputFields:N}))},w=S=>{const C=f[S.id]??S.defaultValue;switch(S.type){case"number":return d.jsx("input",{type:"number",value:C,onChange:N=>g(S.id,parseFloat(N.target.value)||0)});case"toggle":return d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:C,onChange:N=>g(S.id,N.target.checked)}),d.jsx("span",{className:"toggle-slider"}),d.jsx("span",{className:"toggle-label",children:C?"On":"Off"})]});case"dropdown":return d.jsxs("select",{value:C,onChange:N=>g(S.id,N.target.value),children:[d.jsx("option",{value:"",children:"Select..."}),(S.options||[]).map((N,k)=>d.jsx("option",{value:N,children:N},k))]});case"textarea":return d.jsx("textarea",{value:C,onChange:N=>g(S.id,N.target.value),rows:3});case"json":return d.jsx("textarea",{value:C,onChange:N=>g(S.id,N.target.value),className:"json-input",rows:4,placeholder:'{"key": "value"}'});default:return d.jsx("input",{type:"text",value:C,onChange:N=>g(S.id,N.target.value)})}};return d.jsxs("div",{className:"manual-trigger-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Trigger Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Trigger Name"}),d.jsx("input",{type:"text",value:e.label||"Manual Trigger",onChange:S=>n({label:S.target.value}),placeholder:"Start Workflow"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"config-section-title",children:["Input Fields",d.jsx("span",{className:"field-count",children:c.length})]}),d.jsx("p",{className:"hint",children:"Define input fields that users will fill when running this workflow"}),d.jsxs("div",{className:"fields-list",children:[c.map((S,C)=>d.jsxs("div",{className:"field-item",children:[d.jsxs("div",{className:"field-header",children:[d.jsx("span",{className:"field-icon",children:M0.find(N=>N.value===S.type)?.icon||""}),d.jsx("span",{className:"field-name",children:S.name}),d.jsx("span",{className:"field-type",children:S.type}),d.jsxs("div",{className:"field-actions",children:[d.jsx("button",{className:"action-btn",onClick:()=>b(C,"up"),disabled:C===0,title:"Move up",children:""}),d.jsx("button",{className:"action-btn",onClick:()=>b(C,"down"),disabled:C===c.length-1,title:"Move down",children:""}),d.jsx("button",{className:"action-btn delete",onClick:()=>m(S.id),title:"Remove field",children:""})]})]}),d.jsx("div",{className:"field-input",children:w(S)}),S.type==="dropdown"&&d.jsxs("div",{className:"field-options",children:[d.jsx("label",{children:"Options (comma-separated)"}),d.jsx("input",{type:"text",value:(S.options||[]).join(", "),onChange:N=>v(S.id,N.target.value),placeholder:"Option 1, Option 2, Option 3"})]})]},S.id)),c.length===0&&d.jsxs("div",{className:"empty-fields",children:[d.jsx("p",{children:"No input fields defined"}),d.jsx("p",{className:"hint",children:"Add fields below to create a form"})]})]}),d.jsx("div",{className:"add-field-form",children:d.jsxs("div",{className:"add-field-row",children:[d.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),placeholder:"Field name...",className:"field-name-input",onKeyDown:S=>S.key==="Enter"&&p()}),d.jsx("select",{value:l,onChange:S=>s(S.target.value),className:"field-type-select",children:M0.map(S=>d.jsxs("option",{value:S.value,children:[S.icon," ",S.label]},S.value))}),d.jsx("button",{className:"add-field-btn",onClick:p,disabled:!i.trim(),children:"+ Add"})]})})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Output Preview"}),d.jsx("div",{className:"output-preview",children:d.jsx("pre",{children:JSON.stringify(f,null,2)})}),d.jsx("p",{className:"hint",children:"This data will be passed to connected nodes"})]})]})}const R5=T.memo(O5);function z5({data:e,onUpdate:n}){return d.jsx("div",{className:"config-sections",children:d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Voice Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Provider"}),d.jsxs("select",{value:e.provider||"webSpeech",onChange:i=>n({provider:i.target.value}),children:[d.jsx("option",{value:"webSpeech",children:"Web Speech API (Local)"}),d.jsx("option",{value:"elevenlabs",children:"ElevenLabs (API Key Required)"})]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Voice"}),d.jsxs("select",{value:e.voice||"default",onChange:i=>n({voice:i.target.value}),children:[d.jsx("option",{value:"default",children:"Default"}),d.jsx("option",{value:"Microsoft David",children:"Microsoft David"}),d.jsx("option",{value:"Microsoft Zira",children:"Microsoft Zira"}),d.jsx("option",{value:"Google US English",children:"Google US English"})]}),d.jsx("p",{className:"hint",children:"Available voices depend on your browser"})]}),d.jsxs("div",{className:"config-row",children:[d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Speed"}),d.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:e.speed||1,onChange:i=>n({speed:parseFloat(i.target.value)})}),d.jsxs("span",{className:"hint",children:[e.speed||1,"x"]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Pitch"}),d.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:e.pitch||1,onChange:i=>n({pitch:parseFloat(i.target.value)})}),d.jsx("span",{className:"hint",children:e.pitch||1})]})]}),d.jsxs("div",{className:"config-toggle",children:[d.jsx("label",{children:"Auto-play audio"}),d.jsx("div",{className:`toggle-switch ${e.autoPlay!==!1?"active":""}`,onClick:()=>n({autoPlay:e.autoPlay===!1})})]})]})})}const L5=T.memo(z5);function I5({data:e,onUpdate:n}){const i=T.useCallback(l=>{n({code:l||""})},[n]);return d.jsxs("div",{className:"config-sections",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Python Code"}),d.jsxs("div",{className:"config-field monaco-container",children:[d.jsx(z1,{height:"250px",language:"python",theme:"vs-dark",value:e.code||`# Access input via 'input' variable
# Set 'result' to output data
result = input`,onChange:i,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,wordWrap:"on",padding:{top:8,bottom:8},renderLineHighlight:"gutter",scrollbar:{verticalScrollbarSize:8,horizontalScrollbarSize:8}}}),d.jsx("p",{className:"hint",children:"Use 'input' to access incoming data. Set 'result' for output."})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Required Packages"}),d.jsx("input",{type:"text",value:(e.packages||[]).join(", "),onChange:l=>n({packages:l.target.value.split(",").map(s=>s.trim()).filter(Boolean)}),placeholder:"numpy, pandas, matplotlib"}),d.jsx("p",{className:"hint",children:"Comma-separated list of pip packages"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Timeout (ms)"}),d.jsx("input",{type:"number",value:e.timeout||3e4,onChange:l=>n({timeout:parseInt(l.target.value)}),min:1e3,max:3e5})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:" Tips"}),d.jsxs("ul",{className:"hint-list",children:[d.jsx("li",{children:"First run downloads Pyodide (~15MB)"}),d.jsx("li",{children:"Supports numpy, pandas, scipy, matplotlib"}),d.jsx("li",{children:"All execution happens locally"})]})]})]})}const B5=T.memo(I5);function H5({data:e,onUpdate:n}){return d.jsx("div",{className:"config-sections",children:d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Memory Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Mode"}),d.jsxs("select",{value:e.mode||"query",onChange:i=>n({mode:i.target.value}),children:[d.jsx("option",{value:"query",children:"Query (Search)"}),d.jsx("option",{value:"upsert",children:"Upsert (Add/Update)"}),d.jsx("option",{value:"delete",children:"Delete"})]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Namespace"}),d.jsx("input",{type:"text",value:e.namespace||"default",onChange:i=>n({namespace:i.target.value}),placeholder:"default"}),d.jsx("p",{className:"hint",children:"Group related memories together"})]}),e.mode==="query"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Top K Results"}),d.jsx("input",{type:"number",value:e.topK||5,onChange:i=>n({topK:parseInt(i.target.value)}),min:1,max:50})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Min Score"}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.minScore||.3,onChange:i=>n({minScore:parseFloat(i.target.value)})}),d.jsx("span",{className:"hint",children:e.minScore||.3})]})]})]})})}const P5=T.memo(H5);function $5({data:e,onUpdate:n}){return d.jsxs("div",{className:"config-sections",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"File Operation"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Mode"}),d.jsxs("select",{value:e.mode||"read",onChange:i=>n({mode:i.target.value}),children:[d.jsx("option",{value:"read",children:"Read File"}),d.jsx("option",{value:"write",children:"Write File"})]})]}),e.mode==="write"&&d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Suggested Filename"}),d.jsx("input",{type:"text",value:e.filename||"",onChange:i=>n({filename:i.target.value}),placeholder:"output.txt"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:" Info"}),d.jsx("p",{className:"hint",children:"Uses the File System Access API. A file picker will open when the node runs."})]})]})}const U5=T.memo($5);function q5({data:e,onUpdate:n}){return d.jsx("div",{className:"config-sections",children:d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Storage Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Storage Type"}),d.jsxs("select",{value:e.storageType||"localStorage",onChange:i=>n({storageType:i.target.value}),children:[d.jsx("option",{value:"localStorage",children:"LocalStorage"}),d.jsx("option",{value:"indexedDB",children:"IndexedDB"})]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Operation"}),d.jsxs("select",{value:e.mode||"get",onChange:i=>n({mode:i.target.value}),children:[d.jsx("option",{value:"get",children:"Get"}),d.jsx("option",{value:"set",children:"Set"}),d.jsx("option",{value:"delete",children:"Delete"})]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Key"}),d.jsx("input",{type:"text",value:e.key||"",onChange:i=>n({key:i.target.value}),placeholder:"my_data_key"})]})]})})}const V5=T.memo(q5),F5=[{value:"auto",label:"Auto-detect",category:"Auto"},{value:"text/plain",label:"Text (.txt)",category:"Text"},{value:"text/markdown",label:"Markdown (.md)",category:"Text"},{value:"text/html",label:"HTML (.html)",category:"Text"},{value:"text/css",label:"CSS (.css)",category:"Text"},{value:"text/javascript",label:"JavaScript (.js)",category:"Text"},{value:"application/json",label:"JSON (.json)",category:"Data"},{value:"text/csv",label:"CSV (.csv)",category:"Data"},{value:"application/xml",label:"XML (.xml)",category:"Data"},{value:"application/yaml",label:"YAML (.yaml)",category:"Data"},{value:"application/pdf",label:"PDF (.pdf)",category:"Document"},{value:"application/msword",label:"Word (.doc)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"Word (.docx)",category:"Document"},{value:"application/vnd.ms-excel",label:"Excel (.xls)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"Excel (.xlsx)",category:"Document"},{value:"application/vnd.ms-powerpoint",label:"PowerPoint (.ppt)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"PowerPoint (.pptx)",category:"Document"},{value:"audio/wav",label:"WAV Audio (.wav)",category:"Audio"},{value:"audio/mpeg",label:"MP3 Audio (.mp3)",category:"Audio"},{value:"audio/ogg",label:"OGG Audio (.ogg)",category:"Audio"},{value:"audio/webm",label:"WebM Audio (.webm)",category:"Audio"},{value:"audio/flac",label:"FLAC Audio (.flac)",category:"Audio"},{value:"audio/aac",label:"AAC Audio (.aac)",category:"Audio"},{value:"video/mp4",label:"MP4 Video (.mp4)",category:"Video"},{value:"video/webm",label:"WebM Video (.webm)",category:"Video"},{value:"video/ogg",label:"OGG Video (.ogv)",category:"Video"},{value:"video/quicktime",label:"QuickTime (.mov)",category:"Video"},{value:"video/x-msvideo",label:"AVI Video (.avi)",category:"Video"},{value:"image/png",label:"PNG Image (.png)",category:"Image"},{value:"image/jpeg",label:"JPEG Image (.jpg)",category:"Image"},{value:"image/gif",label:"GIF Image (.gif)",category:"Image"},{value:"image/webp",label:"WebP Image (.webp)",category:"Image"},{value:"image/svg+xml",label:"SVG Image (.svg)",category:"Image"},{value:"image/bmp",label:"Bitmap Image (.bmp)",category:"Image"},{value:"application/zip",label:"ZIP Archive (.zip)",category:"Archive"},{value:"application/x-tar",label:"TAR Archive (.tar)",category:"Archive"},{value:"application/gzip",label:"GZIP Archive (.gz)",category:"Archive"},{value:"application/x-7z-compressed",label:"7-Zip Archive (.7z)",category:"Archive"},{value:"application/octet-stream",label:"Binary (.bin)",category:"Binary"}],G5=F5.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{});function Y5({data:e,onUpdate:n}){return d.jsx("div",{className:"config-sections",children:d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Output Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Output Type"}),d.jsxs("select",{value:e.outputType||"console",onChange:i=>n({outputType:i.target.value}),children:[d.jsx("option",{value:"console",children:"Console Log"}),d.jsx("option",{value:"file",children:"Save to File"}),d.jsx("option",{value:"notification",children:"Show Notification"}),d.jsx("option",{value:"artifact",children:"Save as Artifact"})]})]}),e.outputType==="file"&&d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Filename"}),d.jsx("input",{type:"text",value:e.filename||"output.txt",onChange:i=>n({filename:i.target.value}),placeholder:"output.txt"})]}),e.outputType==="artifact"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Artifact Type"}),d.jsx("select",{value:e.artifactType||"auto",onChange:i=>n({artifactType:i.target.value}),children:Object.entries(G5).map(([i,a])=>d.jsx("optgroup",{label:i,children:a.map(l=>d.jsx("option",{value:l.value,children:l.label},l.value))},i))})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Artifact Name"}),d.jsx("input",{type:"text",value:e.artifactName||"",onChange:i=>n({artifactName:i.target.value}),placeholder:"Auto-generated if empty"})]})]}),e.outputType==="notification"&&d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Notification Title"}),d.jsx("input",{type:"text",value:e.notificationTitle||"Workflow Complete",onChange:i=>n({notificationTitle:i.target.value})})]}),d.jsxs("div",{className:"config-toggle",children:[d.jsx("label",{children:"Format as JSON"}),d.jsx("div",{className:`toggle-switch ${e.formatJson?"active":""}`,onClick:()=>n({formatJson:!e.formatJson})})]})]})})}const X5=T.memo(Y5);function Q5({data:e,onUpdate:n}){const i=Ye(f=>f.availableModels),a=Ye(f=>f.status),l=Ye(f=>f.loadModel),s=f=>{const p=i.find(h=>h.id===f);n({modelId:f,modelName:p?.name||f})},c=async()=>{e.modelId&&await l(e.modelId)};return d.jsxs("div",{className:"chat-model-config",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Model Selection"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Provider"}),d.jsxs("select",{value:e.provider||"webllm",onChange:f=>n({provider:f.target.value}),children:[d.jsx("option",{value:"webllm",children:"WebLLM (Local Browser)"}),d.jsx("option",{value:"openai",children:"OpenAI API"}),d.jsx("option",{value:"anthropic",children:"Anthropic API"}),d.jsx("option",{value:"local",children:"Local Ollama"})]})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Model"}),d.jsxs("select",{value:e.modelId||"",onChange:f=>s(f.target.value),children:[d.jsx("option",{value:"",children:"Select a model..."}),i.map(f=>d.jsxs("option",{value:f.id,children:[f.name," (",f.size,")"]},f.id))]}),d.jsx("p",{className:"hint",children:"Choose the AI model for text generation"})]}),e.provider==="webllm"&&d.jsxs("div",{className:"model-status-section",children:[d.jsxs("div",{className:`status-badge ${a}`,children:[a==="ready"&&" Model Ready",a==="loading"&&" Loading...",a==="idle"&&" Not Loaded",a==="error"&&" Error"]}),a!=="ready"&&a!=="loading"&&d.jsx("button",{className:"load-model-btn",onClick:c,disabled:!e.modelId,children:"Load Model"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Generation Settings"}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Temperature"}),d.jsxs("div",{className:"slider-row",children:[d.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:e.temperature||.7,onChange:f=>n({temperature:parseFloat(f.target.value)})}),d.jsx("span",{className:"slider-value",children:e.temperature||.7})]}),d.jsx("p",{className:"hint",children:"Higher = more creative, Lower = more focused"})]}),d.jsxs("div",{className:"config-field",children:[d.jsx("label",{children:"Max Tokens"}),d.jsx("input",{type:"number",value:e.maxTokens||2e3,onChange:f=>n({maxTokens:parseInt(f.target.value,10)||2e3}),min:100,max:8e3}),d.jsx("p",{className:"hint",children:"Maximum response length"})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("div",{className:"config-section-title",children:"Connection"}),d.jsx("div",{className:"connection-info",children:d.jsxs("p",{children:["Connect the ",d.jsx("strong",{children:"Model "})," output (top) to an AI Agent's Model input slot."]})})]})]})}const Z5=T.memo(Q5),W5={httpRequest:i4,codeExecutor:g5,setVariable:v5,ifElse:S5,loop:E5,switchNode:C5,scheduleTrigger:A5,aiAgent:_5,manualTrigger:R5,textToSpeech:L5,pythonExecutor:B5,vectorMemory:P5,fileSystem:U5,localStorage:V5,output:X5,chatModel:Z5};function K5(){const e=Ce($=>$.nodes),n=Ce($=>$.selectedNodeId),i=Ce($=>$.configOpen),a=Ce($=>$.updateNode),l=Ce($=>$.deleteNode),s=Ce($=>$.setSelectedNode),c=Ce($=>$.closeConfig),[f,p]=T.useState({x:0,y:0}),[h,m]=T.useState(!1),g=T.useRef({startX:0,startY:0,startPosX:0,startPosY:0}),v=T.useRef(null),[b,w]=T.useState(380),[S,C]=T.useState(!1),N=T.useRef({startX:0,startWidth:380}),k=T.useCallback($=>{$.target.tagName==="INPUT"||$.target.tagName==="BUTTON"||(m(!0),g.current={startX:$.clientX,startY:$.clientY,startPosX:f.x,startPosY:f.y},$.preventDefault())},[f]);T.useEffect(()=>{if(!h)return;const $=ee=>{const A=ee.clientX-g.current.startX,P=ee.clientY-g.current.startY;p({x:g.current.startPosX+A,y:g.current.startPosY+P})},F=()=>{m(!1)};return document.addEventListener("mousemove",$),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",F)}},[h]);const j=T.useCallback($=>{$.preventDefault(),C(!0),N.current={startX:$.clientX,startWidth:b}},[b]);T.useEffect(()=>{if(!S)return;const $=ee=>{const A=N.current.startX-ee.clientX,P=Math.max(280,Math.min(800,N.current.startWidth+A));w(P)},F=()=>{C(!1)};return document.addEventListener("mousemove",$),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",F)}},[S]);const _=e.find($=>$.id===n),H=T.useCallback($=>{n&&a(n,$)},[n,a]),M=T.useCallback(()=>{n&&(l(n),s(null),c())},[n,l,s,c]),O=T.useCallback(()=>{c()},[c]);if(!i||!_)return null;const V=Si[_.type],G=W5[_.type],I=uu(_.type);return d.jsxs("div",{ref:v,className:`node-config-panel ${h?"dragging":""} ${S?"resizing":""}`,style:{"--node-color":I,width:`${b}px`,transform:`translate(${f.x}px, ${f.y}px)`},children:[d.jsx("div",{className:"resize-handle",onMouseDown:j,title:"Drag to resize"}),d.jsxs("header",{className:"config-header draggable",onMouseDown:k,children:[d.jsx("div",{className:"drag-handle",title:"Drag to move",children:""}),d.jsxs("div",{className:"config-title",children:[d.jsx("span",{className:"node-icon",children:V?.icon||""}),d.jsx("input",{type:"text",className:"node-label-input",value:_.data.label||"",onChange:$=>H({label:$.target.value}),placeholder:V?.name||"Node"})]}),d.jsxs("div",{className:"config-actions",children:[d.jsx("button",{type:"button",className:"btn-icon btn-delete",onClick:$=>{$.stopPropagation(),$.preventDefault(),M()},title:"Delete node",children:""}),d.jsx("button",{type:"button",className:"btn-icon",onClick:$=>{$.stopPropagation(),O()},title:"Close",children:""})]})]}),d.jsx("div",{className:"config-body",children:G?d.jsx(G,{data:_.data,onUpdate:H,nodeId:_.id}):d.jsx("div",{className:"config-empty",children:d.jsx("p",{children:"No configuration available for this node type."})})}),d.jsxs("footer",{className:"config-footer",children:[d.jsx("span",{className:"node-type-label",children:V?.name||_.type}),d.jsxs("span",{className:"node-id",children:[_.id.slice(0,12),"..."]})]})]})}const J5=T.memo(K5);function eB(){const e=Ye(s=>s.status),n=Ye(s=>s.loadProgress),i=Ye(s=>s.currentModel),a=Ye(s=>s.availableModels);if(e!=="loading")return null;const l=a.find(s=>s.id===i);return d.jsx("div",{className:"loading-overlay",children:d.jsxs("div",{className:"loading-content",children:[d.jsxs("div",{className:"loading-header",children:[d.jsx("h1",{className:"brand-title",children:"IOSANS"}),d.jsx("span",{className:"brand-tagline",children:"Infinite Open Source Automation System"})]}),d.jsxs("div",{className:"loading-spinner",children:[d.jsx("div",{className:"spinner-ring"}),d.jsx("span",{className:"spinner-icon",children:""})]}),d.jsx("h2",{className:"loading-title",children:"Preparing Your Sovereign AI"}),d.jsxs("div",{className:"loading-model-info",children:[d.jsx("span",{className:"model-name",children:l?.name||i}),l?.size&&d.jsx("span",{className:"model-size",children:l.size})]}),d.jsxs("div",{className:"progress-container",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${Math.round((n||0)*100)}%`}})}),d.jsxs("span",{className:"progress-text",children:[Math.round((n||0)*100),"%"]})]}),d.jsxs("p",{className:"loading-hint",children:["Your AI runs locally. No cloud. No data harvesting.",d.jsx("br",{}),d.jsx("strong",{children:"You own your intelligence."})]})]})})}const tB=T.memo(eB),D0="flownode-workflows";function nB({isOpen:e,onClose:n}){const[i,a]=T.useState([]),[l,s]=T.useState(""),[c,f]=T.useState(null),[p,h]=T.useState(""),m=Ce(I=>I.loadWorkflow),g=Ce(I=>I.getWorkflowData),v=Ce(I=>I.clearWorkflow),b=Ce(I=>I.setWorkflowName),w=Ga(),S=T.useCallback(()=>{try{const I=localStorage.getItem(D0);I&&a(JSON.parse(I))}catch(I){console.error("Failed to load workflows:",I)}},[]);T.useEffect(()=>{e&&S()},[e,S]);const C=I=>{localStorage.setItem(D0,JSON.stringify(I)),a(I)},N=i.filter(I=>I.name.toLowerCase().includes(l.toLowerCase())),k=T.useCallback(()=>{const I=g(),$={id:Date.now().toString(),name:I.name||"Untitled Workflow",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),nodeCount:I.nodes.length,data:I};C([$,...i]),w.success(`Saved "${$.name}"`)},[g,i,w]),j=T.useCallback(I=>{m(I.data),b(I.name),w.success(`Loaded "${I.name}"`),n()},[m,b,w,n]),_=T.useCallback(I=>{const $=i.find(ee=>ee.id===I),F=i.filter(ee=>ee.id!==I);C(F),w.info(`Deleted "${$?.name}"`)},[i,w]),H=T.useCallback(I=>{const $={...I,id:Date.now().toString(),name:`${I.name} (Copy)`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C([$,...i]),w.success(`Duplicated "${I.name}"`)},[i,w]),M=I=>{f(I.id),h(I.name)},O=T.useCallback(I=>{const $=i.map(F=>F.id===I?{...F,name:p,updatedAt:new Date().toISOString()}:F);C($),f(null),w.success("Renamed workflow")},[i,p,w]),V=T.useCallback(()=>{v(),b("New Workflow"),w.info("Created new workflow"),n()},[v,b,w,n]),G=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});return e?d.jsx("div",{className:"workflow-manager-overlay",onClick:n,children:d.jsxs("div",{className:"workflow-manager-modal",onClick:I=>I.stopPropagation(),children:[d.jsxs("div",{className:"manager-header",children:[d.jsx("h2",{children:"Workflow Manager"}),d.jsx("button",{className:"close-btn",onClick:n,children:""})]}),d.jsxs("div",{className:"manager-toolbar",children:[d.jsx("input",{type:"text",className:"manager-search",placeholder:"Search workflows...",value:l,onChange:I=>s(I.target.value)}),d.jsxs("div",{className:"manager-actions",children:[d.jsx("button",{className:"btn-primary",onClick:k,children:" Save Current"}),d.jsx("button",{className:"btn-secondary",onClick:V,children:" New Workflow"})]})]}),d.jsx("div",{className:"manager-content",children:N.length===0?d.jsx("div",{className:"empty-state",children:l?d.jsxs("p",{children:['No workflows match "',l,'"']}):d.jsxs("div",{children:[d.jsx("p",{children:"No saved workflows yet"}),d.jsx("p",{className:"hint",children:'Click "Save Current" to save your first workflow'})]})}):d.jsx("div",{className:"workflow-list",children:N.map(I=>d.jsxs("div",{className:"workflow-item",children:[d.jsxs("div",{className:"workflow-info",children:[c===I.id?d.jsx("input",{type:"text",className:"edit-name-input",value:p,onChange:$=>h($.target.value),onBlur:()=>O(I.id),onKeyDown:$=>$.key==="Enter"&&O(I.id),autoFocus:!0}):d.jsx("h3",{className:"workflow-name",onClick:()=>M(I),children:I.name}),d.jsxs("div",{className:"workflow-meta",children:[d.jsxs("span",{children:[I.nodeCount," nodes"]}),d.jsx("span",{children:""}),d.jsx("span",{children:G(I.updatedAt)})]})]}),d.jsxs("div",{className:"workflow-actions",children:[d.jsx("button",{className:"action-btn load",onClick:()=>j(I),title:"Load workflow",children:""}),d.jsx("button",{className:"action-btn duplicate",onClick:()=>H(I),title:"Duplicate workflow",children:""}),d.jsx("button",{className:"action-btn delete",onClick:()=>_(I.id),title:"Delete workflow",children:""})]})]},I.id))})}),d.jsx("div",{className:"manager-footer",children:d.jsxs("span",{className:"workflow-count",children:[i.length," workflow",i.length!==1?"s":""," saved"]})})]})}):null}const iB=T.memo(nB);function rB({isOpen:e,onClose:n}){const[i,a]=T.useState([{role:"system",content:"I am the Overseer. How can I help you build your workflow?"}]),[l,s]=T.useState(""),[c,f]=T.useState(!1),[p,h]=T.useState(!1),[m,g]=T.useState("overseer"),v=T.useRef(null),[b,w]=T.useState(()=>({x:window.innerWidth/2-550,y:window.innerHeight-680})),S=T.useRef({active:!1,offsetX:0,offsetY:0}),C=Ye(O=>O.isReady),N=()=>{if(!("webkitSpeechRecognition"in window)){alert("Voice input is not supported in this browser.");return}if(p){h(!1);return}const O=new window.webkitSpeechRecognition;O.continuous=!1,O.interimResults=!1,O.lang="en-US",O.onstart=()=>h(!0),O.onend=()=>h(!1),O.onresult=V=>{const G=V.results[0][0].transcript;s(G)},O.start()},k=()=>{v.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{const O=rl.getHistory();O.length>0&&a([{role:"system",content:"I am the Overseer. How can I help you build your workflow?"},...O])},[]),T.useEffect(()=>{const O=G=>{S.current.active&&w({x:G.clientX-S.current.offsetX,y:G.clientY-S.current.offsetY})},V=()=>{S.current.active=!1};return document.addEventListener("mousemove",O),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",V)}},[]);const j=O=>{const V=O.target.value;g(V),rl.setPersona(V)},_=O=>{S.current={active:!0,offsetX:O.clientX-b.x,offsetY:O.clientY-b.y}};T.useEffect(()=>{const O=rl.getHistory();O.length>0&&a([{role:"system",content:"I am the Overseer. How can I help you build your workflow?"},...O])},[]),T.useEffect(()=>{k()},[i,e]);const H=async()=>{if(!l.trim()||c)return;const O=l.trim();s(""),a(V=>[...V,{role:"user",content:O}]),f(!0);try{if(!C)throw new Error("Please load a model from the Model Manager first.");const V=await rl.chat(O);a(G=>[...G,{role:"assistant",content:V}])}catch(V){a(G=>[...G,{role:"system",content:`Error: ${V.message}`}])}finally{f(!1)}},M=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),H())};return d.jsxs("div",{className:`overseer-panel ${e?"":"closed"}`,style:{left:b.x,top:b.y},children:[d.jsx("header",{className:"overseer-header",onMouseDown:_,children:d.jsxs("div",{className:"overseer-title",children:[d.jsx("span",{className:"overseer-icon",children:""}),d.jsxs("select",{className:"persona-select",value:m,onChange:j,onMouseDown:O=>O.stopPropagation(),children:[d.jsx("option",{value:"overseer",children:"Overseer"}),d.jsx("option",{value:"architect",children:"Architect"}),d.jsx("option",{value:"coder",children:"Coder"}),d.jsx("option",{value:"integrator",children:"Integrator"})]})]})}),d.jsxs("div",{className:"overseer-messages",children:[i.map((O,V)=>d.jsx("div",{className:`message ${O.role}`,children:d.jsx(n1,{children:O.content})},V)),c&&d.jsxs("div",{className:"typing-indicator",children:[d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"})]}),d.jsx("div",{ref:v})]}),d.jsxs("div",{className:"overseer-input-area",children:[d.jsx("textarea",{className:"overseer-input",placeholder:C?"Describe a workflow to build...":"Load a model first...",value:l,onChange:O=>s(O.target.value),onKeyDown:M,disabled:c}),d.jsx("button",{className:`btn-mic ${p?"listening":""}`,onClick:N,title:"Voice Command",children:p?"":""}),d.jsx("button",{className:"btn-send",onClick:H,disabled:!l.trim()||c,children:""})]}),d.jsx("button",{className:"btn-close-float",onClick:O=>{O.stopPropagation(),n()},onMouseDown:O=>O.stopPropagation(),onMouseUp:O=>O.stopPropagation(),children:""})]})}const tl=[{target:".node-sidebar",title:" Node Library",content:"Drag & drop nodes from here to build your workflow. Browse categories like Triggers, Actions, Logic, and AI nodes.",placement:"right"},{target:".templates-toggle",title:" Workflow Templates",content:"Click here to access pre-built workflow templates. Quickly load example automations to learn or customize for your needs.",placement:"right"},{target:".react-flow",title:" Workflow Canvas",content:"This is your workspace. Drop nodes here, connect them with edges, and build powerful automations. Right-click for options.",placement:"center"},{target:".execution-panel",title:" Logs & Results",content:"See real-time execution logs here. The Output tab shows final results, and Artifacts stores generated files.",placement:"left"},{target:".toolbar",title:" Workflow Management",content:"Name your workflow, save it, or import/export. Use the dropdown to switch between saved workflows.",placement:"bottom"},{target:".exec-btn-group",title:" Run Controls",content:"Click Run to execute your workflow. Use Debug mode to step through nodes one by one and inspect data.",placement:"top"},{target:".ai-controls-panel",title:" AI Controls",content:"Chat with the Overseer AI, manage your local LLM models in the model manager. Keep track of privacy Leaks in the privacy manager.",placement:"top"},{target:".overseer-btn",title:" The Overseer",content:"Your AI assistant! Ask it to build workflows for you, explain nodes, or debug errors. It understands your entire canvas.",placement:"top"}];function aB({isActive:e,onComplete:n}){const[i,a]=T.useState(0),[l,s]=T.useState(null);if(T.useLayoutEffect(()=>{if(!e)return;const v=tl[i],b=document.querySelector(v.target);if(b){const w=b.getBoundingClientRect();s(w),b.scrollIntoView({behavior:"smooth",block:"center"})}else console.warn(`Tour target not found: ${v.target}`),s({top:window.innerHeight/2-100,left:window.innerWidth/2-150,width:300,height:200})},[e,i,n]),!e||!l)return null;const c=tl[i],f=()=>{i<tl.length-1?a(v=>v+1):n()},p=()=>{i>0&&a(v=>v-1)},h=()=>{n()};let m={};const g=20;switch(c.placement){case"right":m={top:l.top,left:l.right+g};break;case"left":m={top:l.top,right:window.innerWidth-l.left+g};break;case"bottom":m={top:l.bottom+g,left:l.left};break;case"top":m={bottom:window.innerHeight-l.top+g,left:l.left};break;case"top-left":m={bottom:window.innerHeight-l.top+g,left:l.left};break;case"bottom-left":m={top:l.bottom+g,left:l.left};break;default:m={top:l.top+l.height/2-100,left:l.left+l.width/2-160}}return d.jsxs("div",{className:"tour-overlay",children:[d.jsx("div",{className:"tour-spotlight",style:{top:l.top,left:l.left,width:l.width,height:l.height}}),d.jsxs("div",{className:"tour-popover",style:m,children:[d.jsx("h3",{children:c.title}),d.jsx("p",{children:c.content}),d.jsxs("div",{className:"tour-actions",children:[d.jsx("button",{className:"btn-skip",onClick:h,children:"Skip"}),d.jsxs("div",{className:"tour-nav-buttons",children:[d.jsx("button",{className:"btn-prev",onClick:p,disabled:i===0,children:" Prev"}),d.jsx("div",{className:"tour-dots",children:tl.map((v,b)=>d.jsx("span",{className:`tour-dot ${b===i?"active":""}`},b))}),d.jsx("button",{className:"btn-next",onClick:f,children:i===tl.length-1?"Finish":"Next "})]})]})]})]})}function oB(){const e=Ce(w=>w.nodes),n=Ce(w=>w.edges),i=Ce(w=>w.selectedNodeId),a=We(w=>w.isRunning),l=Ye(w=>w.setLoading),s=Ye(w=>w.setReady),c=Ye(w=>w.setError),[f,p]=T.useState(!1),[h,m]=T.useState(!1),[g,v]=T.useState(!1);T.useEffect(()=>{const w=()=>p(!0),S=()=>m(N=>!N),C=()=>v(!0);return window.addEventListener("openWorkflowManager",w),window.addEventListener("toggleOverseer",S),window.addEventListener("startTour",C),()=>{window.removeEventListener("openWorkflowManager",w),window.removeEventListener("toggleOverseer",S),window.removeEventListener("startTour",C)}},[]),T.useEffect(()=>{(async()=>{try{const S=localStorage.getItem("selectedModel")||"gemma-2-2b-it-q4f16_1-MLC";await rr.initialize(S,C=>{l(C.progress,C.text||`Loading model... ${Math.round(C.progress*100)}%`)}),s(S)}catch(S){console.error("Failed to initialize WebLLM:",S),c(S.message||"Failed to load AI model")}})()},[l,s,c]),T.useEffect(()=>{const w=async C=>{const{modelId:N}=C.detail;try{l(0,`Switching to ${N}...`),await rr.initialize(N,k=>{l(k.progress,k.text||`Loading ${N}... ${Math.round(k.progress*100)}%`)}),localStorage.setItem("selectedModel",N),s(N)}catch(k){console.error("Failed to switch model:",k),c(k.message||"Failed to switch model")}},S=C=>{const{modelId:N}=C.detail,k=Ye.getState().setDownloadProgress;k(N,0,"downloading"),rr.downloadModel(N,j=>{k(N,j.progress*100,"downloading")}).then(()=>{k(N,100,"complete")}).catch(j=>{console.error("Download failed:",j),k(N,0,"error")})};return window.addEventListener("loadModel",w),window.addEventListener("downloadModel",S),()=>{window.removeEventListener("loadModel",w),window.removeEventListener("downloadModel",S)}},[l,s,c]);const b=T.useCallback(async(w={})=>{if(a)return;const{debug:S=!1}=w,C=We.getState();S&&We.getState().setDebugMode(!0),await Da.execute(e,n,{executionStore:C},{},{debug:S})},[e,n,a]);return d.jsx(gw,{children:d.jsxs("div",{className:"app",children:[d.jsx(XI,{onRun:b}),d.jsxs("div",{className:"app-body",children:[d.jsx(h_,{}),d.jsx(d_,{}),d.jsx(J5,{},i||"none"),d.jsx(KI,{}),d.jsx(rB,{isOpen:h,onClose:()=>m(!1)})]}),d.jsx(s2,{}),d.jsx(tB,{}),d.jsx(iB,{isOpen:f,onClose:()=>p(!1)}),d.jsx(aB,{isActive:g,onComplete:()=>v(!1)})]})})}QN.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(oB,{})}));
