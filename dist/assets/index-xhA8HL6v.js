(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=i(l);fetch(l.href,s)}})();function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kf={exports:{}},Fo={};var dx;function $N(){if(dx)return Fo;dx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,l,s){var c=null;if(s!==void 0&&(c=""+s),l.key!==void 0&&(c=""+l.key),"key"in l){s={};for(var f in l)f!=="key"&&(s[f]=l[f])}else s=l;return l=s.ref,{$$typeof:e,type:a,key:c,ref:l!==void 0?l:null,props:s}}return Fo.Fragment=n,Fo.jsx=i,Fo.jsxs=i,Fo}var fx;function UN(){return fx||(fx=1,kf.exports=$N()),kf.exports}var u=UN(),Tf={exports:{}},ke={};var hx;function qN(){if(hx)return ke;hx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function S(B,V,z){this.props=B,this.context=V,this.refs=C,this.updater=z||w}S.prototype.isReactComponent={},S.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=S.prototype;function j(B,V,z){this.props=B,this.context=V,this.refs=C,this.updater=z||w}var _=j.prototype=new k;_.constructor=j,N(_,S.prototype),_.isPureReactComponent=!0;var P=Array.isArray;function M(){}var H={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function X(B,V,z){var ie=z.ref;return{$$typeof:e,type:B,key:V,ref:ie!==void 0?ie:null,props:z}}function I(B,V){return X(B.type,V,B.props)}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function q(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return V[z]})}var K=/\/+/g;function A(B,V){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):V.toString(36)}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(V){B.status==="pending"&&(B.status="fulfilled",B.value=V)},function(V){B.status==="pending"&&(B.status="rejected",B.reason=V)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function D(B,V,z,ie,te){var re=typeof B;(re==="undefined"||re==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case e:case n:de=!0;break;case g:return de=B._init,D(de(B._payload),V,z,ie,te)}}if(de)return te=te(B),de=ie===""?"."+A(B,0):ie,P(te)?(z="",de!=null&&(z=de.replace(K,"$&/")+"/"),D(te,V,z,"",function(xe){return xe})):te!=null&&(L(te)&&(te=I(te,z+(te.key==null||B&&B.key===te.key?"":(""+te.key).replace(K,"$&/")+"/")+de)),V.push(te)),1;de=0;var oe=ie===""?".":ie+":";if(P(B))for(var fe=0;fe<B.length;fe++)ie=B[fe],re=oe+A(ie,fe),de+=D(ie,V,z,re,te);else if(fe=b(B),typeof fe=="function")for(B=fe.call(B),fe=0;!(ie=B.next()).done;)ie=ie.value,re=oe+A(ie,fe++),de+=D(ie,V,z,re,te);else if(re==="object"){if(typeof B.then=="function")return D($(B),V,z,ie,te);throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function U(B,V,z){if(B==null)return B;var ie=[],te=0;return D(B,ie,"","",function(re){return V.call(z,re,te++)}),ie}function G(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var Z=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},O={map:U,forEach:function(B,V,z){U(B,function(){V.apply(this,arguments)},z)},count:function(B){var V=0;return U(B,function(){V++}),V},toArray:function(B){return U(B,function(V){return V})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ke.Activity=m,ke.Children=O,ke.Component=S,ke.Fragment=i,ke.Profiler=l,ke.PureComponent=j,ke.StrictMode=a,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ke.__COMPILER_RUNTIME={__proto__:null,c:function(B){return H.H.useMemoCache(B)}},ke.cache=function(B){return function(){return B.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(B,V,z){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=N({},B.props),te=B.key;if(V!=null)for(re in V.key!==void 0&&(te=""+V.key),V)!F.call(V,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&V.ref===void 0||(ie[re]=V[re]);var re=arguments.length-2;if(re===1)ie.children=z;else if(1<re){for(var de=Array(re),oe=0;oe<re;oe++)de[oe]=arguments[oe+2];ie.children=de}return X(B.type,te,ie)},ke.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},ke.createElement=function(B,V,z){var ie,te={},re=null;if(V!=null)for(ie in V.key!==void 0&&(re=""+V.key),V)F.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(te[ie]=V[ie]);var de=arguments.length-2;if(de===1)te.children=z;else if(1<de){for(var oe=Array(de),fe=0;fe<de;fe++)oe[fe]=arguments[fe+2];te.children=oe}if(B&&B.defaultProps)for(ie in de=B.defaultProps,de)te[ie]===void 0&&(te[ie]=de[ie]);return X(B,re,te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(B){return{$$typeof:f,render:B}},ke.isValidElement=L,ke.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:G}},ke.memo=function(B,V){return{$$typeof:p,type:B,compare:V===void 0?null:V}},ke.startTransition=function(B){var V=H.T,z={};H.T=z;try{var ie=B(),te=H.S;te!==null&&te(z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(M,Z)}catch(re){Z(re)}finally{V!==null&&z.types!==null&&(V.types=z.types),H.T=V}},ke.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ke.use=function(B){return H.H.use(B)},ke.useActionState=function(B,V,z){return H.H.useActionState(B,V,z)},ke.useCallback=function(B,V){return H.H.useCallback(B,V)},ke.useContext=function(B){return H.H.useContext(B)},ke.useDebugValue=function(){},ke.useDeferredValue=function(B,V){return H.H.useDeferredValue(B,V)},ke.useEffect=function(B,V){return H.H.useEffect(B,V)},ke.useEffectEvent=function(B){return H.H.useEffectEvent(B)},ke.useId=function(){return H.H.useId()},ke.useImperativeHandle=function(B,V,z){return H.H.useImperativeHandle(B,V,z)},ke.useInsertionEffect=function(B,V){return H.H.useInsertionEffect(B,V)},ke.useLayoutEffect=function(B,V){return H.H.useLayoutEffect(B,V)},ke.useMemo=function(B,V){return H.H.useMemo(B,V)},ke.useOptimistic=function(B,V){return H.H.useOptimistic(B,V)},ke.useReducer=function(B,V,z){return H.H.useReducer(B,V,z)},ke.useRef=function(B){return H.H.useRef(B)},ke.useState=function(B){return H.H.useState(B)},ke.useSyncExternalStore=function(B,V,z){return H.H.useSyncExternalStore(B,V,z)},ke.useTransition=function(){return H.H.useTransition()},ke.version="19.2.3",ke}var px;function El(){return px||(px=1,Tf.exports=qN()),Tf.exports}var T=El();const Dn=Yc(T);var Af={exports:{}},Go={},Mf={exports:{}},Df={};var mx;function VN(){return mx||(mx=1,(function(e){function n(D,U){var G=D.length;D.push(U);e:for(;0<G;){var Z=G-1>>>1,O=D[Z];if(0<l(O,U))D[Z]=U,D[G]=O,G=Z;else break e}}function i(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var U=D[0],G=D.pop();if(G!==U){D[0]=G;e:for(var Z=0,O=D.length,B=O>>>1;Z<B;){var V=2*(Z+1)-1,z=D[V],ie=V+1,te=D[ie];if(0>l(z,G))ie<O&&0>l(te,z)?(D[Z]=te,D[ie]=G,Z=ie):(D[Z]=z,D[V]=G,Z=V);else if(ie<O&&0>l(te,G))D[Z]=te,D[ie]=G,Z=ie;else break e}}return U}function l(D,U){var G=D.sortIndex-U.sortIndex;return G!==0?G:D.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],p=[],g=1,m=null,v=3,b=!1,w=!1,N=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var U=i(p);U!==null;){if(U.callback===null)a(p);else if(U.startTime<=D)a(p),U.sortIndex=U.expirationTime,n(h,U);else break;U=i(p)}}function P(D){if(N=!1,_(D),!w)if(i(h)!==null)w=!0,M||(M=!0,q());else{var U=i(p);U!==null&&$(P,U.startTime-D)}}var M=!1,H=-1,F=5,X=-1;function I(){return C?!0:!(e.unstable_now()-X<F)}function L(){if(C=!1,M){var D=e.unstable_now();X=D;var U=!0;try{e:{w=!1,N&&(N=!1,k(H),H=-1),b=!0;var G=v;try{t:{for(_(D),m=i(h);m!==null&&!(m.expirationTime>D&&I());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,v=m.priorityLevel;var O=Z(m.expirationTime<=D);if(D=e.unstable_now(),typeof O=="function"){m.callback=O,_(D),U=!0;break t}m===i(h)&&a(h),_(D)}else a(h);m=i(h)}if(m!==null)U=!0;else{var B=i(p);B!==null&&$(P,B.startTime-D),U=!1}}break e}finally{m=null,v=G,b=!1}U=void 0}}finally{U?q():M=!1}}}var q;if(typeof j=="function")q=function(){j(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,A=K.port2;K.port1.onmessage=L,q=function(){A.postMessage(null)}}else q=function(){S(L,0)};function $(D,U){H=S(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var G=v;v=U;try{return D()}finally{v=G}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return U()}finally{v=G}},e.unstable_scheduleCallback=function(D,U,G){var Z=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,D={id:g++,callback:U,priorityLevel:D,startTime:G,expirationTime:O,sortIndex:-1},G>Z?(D.sortIndex=G,n(p,D),i(h)===null&&D===i(p)&&(N?(k(H),H=-1):N=!0,$(P,G-Z))):(D.sortIndex=O,n(h,D),w||b||(w=!0,M||(M=!0,q()))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var U=v;return function(){var G=v;v=U;try{return D.apply(this,arguments)}finally{v=G}}}})(Df)),Df}var gx;function FN(){return gx||(gx=1,Mf.exports=VN()),Mf.exports}var _f={exports:{}},zt={};var yx;function GN(){if(yx)return zt;yx=1;var e=El();function n(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(h,p,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:m==null?null:""+m,children:h,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zt.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return s(h,p,null,g)},zt.flushSync=function(h){var p=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=p,a.p=g,a.d.f()}},zt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},zt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},zt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,m=f(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):g==="script"&&a.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},zt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,m=f(g,p.crossOrigin);a.d.L(h,g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zt.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=f(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},zt.requestFormReset=function(h){a.d.r(h)},zt.unstable_batchedUpdates=function(h,p){return h(p)},zt.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var xx;function _0(){if(xx)return _f.exports;xx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),_f.exports=GN(),_f.exports}var vx;function YN(){if(vx)return Go;vx=1;var e=FN(),n=El(),i=_0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(s(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=s(t),r===null)throw Error(a(188));return r!==t?null:t}for(var o=t,d=r;;){var y=o.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){o=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===o)return h(y),t;if(x===d)return h(y),r;x=x.sibling}throw Error(a(188))}if(o.return!==d.return)o=y,d=x;else{for(var E=!1,R=y.child;R;){if(R===o){E=!0,o=y,d=x;break}if(R===d){E=!0,d=y,o=x;break}R=R.sibling}if(!E){for(R=x.child;R;){if(R===o){E=!0,o=x,d=y;break}if(R===d){E=!0,d=x,o=y;break}R=R.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var K=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===K?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case j:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case _:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return r=t.displayName||null,r!==null?r:A(t.type)||"Memo";case F:r=t._payload,t=t._init;try{return A(t(r))}catch{}}return null}var $=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Z=[],O=-1;function B(t){return{current:t}}function V(t){0>O||(t.current=Z[O],Z[O]=null,O--)}function z(t,r){O++,Z[O]=t.current,t.current=r}var ie=B(null),te=B(null),re=B(null),de=B(null);function oe(t,r){switch(z(re,r),z(te,t),z(ie,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Ry(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Ry(r),t=zy(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(ie),z(ie,t)}function fe(){V(ie),V(te),V(re)}function xe(t){t.memoizedState!==null&&z(de,t);var r=ie.current,o=zy(r,t.type);r!==o&&(z(te,t),z(ie,o))}function je(t){te.current===t&&(V(ie),V(te)),de.current===t&&(V(de),$o._currentValue=G)}var ve,Ee;function De(t){if(ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ve=r&&r[1]||"",Ee=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+t+Ee}var Ue=!1;function qe(t,r){if(!t||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ae){ne=ae}t.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),E=x[0],R=x[1];if(E&&R){var Y=E.split(`
`),ee=R.split(`
`);for(y=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(d===Y.length||y===ee.length)for(d=Y.length-1,y=ee.length-1;1<=d&&0<=y&&Y[d]!==ee[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Y[d]!==ee[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Y[d]!==ee[y]){var se=`
`+Y[d].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=d&&0<=y);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?De(o):""}function ft(t,r){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return qe(t.type,!1);case 11:return qe(t.type.render,!1);case 1:return qe(t.type,!0);case 31:return De("Activity");default:return""}}function Jt(t){try{var r="",o=null;do r+=ft(t,o),o=t,t=t.return;while(t);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var _t=Object.prototype.hasOwnProperty,$t=e.unstable_scheduleCallback,Nn=e.unstable_cancelCallback,Qn=e.unstable_shouldYield,Zn=e.unstable_requestPaint,Nt=e.unstable_now,Ei=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,pe=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,_e=e.unstable_LowPriority,Pe=e.unstable_IdlePriority,Bt=e.log,En=e.unstable_setDisableYieldValue,kt=null,ht=null;function Ot(t){if(typeof Bt=="function"&&En(t),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(kt,t)}catch{}}var Qe=Math.clz32?Math.clz32:pu,In=Math.log,en=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(In(t)/en|0)|0}var qr=256,Vr=262144,Fr=4194304;function Wn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gr(t,r,o){var d=t.pendingLanes;if(d===0)return 0;var y=0,x=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var R=d&134217727;return R!==0?(d=R&~x,d!==0?y=Wn(d):(E&=R,E!==0?y=Wn(E):o||(o=R&~t,o!==0&&(y=Wn(o))))):(R=d&~x,R!==0?y=Wn(R):E!==0?y=Wn(E):o||(o=d&~t,o!==0&&(y=Wn(o)))),y===0?0:r!==0&&r!==y&&(r&x)===0&&(x=y&-y,o=r&-r,x>=o||x===32&&(o&4194048)!==0)?r:y}function sr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function mu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var t=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),t}function Wa(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function cr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gu(t,r,o,d,y,x){var E=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var R=t.entanglements,Y=t.expirationTimes,ee=t.hiddenUpdates;for(o=E&~o;0<o;){var se=31-Qe(o),ue=1<<se;R[se]=0,Y[se]=-1;var ne=ee[se];if(ne!==null)for(ee[se]=null,se=0;se<ne.length;se++){var ae=ne[se];ae!==null&&(ae.lane&=-536870913)}o&=~ue}d!==0&&Il(t,d,0),x!==0&&y===0&&t.tag!==0&&(t.suspendedLanes|=x&~(E&~r))}function Il(t,r,o){t.pendingLanes|=r,t.suspendedLanes&=~r;var d=31-Qe(r);t.entangledLanes|=r,t.entanglements[d]=t.entanglements[d]|1073741824|o&261930}function Bl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var d=31-Qe(o),y=1<<d;y&r|t[d]&r&&(t[d]|=r),o&=~y}}function Hl(t,r){var o=r&-r;return o=(o&42)!==0?1:Ka(o),(o&(t.suspendedLanes|r))!==0?0:o}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ja(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pl(){var t=U.p;return t!==0?t:(t=window.event,t===void 0?32:rx(t.type))}function $l(t,r){var o=U.p;try{return U.p=t,r()}finally{U.p=o}}var Bn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Bn,Rt="__reactProps$"+Bn,Kn="__reactContainer$"+Bn,Yr="__reactEvents$"+Bn,Ul="__reactListeners$"+Bn,yu="__reactHandles$"+Bn,ql="__reactResources$"+Bn,ur="__reactMarker$"+Bn;function eo(t){delete t[Et],delete t[Rt],delete t[Yr],delete t[Ul],delete t[yu]}function ji(t){var r=t[Et];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Kn]||o[Et]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Uy(t);t!==null;){if(o=t[Et])return o;t=Uy(t)}return r}t=o,o=t.parentNode}return null}function Ci(t){if(t=t[Et]||t[Kn]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function ki(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Ti(t){var r=t[ql];return r||(r=t[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ur]=!0}var Vl=new Set,Fl={};function Jn(t,r){Ai(t,r),Ai(t+"Capture",r)}function Ai(t,r){for(Fl[t]=r,t=0;t<r.length;t++)Vl.add(r[t])}var xu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},Gl={};function vu(t){return _t.call(Gl,t)?!0:_t.call(to,t)?!1:xu.test(t)?Gl[t]=!0:(to[t]=!0,!1)}function Xr(t,r,o){if(vu(r))if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+o)}}function Qr(t,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+o)}}function jn(t,r,o,d){if(d===null)t.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(r,o,""+d)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bu(t,r,o){var d=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return y.call(this)},set:function(E){o=""+E,x.call(this,E)}}),Object.defineProperty(t,r,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Zr(t){if(!t._valueTracker){var r=Yl(t)?"checked":"value";t._valueTracker=bu(t,r,""+t[r])}}function Xl(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),d="";return t&&(d=Yl(t)?t.checked?"true":"false":t.value),t=d,t!==o?(r.setValue(t),!0):!1}function dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wu=/[\n"\\]/g;function qt(t){return t.replace(wu,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fr(t,r,o,d,y,x,E,R){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?no(t,E,Ut(r)):o!=null?no(t,E,Ut(o)):d!=null&&t.removeAttribute("value"),y==null&&x!=null&&(t.defaultChecked=!!x),y!=null&&(t.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Ut(R):t.removeAttribute("name")}function Ql(t,r,o,d,y,x,E,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),r!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){Zr(t);return}o=o!=null?""+Ut(o):"",r=r!=null?""+Ut(r):o,R||r===t.value||(t.value=r),t.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,t.checked=R?t.checked:!!d,t.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Zr(t)}function no(t,r,o){r==="number"&&dr(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ei(t,r,o,d){if(t=t.options,r){r={};for(var y=0;y<o.length;y++)r["$"+o[y]]=!0;for(o=0;o<t.length;o++)y=r.hasOwnProperty("$"+t[o].value),t[o].selected!==y&&(t[o].selected=y),y&&d&&(t[o].defaultSelected=!0)}else{for(o=""+Ut(o),r=null,y=0;y<t.length;y++){if(t[y].value===o){t[y].selected=!0,d&&(t[y].defaultSelected=!0);return}r!==null||t[y].disabled||(r=t[y])}r!==null&&(r.selected=!0)}}function Ap(t,r,o){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),o==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=o!=null?""+Ut(o):""}function Mp(t,r,o,d){if(r==null){if(d!=null){if(o!=null)throw Error(a(92));if($(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),r=o}o=Ut(r),t.defaultValue=o,d=t.textContent,d===o&&d!==""&&d!==null&&(t.value=d),Zr(t)}function Wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var L1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dp(t,r,o){var d=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":d?t.setProperty(r,o):typeof o!="number"||o===0||L1.has(r)?r==="float"?t.cssFloat=o:t[r]=(""+o).trim():t[r]=o+"px"}function _p(t,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?t.setProperty(d,""):d==="float"?t.cssFloat="":t[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&o[y]!==d&&Dp(t,y,d)}else for(var x in r)r.hasOwnProperty(x)&&Dp(t,x,r[x])}function Su(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(t){return B1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Nu=null;function Eu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kr=null,Jr=null;function Op(t){var r=Ci(t);if(r&&(t=r.stateNode)){var o=t[Rt]||null;e:switch(t=r.stateNode,r.type){case"input":if(fr(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var d=o[r];if(d!==t&&d.form===t.form){var y=d[Rt]||null;if(!y)throw Error(a(90));fr(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<o.length;r++)d=o[r],d.form===t.form&&Xl(d)}break e;case"textarea":Ap(t,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ei(t,!!o.multiple,r,!1)}}}var ju=!1;function Rp(t,r,o){if(ju)return t(r,o);ju=!0;try{var d=t(r);return d}finally{if(ju=!1,(Kr!==null||Jr!==null)&&(Is(),Kr&&(r=Kr,t=Jr,Jr=Kr=null,Op(r),t)))for(r=0;r<t.length;r++)Op(t[r])}}function io(t,r){var o=t.stateNode;if(o===null)return null;var d=o[Rt]||null;if(d===null)return null;o=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=!1;if(ni)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Cu=!1}var Mi=null,ku=null,Wl=null;function zp(){if(Wl)return Wl;var t,r=ku,o=r.length,d,y="value"in Mi?Mi.value:Mi.textContent,x=y.length;for(t=0;t<o&&r[t]===y[t];t++);var E=o-t;for(d=1;d<=E&&r[o-d]===y[x-d];d++);return Wl=y.slice(t,1<d?1-d:void 0)}function Kl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Lp(){return!1}function Vt(t){function r(o,d,y,x,E){this._reactName=o,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(o=t[R],this[R]=o?o(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jl:Lp,this.isPropagationStopped=Lp,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),r}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Vt(hr),ao=m({},hr,{view:0,detail:0}),H1=Vt(ao),Tu,Au,oo,ts=m({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(Tu=t.screenX-oo.screenX,Au=t.screenY-oo.screenY):Au=Tu=0,oo=t),Tu)},movementY:function(t){return"movementY"in t?t.movementY:Au}}),Ip=Vt(ts),P1=m({},ts,{dataTransfer:0}),$1=Vt(P1),U1=m({},ao,{relatedTarget:0}),Mu=Vt(U1),q1=m({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),V1=Vt(q1),F1=m({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G1=Vt(F1),Y1=m({},hr,{data:0}),Bp=Vt(Y1),X1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Z1[t])?!!r[t]:!1}function Du(){return W1}var K1=m({},ao,{key:function(t){if(t.key){var r=X1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J1=Vt(K1),eS=m({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Vt(eS),tS=m({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),nS=Vt(tS),iS=m({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=Vt(iS),aS=m({},ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=Vt(aS),lS=m({},hr,{newState:0,oldState:0}),sS=Vt(lS),cS=[9,13,27,32],_u=ni&&"CompositionEvent"in window,lo=null;ni&&"documentMode"in document&&(lo=document.documentMode);var uS=ni&&"TextEvent"in window&&!lo,Pp=ni&&(!_u||lo&&8<lo&&11>=lo),$p=" ",Up=!1;function qp(t,r){switch(t){case"keyup":return cS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function dS(t,r){switch(t){case"compositionend":return Vp(r);case"keypress":return r.which!==32?null:(Up=!0,$p);case"textInput":return t=r.data,t===$p&&Up?null:t;default:return null}}function fS(t,r){if(ea)return t==="compositionend"||!_u&&qp(t,r)?(t=zp(),Wl=ku=Mi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pp&&r.locale!=="ko"?null:r.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!hS[t.type]:r==="textarea"}function Gp(t,r,o,d){Kr?Jr?Jr.push(d):Jr=[d]:Kr=d,r=Vs(r,"onChange"),0<r.length&&(o=new es("onChange","change",null,o,d),t.push({event:o,listeners:r}))}var so=null,co=null;function pS(t){Ty(t,0)}function ns(t){var r=ki(t);if(Xl(r))return t}function Yp(t,r){if(t==="change")return r}var Xp=!1;if(ni){var Ou;if(ni){var Ru="oninput"in document;if(!Ru){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Ru=typeof Qp.oninput=="function"}Ou=Ru}else Ou=!1;Xp=Ou&&(!document.documentMode||9<document.documentMode)}function Zp(){so&&(so.detachEvent("onpropertychange",Wp),co=so=null)}function Wp(t){if(t.propertyName==="value"&&ns(co)){var r=[];Gp(r,co,t,Eu(t)),Rp(pS,r)}}function mS(t,r,o){t==="focusin"?(Zp(),so=r,co=o,so.attachEvent("onpropertychange",Wp)):t==="focusout"&&Zp()}function gS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ns(co)}function yS(t,r){if(t==="click")return ns(r)}function xS(t,r){if(t==="input"||t==="change")return ns(r)}function vS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var tn=typeof Object.is=="function"?Object.is:vS;function uo(t,r){if(tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),d=Object.keys(r);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var y=o[d];if(!_t.call(r,y)||!tn(t[y],r[y]))return!1}return!0}function Kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,r){var o=Kp(t);t=0;for(var d;o;){if(o.nodeType===3){if(d=t+o.textContent.length,t<=r&&d>=r)return{node:o,offset:r-t};t=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kp(o)}}function em(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?em(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=dr(t.document);r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=dr(t.document)}return r}function zu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var bS=ni&&"documentMode"in document&&11>=document.documentMode,ta=null,Lu=null,fo=null,Iu=!1;function nm(t,r,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Iu||ta==null||ta!==dr(d)||(d=ta,"selectionStart"in d&&zu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fo&&uo(fo,d)||(fo=d,d=Vs(Lu,"onSelect"),0<d.length&&(r=new es("onSelect","select",null,r,o),t.push({event:r,listeners:d}),r.target=ta)))}function pr(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var na={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Bu={},im={};ni&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function mr(t){if(Bu[t])return Bu[t];if(!na[t])return t;var r=na[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in im)return Bu[t]=r[o];return t}var rm=mr("animationend"),am=mr("animationiteration"),om=mr("animationstart"),wS=mr("transitionrun"),SS=mr("transitionstart"),NS=mr("transitioncancel"),lm=mr("transitionend"),sm=new Map,Hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hu.push("scrollEnd");function Cn(t,r){sm.set(t,r),Jn(r,[t])}var is=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pn=[],ia=0,Pu=0;function rs(){for(var t=ia,r=Pu=ia=0;r<t;){var o=pn[r];pn[r++]=null;var d=pn[r];pn[r++]=null;var y=pn[r];pn[r++]=null;var x=pn[r];if(pn[r++]=null,d!==null&&y!==null){var E=d.pending;E===null?y.next=y:(y.next=E.next,E.next=y),d.pending=y}x!==0&&cm(o,y,x)}}function as(t,r,o,d){pn[ia++]=t,pn[ia++]=r,pn[ia++]=o,pn[ia++]=d,Pu|=d,t.lanes|=d,t=t.alternate,t!==null&&(t.lanes|=d)}function $u(t,r,o,d){return as(t,r,o,d),os(t)}function gr(t,r){return as(t,null,null,r),os(t)}function cm(t,r,o){t.lanes|=o;var d=t.alternate;d!==null&&(d.lanes|=o);for(var y=!1,x=t.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(y=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,y&&r!==null&&(y=31-Qe(o),t=x.hiddenUpdates,d=t[y],d===null?t[y]=[r]:d.push(r),r.lane=o|536870912),x):null}function os(t){if(50<Ro)throw Ro=0,Zd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ra={};function ES(t,r,o,d){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,r,o,d){return new ES(t,r,o,d)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ii(t,r){var o=t.alternate;return o===null?(o=nn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function um(t,r){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ls(t,r,o,d,y,x){var E=0;if(d=t,typeof t=="function")Uu(t)&&(E=1);else if(typeof t=="string")E=AN(t,o,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=nn(31,o,r,y),t.elementType=X,t.lanes=x,t;case N:return yr(o.children,y,x,r);case C:E=8,y|=24;break;case S:return t=nn(12,o,r,y|2),t.elementType=S,t.lanes=x,t;case P:return t=nn(13,o,r,y),t.elementType=P,t.lanes=x,t;case M:return t=nn(19,o,r,y),t.elementType=M,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:E=10;break e;case k:E=9;break e;case _:E=11;break e;case H:E=14;break e;case F:E=16,d=null;break e}E=29,o=Error(a(130,t===null?"null":typeof t,"")),d=null}return r=nn(E,o,r,y),r.elementType=t,r.type=d,r.lanes=x,r}function yr(t,r,o,d){return t=nn(7,t,d,r),t.lanes=o,t}function qu(t,r,o){return t=nn(6,t,null,r),t.lanes=o,t}function dm(t){var r=nn(18,null,null,0);return r.stateNode=t,r}function Vu(t,r,o){return r=nn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var fm=new WeakMap;function mn(t,r){if(typeof t=="object"&&t!==null){var o=fm.get(t);return o!==void 0?o:(r={value:t,source:r,stack:Jt(r)},fm.set(t,r),r)}return{value:t,source:r,stack:Jt(r)}}var aa=[],oa=0,ss=null,ho=0,gn=[],yn=0,Di=null,Hn=1,Pn="";function ri(t,r){aa[oa++]=ho,aa[oa++]=ss,ss=t,ho=r}function hm(t,r,o){gn[yn++]=Hn,gn[yn++]=Pn,gn[yn++]=Di,Di=t;var d=Hn;t=Pn;var y=32-Qe(d)-1;d&=~(1<<y),o+=1;var x=32-Qe(r)+y;if(30<x){var E=y-y%5;x=(d&(1<<E)-1).toString(32),d>>=E,y-=E,Hn=1<<32-Qe(r)+y|o<<y|d,Pn=x+t}else Hn=1<<x|o<<y|d,Pn=t}function Fu(t){t.return!==null&&(ri(t,1),hm(t,1,0))}function Gu(t){for(;t===ss;)ss=aa[--oa],aa[oa]=null,ho=aa[--oa],aa[oa]=null;for(;t===Di;)Di=gn[--yn],gn[yn]=null,Pn=gn[--yn],gn[yn]=null,Hn=gn[--yn],gn[yn]=null}function pm(t,r){gn[yn++]=Hn,gn[yn++]=Pn,gn[yn++]=Di,Hn=r.id,Pn=r.overflow,Di=t}var Tt=null,rt=null,He=!1,_i=null,xn=!1,Yu=Error(a(519));function Oi(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(mn(r,t)),Yu}function mm(t){var r=t.stateNode,o=t.type,d=t.memoizedProps;switch(r[Et]=t,r[Rt]=d,o){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Re(Lo[o],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Ql(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),Mp(r,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||d.suppressHydrationWarning===!0||_y(r.textContent,o)?(d.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),d.onScroll!=null&&Re("scroll",r),d.onScrollEnd!=null&&Re("scrollend",r),d.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Oi(t,!0)}function gm(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Tt=Tt.return}}function la(t){if(t!==Tt)return!1;if(!He)return gm(t),He=!0,!1;var r=t.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||ff(t.type,t.memoizedProps)),o=!o),o&&rt&&Oi(t),gm(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=$y(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=$y(t)}else r===27?(r=rt,Yi(t.type)?(t=yf,yf=null,rt=t):rt=r):rt=Tt?bn(t.stateNode.nextSibling):null;return!0}function xr(){rt=Tt=null,He=!1}function Xu(){var t=_i;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),_i=null),t}function po(t){_i===null?_i=[t]:_i.push(t)}var Qu=B(null),vr=null,ai=null;function Ri(t,r,o){z(Qu,r._currentValue),r._currentValue=o}function oi(t){t._currentValue=Qu.current,V(Qu)}function Zu(t,r,o){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===o)break;t=t.return}}function Wu(t,r,o,d){var y=t.child;for(y!==null&&(y.return=t);y!==null;){var x=y.dependencies;if(x!==null){var E=y.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=y;for(var Y=0;Y<r.length;Y++)if(R.context===r[Y]){x.lanes|=o,R=x.alternate,R!==null&&(R.lanes|=o),Zu(x.return,o,t),d||(E=null);break e}x=R.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(a(341));E.lanes|=o,x=E.alternate,x!==null&&(x.lanes|=o),Zu(E,o,t),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===t){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function sa(t,r,o,d){t=null;for(var y=r,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var R=y.type;tn(y.pendingProps.value,E.value)||(t!==null?t.push(R):t=[R])}}else if(y===de.current){if(E=y.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(t!==null?t.push($o):t=[$o])}y=y.return}t!==null&&Wu(r,t,o,d),r.flags|=262144}function cs(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function br(t){vr=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return ym(vr,t)}function us(t,r){return vr===null&&br(t),ym(t,r)}function ym(t,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ai===null){if(t===null)throw Error(a(308));ai=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ai=ai.next=r;return o}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(o,d){t.push(d)}};this.abort=function(){r.aborted=!0,t.forEach(function(o){return o()})}},CS=e.unstable_scheduleCallback,kS=e.unstable_NormalPriority,yt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new jS,data:new Map,refCount:0}}function mo(t){t.refCount--,t.refCount===0&&CS(kS,function(){t.controller.abort()})}var go=null,Ju=0,ca=0,ua=null;function TS(t,r){if(go===null){var o=go=[];Ju=0,ca=nf(),ua={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Ju++,r.then(xm,xm),r}function xm(){if(--Ju===0&&go!==null){ua!==null&&(ua.status="fulfilled");var t=go;go=null,ca=0,ua=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function AS(t,r){var o=[],d={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return t.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<o.length;y++)(0,o[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),d}var vm=D.S;D.S=function(t,r){ny=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TS(t,r),vm!==null&&vm(t,r)};var wr=B(null);function ed(){var t=wr.current;return t!==null?t:tt.pooledCache}function ds(t,r){r===null?z(wr,wr.current):z(wr,r.pool)}function bm(){var t=ed();return t===null?null:{parent:yt._currentValue,pool:t}}var da=Error(a(460)),td=Error(a(474)),fs=Error(a(542)),hs={then:function(){}};function wm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sm(t,r,o){switch(o=t[o],o===void 0?t.push(r):o!==r&&(r.then(ti,ti),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Em(t),t;default:if(typeof r.status=="string")r.then(ti,ti);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Em(t),t}throw Nr=r,da}}function Sr(t){try{var r=t._init;return r(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Nr=o,da):o}}var Nr=null;function Nm(){if(Nr===null)throw Error(a(459));var t=Nr;return Nr=null,t}function Em(t){if(t===da||t===fs)throw Error(a(483))}var fa=null,yo=0;function ps(t){var r=yo;return yo+=1,fa===null&&(fa=[]),Sm(fa,t,r)}function xo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ms(t,r){throw r.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function jm(t){function r(W,Q){if(t){var J=W.deletions;J===null?(W.deletions=[Q],W.flags|=16):J.push(Q)}}function o(W,Q){if(!t)return null;for(;Q!==null;)r(W,Q),Q=Q.sibling;return null}function d(W){for(var Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function y(W,Q){return W=ii(W,Q),W.index=0,W.sibling=null,W}function x(W,Q,J){return W.index=J,t?(J=W.alternate,J!==null?(J=J.index,J<Q?(W.flags|=67108866,Q):J):(W.flags|=67108866,Q)):(W.flags|=1048576,Q)}function E(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function R(W,Q,J,ce){return Q===null||Q.tag!==6?(Q=qu(J,W.mode,ce),Q.return=W,Q):(Q=y(Q,J),Q.return=W,Q)}function Y(W,Q,J,ce){var be=J.type;return be===N?se(W,Q,J.props.children,ce,J.key):Q!==null&&(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===F&&Sr(be)===Q.type)?(Q=y(Q,J.props),xo(Q,J),Q.return=W,Q):(Q=ls(J.type,J.key,J.props,null,W.mode,ce),xo(Q,J),Q.return=W,Q)}function ee(W,Q,J,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==J.containerInfo||Q.stateNode.implementation!==J.implementation?(Q=Vu(J,W.mode,ce),Q.return=W,Q):(Q=y(Q,J.children||[]),Q.return=W,Q)}function se(W,Q,J,ce,be){return Q===null||Q.tag!==7?(Q=yr(J,W.mode,ce,be),Q.return=W,Q):(Q=y(Q,J),Q.return=W,Q)}function ue(W,Q,J){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=qu(""+Q,W.mode,J),Q.return=W,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return J=ls(Q.type,Q.key,Q.props,null,W.mode,J),xo(J,Q),J.return=W,J;case w:return Q=Vu(Q,W.mode,J),Q.return=W,Q;case F:return Q=Sr(Q),ue(W,Q,J)}if($(Q)||q(Q))return Q=yr(Q,W.mode,J,null),Q.return=W,Q;if(typeof Q.then=="function")return ue(W,ps(Q),J);if(Q.$$typeof===j)return ue(W,us(W,Q),J);ms(W,Q)}return null}function ne(W,Q,J,ce){var be=Q!==null?Q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return be!==null?null:R(W,Q,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===be?Y(W,Q,J,ce):null;case w:return J.key===be?ee(W,Q,J,ce):null;case F:return J=Sr(J),ne(W,Q,J,ce)}if($(J)||q(J))return be!==null?null:se(W,Q,J,ce,null);if(typeof J.then=="function")return ne(W,Q,ps(J),ce);if(J.$$typeof===j)return ne(W,Q,us(W,J),ce);ms(W,J)}return null}function ae(W,Q,J,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return W=W.get(J)||null,R(Q,W,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return W=W.get(ce.key===null?J:ce.key)||null,Y(Q,W,ce,be);case w:return W=W.get(ce.key===null?J:ce.key)||null,ee(Q,W,ce,be);case F:return ce=Sr(ce),ae(W,Q,J,ce,be)}if($(ce)||q(ce))return W=W.get(J)||null,se(Q,W,ce,be,null);if(typeof ce.then=="function")return ae(W,Q,J,ps(ce),be);if(ce.$$typeof===j)return ae(W,Q,J,us(Q,ce),be);ms(Q,ce)}return null}function me(W,Q,J,ce){for(var be=null,Ve=null,ye=Q,Ae=Q=0,Ie=null;ye!==null&&Ae<J.length;Ae++){ye.index>Ae?(Ie=ye,ye=null):Ie=ye.sibling;var Fe=ne(W,ye,J[Ae],ce);if(Fe===null){ye===null&&(ye=Ie);break}t&&ye&&Fe.alternate===null&&r(W,ye),Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe,ye=Ie}if(Ae===J.length)return o(W,ye),He&&ri(W,Ae),be;if(ye===null){for(;Ae<J.length;Ae++)ye=ue(W,J[Ae],ce),ye!==null&&(Q=x(ye,Q,Ae),Ve===null?be=ye:Ve.sibling=ye,Ve=ye);return He&&ri(W,Ae),be}for(ye=d(ye);Ae<J.length;Ae++)Ie=ae(ye,W,Ae,J[Ae],ce),Ie!==null&&(t&&Ie.alternate!==null&&ye.delete(Ie.key===null?Ae:Ie.key),Q=x(Ie,Q,Ae),Ve===null?be=Ie:Ve.sibling=Ie,Ve=Ie);return t&&ye.forEach(function(Ki){return r(W,Ki)}),He&&ri(W,Ae),be}function Ne(W,Q,J,ce){if(J==null)throw Error(a(151));for(var be=null,Ve=null,ye=Q,Ae=Q=0,Ie=null,Fe=J.next();ye!==null&&!Fe.done;Ae++,Fe=J.next()){ye.index>Ae?(Ie=ye,ye=null):Ie=ye.sibling;var Ki=ne(W,ye,Fe.value,ce);if(Ki===null){ye===null&&(ye=Ie);break}t&&ye&&Ki.alternate===null&&r(W,ye),Q=x(Ki,Q,Ae),Ve===null?be=Ki:Ve.sibling=Ki,Ve=Ki,ye=Ie}if(Fe.done)return o(W,ye),He&&ri(W,Ae),be;if(ye===null){for(;!Fe.done;Ae++,Fe=J.next())Fe=ue(W,Fe.value,ce),Fe!==null&&(Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe);return He&&ri(W,Ae),be}for(ye=d(ye);!Fe.done;Ae++,Fe=J.next())Fe=ae(ye,W,Ae,Fe.value,ce),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ae:Fe.key),Q=x(Fe,Q,Ae),Ve===null?be=Fe:Ve.sibling=Fe,Ve=Fe);return t&&ye.forEach(function(PN){return r(W,PN)}),He&&ri(W,Ae),be}function et(W,Q,J,ce){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var be=J.key;Q!==null;){if(Q.key===be){if(be=J.type,be===N){if(Q.tag===7){o(W,Q.sibling),ce=y(Q,J.props.children),ce.return=W,W=ce;break e}}else if(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===F&&Sr(be)===Q.type){o(W,Q.sibling),ce=y(Q,J.props),xo(ce,J),ce.return=W,W=ce;break e}o(W,Q);break}else r(W,Q);Q=Q.sibling}J.type===N?(ce=yr(J.props.children,W.mode,ce,J.key),ce.return=W,W=ce):(ce=ls(J.type,J.key,J.props,null,W.mode,ce),xo(ce,J),ce.return=W,W=ce)}return E(W);case w:e:{for(be=J.key;Q!==null;){if(Q.key===be)if(Q.tag===4&&Q.stateNode.containerInfo===J.containerInfo&&Q.stateNode.implementation===J.implementation){o(W,Q.sibling),ce=y(Q,J.children||[]),ce.return=W,W=ce;break e}else{o(W,Q);break}else r(W,Q);Q=Q.sibling}ce=Vu(J,W.mode,ce),ce.return=W,W=ce}return E(W);case F:return J=Sr(J),et(W,Q,J,ce)}if($(J))return me(W,Q,J,ce);if(q(J)){if(be=q(J),typeof be!="function")throw Error(a(150));return J=be.call(J),Ne(W,Q,J,ce)}if(typeof J.then=="function")return et(W,Q,ps(J),ce);if(J.$$typeof===j)return et(W,Q,us(W,J),ce);ms(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Q!==null&&Q.tag===6?(o(W,Q.sibling),ce=y(Q,J),ce.return=W,W=ce):(o(W,Q),ce=qu(J,W.mode,ce),ce.return=W,W=ce),E(W)):o(W,Q)}return function(W,Q,J,ce){try{yo=0;var be=et(W,Q,J,ce);return fa=null,be}catch(ye){if(ye===da||ye===fs)throw ye;var Ve=nn(29,ye,null,W.mode);return Ve.lanes=ce,Ve.return=W,Ve}}}var Er=jm(!0),Cm=jm(!1),zi=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(t,r,o){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Ge&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=os(t),cm(t,null,o),r}return as(t,d,r,o),os(t)}function vo(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var d=r.lanes;d&=t.pendingLanes,o|=d,r.lanes=o,Bl(t,o)}}function rd(t,r){var o=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var y=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?y=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?y=x=r:x=x.next=r}else y=x=r;o={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}var ad=!1;function bo(){if(ad){var t=ua;if(t!==null)throw t}}function wo(t,r,o,d){ad=!1;var y=t.updateQueue;zi=!1;var x=y.firstBaseUpdate,E=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var Y=R,ee=Y.next;Y.next=null,E===null?x=ee:E.next=ee,E=Y;var se=t.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==E&&(R===null?se.firstBaseUpdate=ee:R.next=ee,se.lastBaseUpdate=Y))}if(x!==null){var ue=y.baseState;E=0,se=ee=Y=null,R=x;do{var ne=R.lane&-536870913,ae=ne!==R.lane;if(ae?(Le&ne)===ne:(d&ne)===ne){ne!==0&&ne===ca&&(ad=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var me=t,Ne=R;ne=r;var et=o;switch(Ne.tag){case 1:if(me=Ne.payload,typeof me=="function"){ue=me.call(et,ue,ne);break e}ue=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ne.payload,ne=typeof me=="function"?me.call(et,ue,ne):me,ne==null)break e;ue=m({},ue,ne);break e;case 2:zi=!0}}ne=R.callback,ne!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(ee=se=ae,Y=ue):se=se.next=ae,E|=ne;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);se===null&&(Y=ue),y.baseState=Y,y.firstBaseUpdate=ee,y.lastBaseUpdate=se,x===null&&(y.shared.lanes=0),Ui|=E,t.lanes=E,t.memoizedState=ue}}function km(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Tm(t,r){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)km(o[t],r)}var ha=B(null),gs=B(0);function Am(t,r){t=mi,z(gs,t),z(ha,r),mi=t|r.baseLanes}function od(){z(gs,mi),z(ha,ha.current)}function ld(){mi=gs.current,V(ha),V(gs)}var rn=B(null),vn=null;function Bi(t){var r=t.alternate;z(pt,pt.current&1),z(rn,t),vn===null&&(r===null||ha.current!==null||r.memoizedState!==null)&&(vn=t)}function sd(t){z(pt,pt.current),z(rn,t),vn===null&&(vn=t)}function Mm(t){t.tag===22?(z(pt,pt.current),z(rn,t),vn===null&&(vn=t)):Hi()}function Hi(){z(pt,pt.current),z(rn,rn.current)}function an(t){V(rn),vn===t&&(vn=null),V(pt)}var pt=B(0);function ys(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||mf(o)||gf(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var li=0,Te=null,Ke=null,xt=null,xs=!1,pa=!1,jr=!1,vs=0,So=0,ma=null,MS=0;function ut(){throw Error(a(321))}function cd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!tn(t[o],r[o]))return!1;return!0}function ud(t,r,o,d,y,x){return li=x,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=t===null||t.memoizedState===null?hg:jd,jr=!1,x=o(d,y),jr=!1,pa&&(x=_m(r,o,d,y)),Dm(t),x}function Dm(t){D.H=jo;var r=Ke!==null&&Ke.next!==null;if(li=0,xt=Ke=Te=null,xs=!1,So=0,ma=null,r)throw Error(a(300));t===null||vt||(t=t.dependencies,t!==null&&cs(t)&&(vt=!0))}function _m(t,r,o,d){Te=t;var y=0;do{if(pa&&(ma=null),So=0,pa=!1,25<=y)throw Error(a(301));if(y+=1,xt=Ke=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}D.H=pg,x=r(o,d)}while(pa);return x}function DS(){var t=D.H,r=t.useState()[0];return r=typeof r.then=="function"?No(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Te.flags|=1024),r}function dd(){var t=vs!==0;return vs=0,t}function fd(t,r,o){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~o}function hd(t){if(xs){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}xs=!1}li=0,xt=Ke=Te=null,pa=!1,So=vs=0,ma=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Te.memoizedState=xt=t:xt=xt.next=t,xt}function mt(){if(Ke===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=xt===null?Te.memoizedState:xt.next;if(r!==null)xt=r,Ke=t;else{if(t===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},xt===null?Te.memoizedState=xt=t:xt=xt.next=t}return xt}function bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(t){var r=So;return So+=1,ma===null&&(ma=[]),t=Sm(ma,t,r),r=Te,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?hg:jd),t}function ws(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return No(t);if(t.$$typeof===j)return At(t)}throw Error(a(438,String(t)))}function pd(t){var r=null,o=Te.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var d=Te.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bs(),Te.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(t),d=0;d<t;d++)o[d]=I;return r.index++,o}function si(t,r){return typeof r=="function"?r(t):r}function Ss(t){var r=mt();return md(r,Ke,t)}function md(t,r,o){var d=t.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=o;var y=t.baseQueue,x=d.pending;if(x!==null){if(y!==null){var E=y.next;y.next=x.next,x.next=E}r.baseQueue=y=x,d.pending=null}if(x=t.baseState,y===null)t.memoizedState=x;else{r=y.next;var R=E=null,Y=null,ee=r,se=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Le&ue)===ue:(li&ue)===ue){var ne=ee.revertLane;if(ne===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===ca&&(se=!0);else if((li&ne)===ne){ee=ee.next,ne===ca&&(se=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(R=Y=ue,E=x):Y=Y.next=ue,Te.lanes|=ne,Ui|=ne;ue=ee.action,jr&&o(x,ue),x=ee.hasEagerState?ee.eagerState:o(x,ue)}else ne={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(R=Y=ne,E=x):Y=Y.next=ne,Te.lanes|=ue,Ui|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(Y===null?E=x:Y.next=R,!tn(x,t.memoizedState)&&(vt=!0,se&&(o=ua,o!==null)))throw o;t.memoizedState=x,t.baseState=E,t.baseQueue=Y,d.lastRenderedState=x}return y===null&&(d.lanes=0),[t.memoizedState,d.dispatch]}function gd(t){var r=mt(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var d=o.dispatch,y=o.pending,x=r.memoizedState;if(y!==null){o.pending=null;var E=y=y.next;do x=t(x,E.action),E=E.next;while(E!==y);tn(x,r.memoizedState)||(vt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),o.lastRenderedState=x}return[x,d]}function Om(t,r,o){var d=Te,y=mt(),x=He;if(x){if(o===void 0)throw Error(a(407));o=o()}else o=r();var E=!tn((Ke||y).memoizedState,o);if(E&&(y.memoizedState=o,vt=!0),y=y.queue,vd(Lm.bind(null,d,y,t),[t]),y.getSnapshot!==r||E||xt!==null&&xt.memoizedState.tag&1){if(d.flags|=2048,ga(9,{destroy:void 0},zm.bind(null,d,y,o,r),null),tt===null)throw Error(a(349));x||(li&127)!==0||Rm(d,r,o)}return o}function Rm(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Te.updateQueue,r===null?(r=bs(),Te.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function zm(t,r,o,d){r.value=o,r.getSnapshot=d,Im(r)&&Bm(t)}function Lm(t,r,o){return o(function(){Im(r)&&Bm(t)})}function Im(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!tn(t,o)}catch{return!0}}function Bm(t){var r=gr(t,2);r!==null&&Qt(r,t,2)}function yd(t){var r=Ht();if(typeof t=="function"){var o=t;if(t=o(),jr){Ot(!0);try{o()}finally{Ot(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},r}function Hm(t,r,o,d){return t.baseState=o,md(t,Ke,typeof d=="function"?d:si)}function _S(t,r,o,d,y){if(js(t))throw Error(a(485));if(t=r.action,t!==null){var x={payload:y,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};D.T!==null?o(!0):x.isTransition=!1,d(x),o=r.pending,o===null?(x.next=r.pending=x,Pm(r,x)):(x.next=o.next,r.pending=o.next=x)}}function Pm(t,r){var o=r.action,d=r.payload,y=t.state;if(r.isTransition){var x=D.T,E={};D.T=E;try{var R=o(y,d),Y=D.S;Y!==null&&Y(E,R),$m(t,r,R)}catch(ee){xd(t,r,ee)}finally{x!==null&&E.types!==null&&(x.types=E.types),D.T=x}}else try{x=o(y,d),$m(t,r,x)}catch(ee){xd(t,r,ee)}}function $m(t,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Um(t,r,d)},function(d){return xd(t,r,d)}):Um(t,r,o)}function Um(t,r,o){r.status="fulfilled",r.value=o,qm(r),t.state=o,r=t.pending,r!==null&&(o=r.next,o===r?t.pending=null:(o=o.next,r.next=o,Pm(t,o)))}function xd(t,r,o){var d=t.pending;if(t.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=o,qm(r),r=r.next;while(r!==d)}t.action=null}function qm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Vm(t,r){return r}function Fm(t,r){if(He){var o=tt.formState;if(o!==null){e:{var d=Te;if(He){if(rt){t:{for(var y=rt,x=xn;y.nodeType!==8;){if(!x){y=null;break t}if(y=bn(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){rt=bn(y.nextSibling),d=y.data==="F!";break e}}Oi(d)}d=!1}d&&(r=o[0])}}return o=Ht(),o.memoizedState=o.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:r},o.queue=d,o=ug.bind(null,Te,d),d.dispatch=o,d=yd(!1),x=Ed.bind(null,Te,!1,d.queue),d=Ht(),y={state:r,dispatch:null,action:t,pending:null},d.queue=y,o=_S.bind(null,Te,y,x,o),y.dispatch=o,d.memoizedState=t,[r,o,!1]}function Gm(t){var r=mt();return Ym(r,Ke,t)}function Ym(t,r,o){if(r=md(t,r,Vm)[0],t=Ss(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=No(r)}catch(E){throw E===da?fs:E}else d=r;r=mt();var y=r.queue,x=y.dispatch;return o!==r.memoizedState&&(Te.flags|=2048,ga(9,{destroy:void 0},OS.bind(null,y,o),null)),[d,x,t]}function OS(t,r){t.action=r}function Xm(t){var r=mt(),o=Ke;if(o!==null)return Ym(r,o,t);mt(),r=r.memoizedState,o=mt();var d=o.queue.dispatch;return o.memoizedState=t,[r,d,!1]}function ga(t,r,o,d){return t={tag:t,create:o,deps:d,inst:r,next:null},r=Te.updateQueue,r===null&&(r=bs(),Te.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=t.next=t:(d=o.next,o.next=t,t.next=d,r.lastEffect=t),t}function Qm(){return mt().memoizedState}function Ns(t,r,o,d){var y=Ht();Te.flags|=t,y.memoizedState=ga(1|r,{destroy:void 0},o,d===void 0?null:d)}function Es(t,r,o,d){var y=mt();d=d===void 0?null:d;var x=y.memoizedState.inst;Ke!==null&&d!==null&&cd(d,Ke.memoizedState.deps)?y.memoizedState=ga(r,x,o,d):(Te.flags|=t,y.memoizedState=ga(1|r,x,o,d))}function Zm(t,r){Ns(8390656,8,t,r)}function vd(t,r){Es(2048,8,t,r)}function RS(t){Te.flags|=4;var r=Te.updateQueue;if(r===null)r=bs(),Te.updateQueue=r,r.events=[t];else{var o=r.events;o===null?r.events=[t]:o.push(t)}}function Wm(t){var r=mt().memoizedState;return RS({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Km(t,r){return Es(4,2,t,r)}function Jm(t,r){return Es(4,4,t,r)}function eg(t,r){if(typeof r=="function"){t=t();var o=r(t);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function tg(t,r,o){o=o!=null?o.concat([t]):null,Es(4,4,eg.bind(null,r,t),o)}function bd(){}function ng(t,r){var o=mt();r=r===void 0?null:r;var d=o.memoizedState;return r!==null&&cd(r,d[1])?d[0]:(o.memoizedState=[t,r],t)}function ig(t,r){var o=mt();r=r===void 0?null:r;var d=o.memoizedState;if(r!==null&&cd(r,d[1]))return d[0];if(d=t(),jr){Ot(!0);try{t()}finally{Ot(!1)}}return o.memoizedState=[d,r],d}function wd(t,r,o){return o===void 0||(li&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=o,t=ry(),Te.lanes|=t,Ui|=t,o)}function rg(t,r,o,d){return tn(o,r)?o:ha.current!==null?(t=wd(t,o,d),tn(t,r)||(vt=!0),t):(li&42)===0||(li&1073741824)!==0&&(Le&261930)===0?(vt=!0,t.memoizedState=o):(t=ry(),Te.lanes|=t,Ui|=t,r)}function ag(t,r,o,d,y){var x=U.p;U.p=x!==0&&8>x?x:8;var E=D.T,R={};D.T=R,Ed(t,!1,r,o);try{var Y=y(),ee=D.S;if(ee!==null&&ee(R,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var se=AS(Y,d);Eo(t,r,se,sn(t))}else Eo(t,r,d,sn(t))}catch(ue){Eo(t,r,{then:function(){},status:"rejected",reason:ue},sn())}finally{U.p=x,E!==null&&R.types!==null&&(E.types=R.types),D.T=E}}function zS(){}function Sd(t,r,o,d){if(t.tag!==5)throw Error(a(476));var y=og(t).queue;ag(t,y,r,G,o===null?zS:function(){return lg(t),o(d)})}function og(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:G},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function lg(t){var r=og(t);r.next===null&&(r=t.alternate.memoizedState),Eo(t,r.next.queue,{},sn())}function Nd(){return At($o)}function sg(){return mt().memoizedState}function cg(){return mt().memoizedState}function LS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var o=sn();t=Li(o);var d=Ii(r,t,o);d!==null&&(Qt(d,r,o),vo(d,r,o)),r={cache:Ku()},t.payload=r;return}r=r.return}}function IS(t,r,o){var d=sn();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},js(t)?dg(r,o):(o=$u(t,r,o,d),o!==null&&(Qt(o,t,d),fg(o,r,d)))}function ug(t,r,o){var d=sn();Eo(t,r,o,d)}function Eo(t,r,o,d){var y={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(js(t))dg(r,y);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,R=x(E,o);if(y.hasEagerState=!0,y.eagerState=R,tn(R,E))return as(t,r,y,0),tt===null&&rs(),!1}catch{}if(o=$u(t,r,y,d),o!==null)return Qt(o,t,d),fg(o,r,d),!0}return!1}function Ed(t,r,o,d){if(d={lane:2,revertLane:nf(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},js(t)){if(r)throw Error(a(479))}else r=$u(t,o,d,2),r!==null&&Qt(r,t,2)}function js(t){var r=t.alternate;return t===Te||r!==null&&r===Te}function dg(t,r){pa=xs=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function fg(t,r,o){if((o&4194048)!==0){var d=r.lanes;d&=t.pendingLanes,o|=d,r.lanes=o,Bl(t,o)}}var jo={readContext:At,use:ws,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};jo.useEffectEvent=ut;var hg={readContext:At,use:ws,useCallback:function(t,r){return Ht().memoizedState=[t,r===void 0?null:r],t},useContext:At,useEffect:Zm,useImperativeHandle:function(t,r,o){o=o!=null?o.concat([t]):null,Ns(4194308,4,eg.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ns(4194308,4,t,r)},useInsertionEffect:function(t,r){Ns(4,2,t,r)},useMemo:function(t,r){var o=Ht();r=r===void 0?null:r;var d=t();if(jr){Ot(!0);try{t()}finally{Ot(!1)}}return o.memoizedState=[d,r],d},useReducer:function(t,r,o){var d=Ht();if(o!==void 0){var y=o(r);if(jr){Ot(!0);try{o(r)}finally{Ot(!1)}}}else y=r;return d.memoizedState=d.baseState=y,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:y},d.queue=t,t=t.dispatch=IS.bind(null,Te,t),[d.memoizedState,t]},useRef:function(t){var r=Ht();return t={current:t},r.memoizedState=t},useState:function(t){t=yd(t);var r=t.queue,o=ug.bind(null,Te,r);return r.dispatch=o,[t.memoizedState,o]},useDebugValue:bd,useDeferredValue:function(t,r){var o=Ht();return wd(o,t,r)},useTransition:function(){var t=yd(!1);return t=ag.bind(null,Te,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,o){var d=Te,y=Ht();if(He){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),tt===null)throw Error(a(349));(Le&127)!==0||Rm(d,r,o)}y.memoizedState=o;var x={value:o,getSnapshot:r};return y.queue=x,Zm(Lm.bind(null,d,x,t),[t]),d.flags|=2048,ga(9,{destroy:void 0},zm.bind(null,d,x,o,r),null),o},useId:function(){var t=Ht(),r=tt.identifierPrefix;if(He){var o=Pn,d=Hn;o=(d&~(1<<32-Qe(d)-1)).toString(32)+o,r="_"+r+"R_"+o,o=vs++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=MS++,r="_"+r+"r_"+o.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Nd,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var r=Ht();r.memoizedState=r.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Ed.bind(null,Te,!0,o),o.dispatch=r,[t,r]},useMemoCache:pd,useCacheRefresh:function(){return Ht().memoizedState=LS.bind(null,Te)},useEffectEvent:function(t){var r=Ht(),o={impl:t};return r.memoizedState=o,function(){if((Ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},jd={readContext:At,use:ws,useCallback:ng,useContext:At,useEffect:vd,useImperativeHandle:tg,useInsertionEffect:Km,useLayoutEffect:Jm,useMemo:ig,useReducer:Ss,useRef:Qm,useState:function(){return Ss(si)},useDebugValue:bd,useDeferredValue:function(t,r){var o=mt();return rg(o,Ke.memoizedState,t,r)},useTransition:function(){var t=Ss(si)[0],r=mt().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Om,useId:sg,useHostTransitionStatus:Nd,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,r){var o=mt();return Hm(o,Ke,t,r)},useMemoCache:pd,useCacheRefresh:cg};jd.useEffectEvent=Wm;var pg={readContext:At,use:ws,useCallback:ng,useContext:At,useEffect:vd,useImperativeHandle:tg,useInsertionEffect:Km,useLayoutEffect:Jm,useMemo:ig,useReducer:gd,useRef:Qm,useState:function(){return gd(si)},useDebugValue:bd,useDeferredValue:function(t,r){var o=mt();return Ke===null?wd(o,t,r):rg(o,Ke.memoizedState,t,r)},useTransition:function(){var t=gd(si)[0],r=mt().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Om,useId:sg,useHostTransitionStatus:Nd,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,r){var o=mt();return Ke!==null?Hm(o,Ke,t,r):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:pd,useCacheRefresh:cg};pg.useEffectEvent=Wm;function Cd(t,r,o,d){r=t.memoizedState,o=o(d,r),o=o==null?r:m({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var kd={enqueueSetState:function(t,r,o){t=t._reactInternals;var d=sn(),y=Li(d);y.payload=r,o!=null&&(y.callback=o),r=Ii(t,y,d),r!==null&&(Qt(r,t,d),vo(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var d=sn(),y=Li(d);y.tag=1,y.payload=r,o!=null&&(y.callback=o),r=Ii(t,y,d),r!==null&&(Qt(r,t,d),vo(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=sn(),d=Li(o);d.tag=2,r!=null&&(d.callback=r),r=Ii(t,d,o),r!==null&&(Qt(r,t,o),vo(r,t,o))}};function mg(t,r,o,d,y,x,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,x,E):r.prototype&&r.prototype.isPureReactComponent?!uo(o,d)||!uo(y,x):!0}function gg(t,r,o,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,d),r.state!==t&&kd.enqueueReplaceState(r,r.state,null)}function Cr(t,r){var o=r;if("ref"in r){o={};for(var d in r)d!=="ref"&&(o[d]=r[d])}if(t=t.defaultProps){o===r&&(o=m({},o));for(var y in t)o[y]===void 0&&(o[y]=t[y])}return o}function yg(t){is(t)}function xg(t){console.error(t)}function vg(t){is(t)}function Cs(t,r){try{var o=t.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function bg(t,r,o){try{var d=t.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Td(t,r,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Cs(t,r)},o}function wg(t){return t=Li(t),t.tag=3,t}function Sg(t,r,o,d){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;t.payload=function(){return y(x)},t.callback=function(){bg(r,o,d)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){bg(r,o,d),typeof y!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function BS(t,r,o,d,y){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=o.alternate,r!==null&&sa(r,o,y,!0),o=rn.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Bs():o.alternate===null&&dt===0&&(dt=3),o.flags&=-257,o.flags|=65536,o.lanes=y,d===hs?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([d]):r.add(d),Jd(t,d,y)),!1;case 22:return o.flags|=65536,d===hs?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([d]):o.add(d)),Jd(t,d,y)),!1}throw Error(a(435,o.tag))}return Jd(t,d,y),Bs(),!1}if(He)return r=rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==Yu&&(t=Error(a(422),{cause:d}),po(mn(t,o)))):(d!==Yu&&(r=Error(a(423),{cause:d}),po(mn(r,o))),t=t.current.alternate,t.flags|=65536,y&=-y,t.lanes|=y,d=mn(d,o),y=Td(t.stateNode,d,y),rd(t,y),dt!==4&&(dt=2)),!1;var x=Error(a(520),{cause:d});if(x=mn(x,o),Oo===null?Oo=[x]:Oo.push(x),dt!==4&&(dt=2),r===null)return!0;d=mn(d,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,t=y&-y,o.lanes|=t,t=Td(o.stateNode,d,t),rd(o,t),!1;case 1:if(r=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qi===null||!qi.has(x))))return o.flags|=65536,y&=-y,o.lanes|=y,y=wg(y),Sg(y,t,o,d),rd(o,y),!1}o=o.return}while(o!==null);return!1}var Ad=Error(a(461)),vt=!1;function Mt(t,r,o,d){r.child=t===null?Cm(r,null,o,d):Er(r,t.child,o,d)}function Ng(t,r,o,d,y){o=o.render;var x=r.ref;if("ref"in d){var E={};for(var R in d)R!=="ref"&&(E[R]=d[R])}else E=d;return br(r),d=ud(t,r,o,E,x,y),R=dd(),t!==null&&!vt?(fd(t,r,y),ci(t,r,y)):(He&&R&&Fu(r),r.flags|=1,Mt(t,r,d,y),r.child)}function Eg(t,r,o,d,y){if(t===null){var x=o.type;return typeof x=="function"&&!Uu(x)&&x.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=x,jg(t,r,x,d,y)):(t=ls(o.type,null,d,r,r.mode,y),t.ref=r.ref,t.return=r,r.child=t)}if(x=t.child,!Id(t,y)){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:uo,o(E,d)&&t.ref===r.ref)return ci(t,r,y)}return r.flags|=1,t=ii(x,d),t.ref=r.ref,t.return=r,r.child=t}function jg(t,r,o,d,y){if(t!==null){var x=t.memoizedProps;if(uo(x,d)&&t.ref===r.ref)if(vt=!1,r.pendingProps=d=x,Id(t,y))(t.flags&131072)!==0&&(vt=!0);else return r.lanes=t.lanes,ci(t,r,y)}return Md(t,r,o,d,y)}function Cg(t,r,o,d){var y=d.children,x=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,t!==null){for(d=r.child=t.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~x}else d=0,r.child=null;return kg(t,r,x,o,d)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ds(r,x!==null?x.cachePool:null),x!==null?Am(r,x):od(),Mm(r);else return d=r.lanes=536870912,kg(t,r,x!==null?x.baseLanes|o:o,o,d)}else x!==null?(ds(r,x.cachePool),Am(r,x),Hi(),r.memoizedState=null):(t!==null&&ds(r,null),od(),Hi());return Mt(t,r,y,o),r.child}function Co(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function kg(t,r,o,d,y){var x=ed();return x=x===null?null:{parent:yt._currentValue,pool:x},r.memoizedState={baseLanes:o,cachePool:x},t!==null&&ds(r,null),od(),Mm(r),t!==null&&sa(t,r,d,!0),r.childLanes=y,null}function ks(t,r){return r=As({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Tg(t,r,o){return Er(r,t.child,null,o),t=ks(r,r.pendingProps),t.flags|=2,an(r),r.memoizedState=null,t}function HS(t,r,o){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(He){if(d.mode==="hidden")return t=ks(r,d),r.lanes=536870912,Co(null,t);if(sd(r),(t=rt)?(t=Py(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Di!==null?{id:Hn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=dm(t),o.return=r,r.child=o,Tt=r,rt=null)):t=null,t===null)throw Oi(r);return r.lanes=536870912,null}return ks(r,d)}var x=t.memoizedState;if(x!==null){var E=x.dehydrated;if(sd(r),y)if(r.flags&256)r.flags&=-257,r=Tg(t,r,o);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(vt||sa(t,r,o,!1),y=(o&t.childLanes)!==0,vt||y){if(d=tt,d!==null&&(E=Hl(d,o),E!==0&&E!==x.retryLane))throw x.retryLane=E,gr(t,E),Qt(d,t,E),Ad;Bs(),r=Tg(t,r,o)}else t=x.treeContext,rt=bn(E.nextSibling),Tt=r,He=!0,_i=null,xn=!1,t!==null&&pm(r,t),r=ks(r,d),r.flags|=4096;return r}return t=ii(t.child,{mode:d.mode,children:d.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ts(t,r){var o=r.ref;if(o===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(r.flags|=4194816)}}function Md(t,r,o,d,y){return br(r),o=ud(t,r,o,d,void 0,y),d=dd(),t!==null&&!vt?(fd(t,r,y),ci(t,r,y)):(He&&d&&Fu(r),r.flags|=1,Mt(t,r,o,y),r.child)}function Ag(t,r,o,d,y,x){return br(r),r.updateQueue=null,o=_m(r,d,o,y),Dm(t),d=dd(),t!==null&&!vt?(fd(t,r,x),ci(t,r,x)):(He&&d&&Fu(r),r.flags|=1,Mt(t,r,o,x),r.child)}function Mg(t,r,o,d,y){if(br(r),r.stateNode===null){var x=ra,E=o.contextType;typeof E=="object"&&E!==null&&(x=At(E)),x=new o(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=kd,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},nd(r),E=o.contextType,x.context=typeof E=="object"&&E!==null?At(E):ra,x.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Cd(r,o,E,d),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&kd.enqueueReplaceState(x,x.state,null),wo(r,d,x,y),bo(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(t===null){x=r.stateNode;var R=r.memoizedProps,Y=Cr(o,R);x.props=Y;var ee=x.context,se=o.contextType;E=ra,typeof se=="object"&&se!==null&&(E=At(se));var ue=o.getDerivedStateFromProps;se=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||ee!==E)&&gg(r,x,d,E),zi=!1;var ne=r.memoizedState;x.state=ne,wo(r,d,x,y),bo(),ee=r.memoizedState,R||ne!==ee||zi?(typeof ue=="function"&&(Cd(r,o,ue,d),ee=r.memoizedState),(Y=zi||mg(r,o,Y,d,ne,ee,E))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ee),x.props=d,x.state=ee,x.context=E,d=Y):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,id(t,r),E=r.memoizedProps,se=Cr(o,E),x.props=se,ue=r.pendingProps,ne=x.context,ee=o.contextType,Y=ra,typeof ee=="object"&&ee!==null&&(Y=At(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ue||ne!==Y)&&gg(r,x,d,Y),zi=!1,ne=r.memoizedState,x.state=ne,wo(r,d,x,y),bo();var ae=r.memoizedState;E!==ue||ne!==ae||zi||t!==null&&t.dependencies!==null&&cs(t.dependencies)?(typeof R=="function"&&(Cd(r,o,R,d),ae=r.memoizedState),(se=zi||mg(r,o,se,d,ne,ae,Y)||t!==null&&t.dependencies!==null&&cs(t.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ae,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ae,Y)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ae),x.props=d,x.state=ae,x.context=Y,d=se):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),d=!1)}return x=d,Ts(t,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,t!==null&&d?(r.child=Er(r,t.child,null,y),r.child=Er(r,null,o,y)):Mt(t,r,o,y),r.memoizedState=x.state,t=r.child):t=ci(t,r,y),t}function Dg(t,r,o,d){return xr(),r.flags|=256,Mt(t,r,o,d),r.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:bm()}}function Od(t,r,o){return t=t!==null?t.childLanes&~o:0,r&&(t|=ln),t}function _g(t,r,o){var d=r.pendingProps,y=!1,x=(r.flags&128)!==0,E;if((E=x)||(E=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),E&&(y=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(y?Bi(r):Hi(),(t=rt)?(t=Py(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Di!==null?{id:Hn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=dm(t),o.return=r,r.child=o,Tt=r,rt=null)):t=null,t===null)throw Oi(r);return gf(t)?r.lanes=32:r.lanes=536870912,null}var R=d.children;return d=d.fallback,y?(Hi(),y=r.mode,R=As({mode:"hidden",children:R},y),d=yr(d,y,o,null),R.return=r,d.return=r,R.sibling=d,r.child=R,d=r.child,d.memoizedState=_d(o),d.childLanes=Od(t,E,o),r.memoizedState=Dd,Co(null,d)):(Bi(r),Rd(r,R))}var Y=t.memoizedState;if(Y!==null&&(R=Y.dehydrated,R!==null)){if(x)r.flags&256?(Bi(r),r.flags&=-257,r=zd(t,r,o)):r.memoizedState!==null?(Hi(),r.child=t.child,r.flags|=128,r=null):(Hi(),R=d.fallback,y=r.mode,d=As({mode:"visible",children:d.children},y),R=yr(R,y,o,null),R.flags|=2,d.return=r,R.return=r,d.sibling=R,r.child=d,Er(r,t.child,null,o),d=r.child,d.memoizedState=_d(o),d.childLanes=Od(t,E,o),r.memoizedState=Dd,r=Co(null,d));else if(Bi(r),gf(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var ee=E.dgst;E=ee,d=Error(a(419)),d.stack="",d.digest=E,po({value:d,source:null,stack:null}),r=zd(t,r,o)}else if(vt||sa(t,r,o,!1),E=(o&t.childLanes)!==0,vt||E){if(E=tt,E!==null&&(d=Hl(E,o),d!==0&&d!==Y.retryLane))throw Y.retryLane=d,gr(t,d),Qt(E,t,d),Ad;mf(R)||Bs(),r=zd(t,r,o)}else mf(R)?(r.flags|=192,r.child=t.child,r=null):(t=Y.treeContext,rt=bn(R.nextSibling),Tt=r,He=!0,_i=null,xn=!1,t!==null&&pm(r,t),r=Rd(r,d.children),r.flags|=4096);return r}return y?(Hi(),R=d.fallback,y=r.mode,Y=t.child,ee=Y.sibling,d=ii(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&65011712,ee!==null?R=ii(ee,R):(R=yr(R,y,o,null),R.flags|=2),R.return=r,d.return=r,d.sibling=R,r.child=d,Co(null,d),d=r.child,R=t.child.memoizedState,R===null?R=_d(o):(y=R.cachePool,y!==null?(Y=yt._currentValue,y=y.parent!==Y?{parent:Y,pool:Y}:y):y=bm(),R={baseLanes:R.baseLanes|o,cachePool:y}),d.memoizedState=R,d.childLanes=Od(t,E,o),r.memoizedState=Dd,Co(t.child,d)):(Bi(r),o=t.child,t=o.sibling,o=ii(o,{mode:"visible",children:d.children}),o.return=r,o.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=o,r.memoizedState=null,o)}function Rd(t,r){return r=As({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function As(t,r){return t=nn(22,t,null,r),t.lanes=0,t}function zd(t,r,o){return Er(r,t.child,null,o),t=Rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Og(t,r,o){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),Zu(t.return,r,o)}function Ld(t,r,o,d,y,x){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:y,treeForkCount:x}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=o,E.tailMode=y,E.treeForkCount=x)}function Rg(t,r,o){var d=r.pendingProps,y=d.revealOrder,x=d.tail;d=d.children;var E=pt.current,R=(E&2)!==0;if(R?(E=E&1|2,r.flags|=128):E&=1,z(pt,E),Mt(t,r,d,o),d=He?ho:0,!R&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,o,r);else if(t.tag===19)Og(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(y){case"forwards":for(o=r.child,y=null;o!==null;)t=o.alternate,t!==null&&ys(t)===null&&(y=o),o=o.sibling;o=y,o===null?(y=r.child,r.child=null):(y=o.sibling,o.sibling=null),Ld(r,!1,y,o,x,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=r.child,r.child=null;y!==null;){if(t=y.alternate,t!==null&&ys(t)===null){r.child=y;break}t=y.sibling,y.sibling=o,o=y,y=t}Ld(r,!0,o,null,x,d);break;case"together":Ld(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function ci(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ui|=r.lanes,(o&r.childLanes)===0)if(t!==null){if(sa(t,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,o=ii(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ii(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Id(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&cs(t)))}function PS(t,r,o){switch(r.tag){case 3:oe(r,r.stateNode.containerInfo),Ri(r,yt,t.memoizedState.cache),xr();break;case 27:case 5:xe(r);break;case 4:oe(r,r.stateNode.containerInfo);break;case 10:Ri(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,sd(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Bi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?_g(t,r,o):(Bi(r),t=ci(t,r,o),t!==null?t.sibling:null);Bi(r);break;case 19:var y=(t.flags&128)!==0;if(d=(o&r.childLanes)!==0,d||(sa(t,r,o,!1),d=(o&r.childLanes)!==0),y){if(d)return Rg(t,r,o);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(pt,pt.current),d)break;return null;case 22:return r.lanes=0,Cg(t,r,o,r.pendingProps);case 24:Ri(r,yt,t.memoizedState.cache)}return ci(t,r,o)}function zg(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps)vt=!0;else{if(!Id(t,o)&&(r.flags&128)===0)return vt=!1,PS(t,r,o);vt=(t.flags&131072)!==0}else vt=!1,He&&(r.flags&1048576)!==0&&hm(r,ho,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(t=Sr(r.elementType),r.type=t,typeof t=="function")Uu(t)?(d=Cr(t,d),r.tag=1,r=Mg(null,r,t,d,o)):(r.tag=0,r=Md(null,r,t,d,o));else{if(t!=null){var y=t.$$typeof;if(y===_){r.tag=11,r=Ng(null,r,t,d,o);break e}else if(y===H){r.tag=14,r=Eg(null,r,t,d,o);break e}}throw r=A(t)||t,Error(a(306,r,""))}}return r;case 0:return Md(t,r,r.type,r.pendingProps,o);case 1:return d=r.type,y=Cr(d,r.pendingProps),Mg(t,r,d,y,o);case 3:e:{if(oe(r,r.stateNode.containerInfo),t===null)throw Error(a(387));d=r.pendingProps;var x=r.memoizedState;y=x.element,id(t,r),wo(r,d,null,o);var E=r.memoizedState;if(d=E.cache,Ri(r,yt,d),d!==x.cache&&Wu(r,[yt],o,!0),bo(),d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Dg(t,r,d,o);break e}else if(d!==y){y=mn(Error(a(424)),r),po(y),r=Dg(t,r,d,o);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=bn(t.firstChild),Tt=r,He=!0,_i=null,xn=!0,o=Cm(r,null,d,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xr(),d===y){r=ci(t,r,o);break e}Mt(t,r,d,o)}r=r.child}return r;case 26:return Ts(t,r),t===null?(o=Gy(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,t=r.pendingProps,d=Fs(re.current).createElement(o),d[Et]=r,d[Rt]=t,Dt(d,o,t),gt(d),r.stateNode=d):r.memoizedState=Gy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xe(r),t===null&&He&&(d=r.stateNode=qy(r.type,r.pendingProps,re.current),Tt=r,xn=!0,y=rt,Yi(r.type)?(yf=y,rt=bn(d.firstChild)):rt=y),Mt(t,r,r.pendingProps.children,o),Ts(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((y=d=rt)&&(d=gN(d,r.type,r.pendingProps,xn),d!==null?(r.stateNode=d,Tt=r,rt=bn(d.firstChild),xn=!1,y=!0):y=!1),y||Oi(r)),xe(r),y=r.type,x=r.pendingProps,E=t!==null?t.memoizedProps:null,d=x.children,ff(y,x)?d=null:E!==null&&ff(y,E)&&(r.flags|=32),r.memoizedState!==null&&(y=ud(t,r,DS,null,null,o),$o._currentValue=y),Ts(t,r),Mt(t,r,d,o),r.child;case 6:return t===null&&He&&((t=o=rt)&&(o=yN(o,r.pendingProps,xn),o!==null?(r.stateNode=o,Tt=r,rt=null,t=!0):t=!1),t||Oi(r)),null;case 13:return _g(t,r,o);case 4:return oe(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=Er(r,null,d,o):Mt(t,r,d,o),r.child;case 11:return Ng(t,r,r.type,r.pendingProps,o);case 7:return Mt(t,r,r.pendingProps,o),r.child;case 8:return Mt(t,r,r.pendingProps.children,o),r.child;case 12:return Mt(t,r,r.pendingProps.children,o),r.child;case 10:return d=r.pendingProps,Ri(r,r.type,d.value),Mt(t,r,d.children,o),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,br(r),y=At(y),d=d(y),r.flags|=1,Mt(t,r,d,o),r.child;case 14:return Eg(t,r,r.type,r.pendingProps,o);case 15:return jg(t,r,r.type,r.pendingProps,o);case 19:return Rg(t,r,o);case 31:return HS(t,r,o);case 22:return Cg(t,r,o,r.pendingProps);case 24:return br(r),d=At(yt),t===null?(y=ed(),y===null&&(y=tt,x=Ku(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=o),y=x),r.memoizedState={parent:d,cache:y},nd(r),Ri(r,yt,y)):((t.lanes&o)!==0&&(id(t,r),wo(r,null,null,o),bo()),y=t.memoizedState,x=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Ri(r,yt,d)):(d=x.cache,Ri(r,yt,d),d!==y.cache&&Wu(r,[yt],o,!0))),Mt(t,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ui(t){t.flags|=4}function Bd(t,r,o,d,y){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(y&335544128)===y)if(t.stateNode.complete)t.flags|=8192;else if(sy())t.flags|=8192;else throw Nr=hs,td}else t.flags&=-16777217}function Lg(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wy(r))if(sy())t.flags|=8192;else throw Nr=hs,td}function Ms(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ll():536870912,t.lanes|=r,ba|=r)}function ko(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,d=0;if(r)for(var y=t.child;y!==null;)o|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)o|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=d,t.childLanes=o,r}function $S(t,r,o){var d=r.pendingProps;switch(Gu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,d=null,t!==null&&(d=t.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),oi(yt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(la(r)?ui(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xu())),at(r),null;case 26:var y=r.type,x=r.memoizedState;return t===null?(ui(r),x!==null?(at(r),Lg(r,x)):(at(r),Bd(r,y,null,d,o))):x?x!==t.memoizedState?(ui(r),at(r),Lg(r,x)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==d&&ui(r),at(r),Bd(r,y,t,d,o)),null;case 27:if(je(r),o=re.current,y=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==d&&ui(r);else{if(!d){if(r.stateNode===null)throw Error(a(166));return at(r),null}t=ie.current,la(r)?mm(r):(t=qy(y,d,o),r.stateNode=t,ui(r))}return at(r),null;case 5:if(je(r),y=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==d&&ui(r);else{if(!d){if(r.stateNode===null)throw Error(a(166));return at(r),null}if(x=ie.current,la(r))mm(r);else{var E=Fs(re.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?E.createElement(y,{is:d.is}):E.createElement(y)}}x[Et]=r,x[Rt]=d;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=x;e:switch(Dt(x,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ui(r)}}return at(r),Bd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,o),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==d&&ui(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(a(166));if(t=re.current,la(r)){if(t=r.stateNode,o=r.memoizedProps,d=null,y=Tt,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}t[Et]=r,t=!!(t.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||_y(t.nodeValue,o)),t||Oi(r,!0)}else t=Fs(t).createTextNode(d),t[Et]=r,r.stateNode=t}return at(r),null;case 31:if(o=r.memoizedState,t===null||t.memoizedState!==null){if(d=la(r),o!==null){if(t===null){if(!d)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=r}else xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else o=Xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return r.flags&256?(an(r),r):(an(r),null);if((r.flags&128)!==0)throw Error(a(558))}return at(r),null;case 13:if(d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(y=la(r),d!==null&&d.dehydrated!==null){if(t===null){if(!y)throw Error(a(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Et]=r}else xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),y=!1}else y=Xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(an(r),r):(an(r),null)}return an(r),(r.flags&128)!==0?(r.lanes=o,r):(o=d!==null,t=t!==null&&t.memoizedState!==null,o&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)),o!==t&&o&&(r.child.flags|=8192),Ms(r,r.updateQueue),at(r),null);case 4:return fe(),t===null&&lf(r.stateNode.containerInfo),at(r),null;case 10:return oi(r.type),at(r),null;case 19:if(V(pt),d=r.memoizedState,d===null)return at(r),null;if(y=(r.flags&128)!==0,x=d.rendering,x===null)if(y)ko(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=ys(t),x!==null){for(r.flags|=128,ko(d,!1),t=x.updateQueue,r.updateQueue=t,Ms(r,t),r.subtreeFlags=0,t=o,o=r.child;o!==null;)um(o,t),o=o.sibling;return z(pt,pt.current&1|2),He&&ri(r,d.treeForkCount),r.child}t=t.sibling}d.tail!==null&&Nt()>zs&&(r.flags|=128,y=!0,ko(d,!1),r.lanes=4194304)}else{if(!y)if(t=ys(x),t!==null){if(r.flags|=128,y=!0,t=t.updateQueue,r.updateQueue=t,Ms(r,t),ko(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!He)return at(r),null}else 2*Nt()-d.renderingStartTime>zs&&o!==536870912&&(r.flags|=128,y=!0,ko(d,!1),r.lanes=4194304);d.isBackwards?(x.sibling=r.child,r.child=x):(t=d.last,t!==null?t.sibling=x:r.child=x,d.last=x)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Nt(),t.sibling=null,o=pt.current,z(pt,y?o&1|2:o&1),He&&ri(r,d.treeForkCount),t):(at(r),null);case 22:case 23:return an(r),ld(),d=r.memoizedState!==null,t!==null?t.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Ms(r,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048),t!==null&&V(wr),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),oi(yt),at(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function US(t,r){switch(Gu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return oi(yt),fe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return je(r),null;case 31:if(r.memoizedState!==null){if(an(r),r.alternate===null)throw Error(a(340));xr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(an(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));xr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return V(pt),null;case 4:return fe(),null;case 10:return oi(r.type),null;case 22:case 23:return an(r),ld(),t!==null&&V(wr),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return oi(yt),null;case 25:return null;default:return null}}function Ig(t,r){switch(Gu(r),r.tag){case 3:oi(yt),fe();break;case 26:case 27:case 5:je(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&an(r);break;case 13:an(r);break;case 19:V(pt);break;case 10:oi(r.type);break;case 22:case 23:an(r),ld(),t!==null&&V(wr);break;case 24:oi(yt)}}function To(t,r){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var y=d.next;o=y;do{if((o.tag&t)===t){d=void 0;var x=o.create,E=o.inst;d=x(),E.destroy=d}o=o.next}while(o!==y)}}catch(R){We(r,r.return,R)}}function Pi(t,r,o){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&t)===t){var E=d.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,y=r;var Y=o,ee=R;try{ee()}catch(se){We(y,Y,se)}}}d=d.next}while(d!==x)}}catch(se){We(r,r.return,se)}}function Bg(t){var r=t.updateQueue;if(r!==null){var o=t.stateNode;try{Tm(r,o)}catch(d){We(t,t.return,d)}}}function Hg(t,r,o){o.props=Cr(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(d){We(t,r,d)}}function Ao(t,r){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var d=t.stateNode;break;case 30:d=t.stateNode;break;default:d=t.stateNode}typeof o=="function"?t.refCleanup=o(d):o.current=d}}catch(y){We(t,r,y)}}function $n(t,r){var o=t.ref,d=t.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(y){We(t,r,y)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){We(t,r,y)}else o.current=null}function Pg(t){var r=t.type,o=t.memoizedProps,d=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(y){We(t,t.return,y)}}function Hd(t,r,o){try{var d=t.stateNode;uN(d,t.type,o,r),d[Rt]=r}catch(y){We(t,t.return,y)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,r,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(t),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ti));else if(d!==4&&(d===27&&Yi(t.type)&&(o=t.stateNode,r=null),t=t.child,t!==null))for($d(t,r,o),t=t.sibling;t!==null;)$d(t,r,o),t=t.sibling}function Ds(t,r,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(d!==4&&(d===27&&Yi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ds(t,r,o),t=t.sibling;t!==null;)Ds(t,r,o),t=t.sibling}function Ug(t){var r=t.stateNode,o=t.memoizedProps;try{for(var d=t.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Dt(r,d,o),r[Et]=t,r[Rt]=o}catch(x){We(t,t.return,x)}}var di=!1,bt=!1,Ud=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function qS(t,r){if(t=t.containerInfo,uf=Ks,t=tm(t),zu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,R=-1,Y=-1,ee=0,se=0,ue=t,ne=null;t:for(;;){for(var ae;ue!==o||y!==0&&ue.nodeType!==3||(R=E+y),ue!==x||d!==0&&ue.nodeType!==3||(Y=E+d),ue.nodeType===3&&(E+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===t)break t;if(ne===o&&++ee===y&&(R=E),ne===x&&++se===d&&(Y=E),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}o=R===-1||Y===-1?null:{start:R,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(df={focusedElem:t,selectionRange:o},Ks=!1,Ct=r;Ct!==null;)if(r=Ct,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ct=t;else for(;Ct!==null;){switch(r=Ct,x=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)y=t[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,o=r,y=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var me=Cr(o.type,y);t=d.getSnapshotBeforeUpdate(me,x),d.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){We(o,o.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,o=t.nodeType,o===9)pf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Ct=t;break}Ct=r.return}}function Vg(t,r,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:hi(t,o),d&4&&To(5,o);break;case 1:if(hi(t,o),d&4)if(t=o.stateNode,r===null)try{t.componentDidMount()}catch(E){We(o,o.return,E)}else{var y=Cr(o.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(y,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){We(o,o.return,E)}}d&64&&Bg(o),d&512&&Ao(o,o.return);break;case 3:if(hi(t,o),d&64&&(t=o.updateQueue,t!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Tm(t,r)}catch(E){We(o,o.return,E)}}break;case 27:r===null&&d&4&&Ug(o);case 26:case 5:hi(t,o),r===null&&d&4&&Pg(o),d&512&&Ao(o,o.return);break;case 12:hi(t,o);break;case 31:hi(t,o),d&4&&Yg(t,o);break;case 13:hi(t,o),d&4&&Xg(t,o),d&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=KS.bind(null,o),xN(t,o))));break;case 22:if(d=o.memoizedState!==null||di,!d){r=r!==null&&r.memoizedState!==null||bt,y=di;var x=bt;di=d,(bt=r)&&!x?pi(t,o,(o.subtreeFlags&8772)!==0):hi(t,o),di=y,bt=x}break;case 30:break;default:hi(t,o)}}function Fg(t){var r=t.alternate;r!==null&&(t.alternate=null,Fg(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&eo(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,Ft=!1;function fi(t,r,o){for(o=o.child;o!==null;)Gg(t,r,o),o=o.sibling}function Gg(t,r,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:bt||$n(o,r),fi(t,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||$n(o,r);var d=st,y=Ft;Yi(o.type)&&(st=o.stateNode,Ft=!1),fi(t,r,o),Bo(o.stateNode),st=d,Ft=y;break;case 5:bt||$n(o,r);case 6:if(d=st,y=Ft,st=null,fi(t,r,o),st=d,Ft=y,st!==null)if(Ft)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(x){We(o,r,x)}else try{st.removeChild(o.stateNode)}catch(x){We(o,r,x)}break;case 18:st!==null&&(Ft?(t=st,By(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Ta(t)):By(st,o.stateNode));break;case 4:d=st,y=Ft,st=o.stateNode.containerInfo,Ft=!0,fi(t,r,o),st=d,Ft=y;break;case 0:case 11:case 14:case 15:Pi(2,o,r),bt||Pi(4,o,r),fi(t,r,o);break;case 1:bt||($n(o,r),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Hg(o,r,d)),fi(t,r,o);break;case 21:fi(t,r,o);break;case 22:bt=(d=bt)||o.memoizedState!==null,fi(t,r,o),bt=d;break;default:fi(t,r,o)}}function Yg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ta(t)}catch(o){We(r,r.return,o)}}}function Xg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ta(t)}catch(o){We(r,r.return,o)}}function VS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new qg),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new qg),r;default:throw Error(a(435,t.tag))}}function _s(t,r){var o=VS(t);r.forEach(function(d){if(!o.has(d)){o.add(d);var y=JS.bind(null,t,d);d.then(y,y)}})}function Gt(t,r){var o=r.deletions;if(o!==null)for(var d=0;d<o.length;d++){var y=o[d],x=t,E=r,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Yi(R.type)){st=R.stateNode,Ft=!1;break e}break;case 5:st=R.stateNode,Ft=!1;break e;case 3:case 4:st=R.stateNode.containerInfo,Ft=!0;break e}R=R.return}if(st===null)throw Error(a(160));Gg(x,E,y),st=null,Ft=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Qg(r,t),r=r.sibling}var kn=null;function Qg(t,r){var o=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(r,t),Yt(t),d&4&&(Pi(3,t,t.return),To(3,t),Pi(5,t,t.return));break;case 1:Gt(r,t),Yt(t),d&512&&(bt||o===null||$n(o,o.return)),d&64&&di&&(t=t.updateQueue,t!==null&&(d=t.callbacks,d!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var y=kn;if(Gt(r,t),Yt(t),d&512&&(bt||o===null||$n(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=t.memoizedState,o===null)if(d===null)if(t.stateNode===null){e:{d=t.type,o=t.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[ur]||x[Et]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),Dt(x,d,o),x[Et]=t,gt(x),d=x;break e;case"link":var E=Qy("link","href",y).get(d+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(x=E[R],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}x=y.createElement(d),Dt(x,d,o),y.head.appendChild(x);break;case"meta":if(E=Qy("meta","content",y).get(d+(o.content||""))){for(R=0;R<E.length;R++)if(x=E[R],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}x=y.createElement(d),Dt(x,d,o),y.head.appendChild(x);break;default:throw Error(a(468,d))}x[Et]=t,gt(x),d=x}t.stateNode=d}else Zy(y,t.type,t.stateNode);else t.stateNode=Xy(y,d,t.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?Zy(y,t.type,t.stateNode):Xy(y,d,t.memoizedProps)):d===null&&t.stateNode!==null&&Hd(t,t.memoizedProps,o.memoizedProps)}break;case 27:Gt(r,t),Yt(t),d&512&&(bt||o===null||$n(o,o.return)),o!==null&&d&4&&Hd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Gt(r,t),Yt(t),d&512&&(bt||o===null||$n(o,o.return)),t.flags&32){y=t.stateNode;try{Wr(y,"")}catch(me){We(t,t.return,me)}}d&4&&t.stateNode!=null&&(y=t.memoizedProps,Hd(t,y,o!==null?o.memoizedProps:y)),d&1024&&(Ud=!0);break;case 6:if(Gt(r,t),Yt(t),d&4){if(t.stateNode===null)throw Error(a(162));d=t.memoizedProps,o=t.stateNode;try{o.nodeValue=d}catch(me){We(t,t.return,me)}}break;case 3:if(Xs=null,y=kn,kn=Gs(r.containerInfo),Gt(r,t),kn=y,Yt(t),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ta(r.containerInfo)}catch(me){We(t,t.return,me)}Ud&&(Ud=!1,Zg(t));break;case 4:d=kn,kn=Gs(t.stateNode.containerInfo),Gt(r,t),Yt(t),kn=d;break;case 12:Gt(r,t),Yt(t);break;case 31:Gt(r,t),Yt(t),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,_s(t,d)));break;case 13:Gt(r,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rs=Nt()),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,_s(t,d)));break;case 22:y=t.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,ee=di,se=bt;if(di=ee||y,bt=se||Y,Gt(r,t),bt=se,di=ee,Yt(t),d&8192)e:for(r=t.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(o===null||Y||di||bt||kr(t)),o=null,r=t;;){if(r.tag===5||r.tag===26){if(o===null){Y=o=r;try{if(x=Y.stateNode,y)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=Y.stateNode;var ue=Y.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){We(Y,Y.return,me)}}}else if(r.tag===6){if(o===null){Y=r;try{Y.stateNode.nodeValue=y?"":Y.memoizedProps}catch(me){We(Y,Y.return,me)}}}else if(r.tag===18){if(o===null){Y=r;try{var ae=Y.stateNode;y?Hy(ae,!0):Hy(Y.stateNode,!1)}catch(me){We(Y,Y.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=t.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,_s(t,o))));break;case 19:Gt(r,t),Yt(t),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,_s(t,d)));break;case 30:break;case 21:break;default:Gt(r,t),Yt(t)}}function Yt(t){var r=t.flags;if(r&2){try{for(var o,d=t.return;d!==null;){if($g(d)){o=d;break}d=d.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var y=o.stateNode,x=Pd(t);Ds(t,x,y);break;case 5:var E=o.stateNode;o.flags&32&&(Wr(E,""),o.flags&=-33);var R=Pd(t);Ds(t,R,E);break;case 3:case 4:var Y=o.stateNode.containerInfo,ee=Pd(t);$d(t,ee,Y);break;default:throw Error(a(161))}}catch(se){We(t,t.return,se)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Zg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function hi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Vg(t,r.alternate,r),r=r.sibling}function kr(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Pi(4,r,r.return),kr(r);break;case 1:$n(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hg(r,r.return,o),kr(r);break;case 27:Bo(r.stateNode);case 26:case 5:$n(r,r.return),kr(r);break;case 22:r.memoizedState===null&&kr(r);break;case 30:kr(r);break;default:kr(r)}t=t.sibling}}function pi(t,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=t,x=r,E=x.flags;switch(x.tag){case 0:case 11:case 15:pi(y,x,o),To(4,x);break;case 1:if(pi(y,x,o),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){We(d,d.return,ee)}if(d=x,y=d.updateQueue,y!==null){var R=d.stateNode;try{var Y=y.shared.hiddenCallbacks;if(Y!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Y.length;y++)km(Y[y],R)}catch(ee){We(d,d.return,ee)}}o&&E&64&&Bg(x),Ao(x,x.return);break;case 27:Ug(x);case 26:case 5:pi(y,x,o),o&&d===null&&E&4&&Pg(x),Ao(x,x.return);break;case 12:pi(y,x,o);break;case 31:pi(y,x,o),o&&E&4&&Yg(y,x);break;case 13:pi(y,x,o),o&&E&4&&Xg(y,x);break;case 22:x.memoizedState===null&&pi(y,x,o),Ao(x,x.return);break;case 30:break;default:pi(y,x,o)}r=r.sibling}}function qd(t,r){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&mo(o))}function Vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&mo(t))}function Tn(t,r,o,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wg(t,r,o,d),r=r.sibling}function Wg(t,r,o,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:Tn(t,r,o,d),y&2048&&To(9,r);break;case 1:Tn(t,r,o,d);break;case 3:Tn(t,r,o,d),y&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&mo(t)));break;case 12:if(y&2048){Tn(t,r,o,d),t=r.stateNode;try{var x=r.memoizedProps,E=x.id,R=x.onPostCommit;typeof R=="function"&&R(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){We(r,r.return,Y)}}else Tn(t,r,o,d);break;case 31:Tn(t,r,o,d);break;case 13:Tn(t,r,o,d);break;case 23:break;case 22:x=r.stateNode,E=r.alternate,r.memoizedState!==null?x._visibility&2?Tn(t,r,o,d):Mo(t,r):x._visibility&2?Tn(t,r,o,d):(x._visibility|=2,ya(t,r,o,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&qd(E,r);break;case 24:Tn(t,r,o,d),y&2048&&Vd(r.alternate,r);break;default:Tn(t,r,o,d)}}function ya(t,r,o,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=t,E=r,R=o,Y=d,ee=E.flags;switch(E.tag){case 0:case 11:case 15:ya(x,E,R,Y,y),To(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?ya(x,E,R,Y,y):Mo(x,E):(se._visibility|=2,ya(x,E,R,Y,y)),y&&ee&2048&&qd(E.alternate,E);break;case 24:ya(x,E,R,Y,y),y&&ee&2048&&Vd(E.alternate,E);break;default:ya(x,E,R,Y,y)}r=r.sibling}}function Mo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=t,d=r,y=d.flags;switch(d.tag){case 22:Mo(o,d),y&2048&&qd(d.alternate,d);break;case 24:Mo(o,d),y&2048&&Vd(d.alternate,d);break;default:Mo(o,d)}r=r.sibling}}var Do=8192;function xa(t,r,o){if(t.subtreeFlags&Do)for(t=t.child;t!==null;)Kg(t,r,o),t=t.sibling}function Kg(t,r,o){switch(t.tag){case 26:xa(t,r,o),t.flags&Do&&t.memoizedState!==null&&MN(o,kn,t.memoizedState,t.memoizedProps);break;case 5:xa(t,r,o);break;case 3:case 4:var d=kn;kn=Gs(t.stateNode.containerInfo),xa(t,r,o),kn=d;break;case 22:t.memoizedState===null&&(d=t.alternate,d!==null&&d.memoizedState!==null?(d=Do,Do=16777216,xa(t,r,o),Do=d):xa(t,r,o));break;default:xa(t,r,o)}}function Jg(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _o(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Ct=d,ty(d,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:_o(t),t.flags&2048&&Pi(9,t,t.return);break;case 3:_o(t);break;case 12:_o(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Os(t)):_o(t);break;default:_o(t)}}function Os(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Ct=d,ty(d,t)}Jg(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Pi(8,r,r.return),Os(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Os(r));break;default:Os(r)}t=t.sibling}}function ty(t,r){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:Pi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:mo(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Ct=d;else e:for(o=t;Ct!==null;){d=Ct;var y=d.sibling,x=d.return;if(Fg(d),d===o){Ct=null;break e}if(y!==null){y.return=x,Ct=y;break e}Ct=x}}}var FS={getCacheForType:function(t){var r=At(yt),o=r.data.get(t);return o===void 0&&(o=t(),r.data.set(t,o)),o},cacheSignal:function(){return At(yt).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Oe=null,Le=0,Ze=0,on=null,$i=!1,va=!1,Fd=!1,mi=0,dt=0,Ui=0,Tr=0,Gd=0,ln=0,ba=0,Oo=null,Xt=null,Yd=!1,Rs=0,ny=0,zs=1/0,Ls=null,qi=null,jt=0,Vi=null,wa=null,gi=0,Xd=0,Qd=null,iy=null,Ro=0,Zd=null;function sn(){return(Ge&2)!==0&&Le!==0?Le&-Le:D.T!==null?nf():Pl()}function ry(){if(ln===0)if((Le&536870912)===0||He){var t=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),ln=t}else ln=536870912;return t=rn.current,t!==null&&(t.flags|=32),ln}function Qt(t,r,o){(t===tt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Sa(t,0),Fi(t,Le,ln,!1)),cr(t,o),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Tr|=o),dt===4&&Fi(t,Le,ln,!1)),Un(t))}function ay(t,r,o){if((Ge&6)!==0)throw Error(a(327));var d=!o&&(r&127)===0&&(r&t.expiredLanes)===0||sr(t,r),y=d?QS(t,r):Kd(t,r,!0),x=d;do{if(y===0){va&&!d&&Fi(t,r,0,!1);break}else{if(o=t.current.alternate,x&&!YS(o)){y=Kd(t,r,!1),x=!1;continue}if(y===2){if(x=r,t.errorRecoveryDisabledLanes&x)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var R=t;y=Oo;var Y=R.current.memoizedState.isDehydrated;if(Y&&(Sa(R,E).flags|=256),E=Kd(R,E,!1),E!==2){if(Fd&&!Y){R.errorRecoveryDisabledLanes|=x,Tr|=x,y=4;break e}x=Xt,Xt=y,x!==null&&(Xt===null?Xt=x:Xt.push.apply(Xt,x))}y=E}if(x=!1,y!==2)continue}}if(y===1){Sa(t,0),Fi(t,r,0,!0);break}e:{switch(d=t,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Fi(d,r,ln,!$i);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(y=Rs+300-Nt(),10<y)){if(Fi(d,r,ln,!$i),Gr(d,0,!0)!==0)break e;gi=r,d.timeoutHandle=Ly(oy.bind(null,d,o,Xt,Ls,Yd,r,ln,Tr,ba,$i,x,"Throttled",-0,0),y);break e}oy(d,o,Xt,Ls,Yd,r,ln,Tr,ba,$i,x,null,-0,0)}}break}while(!0);Un(t)}function oy(t,r,o,d,y,x,E,R,Y,ee,se,ue,ne,ae){if(t.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Kg(r,x,ue);var me=(x&62914560)===x?Rs-Nt():(x&4194048)===x?ny-Nt():0;if(me=DN(ue,me),me!==null){gi=x,t.cancelPendingCommit=me(py.bind(null,t,r,x,o,d,y,E,R,Y,se,ue,null,ne,ae)),Fi(t,x,E,!ee);return}}py(t,r,x,o,d,y,E,R,Y)}function YS(t){for(var r=t;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var y=o[d],x=y.getSnapshot;y=y.value;try{if(!tn(x(),y))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(t,r,o,d){r&=~Gd,r&=~Tr,t.suspendedLanes|=r,t.pingedLanes&=~r,d&&(t.warmLanes|=r),d=t.expirationTimes;for(var y=r;0<y;){var x=31-Qe(y),E=1<<x;d[x]=-1,y&=~E}o!==0&&Il(t,o,r)}function Is(){return(Ge&6)===0?(zo(0),!1):!0}function Wd(){if(Oe!==null){if(Ze===0)var t=Oe.return;else t=Oe,ai=vr=null,hd(t),fa=null,yo=0,t=Oe;for(;t!==null;)Ig(t.alternate,t),t=t.return;Oe=null}}function Sa(t,r){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,hN(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),gi=0,Wd(),tt=t,Oe=o=ii(t.current,null),Le=r,Ze=0,on=null,$i=!1,va=sr(t,r),Fd=!1,ba=ln=Gd=Tr=Ui=dt=0,Xt=Oo=null,Yd=!1,(r&8)!==0&&(r|=r&32);var d=t.entangledLanes;if(d!==0)for(t=t.entanglements,d&=r;0<d;){var y=31-Qe(d),x=1<<y;r|=t[y],d&=~x}return mi=r,rs(),o}function ly(t,r){Te=null,D.H=jo,r===da||r===fs?(r=Nm(),Ze=3):r===td?(r=Nm(),Ze=4):Ze=r===Ad?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,on=r,Oe===null&&(dt=1,Cs(t,mn(r,t.current)))}function sy(){var t=rn.current;return t===null?!0:(Le&4194048)===Le?vn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===vn:!1}function cy(){var t=D.H;return D.H=jo,t===null?jo:t}function uy(){var t=D.A;return D.A=FS,t}function Bs(){dt=4,$i||(Le&4194048)!==Le&&rn.current!==null||(va=!0),(Ui&134217727)===0&&(Tr&134217727)===0||tt===null||Fi(tt,Le,ln,!1)}function Kd(t,r,o){var d=Ge;Ge|=2;var y=cy(),x=uy();(tt!==t||Le!==r)&&(Ls=null,Sa(t,r)),r=!1;var E=dt;e:do try{if(Ze!==0&&Oe!==null){var R=Oe,Y=on;switch(Ze){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(r=!0);var ee=Ze;if(Ze=0,on=null,Na(t,R,Y,ee),o&&va){E=0;break e}break;default:ee=Ze,Ze=0,on=null,Na(t,R,Y,ee)}}XS(),E=dt;break}catch(se){ly(t,se)}while(!0);return r&&t.shellSuspendCounter++,ai=vr=null,Ge=d,D.H=y,D.A=x,Oe===null&&(tt=null,Le=0,rs()),E}function XS(){for(;Oe!==null;)dy(Oe)}function QS(t,r){var o=Ge;Ge|=2;var d=cy(),y=uy();tt!==t||Le!==r?(Ls=null,zs=Nt()+500,Sa(t,r)):va=sr(t,r);e:do try{if(Ze!==0&&Oe!==null){r=Oe;var x=on;t:switch(Ze){case 1:Ze=0,on=null,Na(t,r,x,1);break;case 2:case 9:if(wm(x)){Ze=0,on=null,fy(r);break}r=function(){Ze!==2&&Ze!==9||tt!==t||(Ze=7),Un(t)},x.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:wm(x)?(Ze=0,on=null,fy(r)):(Ze=0,on=null,Na(t,r,x,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var R=Oe;if(E?Wy(E):R.stateNode.complete){Ze=0,on=null;var Y=R.sibling;if(Y!==null)Oe=Y;else{var ee=R.return;ee!==null?(Oe=ee,Hs(ee)):Oe=null}break t}}Ze=0,on=null,Na(t,r,x,5);break;case 6:Ze=0,on=null,Na(t,r,x,6);break;case 8:Wd(),dt=6;break e;default:throw Error(a(462))}}ZS();break}catch(se){ly(t,se)}while(!0);return ai=vr=null,D.H=d,D.A=y,Ge=o,Oe!==null?0:(tt=null,Le=0,rs(),dt)}function ZS(){for(;Oe!==null&&!Qn();)dy(Oe)}function dy(t){var r=zg(t.alternate,t,mi);t.memoizedProps=t.pendingProps,r===null?Hs(t):Oe=r}function fy(t){var r=t,o=r.alternate;switch(r.tag){case 15:case 0:r=Ag(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Ag(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:hd(r);default:Ig(o,r),r=Oe=um(r,mi),r=zg(o,r,mi)}t.memoizedProps=t.pendingProps,r===null?Hs(t):Oe=r}function Na(t,r,o,d){ai=vr=null,hd(r),fa=null,yo=0;var y=r.return;try{if(BS(t,y,r,o,Le)){dt=1,Cs(t,mn(o,t.current)),Oe=null;return}}catch(x){if(y!==null)throw Oe=y,x;dt=1,Cs(t,mn(o,t.current)),Oe=null;return}r.flags&32768?(He||d===1?t=!0:va||(Le&536870912)!==0?t=!1:($i=t=!0,(d===2||d===9||d===3||d===6)&&(d=rn.current,d!==null&&d.tag===13&&(d.flags|=16384))),hy(r,t)):Hs(r)}function Hs(t){var r=t;do{if((r.flags&32768)!==0){hy(r,$i);return}t=r.return;var o=$S(r.alternate,r,mi);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);dt===0&&(dt=5)}function hy(t,r){do{var o=US(t.alternate,t);if(o!==null){o.flags&=32767,Oe=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=o}while(t!==null);dt=6,Oe=null}function py(t,r,o,d,y,x,E,R,Y){t.cancelPendingCommit=null;do Ps();while(jt!==0);if((Ge&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(x=r.lanes|r.childLanes,x|=Pu,gu(t,o,x,E,R,Y),t===tt&&(Oe=tt=null,Le=0),wa=r,Vi=t,gi=o,Xd=x,Qd=y,iy=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eN(Se,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=D.T,D.T=null,y=U.p,U.p=2,E=Ge,Ge|=4;try{qS(t,r,o)}finally{Ge=E,U.p=y,D.T=d}}jt=1,my(),gy(),yy()}}function my(){if(jt===1){jt=0;var t=Vi,r=wa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var d=U.p;U.p=2;var y=Ge;Ge|=4;try{Qg(r,t);var x=df,E=tm(t.containerInfo),R=x.focusedElem,Y=x.selectionRange;if(E!==R&&R&&R.ownerDocument&&em(R.ownerDocument.documentElement,R)){if(Y!==null&&zu(R)){var ee=Y.start,se=Y.end;if(se===void 0&&(se=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(se,R.value.length);else{var ue=R.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=R.textContent.length,Ne=Math.min(Y.start,me),et=Y.end===void 0?Ne:Math.min(Y.end,me);!ae.extend&&Ne>et&&(E=et,et=Ne,Ne=E);var W=Jp(R,Ne),Q=Jp(R,et);if(W&&Q&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==Q.node||ae.focusOffset!==Q.offset)){var J=ue.createRange();J.setStart(W.node,W.offset),ae.removeAllRanges(),Ne>et?(ae.addRange(J),ae.extend(Q.node,Q.offset)):(J.setEnd(Q.node,Q.offset),ae.addRange(J))}}}}for(ue=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var ce=ue[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ks=!!uf,df=uf=null}finally{Ge=y,U.p=d,D.T=o}}t.current=r,jt=2}}function gy(){if(jt===2){jt=0;var t=Vi,r=wa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var d=U.p;U.p=2;var y=Ge;Ge|=4;try{Vg(t,r.alternate,r)}finally{Ge=y,U.p=d,D.T=o}}jt=3}}function yy(){if(jt===4||jt===3){jt=0,Zn();var t=Vi,r=wa,o=gi,d=iy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,wa=Vi=null,xy(t,t.pendingLanes));var y=t.pendingLanes;if(y===0&&(qi=null),Ja(o),r=r.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(kt,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=D.T,y=U.p,U.p=2,D.T=null;try{for(var x=t.onRecoverableError,E=0;E<d.length;E++){var R=d[E];x(R.value,{componentStack:R.stack})}}finally{D.T=r,U.p=y}}(gi&3)!==0&&Ps(),Un(t),y=t.pendingLanes,(o&261930)!==0&&(y&42)!==0?t===Zd?Ro++:(Ro=0,Zd=t):Ro=0,zo(0)}}function xy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,mo(r)))}function Ps(){return my(),gy(),yy(),vy()}function vy(){if(jt!==5)return!1;var t=Vi,r=Xd;Xd=0;var o=Ja(gi),d=D.T,y=U.p;try{U.p=32>o?32:o,D.T=null,o=Qd,Qd=null;var x=Vi,E=gi;if(jt=0,wa=Vi=null,gi=0,(Ge&6)!==0)throw Error(a(331));var R=Ge;if(Ge|=4,ey(x.current),Wg(x,x.current,E,o),Ge=R,zo(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(kt,x)}catch{}return!0}finally{U.p=y,D.T=d,xy(t,r)}}function by(t,r,o){r=mn(o,r),r=Td(t.stateNode,r,2),t=Ii(t,r,2),t!==null&&(cr(t,2),Un(t))}function We(t,r,o){if(t.tag===3)by(t,t,o);else for(;r!==null;){if(r.tag===3){by(r,t,o);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qi===null||!qi.has(d))){t=mn(o,t),o=wg(2),d=Ii(r,o,2),d!==null&&(Sg(o,d,r,t),cr(d,2),Un(d));break}}r=r.return}}function Jd(t,r,o){var d=t.pingCache;if(d===null){d=t.pingCache=new GS;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(o)||(Fd=!0,y.add(o),t=WS.bind(null,t,r,o),r.then(t,t))}function WS(t,r,o){var d=t.pingCache;d!==null&&d.delete(r),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,tt===t&&(Le&o)===o&&(dt===4||dt===3&&(Le&62914560)===Le&&300>Nt()-Rs?(Ge&2)===0&&Sa(t,0):Gd|=o,ba===Le&&(ba=0)),Un(t)}function wy(t,r){r===0&&(r=Ll()),t=gr(t,r),t!==null&&(cr(t,r),Un(t))}function KS(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),wy(t,o)}function JS(t,r){var o=0;switch(t.tag){case 31:case 13:var d=t.stateNode,y=t.memoizedState;y!==null&&(o=y.retryLane);break;case 19:d=t.stateNode;break;case 22:d=t.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(r),wy(t,o)}function eN(t,r){return $t(t,r)}var $s=null,Ea=null,ef=!1,Us=!1,tf=!1,Gi=0;function Un(t){t!==Ea&&t.next===null&&(Ea===null?$s=Ea=t:Ea=Ea.next=t),Us=!0,ef||(ef=!0,nN())}function zo(t,r){if(!tf&&Us){tf=!0;do for(var o=!1,d=$s;d!==null;){if(t!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var E=d.suspendedLanes,R=d.pingedLanes;x=(1<<31-Qe(42|t)+1)-1,x&=y&~(E&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,jy(d,x))}else x=Le,x=Gr(d,d===tt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||sr(d,x)||(o=!0,jy(d,x));d=d.next}while(o);tf=!1}}function tN(){Sy()}function Sy(){Us=ef=!1;var t=0;Gi!==0&&fN()&&(t=Gi);for(var r=Nt(),o=null,d=$s;d!==null;){var y=d.next,x=Ny(d,r);x===0?(d.next=null,o===null?$s=y:o.next=y,y===null&&(Ea=o)):(o=d,(t!==0||(x&3)!==0)&&(Us=!0)),d=y}jt!==0&&jt!==5||zo(t),Gi!==0&&(Gi=0)}function Ny(t,r){for(var o=t.suspendedLanes,d=t.pingedLanes,y=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var E=31-Qe(x),R=1<<E,Y=y[E];Y===-1?((R&o)===0||(R&d)!==0)&&(y[E]=mu(R,r)):Y<=r&&(t.expiredLanes|=R),x&=~R}if(r=tt,o=Le,o=Gr(t,t===r?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d=t.callbackNode,o===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return d!==null&&d!==null&&Nn(d),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||sr(t,o)){if(r=o&-o,r===t.callbackPriority)return r;switch(d!==null&&Nn(d),Ja(o)){case 2:case 8:o=pe;break;case 32:o=Se;break;case 268435456:o=Pe;break;default:o=Se}return d=Ey.bind(null,t),o=$t(o,d),t.callbackPriority=r,t.callbackNode=o,r}return d!==null&&d!==null&&Nn(d),t.callbackPriority=2,t.callbackNode=null,2}function Ey(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Ps()&&t.callbackNode!==o)return null;var d=Le;return d=Gr(t,t===tt?d:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d===0?null:(ay(t,d,r),Ny(t,Nt()),t.callbackNode!=null&&t.callbackNode===o?Ey.bind(null,t):null)}function jy(t,r){if(Ps())return null;ay(t,r,!0)}function nN(){pN(function(){(Ge&6)!==0?$t(le,tN):Sy()})}function nf(){if(Gi===0){var t=ca;t===0&&(t=qr,qr<<=1,(qr&261888)===0&&(qr=256)),Gi=t}return Gi}function Cy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zl(""+t)}function ky(t,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,t.id&&o.setAttribute("form",t.id),r.parentNode.insertBefore(o,r),t=new FormData(t),o.parentNode.removeChild(o),t}function iN(t,r,o,d,y){if(r==="submit"&&o&&o.stateNode===y){var x=Cy((y[Rt]||null).action),E=d.submitter;E&&(r=(r=E[Rt]||null)?Cy(r.formAction):E.getAttribute("formAction"),r!==null&&(x=r,E=null));var R=new es("action","action",null,d,y);t.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gi!==0){var Y=E?ky(y,E):new FormData(y);Sd(o,{pending:!0,data:Y,method:y.method,action:x},null,Y)}}else typeof x=="function"&&(R.preventDefault(),Y=E?ky(y,E):new FormData(y),Sd(o,{pending:!0,data:Y,method:y.method,action:x},x,Y))},currentTarget:y}]})}}for(var rf=0;rf<Hu.length;rf++){var af=Hu[rf],rN=af.toLowerCase(),aN=af[0].toUpperCase()+af.slice(1);Cn(rN,"on"+aN)}Cn(rm,"onAnimationEnd"),Cn(am,"onAnimationIteration"),Cn(om,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(wS,"onTransitionRun"),Cn(SS,"onTransitionStart"),Cn(NS,"onTransitionCancel"),Cn(lm,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Ty(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var d=t[o],y=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var E=d.length-1;0<=E;E--){var R=d[E],Y=R.instance,ee=R.currentTarget;if(R=R.listener,Y!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=ee;try{x(y)}catch(se){is(se)}y.currentTarget=null,x=Y}else for(E=0;E<d.length;E++){if(R=d[E],Y=R.instance,ee=R.currentTarget,R=R.listener,Y!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=ee;try{x(y)}catch(se){is(se)}y.currentTarget=null,x=Y}}}}function Re(t,r){var o=r[Yr];o===void 0&&(o=r[Yr]=new Set);var d=t+"__bubble";o.has(d)||(Ay(r,t,2,!1),o.add(d))}function of(t,r,o){var d=0;r&&(d|=4),Ay(o,t,d,r)}var qs="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[qs]){t[qs]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(oN.has(o)||of(o,!1,t),of(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qs]||(r[qs]=!0,of("selectionchange",!1,r))}}function Ay(t,r,o,d){switch(rx(r)){case 2:var y=RN;break;case 8:y=zN;break;default:y=Sf}o=y.bind(null,r,o,t),y=void 0,!Cu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?t.addEventListener(r,o,{capture:!0,passive:y}):t.addEventListener(r,o,!0):y!==void 0?t.addEventListener(r,o,{passive:y}):t.addEventListener(r,o,!1)}function sf(t,r,o,d,y){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var R=d.stateNode.containerInfo;if(R===y)break;if(E===4)for(E=d.return;E!==null;){var Y=E.tag;if((Y===3||Y===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;R!==null;){if(E=ji(R),E===null)return;if(Y=E.tag,Y===5||Y===6||Y===26||Y===27){d=x=E;continue e}R=R.parentNode}}d=d.return}Rp(function(){var ee=x,se=Eu(o),ue=[];e:{var ne=sm.get(t);if(ne!==void 0){var ae=es,me=t;switch(t){case"keypress":if(Kl(o)===0)break e;case"keydown":case"keyup":ae=J1;break;case"focusin":me="focus",ae=Mu;break;case"focusout":me="blur",ae=Mu;break;case"beforeblur":case"afterblur":ae=Mu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=nS;break;case rm:case am:case om:ae=V1;break;case lm:ae=rS;break;case"scroll":case"scrollend":ae=H1;break;case"wheel":ae=oS;break;case"copy":case"cut":case"paste":ae=G1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Hp;break;case"toggle":case"beforetoggle":ae=sS}var Ne=(r&4)!==0,et=!Ne&&(t==="scroll"||t==="scrollend"),W=Ne?ne!==null?ne+"Capture":null:ne;Ne=[];for(var Q=ee,J;Q!==null;){var ce=Q;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||W===null||(ce=io(Q,W),ce!=null&&Ne.push(Io(Q,ce,J))),et)break;Q=Q.return}0<Ne.length&&(ne=new ae(ne,me,null,o,se),ue.push({event:ne,listeners:Ne}))}}if((r&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",ne&&o!==Nu&&(me=o.relatedTarget||o.fromElement)&&(ji(me)||me[Kn]))break e;if((ae||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=o.relatedTarget||o.toElement,ae=ee,me=me?ji(me):null,me!==null&&(et=s(me),Ne=me.tag,me!==et||Ne!==5&&Ne!==27&&Ne!==6)&&(me=null)):(ae=null,me=ee),ae!==me)){if(Ne=Ip,ce="onMouseLeave",W="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=Hp,ce="onPointerLeave",W="onPointerEnter",Q="pointer"),et=ae==null?ne:ki(ae),J=me==null?ne:ki(me),ne=new Ne(ce,Q+"leave",ae,o,se),ne.target=et,ne.relatedTarget=J,ce=null,ji(se)===ee&&(Ne=new Ne(W,Q+"enter",me,o,se),Ne.target=J,Ne.relatedTarget=et,ce=Ne),et=ce,ae&&me)t:{for(Ne=lN,W=ae,Q=me,J=0,ce=W;ce;ce=Ne(ce))J++;ce=0;for(var be=Q;be;be=Ne(be))ce++;for(;0<J-ce;)W=Ne(W),J--;for(;0<ce-J;)Q=Ne(Q),ce--;for(;J--;){if(W===Q||Q!==null&&W===Q.alternate){Ne=W;break t}W=Ne(W),Q=Ne(Q)}Ne=null}else Ne=null;ae!==null&&My(ue,ne,ae,Ne,!1),me!==null&&et!==null&&My(ue,et,me,Ne,!0)}}e:{if(ne=ee?ki(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ve=Yp;else if(Fp(ne))if(Xp)Ve=xS;else{Ve=gS;var ye=mS}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Su(ee.elementType)&&(Ve=Yp):Ve=yS;if(Ve&&(Ve=Ve(t,ee))){Gp(ue,Ve,o,se);break e}ye&&ye(t,ne,ee),t==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&no(ne,"number",ne.value)}switch(ye=ee?ki(ee):window,t){case"focusin":(Fp(ye)||ye.contentEditable==="true")&&(ta=ye,Lu=ee,fo=null);break;case"focusout":fo=Lu=ta=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,nm(ue,o,se);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":nm(ue,o,se)}var Ae;if(_u)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ea?qp(t,o)&&(Ie="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(Pp&&o.locale!=="ko"&&(ea||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ea&&(Ae=zp()):(Mi=se,ku="value"in Mi?Mi.value:Mi.textContent,ea=!0)),ye=Vs(ee,Ie),0<ye.length&&(Ie=new Bp(Ie,t,null,o,se),ue.push({event:Ie,listeners:ye}),Ae?Ie.data=Ae:(Ae=Vp(o),Ae!==null&&(Ie.data=Ae)))),(Ae=uS?dS(t,o):fS(t,o))&&(Ie=Vs(ee,"onBeforeInput"),0<Ie.length&&(ye=new Bp("onBeforeInput","beforeinput",null,o,se),ue.push({event:ye,listeners:Ie}),ye.data=Ae)),iN(ue,t,ee,o,se)}Ty(ue,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Vs(t,r){for(var o=r+"Capture",d=[];t!==null;){var y=t,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=io(t,o),y!=null&&d.unshift(Io(t,y,x)),y=io(t,r),y!=null&&d.push(Io(t,y,x))),t.tag===3)return d;t=t.return}return[]}function lN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function My(t,r,o,d,y){for(var x=r._reactName,E=[];o!==null&&o!==d;){var R=o,Y=R.alternate,ee=R.stateNode;if(R=R.tag,Y!==null&&Y===d)break;R!==5&&R!==26&&R!==27||ee===null||(Y=ee,y?(ee=io(o,x),ee!=null&&E.unshift(Io(o,ee,Y))):y||(ee=io(o,x),ee!=null&&E.push(Io(o,ee,Y)))),o=o.return}E.length!==0&&t.push({event:r,listeners:E})}var sN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(sN,`
`).replace(cN,"")}function _y(t,r){return r=Dy(r),Dy(t)===r}function Je(t,r,o,d,y,x){switch(o){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Wr(t,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Wr(t,""+d);break;case"className":Qr(t,"class",d);break;case"tabIndex":Qr(t,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(t,o,d);break;case"style":_p(t,d,x);break;case"data":if(r!=="object"){Qr(t,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||o!=="href")){t.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(o);break}d=Zl(""+d),t.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(r!=="input"&&Je(t,r,"name",y.name,y,null),Je(t,r,"formEncType",y.formEncType,y,null),Je(t,r,"formMethod",y.formMethod,y,null),Je(t,r,"formTarget",y.formTarget,y,null)):(Je(t,r,"encType",y.encType,y,null),Je(t,r,"method",y.method,y,null),Je(t,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(o);break}d=Zl(""+d),t.setAttribute(o,d);break;case"onClick":d!=null&&(t.onclick=ti);break;case"onScroll":d!=null&&Re("scroll",t);break;case"onScrollEnd":d!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(y.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":t.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){t.removeAttribute("xlink:href");break}o=Zl(""+d),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(o,""+d):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":d===!0?t.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(o,d):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?t.setAttribute(o,d):t.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?t.removeAttribute(o):t.setAttribute(o,d);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Xr(t,"popover",d);break;case"xlinkActuate":jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":jn(t,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":jn(t,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":jn(t,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":jn(t,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Xr(t,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=I1.get(o)||o,Xr(t,o,d))}}function cf(t,r,o,d,y,x){switch(o){case"style":_p(t,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(y.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof d=="string"?Wr(t,d):(typeof d=="number"||typeof d=="bigint")&&Wr(t,""+d);break;case"onScroll":d!=null&&Re("scroll",t);break;case"onScrollEnd":d!=null&&Re("scrollend",t);break;case"onClick":d!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),r=o.slice(2,y?o.length-7:void 0),x=t[Rt]||null,x=x!=null?x[o]:null,typeof x=="function"&&t.removeEventListener(r,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(r,d,y);break e}o in t?t[o]=d:d===!0?t.setAttribute(o,""):Xr(t,o,d)}}}function Dt(t,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var d=!1,y=!1,x;for(x in o)if(o.hasOwnProperty(x)){var E=o[x];if(E!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,x,E,o,null)}}y&&Je(t,r,"srcSet",o.srcSet,o,null),d&&Je(t,r,"src",o.src,o,null);return;case"input":Re("invalid",t);var R=x=E=y=null,Y=null,ee=null;for(d in o)if(o.hasOwnProperty(d)){var se=o[d];if(se!=null)switch(d){case"name":y=se;break;case"type":E=se;break;case"checked":Y=se;break;case"defaultChecked":ee=se;break;case"value":x=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,r));break;default:Je(t,r,d,se,o,null)}}Ql(t,x,R,Y,ee,E,y,!1);return;case"select":Re("invalid",t),d=E=x=null;for(y in o)if(o.hasOwnProperty(y)&&(R=o[y],R!=null))switch(y){case"value":x=R;break;case"defaultValue":E=R;break;case"multiple":d=R;default:Je(t,r,y,R,o,null)}r=x,o=E,t.multiple=!!d,r!=null?ei(t,!!d,r,!1):o!=null&&ei(t,!!d,o,!0);return;case"textarea":Re("invalid",t),x=y=d=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":d=R;break;case"defaultValue":y=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Je(t,r,E,R,o,null)}Mp(t,d,y,x);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(d=o[Y],d!=null))switch(Y){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Je(t,r,Y,d,o,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(d=0;d<Lo.length;d++)Re(Lo[d],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(d=o[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,ee,d,o,null)}return;default:if(Su(r)){for(se in o)o.hasOwnProperty(se)&&(d=o[se],d!==void 0&&cf(t,r,se,d,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(d=o[R],d!=null&&Je(t,r,R,d,o,null))}function uN(t,r,o,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,E=null,R=null,Y=null,ee=null,se=null;for(ae in o){var ue=o[ae];if(o.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Y=ue;default:d.hasOwnProperty(ae)||Je(t,r,ae,null,d,ue)}}for(var ne in d){var ae=d[ne];if(ue=o[ne],d.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":y=ae;break;case"checked":ee=ae;break;case"defaultChecked":se=ae;break;case"value":E=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:ae!==ue&&Je(t,r,ne,ae,d,ue)}}fr(t,E,R,Y,ee,se,x,y);return;case"select":ae=E=R=ne=null;for(x in o)if(Y=o[x],o.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":ae=Y;default:d.hasOwnProperty(x)||Je(t,r,x,null,d,Y)}for(y in d)if(x=d[y],Y=o[y],d.hasOwnProperty(y)&&(x!=null||Y!=null))switch(y){case"value":ne=x;break;case"defaultValue":R=x;break;case"multiple":E=x;default:x!==Y&&Je(t,r,y,x,d,Y)}r=R,o=E,d=ae,ne!=null?ei(t,!!o,ne,!1):!!d!=!!o&&(r!=null?ei(t,!!o,r,!0):ei(t,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(R in o)if(y=o[R],o.hasOwnProperty(R)&&y!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Je(t,r,R,null,d,y)}for(E in d)if(y=d[E],x=o[E],d.hasOwnProperty(E)&&(y!=null||x!=null))switch(E){case"value":ne=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&Je(t,r,E,y,d,x)}Ap(t,ne,ae);return;case"option":for(var me in o)if(ne=o[me],o.hasOwnProperty(me)&&ne!=null&&!d.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Je(t,r,me,null,d,ne)}for(Y in d)if(ne=d[Y],ae=o[Y],d.hasOwnProperty(Y)&&ne!==ae&&(ne!=null||ae!=null))switch(Y){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Je(t,r,Y,ne,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)ne=o[Ne],o.hasOwnProperty(Ne)&&ne!=null&&!d.hasOwnProperty(Ne)&&Je(t,r,Ne,null,d,ne);for(ee in d)if(ne=d[ee],ae=o[ee],d.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,r));break;default:Je(t,r,ee,ne,d,ae)}return;default:if(Su(r)){for(var et in o)ne=o[et],o.hasOwnProperty(et)&&ne!==void 0&&!d.hasOwnProperty(et)&&cf(t,r,et,void 0,d,ne);for(se in d)ne=d[se],ae=o[se],!d.hasOwnProperty(se)||ne===ae||ne===void 0&&ae===void 0||cf(t,r,se,ne,d,ae);return}}for(var W in o)ne=o[W],o.hasOwnProperty(W)&&ne!=null&&!d.hasOwnProperty(W)&&Je(t,r,W,null,d,ne);for(ue in d)ne=d[ue],ae=o[ue],!d.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||Je(t,r,ue,ne,d,ae)}function Oy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var y=o[d],x=y.transferSize,E=y.initiatorType,R=y.duration;if(x&&R&&Oy(E)){for(E=0,R=y.responseEnd,d+=1;d<o.length;d++){var Y=o[d],ee=Y.startTime;if(ee>R)break;var se=Y.transferSize,ue=Y.initiatorType;se&&Oy(ue)&&(Y=Y.responseEnd,E+=se*(Y<R?1:(R-ee)/(Y-ee)))}if(--d,r+=8*(x+E)/(y.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,df=null;function Fs(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ff(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hf=null;function fN(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(mN)}:Ly;function mN(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function By(t,r){var o=r,d=0;do{var y=o.nextSibling;if(t.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(d===0){t.removeChild(y),Ta(r);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Bo(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Bo(o);for(var x=o.firstChild;x;){var E=x.nextSibling,R=x.nodeName;x[ur]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}else o==="body"&&Bo(t.ownerDocument.body);o=y}while(o);Ta(r)}function Hy(t,r){var o=t;t=0;do{var d=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=d}while(o)}function pf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pf(o),eo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function gN(t,r,o,d){for(;t.nodeType===1;){var y=o;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(d){if(!t[ur])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==y.rel||t.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||t.getAttribute("title")!==(y.title==null?null:y.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(y.src==null?null:y.src)||t.getAttribute("type")!==(y.type==null?null:y.type)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function yN(t,r,o){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=bn(t.nextSibling),t===null))return null;return t}function Py(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bn(t.nextSibling),t===null))return null;return t}function mf(t){return t.data==="$?"||t.data==="$~"}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xN(t,r){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||o.readyState!=="loading")r();else{var d=function(){r(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),t._reactRetry=d}}function bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var yf=null;function $y(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(r===0)return bn(t.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}t=t.nextSibling}return null}function Uy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return t;r--}else o!=="/$"&&o!=="/&"||r++}t=t.previousSibling}return null}function qy(t,r,o){switch(r=Fs(o),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eo(t)}var wn=new Map,Vy=new Set;function Gs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=U.d;U.d={f:vN,r:bN,D:wN,C:SN,L:NN,m:EN,X:CN,S:jN,M:kN};function vN(){var t=yi.f(),r=Is();return t||r}function bN(t){var r=Ci(t);r!==null&&r.tag===5&&r.type==="form"?lg(r):yi.r(t)}var ja=typeof document>"u"?null:document;function Fy(t,r,o){var d=ja;if(d&&typeof r=="string"&&r){var y=qt(r);y='link[rel="'+t+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),Vy.has(y)||(Vy.add(y),t={rel:t,crossOrigin:o,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),Dt(r,"link",t),gt(r),d.head.appendChild(r)))}}function wN(t){yi.D(t),Fy("dns-prefetch",t,null)}function SN(t,r){yi.C(t,r),Fy("preconnect",t,r)}function NN(t,r,o){yi.L(t,r,o);var d=ja;if(d&&t&&r){var y='link[rel="preload"][as="'+qt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+qt(o.imageSizes)+'"]')):y+='[href="'+qt(t)+'"]';var x=y;switch(r){case"style":x=Ca(t);break;case"script":x=ka(t)}wn.has(x)||(t=m({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:t,as:r},o),wn.set(x,t),d.querySelector(y)!==null||r==="style"&&d.querySelector(Ho(x))||r==="script"&&d.querySelector(Po(x))||(r=d.createElement("link"),Dt(r,"link",t),gt(r),d.head.appendChild(r)))}}function EN(t,r){yi.m(t,r);var o=ja;if(o&&t){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+qt(d)+'"][href="'+qt(t)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ka(t)}if(!wn.has(x)&&(t=m({rel:"modulepreload",href:t},r),wn.set(x,t),o.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Po(x)))return}d=o.createElement("link"),Dt(d,"link",t),gt(d),o.head.appendChild(d)}}}function jN(t,r,o){yi.S(t,r,o);var d=ja;if(d&&t){var y=Ti(d).hoistableStyles,x=Ca(t);r=r||"default";var E=y.get(x);if(!E){var R={loading:0,preload:null};if(E=d.querySelector(Ho(x)))R.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":r},o),(o=wn.get(x))&&xf(t,o);var Y=E=d.createElement("link");gt(Y),Dt(Y,"link",t),Y._p=new Promise(function(ee,se){Y.onload=ee,Y.onerror=se}),Y.addEventListener("load",function(){R.loading|=1}),Y.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ys(E,r,d)}E={type:"stylesheet",instance:E,count:1,state:R},y.set(x,E)}}}function CN(t,r){yi.X(t,r);var o=ja;if(o&&t){var d=Ti(o).hoistableScripts,y=ka(t),x=d.get(y);x||(x=o.querySelector(Po(y)),x||(t=m({src:t,async:!0},r),(r=wn.get(y))&&vf(t,r),x=o.createElement("script"),gt(x),Dt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function kN(t,r){yi.M(t,r);var o=ja;if(o&&t){var d=Ti(o).hoistableScripts,y=ka(t),x=d.get(y);x||(x=o.querySelector(Po(y)),x||(t=m({src:t,async:!0,type:"module"},r),(r=wn.get(y))&&vf(t,r),x=o.createElement("script"),gt(x),Dt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function Gy(t,r,o,d){var y=(y=re.current)?Gs(y):null;if(!y)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ca(o.href),o=Ti(y).hoistableStyles,d=o.get(r),d||(d={type:"style",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Ca(o.href);var x=Ti(y).hoistableStyles,E=x.get(t);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,E),(x=y.querySelector(Ho(t)))&&!x._p&&(E.instance=x,E.state.loading=5),wn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(t,o),x||TN(y,t,o,E.state))),r&&d===null)throw Error(a(528,""));return E}if(r&&d!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ka(o),o=Ti(y).hoistableScripts,d=o.get(r),d||(d={type:"script",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ca(t){return'href="'+qt(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function TN(t,r,o,d){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=t.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Dt(r,"link",o),gt(r),t.head.appendChild(r))}function ka(t){return'[src="'+qt(t)+'"]'}function Po(t){return"script[async]"+t}function Xy(t,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var d=t.querySelector('style[data-href~="'+qt(o.href)+'"]');if(d)return r.instance=d,gt(d),d;var y=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(t.ownerDocument||t).createElement("style"),gt(d),Dt(d,"style",y),Ys(d,o.precedence,t),r.instance=d;case"stylesheet":y=Ca(o.href);var x=t.querySelector(Ho(y));if(x)return r.state.loading|=4,r.instance=x,gt(x),x;d=Yy(o),(y=wn.get(y))&&xf(d,y),x=(t.ownerDocument||t).createElement("link"),gt(x);var E=x;return E._p=new Promise(function(R,Y){E.onload=R,E.onerror=Y}),Dt(x,"link",d),r.state.loading|=4,Ys(x,o.precedence,t),r.instance=x;case"script":return x=ka(o.src),(y=t.querySelector(Po(x)))?(r.instance=y,gt(y),y):(d=o,(y=wn.get(x))&&(d=m({},o),vf(d,y)),t=t.ownerDocument||t,y=t.createElement("script"),gt(y),Dt(y,"link",d),t.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Ys(d,o.precedence,t));return r.instance}function Ys(t,r,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,E=0;E<d.length;E++){var R=d[E];if(R.dataset.precedence===r)x=R;else if(x!==y)break}x?x.parentNode.insertBefore(t,x.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(t,r.firstChild))}function xf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function vf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Xs=null;function Qy(t,r,o){if(Xs===null){var d=new Map,y=Xs=new Map;y.set(o,d)}else y=Xs,d=y.get(o),d||(d=new Map,y.set(o,d));if(d.has(t))return d;for(d.set(t,null),o=o.getElementsByTagName(t),y=0;y<o.length;y++){var x=o[y];if(!(x[ur]||x[Et]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(r)||"";E=t+E;var R=d.get(E);R?R.push(x):d.set(E,[x])}}return d}function Zy(t,r,o){t=t.ownerDocument||t,t.head.insertBefore(o,r==="title"?t.querySelector("head > title"):null)}function AN(t,r,o){if(o===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MN(t,r,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ca(d.href),x=r.querySelector(Ho(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Qs.bind(t),r.then(t,t)),o.state.loading|=4,o.instance=x,gt(x);return}x=r.ownerDocument||r,d=Yy(d),(y=wn.get(y))&&xf(d,y),x=x.createElement("link"),gt(x);var E=x;E._p=new Promise(function(R,Y){E.onload=R,E.onerror=Y}),Dt(x,"link",d),o.instance=x}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Qs.bind(t),r.addEventListener("load",o),r.addEventListener("error",o))}}var bf=0;function DN(t,r){return t.stylesheets&&t.count===0&&Ws(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var d=setTimeout(function(){if(t.stylesheets&&Ws(t,t.stylesheets),t.unsuspend){var x=t.unsuspend;t.unsuspend=null,x()}},6e4+r);0<t.imgBytes&&bf===0&&(bf=62500*dN());var y=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ws(t,t.stylesheets),t.unsuspend)){var x=t.unsuspend;t.unsuspend=null,x()}},(t.imgBytes>bf?50:800)+r);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zs=null;function Ws(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zs=new Map,r.forEach(_N,t),Zs=null,Qs.call(t))}function _N(t,r){if(!(r.state.loading&4)){var o=Zs.get(t);if(o)var d=o.get(null);else{o=new Map,Zs.set(t,o);for(var y=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var E=y[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),d=E)}d&&o.set(null,d)}y=r.instance,E=y.getAttribute("data-precedence"),x=o.get(E)||d,x===d&&o.set(null,y),o.set(E,y),this.count++,d=Qs.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(y,t.firstChild)),r.state.loading|=4}}var $o={$$typeof:j,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function ON(t,r,o,d,y,x,E,R,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Ky(t,r,o,d,y,x,E,R,Y,ee,se,ue){return t=new ON(t,r,o,E,Y,ee,se,ue,R),r=1,x===!0&&(r|=24),x=nn(3,null,null,r),t.current=x,x.stateNode=t,r=Ku(),r.refCount++,t.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:r},nd(x),t}function Jy(t){return t?(t=ra,t):ra}function ex(t,r,o,d,y,x){y=Jy(y),d.context===null?d.context=y:d.pendingContext=y,d=Li(r),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Ii(t,d,r),o!==null&&(Qt(o,t,r),vo(o,t,r))}function tx(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function wf(t,r){tx(t,r),(t=t.alternate)&&tx(t,r)}function nx(t){if(t.tag===13||t.tag===31){var r=gr(t,67108864);r!==null&&Qt(r,t,67108864),wf(t,67108864)}}function ix(t){if(t.tag===13||t.tag===31){var r=sn();r=Ka(r);var o=gr(t,r);o!==null&&Qt(o,t,r),wf(t,r)}}var Ks=!0;function RN(t,r,o,d){var y=D.T;D.T=null;var x=U.p;try{U.p=2,Sf(t,r,o,d)}finally{U.p=x,D.T=y}}function zN(t,r,o,d){var y=D.T;D.T=null;var x=U.p;try{U.p=8,Sf(t,r,o,d)}finally{U.p=x,D.T=y}}function Sf(t,r,o,d){if(Ks){var y=Nf(d);if(y===null)sf(t,r,d,Js,o),ax(t,d);else if(IN(y,t,r,o,d))d.stopPropagation();else if(ax(t,d),r&4&&-1<LN.indexOf(t)){for(;y!==null;){var x=Ci(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Wn(x.pendingLanes);if(E!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var Y=1<<31-Qe(E);R.entanglements[1]|=Y,E&=~Y}Un(x),(Ge&6)===0&&(zs=Nt()+500,zo(0))}}break;case 31:case 13:R=gr(x,2),R!==null&&Qt(R,x,2),Is(),wf(x,2)}if(x=Nf(d),x===null&&sf(t,r,d,Js,o),x===y)break;y=x}y!==null&&d.stopPropagation()}else sf(t,r,d,null,o)}}function Nf(t){return t=Eu(t),Ef(t)}var Js=null;function Ef(t){if(Js=null,t=ji(t),t!==null){var r=s(t);if(r===null)t=null;else{var o=r.tag;if(o===13){if(t=c(r),t!==null)return t;t=null}else if(o===31){if(t=f(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Js=t,null}function rx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case le:return 2;case pe:return 8;case Se:case _e:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var jf=!1,Xi=null,Qi=null,Zi=null,Uo=new Map,qo=new Map,Wi=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(t,r){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Uo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(r.pointerId)}}function Vo(t,r,o,d,y,x){return t===null||t.nativeEvent!==x?(t={blockedOn:r,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},r!==null&&(r=Ci(r),r!==null&&nx(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),t)}function IN(t,r,o,d,y){switch(r){case"focusin":return Xi=Vo(Xi,t,r,o,d,y),!0;case"dragenter":return Qi=Vo(Qi,t,r,o,d,y),!0;case"mouseover":return Zi=Vo(Zi,t,r,o,d,y),!0;case"pointerover":var x=y.pointerId;return Uo.set(x,Vo(Uo.get(x)||null,t,r,o,d,y)),!0;case"gotpointercapture":return x=y.pointerId,qo.set(x,Vo(qo.get(x)||null,t,r,o,d,y)),!0}return!1}function ox(t){var r=ji(t.target);if(r!==null){var o=s(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){t.blockedOn=r,$l(t.priority,function(){ix(o)});return}}else if(r===31){if(r=f(o),r!==null){t.blockedOn=r,$l(t.priority,function(){ix(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Nf(t.nativeEvent);if(o===null){o=t.nativeEvent;var d=new o.constructor(o.type,o);Nu=d,o.target.dispatchEvent(d),Nu=null}else return r=Ci(o),r!==null&&nx(r),t.blockedOn=o,!1;r.shift()}return!0}function lx(t,r,o){ec(t)&&o.delete(r)}function BN(){jf=!1,Xi!==null&&ec(Xi)&&(Xi=null),Qi!==null&&ec(Qi)&&(Qi=null),Zi!==null&&ec(Zi)&&(Zi=null),Uo.forEach(lx),qo.forEach(lx)}function tc(t,r){t.blockedOn===r&&(t.blockedOn=null,jf||(jf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BN)))}var nc=null;function sx(t){nc!==t&&(nc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var r=0;r<t.length;r+=3){var o=t[r],d=t[r+1],y=t[r+2];if(typeof d!="function"){if(Ef(d||o)===null)continue;break}var x=Ci(o);x!==null&&(t.splice(r,3),r-=3,Sd(x,{pending:!0,data:y,method:o.method,action:d},d,y))}}))}function Ta(t){function r(Y){return tc(Y,t)}Xi!==null&&tc(Xi,t),Qi!==null&&tc(Qi,t),Zi!==null&&tc(Zi,t),Uo.forEach(r),qo.forEach(r);for(var o=0;o<Wi.length;o++){var d=Wi[o];d.blockedOn===t&&(d.blockedOn=null)}for(;0<Wi.length&&(o=Wi[0],o.blockedOn===null);)ox(o),o.blockedOn===null&&Wi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var y=o[d],x=o[d+1],E=y[Rt]||null;if(typeof x=="function")E||sx(o);else if(E){var R=null;if(x&&x.hasAttribute("formAction")){if(y=x,E=x[Rt]||null)R=E.formAction;else if(Ef(y)!==null)continue}else R=E.action;typeof R=="function"?o[d+1]=R:(o.splice(d,3),d-=3),sx(o)}}}function cx(){function t(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Cf(t){this._internalRoot=t}ic.prototype.render=Cf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,d=sn();ex(o,d,t,r,null,null)},ic.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ex(t.current,2,null,t,null,null),Is(),r[Kn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Wi.length&&r!==0&&r<Wi[o].priority;o++);Wi.splice(o,0,t),o===0&&ox(t)}};var ux=n.version;if(ux!=="19.2.3")throw Error(a(527,ux,"19.2.3"));U.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var HN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{kt=rc.inject(HN),ht=rc}catch{}}return Go.createRoot=function(t,r){if(!l(t))throw Error(a(299));var o=!1,d="",y=yg,x=xg,E=vg;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=Ky(t,1,!1,null,null,o,d,null,y,x,E,cx),t[Kn]=r.current,lf(t),new Cf(r)},Go.hydrateRoot=function(t,r,o){if(!l(t))throw Error(a(299));var d=!1,y="",x=yg,E=xg,R=vg,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(Y=o.formState)),r=Ky(t,1,!0,r,o??null,d,y,Y,x,E,R,cx),r.context=Jy(null),o=r.current,d=sn(),d=Ka(d),y=Li(d),y.callback=null,Ii(o,y,d),o=d,r.current.lanes=o,cr(r,o),Un(r),t[Kn]=r.current,lf(t),new ic(r)},Go.version="19.2.3",Go}var bx;function XN(){if(bx)return Af.exports;bx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Af.exports=YN(),Af.exports}var QN=XN();function St(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let i=0,a;i<e.length;i++)(a=St(e[i]))!==""&&(n+=(n&&" ")+a);else for(let i in e)e[i]&&(n+=(n&&" ")+i);return n}var ZN={value:()=>{}};function Xc(){for(var e=0,n=arguments.length,i={},a;e<n;++e){if(!(a=arguments[e]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Sc(i)}function Sc(e){this._=e}function WN(e,n){return e.trim().split(/^|\s+/).map(function(i){var a="",l=i.indexOf(".");if(l>=0&&(a=i.slice(l+1),i=i.slice(0,l)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Sc.prototype=Xc.prototype={constructor:Sc,on:function(e,n){var i=this._,a=WN(e+"",i),l,s=-1,c=a.length;if(arguments.length<2){for(;++s<c;)if((l=(e=a[s]).type)&&(l=KN(i[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<c;)if(l=(e=a[s]).type)i[l]=wx(i[l],e.name,n);else if(n==null)for(l in i)i[l]=wx(i[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var i in n)e[i]=n[i].slice();return new Sc(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var i=new Array(l),a=0,l,s;a<l;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(n,i)},apply:function(e,n,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],l=0,s=a.length;l<s;++l)a[l].value.apply(n,i)}};function KN(e,n){for(var i=0,a=e.length,l;i<a;++i)if((l=e[i]).name===n)return l.value}function wx(e,n,i){for(var a=0,l=e.length;a<l;++a)if(e[a].name===n){e[a]=ZN,e=e.slice(0,a).concat(e.slice(a+1));break}return i!=null&&e.push({name:n,value:i}),e}var mh="http://www.w3.org/1999/xhtml";const Sx={svg:"http://www.w3.org/2000/svg",xhtml:mh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qc(e){var n=e+="",i=n.indexOf(":");return i>=0&&(n=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Sx.hasOwnProperty(n)?{space:Sx[n],local:e}:e}function JN(e){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===mh&&n.documentElement.namespaceURI===mh?n.createElement(e):n.createElementNS(i,e)}}function eE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function O0(e){var n=Qc(e);return(n.local?eE:JN)(n)}function tE(){}function Yh(e){return e==null?tE:function(){return this.querySelector(e)}}function nE(e){typeof e!="function"&&(e=Yh(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=new Array(c),h,p,g=0;g<c;++g)(h=s[g])&&(p=e.call(h,h.__data__,g,s))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p);return new hn(a,this._parents)}function iE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rE(){return[]}function R0(e){return e==null?rE:function(){return this.querySelectorAll(e)}}function aE(e){return function(){return iE(e.apply(this,arguments))}}function oE(e){typeof e=="function"?e=aE(e):e=R0(e);for(var n=this._groups,i=n.length,a=[],l=[],s=0;s<i;++s)for(var c=n[s],f=c.length,h,p=0;p<f;++p)(h=c[p])&&(a.push(e.call(h,h.__data__,p,c)),l.push(h));return new hn(a,l)}function z0(e){return function(){return this.matches(e)}}function L0(e){return function(n){return n.matches(e)}}var lE=Array.prototype.find;function sE(e){return function(){return lE.call(this.children,e)}}function cE(){return this.firstElementChild}function uE(e){return this.select(e==null?cE:sE(typeof e=="function"?e:L0(e)))}var dE=Array.prototype.filter;function fE(){return Array.from(this.children)}function hE(e){return function(){return dE.call(this.children,e)}}function pE(e){return this.selectAll(e==null?fE:hE(typeof e=="function"?e:L0(e)))}function mE(e){typeof e!="function"&&(e=z0(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=[],h,p=0;p<c;++p)(h=s[p])&&e.call(h,h.__data__,p,s)&&f.push(h);return new hn(a,this._parents)}function I0(e){return new Array(e.length)}function gE(){return new hn(this._enter||this._groups.map(I0),this._parents)}function Tc(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Tc.prototype={constructor:Tc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yE(e){return function(){return e}}function xE(e,n,i,a,l,s){for(var c=0,f,h=n.length,p=s.length;c<p;++c)(f=n[c])?(f.__data__=s[c],a[c]=f):i[c]=new Tc(e,s[c]);for(;c<h;++c)(f=n[c])&&(l[c]=f)}function vE(e,n,i,a,l,s,c){var f,h,p=new Map,g=n.length,m=s.length,v=new Array(g),b;for(f=0;f<g;++f)(h=n[f])&&(v[f]=b=c.call(h,h.__data__,f,n)+"",p.has(b)?l[f]=h:p.set(b,h));for(f=0;f<m;++f)b=c.call(e,s[f],f,s)+"",(h=p.get(b))?(a[f]=h,h.__data__=s[f],p.delete(b)):i[f]=new Tc(e,s[f]);for(f=0;f<g;++f)(h=n[f])&&p.get(v[f])===h&&(l[f]=h)}function bE(e){return e.__data__}function wE(e,n){if(!arguments.length)return Array.from(this,bE);var i=n?vE:xE,a=this._parents,l=this._groups;typeof e!="function"&&(e=yE(e));for(var s=l.length,c=new Array(s),f=new Array(s),h=new Array(s),p=0;p<s;++p){var g=a[p],m=l[p],v=m.length,b=SE(e.call(g,g&&g.__data__,p,a)),w=b.length,N=f[p]=new Array(w),C=c[p]=new Array(w),S=h[p]=new Array(v);i(g,m,N,C,S,b,n);for(var k=0,j=0,_,P;k<w;++k)if(_=N[k]){for(k>=j&&(j=k+1);!(P=C[j])&&++j<w;);_._next=P||null}}return c=new hn(c,a),c._enter=f,c._exit=h,c}function SE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NE(){return new hn(this._exit||this._groups.map(I0),this._parents)}function EE(e,n,i){var a=this.enter(),l=this,s=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),i==null?s.remove():i(s),a&&l?a.merge(l).order():l}function jE(e){for(var n=e.selection?e.selection():e,i=this._groups,a=n._groups,l=i.length,s=a.length,c=Math.min(l,s),f=new Array(l),h=0;h<c;++h)for(var p=i[h],g=a[h],m=p.length,v=f[h]=new Array(m),b,w=0;w<m;++w)(b=p[w]||g[w])&&(v[w]=b);for(;h<l;++h)f[h]=i[h];return new hn(f,this._parents)}function CE(){for(var e=this._groups,n=-1,i=e.length;++n<i;)for(var a=e[n],l=a.length-1,s=a[l],c;--l>=0;)(c=a[l])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function kE(e){e||(e=TE);function n(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}for(var i=this._groups,a=i.length,l=new Array(a),s=0;s<a;++s){for(var c=i[s],f=c.length,h=l[s]=new Array(f),p,g=0;g<f;++g)(p=c[g])&&(h[g]=p);h.sort(n)}return new hn(l,this._parents).order()}function TE(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function AE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ME(){return Array.from(this)}function DE(){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],l=0,s=a.length;l<s;++l){var c=a[l];if(c)return c}return null}function _E(){let e=0;for(const n of this)++e;return e}function OE(){return!this.node()}function RE(e){for(var n=this._groups,i=0,a=n.length;i<a;++i)for(var l=n[i],s=0,c=l.length,f;s<c;++s)(f=l[s])&&e.call(f,f.__data__,s,l);return this}function zE(e){return function(){this.removeAttribute(e)}}function LE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IE(e,n){return function(){this.setAttribute(e,n)}}function BE(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function HE(e,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function PE(e,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function $E(e,n){var i=Qc(e);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((n==null?i.local?LE:zE:typeof n=="function"?i.local?PE:HE:i.local?BE:IE)(i,n))}function B0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UE(e){return function(){this.style.removeProperty(e)}}function qE(e,n,i){return function(){this.style.setProperty(e,n,i)}}function VE(e,n,i){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,i)}}function FE(e,n,i){return arguments.length>1?this.each((n==null?UE:typeof n=="function"?VE:qE)(e,n,i??"")):Pa(this.node(),e)}function Pa(e,n){return e.style.getPropertyValue(n)||B0(e).getComputedStyle(e,null).getPropertyValue(n)}function GE(e){return function(){delete this[e]}}function YE(e,n){return function(){this[e]=n}}function XE(e,n){return function(){var i=n.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function QE(e,n){return arguments.length>1?this.each((n==null?GE:typeof n=="function"?XE:YE)(e,n)):this.node()[e]}function H0(e){return e.trim().split(/^|\s+/)}function Xh(e){return e.classList||new P0(e)}function P0(e){this._node=e,this._names=H0(e.getAttribute("class")||"")}P0.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $0(e,n){for(var i=Xh(e),a=-1,l=n.length;++a<l;)i.add(n[a])}function U0(e,n){for(var i=Xh(e),a=-1,l=n.length;++a<l;)i.remove(n[a])}function ZE(e){return function(){$0(this,e)}}function WE(e){return function(){U0(this,e)}}function KE(e,n){return function(){(n.apply(this,arguments)?$0:U0)(this,e)}}function JE(e,n){var i=H0(e+"");if(arguments.length<2){for(var a=Xh(this.node()),l=-1,s=i.length;++l<s;)if(!a.contains(i[l]))return!1;return!0}return this.each((typeof n=="function"?KE:n?ZE:WE)(i,n))}function ej(){this.textContent=""}function tj(e){return function(){this.textContent=e}}function nj(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function ij(e){return arguments.length?this.each(e==null?ej:(typeof e=="function"?nj:tj)(e)):this.node().textContent}function rj(){this.innerHTML=""}function aj(e){return function(){this.innerHTML=e}}function oj(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function lj(e){return arguments.length?this.each(e==null?rj:(typeof e=="function"?oj:aj)(e)):this.node().innerHTML}function sj(){this.nextSibling&&this.parentNode.appendChild(this)}function cj(){return this.each(sj)}function uj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dj(){return this.each(uj)}function fj(e){var n=typeof e=="function"?e:O0(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function hj(){return null}function pj(e,n){var i=typeof e=="function"?e:O0(e),a=n==null?hj:typeof n=="function"?n:Yh(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function mj(){var e=this.parentNode;e&&e.removeChild(this)}function gj(){return this.each(mj)}function yj(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function xj(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function vj(e){return this.select(e?xj:yj)}function bj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wj(e){return function(n){e.call(this,n,this.__data__)}}function Sj(e){return e.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");return a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),{type:n,name:i}})}function Nj(e){return function(){var n=this.__on;if(n){for(var i=0,a=-1,l=n.length,s;i<l;++i)s=n[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):n[++a]=s;++a?n.length=a:delete this.__on}}}function Ej(e,n,i){return function(){var a=this.__on,l,s=wj(n);if(a){for(var c=0,f=a.length;c<f;++c)if((l=a[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=s,l.options=i),l.value=n;return}}this.addEventListener(e.type,s,i),l={type:e.type,name:e.name,value:n,listener:s,options:i},a?a.push(l):this.__on=[l]}}function jj(e,n,i){var a=Sj(e+""),l,s=a.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,p=f.length,g;h<p;++h)for(l=0,g=f[h];l<s;++l)if((c=a[l]).type===g.type&&c.name===g.name)return g.value}return}for(f=n?Ej:Nj,l=0;l<s;++l)this.each(f(a[l],n,i));return this}function q0(e,n,i){var a=B0(e),l=a.CustomEvent;typeof l=="function"?l=new l(n,i):(l=a.document.createEvent("Event"),i?(l.initEvent(n,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function Cj(e,n){return function(){return q0(this,e,n)}}function kj(e,n){return function(){return q0(this,e,n.apply(this,arguments))}}function Tj(e,n){return this.each((typeof n=="function"?kj:Cj)(e,n))}function*Aj(){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],l=0,s=a.length,c;l<s;++l)(c=a[l])&&(yield c)}var V0=[null];function hn(e,n){this._groups=e,this._parents=n}function jl(){return new hn([[document.documentElement]],V0)}function Mj(){return this}hn.prototype=jl.prototype={constructor:hn,select:nE,selectAll:oE,selectChild:uE,selectChildren:pE,filter:mE,data:wE,enter:gE,exit:NE,join:EE,merge:jE,selection:Mj,order:CE,sort:kE,call:AE,nodes:ME,node:DE,size:_E,empty:OE,each:RE,attr:$E,style:FE,property:QE,classed:JE,text:ij,html:lj,raise:cj,lower:dj,append:fj,insert:pj,remove:gj,clone:vj,datum:bj,on:jj,dispatch:Tj,[Symbol.iterator]:Aj};function dn(e){return typeof e=="string"?new hn([[document.querySelector(e)]],[document.documentElement]):new hn([[e]],V0)}function Dj(e){let n;for(;n=e.sourceEvent;)e=n;return e}function An(e,n){if(e=Dj(e),n===void 0&&(n=e.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const _j={passive:!1},fl={capture:!0,passive:!1};function Of(e){e.stopImmediatePropagation()}function Ia(e){e.preventDefault(),e.stopImmediatePropagation()}function F0(e){var n=e.document.documentElement,i=dn(e).on("dragstart.drag",Ia,fl);"onselectstart"in n?i.on("selectstart.drag",Ia,fl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function G0(e,n){var i=e.document.documentElement,a=dn(e).on("dragstart.drag",null);n&&(a.on("click.drag",Ia,fl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const ac=e=>()=>e;function gh(e,{sourceEvent:n,subject:i,target:a,identifier:l,active:s,x:c,y:f,dx:h,dy:p,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:g}})}gh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Oj(e){return!e.ctrlKey&&!e.button}function Rj(){return this.parentNode}function zj(e,n){return n??{x:e.x,y:e.y}}function Lj(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y0(){var e=Oj,n=Rj,i=zj,a=Lj,l={},s=Xc("start","drag","end"),c=0,f,h,p,g,m=0;function v(_){_.on("mousedown.drag",b).filter(a).on("touchstart.drag",C).on("touchmove.drag",S,_j).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(_,P){if(!(g||!e.call(this,_,P))){var M=j(this,n.call(this,_,P),_,P,"mouse");M&&(dn(_.view).on("mousemove.drag",w,fl).on("mouseup.drag",N,fl),F0(_.view),Of(_),p=!1,f=_.clientX,h=_.clientY,M("start",_))}}function w(_){if(Ia(_),!p){var P=_.clientX-f,M=_.clientY-h;p=P*P+M*M>m}l.mouse("drag",_)}function N(_){dn(_.view).on("mousemove.drag mouseup.drag",null),G0(_.view,p),Ia(_),l.mouse("end",_)}function C(_,P){if(e.call(this,_,P)){var M=_.changedTouches,H=n.call(this,_,P),F=M.length,X,I;for(X=0;X<F;++X)(I=j(this,H,_,P,M[X].identifier,M[X]))&&(Of(_),I("start",_,M[X]))}}function S(_){var P=_.changedTouches,M=P.length,H,F;for(H=0;H<M;++H)(F=l[P[H].identifier])&&(Ia(_),F("drag",_,P[H]))}function k(_){var P=_.changedTouches,M=P.length,H,F;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),H=0;H<M;++H)(F=l[P[H].identifier])&&(Of(_),F("end",_,P[H]))}function j(_,P,M,H,F,X){var I=s.copy(),L=An(X||M,P),q,K,A;if((A=i.call(_,new gh("beforestart",{sourceEvent:M,target:v,identifier:F,active:c,x:L[0],y:L[1],dx:0,dy:0,dispatch:I}),H))!=null)return q=A.x-L[0]||0,K=A.y-L[1]||0,function $(D,U,G){var Z=L,O;switch(D){case"start":l[F]=$,O=c++;break;case"end":delete l[F],--c;case"drag":L=An(G||U,P),O=c;break}I.call(D,_,new gh(D,{sourceEvent:U,subject:A,target:v,identifier:F,active:O,x:L[0]+q,y:L[1]+K,dx:L[0]-Z[0],dy:L[1]-Z[1],dispatch:I}),H)}}return v.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ac(!!_),v):e},v.container=function(_){return arguments.length?(n=typeof _=="function"?_:ac(_),v):n},v.subject=function(_){return arguments.length?(i=typeof _=="function"?_:ac(_),v):i},v.touchable=function(_){return arguments.length?(a=typeof _=="function"?_:ac(!!_),v):a},v.on=function(){var _=s.on.apply(s,arguments);return _===s?v:_},v.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,v):Math.sqrt(m)},v}function Qh(e,n,i){e.prototype=n.prototype=i,i.constructor=e}function X0(e,n){var i=Object.create(e.prototype);for(var a in n)i[a]=n[a];return i}function Cl(){}var hl=.7,Ac=1/hl,Ba="\\s*([+-]?\\d+)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ij=/^#([0-9a-f]{3,8})$/,Bj=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),Hj=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),Pj=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${pl}\\)$`),$j=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${pl}\\)$`),Uj=new RegExp(`^hsl\\(${pl},${Fn},${Fn}\\)$`),qj=new RegExp(`^hsla\\(${pl},${Fn},${Fn},${pl}\\)$`),Nx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qh(Cl,zr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ex,formatHex:Ex,formatHex8:Vj,formatHsl:Fj,formatRgb:jx,toString:jx});function Ex(){return this.rgb().formatHex()}function Vj(){return this.rgb().formatHex8()}function Fj(){return Q0(this).formatHsl()}function jx(){return this.rgb().formatRgb()}function zr(e){var n,i;return e=(e+"").trim().toLowerCase(),(n=Ij.exec(e))?(i=n[1].length,n=parseInt(n[1],16),i===6?Cx(n):i===3?new Wt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?oc(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?oc(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Bj.exec(e))?new Wt(n[1],n[2],n[3],1):(n=Hj.exec(e))?new Wt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Pj.exec(e))?oc(n[1],n[2],n[3],n[4]):(n=$j.exec(e))?oc(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Uj.exec(e))?Ax(n[1],n[2]/100,n[3]/100,1):(n=qj.exec(e))?Ax(n[1],n[2]/100,n[3]/100,n[4]):Nx.hasOwnProperty(e)?Cx(Nx[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function Cx(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function oc(e,n,i,a){return a<=0&&(e=n=i=NaN),new Wt(e,n,i,a)}function Gj(e){return e instanceof Cl||(e=zr(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function yh(e,n,i,a){return arguments.length===1?Gj(e):new Wt(e,n,i,a??1)}function Wt(e,n,i,a){this.r=+e,this.g=+n,this.b=+i,this.opacity=+a}Qh(Wt,yh,X0(Cl,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(Or(this.r),Or(this.g),Or(this.b),Mc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kx,formatHex:kx,formatHex8:Yj,formatRgb:Tx,toString:Tx}));function kx(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}`}function Yj(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}${_r((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tx(){const e=Mc(this.opacity);return`${e===1?"rgb(":"rgba("}${Or(this.r)}, ${Or(this.g)}, ${Or(this.b)}${e===1?")":`, ${e})`}`}function Mc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Or(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _r(e){return e=Or(e),(e<16?"0":"")+e.toString(16)}function Ax(e,n,i,a){return a<=0?e=n=i=NaN:i<=0||i>=1?e=n=NaN:n<=0&&(e=NaN),new Mn(e,n,i,a)}function Q0(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Cl||(e=zr(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var n=e.r/255,i=e.g/255,a=e.b/255,l=Math.min(n,i,a),s=Math.max(n,i,a),c=NaN,f=s-l,h=(s+l)/2;return f?(n===s?c=(i-a)/f+(i<a)*6:i===s?c=(a-n)/f+2:c=(n-i)/f+4,f/=h<.5?s+l:2-s-l,c*=60):f=h>0&&h<1?0:c,new Mn(c,f,h,e.opacity)}function Xj(e,n,i,a){return arguments.length===1?Q0(e):new Mn(e,n,i,a??1)}function Mn(e,n,i,a){this.h=+e,this.s=+n,this.l=+i,this.opacity=+a}Qh(Mn,Xj,X0(Cl,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*n,l=2*i-a;return new Wt(Rf(e>=240?e-240:e+120,l,a),Rf(e,l,a),Rf(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Mn(Mx(this.h),lc(this.s),lc(this.l),Mc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mc(this.opacity);return`${e===1?"hsl(":"hsla("}${Mx(this.h)}, ${lc(this.s)*100}%, ${lc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mx(e){return e=(e||0)%360,e<0?e+360:e}function lc(e){return Math.max(0,Math.min(1,e||0))}function Rf(e,n,i){return(e<60?n+(i-n)*e/60:e<180?i:e<240?n+(i-n)*(240-e)/60:n)*255}const Zh=e=>()=>e;function Qj(e,n){return function(i){return e+i*n}}function Zj(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(a){return Math.pow(e+a*n,i)}}function Wj(e){return(e=+e)==1?Z0:function(n,i){return i-n?Zj(n,i,e):Zh(isNaN(n)?i:n)}}function Z0(e,n){var i=n-e;return i?Qj(e,i):Zh(isNaN(e)?n:e)}const Dc=(function e(n){var i=Wj(n);function a(l,s){var c=i((l=yh(l)).r,(s=yh(s)).r),f=i(l.g,s.g),h=i(l.b,s.b),p=Z0(l.opacity,s.opacity);return function(g){return l.r=c(g),l.g=f(g),l.b=h(g),l.opacity=p(g),l+""}}return a.gamma=e,a})(1);function Kj(e,n){n||(n=[]);var i=e?Math.min(n.length,e.length):0,a=n.slice(),l;return function(s){for(l=0;l<i;++l)a[l]=e[l]*(1-s)+n[l]*s;return a}}function Jj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eC(e,n){var i=n?n.length:0,a=e?Math.min(i,e.length):0,l=new Array(a),s=new Array(i),c;for(c=0;c<a;++c)l[c]=al(e[c],n[c]);for(;c<i;++c)s[c]=n[c];return function(f){for(c=0;c<a;++c)s[c]=l[c](f);return s}}function tC(e,n){var i=new Date;return e=+e,n=+n,function(a){return i.setTime(e*(1-a)+n*a),i}}function Vn(e,n){return e=+e,n=+n,function(i){return e*(1-i)+n*i}}function nC(e,n){var i={},a={},l;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(l in n)l in e?i[l]=al(e[l],n[l]):a[l]=n[l];return function(s){for(l in i)a[l]=i[l](s);return a}}var xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zf=new RegExp(xh.source,"g");function iC(e){return function(){return e}}function rC(e){return function(n){return e(n)+""}}function W0(e,n){var i=xh.lastIndex=zf.lastIndex=0,a,l,s,c=-1,f=[],h=[];for(e=e+"",n=n+"";(a=xh.exec(e))&&(l=zf.exec(n));)(s=l.index)>i&&(s=n.slice(i,s),f[c]?f[c]+=s:f[++c]=s),(a=a[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,h.push({i:c,x:Vn(a,l)})),i=zf.lastIndex;return i<n.length&&(s=n.slice(i),f[c]?f[c]+=s:f[++c]=s),f.length<2?h[0]?rC(h[0].x):iC(n):(n=h.length,function(p){for(var g=0,m;g<n;++g)f[(m=h[g]).i]=m.x(p);return f.join("")})}function al(e,n){var i=typeof n,a;return n==null||i==="boolean"?Zh(n):(i==="number"?Vn:i==="string"?(a=zr(n))?(n=a,Dc):W0:n instanceof zr?Dc:n instanceof Date?tC:Jj(n)?Kj:Array.isArray(n)?eC:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?nC:Vn)(e,n)}var Dx=180/Math.PI,vh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function K0(e,n,i,a,l,s){var c,f,h;return(c=Math.sqrt(e*e+n*n))&&(e/=c,n/=c),(h=e*i+n*a)&&(i-=e*h,a-=n*h),(f=Math.sqrt(i*i+a*a))&&(i/=f,a/=f,h/=f),e*a<n*i&&(e=-e,n=-n,h=-h,c=-c),{translateX:l,translateY:s,rotate:Math.atan2(n,e)*Dx,skewX:Math.atan(h)*Dx,scaleX:c,scaleY:f}}var sc;function aC(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?vh:K0(n.a,n.b,n.c,n.d,n.e,n.f)}function oC(e){return e==null||(sc||(sc=document.createElementNS("http://www.w3.org/2000/svg","g")),sc.setAttribute("transform",e),!(e=sc.transform.baseVal.consolidate()))?vh:(e=e.matrix,K0(e.a,e.b,e.c,e.d,e.e,e.f))}function J0(e,n,i,a){function l(p){return p.length?p.pop()+" ":""}function s(p,g,m,v,b,w){if(p!==m||g!==v){var N=b.push("translate(",null,n,null,i);w.push({i:N-4,x:Vn(p,m)},{i:N-2,x:Vn(g,v)})}else(m||v)&&b.push("translate("+m+n+v+i)}function c(p,g,m,v){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),v.push({i:m.push(l(m)+"rotate(",null,a)-2,x:Vn(p,g)})):g&&m.push(l(m)+"rotate("+g+a)}function f(p,g,m,v){p!==g?v.push({i:m.push(l(m)+"skewX(",null,a)-2,x:Vn(p,g)}):g&&m.push(l(m)+"skewX("+g+a)}function h(p,g,m,v,b,w){if(p!==m||g!==v){var N=b.push(l(b)+"scale(",null,",",null,")");w.push({i:N-4,x:Vn(p,m)},{i:N-2,x:Vn(g,v)})}else(m!==1||v!==1)&&b.push(l(b)+"scale("+m+","+v+")")}return function(p,g){var m=[],v=[];return p=e(p),g=e(g),s(p.translateX,p.translateY,g.translateX,g.translateY,m,v),c(p.rotate,g.rotate,m,v),f(p.skewX,g.skewX,m,v),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,m,v),p=g=null,function(b){for(var w=-1,N=v.length,C;++w<N;)m[(C=v[w]).i]=C.x(b);return m.join("")}}}var lC=J0(aC,"px, ","px)","deg)"),sC=J0(oC,", ",")",")"),cC=1e-12;function _x(e){return((e=Math.exp(e))+1/e)/2}function uC(e){return((e=Math.exp(e))-1/e)/2}function dC(e){return((e=Math.exp(2*e))-1)/(e+1)}const Nc=(function e(n,i,a){function l(s,c){var f=s[0],h=s[1],p=s[2],g=c[0],m=c[1],v=c[2],b=g-f,w=m-h,N=b*b+w*w,C,S;if(N<cC)S=Math.log(v/p)/n,C=function(H){return[f+H*b,h+H*w,p*Math.exp(n*H*S)]};else{var k=Math.sqrt(N),j=(v*v-p*p+a*N)/(2*p*i*k),_=(v*v-p*p-a*N)/(2*v*i*k),P=Math.log(Math.sqrt(j*j+1)-j),M=Math.log(Math.sqrt(_*_+1)-_);S=(M-P)/n,C=function(H){var F=H*S,X=_x(P),I=p/(i*k)*(X*dC(n*F+P)-uC(P));return[f+I*b,h+I*w,p*X/_x(n*F+P)]}}return C.duration=S*1e3*n/Math.SQRT2,C}return l.rho=function(s){var c=Math.max(.001,+s),f=c*c,h=f*f;return e(c,f,h)},l})(Math.SQRT2,2,4);var $a=0,nl=0,Yo=0,eb=1e3,_c,il,Oc=0,Lr=0,Zc=0,ml=typeof performance=="object"&&performance.now?performance:Date,tb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wh(){return Lr||(tb(fC),Lr=ml.now()+Zc)}function fC(){Lr=0}function Rc(){this._call=this._time=this._next=null}Rc.prototype=nb.prototype={constructor:Rc,restart:function(e,n,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Wh():+i)+(n==null?0:+n),!this._next&&il!==this&&(il?il._next=this:_c=this,il=this),this._call=e,this._time=i,bh()},stop:function(){this._call&&(this._call=null,this._time=1/0,bh())}};function nb(e,n,i){var a=new Rc;return a.restart(e,n,i),a}function hC(){Wh(),++$a;for(var e=_c,n;e;)(n=Lr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--$a}function Ox(){Lr=(Oc=ml.now())+Zc,$a=nl=0;try{hC()}finally{$a=0,mC(),Lr=0}}function pC(){var e=ml.now(),n=e-Oc;n>eb&&(Zc-=n,Oc=e)}function mC(){for(var e,n=_c,i,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(i=n._next,n._next=null,n=e?e._next=i:_c=i);il=e,bh(a)}function bh(e){if(!$a){nl&&(nl=clearTimeout(nl));var n=e-Lr;n>24?(e<1/0&&(nl=setTimeout(Ox,e-ml.now()-Zc)),Yo&&(Yo=clearInterval(Yo))):(Yo||(Oc=ml.now(),Yo=setInterval(pC,eb)),$a=1,tb(Ox))}}function Rx(e,n,i){var a=new Rc;return n=n==null?0:+n,a.restart(l=>{a.stop(),e(l+n)},n,i),a}var gC=Xc("start","end","cancel","interrupt"),yC=[],ib=0,zx=1,wh=2,Ec=3,Lx=4,Sh=5,jc=6;function Wc(e,n,i,a,l,s){var c=e.__transition;if(!c)e.__transition={};else if(i in c)return;xC(e,i,{name:n,index:a,group:l,on:gC,tween:yC,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ib})}function Kh(e,n){var i=Ln(e,n);if(i.state>ib)throw new Error("too late; already scheduled");return i}function Yn(e,n){var i=Ln(e,n);if(i.state>Ec)throw new Error("too late; already running");return i}function Ln(e,n){var i=e.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function xC(e,n,i){var a=e.__transition,l;a[n]=i,i.timer=nb(s,0,i.time);function s(p){i.state=zx,i.timer.restart(c,i.delay,i.time),i.delay<=p&&c(p-i.delay)}function c(p){var g,m,v,b;if(i.state!==zx)return h();for(g in a)if(b=a[g],b.name===i.name){if(b.state===Ec)return Rx(c);b.state===Lx?(b.state=jc,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[g]):+g<n&&(b.state=jc,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[g])}if(Rx(function(){i.state===Ec&&(i.state=Lx,i.timer.restart(f,i.delay,i.time),f(p))}),i.state=wh,i.on.call("start",e,e.__data__,i.index,i.group),i.state===wh){for(i.state=Ec,l=new Array(v=i.tween.length),g=0,m=-1;g<v;++g)(b=i.tween[g].value.call(e,e.__data__,i.index,i.group))&&(l[++m]=b);l.length=m+1}}function f(p){for(var g=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(h),i.state=Sh,1),m=-1,v=l.length;++m<v;)l[m].call(e,g);i.state===Sh&&(i.on.call("end",e,e.__data__,i.index,i.group),h())}function h(){i.state=jc,i.timer.stop(),delete a[n];for(var p in a)return;delete e.__transition}}function Cc(e,n){var i=e.__transition,a,l,s=!0,c;if(i){n=n==null?null:n+"";for(c in i){if((a=i[c]).name!==n){s=!1;continue}l=a.state>wh&&a.state<Sh,a.state=jc,a.timer.stop(),a.on.call(l?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete i[c]}s&&delete e.__transition}}function vC(e){return this.each(function(){Cc(this,e)})}function bC(e,n){var i,a;return function(){var l=Yn(this,e),s=l.tween;if(s!==i){a=i=s;for(var c=0,f=a.length;c<f;++c)if(a[c].name===n){a=a.slice(),a.splice(c,1);break}}l.tween=a}}function wC(e,n,i){var a,l;if(typeof i!="function")throw new Error;return function(){var s=Yn(this,e),c=s.tween;if(c!==a){l=(a=c).slice();for(var f={name:n,value:i},h=0,p=l.length;h<p;++h)if(l[h].name===n){l[h]=f;break}h===p&&l.push(f)}s.tween=l}}function SC(e,n){var i=this._id;if(e+="",arguments.length<2){for(var a=Ln(this.node(),i).tween,l=0,s=a.length,c;l<s;++l)if((c=a[l]).name===e)return c.value;return null}return this.each((n==null?bC:wC)(i,e,n))}function Jh(e,n,i){var a=e._id;return e.each(function(){var l=Yn(this,a);(l.value||(l.value={}))[n]=i.apply(this,arguments)}),function(l){return Ln(l,a).value[n]}}function rb(e,n){var i;return(typeof n=="number"?Vn:n instanceof zr?Dc:(i=zr(n))?(n=i,Dc):W0)(e,n)}function NC(e){return function(){this.removeAttribute(e)}}function EC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jC(e,n,i){var a,l=i+"",s;return function(){var c=this.getAttribute(e);return c===l?null:c===a?s:s=n(a=c,i)}}function CC(e,n,i){var a,l=i+"",s;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===a?s:s=n(a=c,i)}}function kC(e,n,i){var a,l,s;return function(){var c,f=i(this),h;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=f+"",c===h?null:c===a&&h===l?s:(l=h,s=n(a=c,f)))}}function TC(e,n,i){var a,l,s;return function(){var c,f=i(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=f+"",c===h?null:c===a&&h===l?s:(l=h,s=n(a=c,f)))}}function AC(e,n){var i=Qc(e),a=i==="transform"?sC:rb;return this.attrTween(e,typeof n=="function"?(i.local?TC:kC)(i,a,Jh(this,"attr."+e,n)):n==null?(i.local?EC:NC)(i):(i.local?CC:jC)(i,a,n))}function MC(e,n){return function(i){this.setAttribute(e,n.call(this,i))}}function DC(e,n){return function(i){this.setAttributeNS(e.space,e.local,n.call(this,i))}}function _C(e,n){var i,a;function l(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&DC(e,s)),i}return l._value=n,l}function OC(e,n){var i,a;function l(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&MC(e,s)),i}return l._value=n,l}function RC(e,n){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var a=Qc(e);return this.tween(i,(a.local?_C:OC)(a,n))}function zC(e,n){return function(){Kh(this,e).delay=+n.apply(this,arguments)}}function LC(e,n){return n=+n,function(){Kh(this,e).delay=n}}function IC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?zC:LC)(n,e)):Ln(this.node(),n).delay}function BC(e,n){return function(){Yn(this,e).duration=+n.apply(this,arguments)}}function HC(e,n){return n=+n,function(){Yn(this,e).duration=n}}function PC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?BC:HC)(n,e)):Ln(this.node(),n).duration}function $C(e,n){if(typeof n!="function")throw new Error;return function(){Yn(this,e).ease=n}}function UC(e){var n=this._id;return arguments.length?this.each($C(n,e)):Ln(this.node(),n).ease}function qC(e,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;Yn(this,e).ease=i}}function VC(e){if(typeof e!="function")throw new Error;return this.each(qC(this._id,e))}function FC(e){typeof e!="function"&&(e=z0(e));for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l)for(var s=n[l],c=s.length,f=a[l]=[],h,p=0;p<c;++p)(h=s[p])&&e.call(h,h.__data__,p,s)&&f.push(h);return new bi(a,this._parents,this._name,this._id)}function GC(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,i=e._groups,a=n.length,l=i.length,s=Math.min(a,l),c=new Array(a),f=0;f<s;++f)for(var h=n[f],p=i[f],g=h.length,m=c[f]=new Array(g),v,b=0;b<g;++b)(v=h[b]||p[b])&&(m[b]=v);for(;f<a;++f)c[f]=n[f];return new bi(c,this._parents,this._name,this._id)}function YC(e){return(e+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function XC(e,n,i){var a,l,s=YC(n)?Kh:Yn;return function(){var c=s(this,e),f=c.on;f!==a&&(l=(a=f).copy()).on(n,i),c.on=l}}function QC(e,n){var i=this._id;return arguments.length<2?Ln(this.node(),i).on.on(e):this.each(XC(i,e,n))}function ZC(e){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==e)return;n&&n.removeChild(this)}}function WC(){return this.on("end.remove",ZC(this._id))}function KC(e){var n=this._name,i=this._id;typeof e!="function"&&(e=Yh(e));for(var a=this._groups,l=a.length,s=new Array(l),c=0;c<l;++c)for(var f=a[c],h=f.length,p=s[c]=new Array(h),g,m,v=0;v<h;++v)(g=f[v])&&(m=e.call(g,g.__data__,v,f))&&("__data__"in g&&(m.__data__=g.__data__),p[v]=m,Wc(p[v],n,i,v,p,Ln(g,i)));return new bi(s,this._parents,n,i)}function JC(e){var n=this._name,i=this._id;typeof e!="function"&&(e=R0(e));for(var a=this._groups,l=a.length,s=[],c=[],f=0;f<l;++f)for(var h=a[f],p=h.length,g,m=0;m<p;++m)if(g=h[m]){for(var v=e.call(g,g.__data__,m,h),b,w=Ln(g,i),N=0,C=v.length;N<C;++N)(b=v[N])&&Wc(b,n,i,N,v,w);s.push(v),c.push(g)}return new bi(s,c,n,i)}var ek=jl.prototype.constructor;function tk(){return new ek(this._groups,this._parents)}function nk(e,n){var i,a,l;return function(){var s=Pa(this,e),c=(this.style.removeProperty(e),Pa(this,e));return s===c?null:s===i&&c===a?l:l=n(i=s,a=c)}}function ab(e){return function(){this.style.removeProperty(e)}}function ik(e,n,i){var a,l=i+"",s;return function(){var c=Pa(this,e);return c===l?null:c===a?s:s=n(a=c,i)}}function rk(e,n,i){var a,l,s;return function(){var c=Pa(this,e),f=i(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),Pa(this,e))),c===h?null:c===a&&h===l?s:(l=h,s=n(a=c,f))}}function ak(e,n){var i,a,l,s="style."+n,c="end."+s,f;return function(){var h=Yn(this,e),p=h.on,g=h.value[s]==null?f||(f=ab(n)):void 0;(p!==i||l!==g)&&(a=(i=p).copy()).on(c,l=g),h.on=a}}function ok(e,n,i){var a=(e+="")=="transform"?lC:rb;return n==null?this.styleTween(e,nk(e,a)).on("end.style."+e,ab(e)):typeof n=="function"?this.styleTween(e,rk(e,a,Jh(this,"style."+e,n))).each(ak(this._id,e)):this.styleTween(e,ik(e,a,n),i).on("end.style."+e,null)}function lk(e,n,i){return function(a){this.style.setProperty(e,n.call(this,a),i)}}function sk(e,n,i){var a,l;function s(){var c=n.apply(this,arguments);return c!==l&&(a=(l=c)&&lk(e,c,i)),a}return s._value=n,s}function ck(e,n,i){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,sk(e,n,i??""))}function uk(e){return function(){this.textContent=e}}function dk(e){return function(){var n=e(this);this.textContent=n??""}}function fk(e){return this.tween("text",typeof e=="function"?dk(Jh(this,"text",e)):uk(e==null?"":e+""))}function hk(e){return function(n){this.textContent=e.call(this,n)}}function pk(e){var n,i;function a(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&hk(l)),n}return a._value=e,a}function mk(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,pk(e))}function gk(){for(var e=this._name,n=this._id,i=ob(),a=this._groups,l=a.length,s=0;s<l;++s)for(var c=a[s],f=c.length,h,p=0;p<f;++p)if(h=c[p]){var g=Ln(h,n);Wc(h,e,i,p,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new bi(a,this._parents,e,i)}function yk(){var e,n,i=this,a=i._id,l=i.size();return new Promise(function(s,c){var f={value:c},h={value:function(){--l===0&&s()}};i.each(function(){var p=Yn(this,a),g=p.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(h)),p.on=n}),l===0&&s()})}var xk=0;function bi(e,n,i,a){this._groups=e,this._parents=n,this._name=i,this._id=a}function ob(){return++xk}var xi=jl.prototype;bi.prototype={constructor:bi,select:KC,selectAll:JC,selectChild:xi.selectChild,selectChildren:xi.selectChildren,filter:FC,merge:GC,selection:tk,transition:gk,call:xi.call,nodes:xi.nodes,node:xi.node,size:xi.size,empty:xi.empty,each:xi.each,on:QC,attr:AC,attrTween:RC,style:ok,styleTween:ck,text:fk,textTween:mk,remove:WC,tween:SC,delay:IC,duration:PC,ease:UC,easeVarying:VC,end:yk,[Symbol.iterator]:xi[Symbol.iterator]};function vk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bk={time:null,delay:0,duration:250,ease:vk};function wk(e,n){for(var i;!(i=e.__transition)||!(i=i[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return i}function Sk(e){var n,i;e instanceof bi?(n=e._id,e=e._name):(n=ob(),(i=bk).time=Wh(),e=e==null?null:e+"");for(var a=this._groups,l=a.length,s=0;s<l;++s)for(var c=a[s],f=c.length,h,p=0;p<f;++p)(h=c[p])&&Wc(h,e,n,p,c,i||wk(h,n));return new bi(a,this._parents,e,n)}jl.prototype.interrupt=vC;jl.prototype.transition=Sk;const cc=e=>()=>e;function Nk(e,{sourceEvent:n,target:i,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function vi(e,n,i){this.k=e,this.x=n,this.y=i}vi.prototype={constructor:vi,scale:function(e){return e===1?this:new vi(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new vi(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kc=new vi(1,0,0);lb.prototype=vi.prototype;function lb(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Kc;return e.__zoom}function Lf(e){e.stopImmediatePropagation()}function Xo(e){e.preventDefault(),e.stopImmediatePropagation()}function Ek(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ix(){return this.__zoom||Kc}function Ck(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function kk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tk(e,n,i){var a=e.invertX(n[0][0])-i[0][0],l=e.invertX(n[1][0])-i[1][0],s=e.invertY(n[0][1])-i[0][1],c=e.invertY(n[1][1])-i[1][1];return e.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function sb(){var e=Ek,n=jk,i=Tk,a=Ck,l=kk,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=Nc,p=Xc("start","zoom","end"),g,m,v,b=500,w=150,N=0,C=10;function S(A){A.property("__zoom",Ix).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",I).filter(l).on("touchstart.zoom",L).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(A,$,D,U){var G=A.selection?A.selection():A;G.property("__zoom",Ix),A!==G?P(A,$,D,U):G.interrupt().each(function(){M(this,arguments).event(U).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},S.scaleBy=function(A,$,D,U){S.scaleTo(A,function(){var G=this.__zoom.k,Z=typeof $=="function"?$.apply(this,arguments):$;return G*Z},D,U)},S.scaleTo=function(A,$,D,U){S.transform(A,function(){var G=n.apply(this,arguments),Z=this.__zoom,O=D==null?_(G):typeof D=="function"?D.apply(this,arguments):D,B=Z.invert(O),V=typeof $=="function"?$.apply(this,arguments):$;return i(j(k(Z,V),O,B),G,c)},D,U)},S.translateBy=function(A,$,D,U){S.transform(A,function(){return i(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof D=="function"?D.apply(this,arguments):D),n.apply(this,arguments),c)},null,U)},S.translateTo=function(A,$,D,U,G){S.transform(A,function(){var Z=n.apply(this,arguments),O=this.__zoom,B=U==null?_(Z):typeof U=="function"?U.apply(this,arguments):U;return i(Kc.translate(B[0],B[1]).scale(O.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof D=="function"?-D.apply(this,arguments):-D),Z,c)},U,G)};function k(A,$){return $=Math.max(s[0],Math.min(s[1],$)),$===A.k?A:new vi($,A.x,A.y)}function j(A,$,D){var U=$[0]-D[0]*A.k,G=$[1]-D[1]*A.k;return U===A.x&&G===A.y?A:new vi(A.k,U,G)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function P(A,$,D,U){A.on("start.zoom",function(){M(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(U).end()}).tween("zoom",function(){var G=this,Z=arguments,O=M(G,Z).event(U),B=n.apply(G,Z),V=D==null?_(B):typeof D=="function"?D.apply(G,Z):D,z=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),ie=G.__zoom,te=typeof $=="function"?$.apply(G,Z):$,re=h(ie.invert(V).concat(z/ie.k),te.invert(V).concat(z/te.k));return function(de){if(de===1)de=te;else{var oe=re(de),fe=z/oe[2];de=new vi(fe,V[0]-oe[0]*fe,V[1]-oe[1]*fe)}O.zoom(null,de)}})}function M(A,$,D){return!D&&A.__zooming||new H(A,$)}function H(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,$),this.taps=0}H.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=dn(this.that).datum();p.call(A,this.that,new Nk(A,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:p}),$)}};function F(A,...$){if(!e.apply(this,arguments))return;var D=M(this,$).event(A),U=this.__zoom,G=Math.max(s[0],Math.min(s[1],U.k*Math.pow(2,a.apply(this,arguments)))),Z=An(A);if(D.wheel)(D.mouse[0][0]!==Z[0]||D.mouse[0][1]!==Z[1])&&(D.mouse[1]=U.invert(D.mouse[0]=Z)),clearTimeout(D.wheel);else{if(U.k===G)return;D.mouse=[Z,U.invert(Z)],Cc(this),D.start()}Xo(A),D.wheel=setTimeout(O,w),D.zoom("mouse",i(j(k(U,G),D.mouse[0],D.mouse[1]),D.extent,c));function O(){D.wheel=null,D.end()}}function X(A,...$){if(v||!e.apply(this,arguments))return;var D=A.currentTarget,U=M(this,$,!0).event(A),G=dn(A.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",z,!0),Z=An(A,D),O=A.clientX,B=A.clientY;F0(A.view),Lf(A),U.mouse=[Z,this.__zoom.invert(Z)],Cc(this),U.start();function V(ie){if(Xo(ie),!U.moved){var te=ie.clientX-O,re=ie.clientY-B;U.moved=te*te+re*re>N}U.event(ie).zoom("mouse",i(j(U.that.__zoom,U.mouse[0]=An(ie,D),U.mouse[1]),U.extent,c))}function z(ie){G.on("mousemove.zoom mouseup.zoom",null),G0(ie.view,U.moved),Xo(ie),U.event(ie).end()}}function I(A,...$){if(e.apply(this,arguments)){var D=this.__zoom,U=An(A.changedTouches?A.changedTouches[0]:A,this),G=D.invert(U),Z=D.k*(A.shiftKey?.5:2),O=i(j(k(D,Z),U,G),n.apply(this,$),c);Xo(A),f>0?dn(this).transition().duration(f).call(P,O,U,A):dn(this).call(S.transform,O,U,A)}}function L(A,...$){if(e.apply(this,arguments)){var D=A.touches,U=D.length,G=M(this,$,A.changedTouches.length===U).event(A),Z,O,B,V;for(Lf(A),O=0;O<U;++O)B=D[O],V=An(B,this),V=[V,this.__zoom.invert(V),B.identifier],G.touch0?!G.touch1&&G.touch0[2]!==V[2]&&(G.touch1=V,G.taps=0):(G.touch0=V,Z=!0,G.taps=1+!!g);g&&(g=clearTimeout(g)),Z&&(G.taps<2&&(m=V[0],g=setTimeout(function(){g=null},b)),Cc(this),G.start())}}function q(A,...$){if(this.__zooming){var D=M(this,$).event(A),U=A.changedTouches,G=U.length,Z,O,B,V;for(Xo(A),Z=0;Z<G;++Z)O=U[Z],B=An(O,this),D.touch0&&D.touch0[2]===O.identifier?D.touch0[0]=B:D.touch1&&D.touch1[2]===O.identifier&&(D.touch1[0]=B);if(O=D.that.__zoom,D.touch1){var z=D.touch0[0],ie=D.touch0[1],te=D.touch1[0],re=D.touch1[1],de=(de=te[0]-z[0])*de+(de=te[1]-z[1])*de,oe=(oe=re[0]-ie[0])*oe+(oe=re[1]-ie[1])*oe;O=k(O,Math.sqrt(de/oe)),B=[(z[0]+te[0])/2,(z[1]+te[1])/2],V=[(ie[0]+re[0])/2,(ie[1]+re[1])/2]}else if(D.touch0)B=D.touch0[0],V=D.touch0[1];else return;D.zoom("touch",i(j(O,B,V),D.extent,c))}}function K(A,...$){if(this.__zooming){var D=M(this,$).event(A),U=A.changedTouches,G=U.length,Z,O;for(Lf(A),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),Z=0;Z<G;++Z)O=U[Z],D.touch0&&D.touch0[2]===O.identifier?delete D.touch0:D.touch1&&D.touch1[2]===O.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(O=An(O,this),Math.hypot(m[0]-O[0],m[1]-O[1])<C)){var B=dn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return S.wheelDelta=function(A){return arguments.length?(a=typeof A=="function"?A:cc(+A),S):a},S.filter=function(A){return arguments.length?(e=typeof A=="function"?A:cc(!!A),S):e},S.touchable=function(A){return arguments.length?(l=typeof A=="function"?A:cc(!!A),S):l},S.extent=function(A){return arguments.length?(n=typeof A=="function"?A:cc([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),S):n},S.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],S):[s[0],s[1]]},S.translateExtent=function(A){return arguments.length?(c[0][0]=+A[0][0],c[1][0]=+A[1][0],c[0][1]=+A[0][1],c[1][1]=+A[1][1],S):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},S.constrain=function(A){return arguments.length?(i=A,S):i},S.duration=function(A){return arguments.length?(f=+A,S):f},S.interpolate=function(A){return arguments.length?(h=A,S):h},S.on=function(){var A=p.on.apply(p,arguments);return A===p?S:A},S.clickDistance=function(A){return arguments.length?(N=(A=+A)*A,S):Math.sqrt(N)},S.tapDistance=function(A){return arguments.length?(C=+A,S):C},S}const Gn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:i,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?i:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},gl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],cb=["Enter"," ","Escape"],ub={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:i})=>`Moved selected node ${e}. New position, x: ${n}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ua;(function(e){e.Strict="strict",e.Loose="loose"})(Ua||(Ua={}));var Rr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rr||(Rr={}));var yl;(function(e){e.Partial="partial",e.Full="full"})(yl||(yl={}));const db={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ir;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ir||(ir={}));var zc;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(zc||(zc={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));const Bx={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function fb(e){return e===null?null:e?"valid":"invalid"}const hb=e=>"id"in e&&"source"in e&&"target"in e,Ak=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),ep=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),kl=(e,n=[0,0])=>{const{width:i,height:a}=wi(e),l=e.origin??n,s=i*l[0],c=a*l[1];return{x:e.position.x-s,y:e.position.y-c}},Mk=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const i=e.reduce((a,l)=>{const s=typeof l=="string";let c=!n.nodeLookup&&!s?l:void 0;n.nodeLookup&&(c=s?n.nodeLookup.get(l):ep(l)?l:n.nodeLookup.get(l.id));const f=c?Lc(c,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Jc(a,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eu(i)},Tl=(e,n={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return e.forEach(l=>{(n.filter===void 0||n.filter(l))&&(i=Jc(i,Lc(l)),a=!0)}),a?eu(i):{x:0,y:0,width:0,height:0}},tp=(e,n,[i,a,l]=[0,0,1],s=!1,c=!1)=>{const f={...Ml(n,[i,a,l]),width:n.width/l,height:n.height/l},h=[];for(const p of e.values()){const{measured:g,selectable:m=!0,hidden:v=!1}=p;if(c&&!m||v)continue;const b=g.width??p.width??p.initialWidth??null,w=g.height??p.height??p.initialHeight??null,N=xl(f,Va(p)),C=(b??0)*(w??0),S=s&&N>0;(!p.internals.handleBounds||S||N>=C||p.dragging)&&h.push(p)}return h},Dk=(e,n)=>{const i=new Set;return e.forEach(a=>{i.add(a.id)}),n.filter(a=>i.has(a.source)||i.has(a.target))};function _k(e,n){const i=new Map,a=n?.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(n?.includeHiddenNodes||!l.hidden)&&(!a||a.has(l.id))&&i.set(l.id,l)}),i}async function Ok({nodes:e,width:n,height:i,panZoom:a,minZoom:l,maxZoom:s},c){if(e.size===0)return Promise.resolve(!0);const f=_k(e,c),h=Tl(f),p=np(h,n,i,c?.minZoom??l,c?.maxZoom??s,c?.padding??.1);return await a.setViewport(p,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function pb({nodeId:e,nextPosition:n,nodeLookup:i,nodeOrigin:a=[0,0],nodeExtent:l,onError:s}){const c=i.get(e),f=c.parentId?i.get(c.parentId):void 0,{x:h,y:p}=f?f.internals.positionAbsolute:{x:0,y:0},g=c.origin??a;let m=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)s?.("005",Gn.error005());else{const b=f.measured.width,w=f.measured.height;b&&w&&(m=[[h,p],[h+b,p+w]])}else f&&Fa(c.extent)&&(m=[[c.extent[0][0]+h,c.extent[0][1]+p],[c.extent[1][0]+h,c.extent[1][1]+p]]);const v=Fa(m)?Ir(n,m,c.measured):n;return(c.measured.width===void 0||c.measured.height===void 0)&&s?.("015",Gn.error015()),{position:{x:v.x-h+(c.measured.width??0)*g[0],y:v.y-p+(c.measured.height??0)*g[1]},positionAbsolute:v}}async function Rk({nodesToRemove:e=[],edgesToRemove:n=[],nodes:i,edges:a,onBeforeDelete:l}){const s=new Set(e.map(v=>v.id)),c=[];for(const v of i){if(v.deletable===!1)continue;const b=s.has(v.id),w=!b&&v.parentId&&c.find(N=>N.id===v.parentId);(b||w)&&c.push(v)}const f=new Set(n.map(v=>v.id)),h=a.filter(v=>v.deletable!==!1),g=Dk(c,h);for(const v of h)f.has(v.id)&&!g.find(w=>w.id===v.id)&&g.push(v);if(!l)return{edges:g,nodes:c};const m=await l({nodes:c,edges:g});return typeof m=="boolean"?m?{edges:g,nodes:c}:{edges:[],nodes:[]}:m}const qa=(e,n=0,i=1)=>Math.min(Math.max(e,n),i),Ir=(e={x:0,y:0},n,i)=>({x:qa(e.x,n[0][0],n[1][0]-(i?.width??0)),y:qa(e.y,n[0][1],n[1][1]-(i?.height??0))});function mb(e,n,i){const{width:a,height:l}=wi(i),{x:s,y:c}=i.internals.positionAbsolute;return Ir(e,[[s,c],[s+a,c+l]],n)}const Hx=(e,n,i)=>e<n?qa(Math.abs(e-n),1,n)/n:e>i?-qa(Math.abs(e-i),1,n)/n:0,gb=(e,n,i=15,a=40)=>{const l=Hx(e.x,a,n.width-a)*i,s=Hx(e.y,a,n.height-a)*i;return[l,s]},Jc=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Nh=({x:e,y:n,width:i,height:a})=>({x:e,y:n,x2:e+i,y2:n+a}),eu=({x:e,y:n,x2:i,y2:a})=>({x:e,y:n,width:i-e,height:a-n}),Va=(e,n=[0,0])=>{const{x:i,y:a}=ep(e)?e.internals.positionAbsolute:kl(e,n);return{x:i,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Lc=(e,n=[0,0])=>{const{x:i,y:a}=ep(e)?e.internals.positionAbsolute:kl(e,n);return{x:i,y:a,x2:i+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},yb=(e,n)=>eu(Jc(Nh(e),Nh(n))),xl=(e,n)=>{const i=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(i*a)},Px=e=>_n(e.width)&&_n(e.height)&&_n(e.x)&&_n(e.y),_n=e=>!isNaN(e)&&isFinite(e),zk=(e,n)=>{},Al=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Ml=({x:e,y:n},[i,a,l],s=!1,c=[1,1])=>{const f={x:(e-i)/l,y:(n-a)/l};return s?Al(f,c):f},Ic=({x:e,y:n},[i,a,l])=>({x:e*l+i,y:n*l+a});function Aa(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(i)}if(typeof e=="string"&&e.endsWith("%")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(n*i*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Lk(e,n,i){if(typeof e=="string"||typeof e=="number"){const a=Aa(e,i),l=Aa(e,n);return{top:a,right:l,bottom:a,left:l,x:l*2,y:a*2}}if(typeof e=="object"){const a=Aa(e.top??e.y??0,i),l=Aa(e.bottom??e.y??0,i),s=Aa(e.left??e.x??0,n),c=Aa(e.right??e.x??0,n);return{top:a,right:c,bottom:l,left:s,x:s+c,y:a+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Ik(e,n,i,a,l,s){const{x:c,y:f}=Ic(e,[n,i,a]),{x:h,y:p}=Ic({x:e.x+e.width,y:e.y+e.height},[n,i,a]),g=l-h,m=s-p;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(g),bottom:Math.floor(m)}}const np=(e,n,i,a,l,s)=>{const c=Lk(s,n,i),f=(n-c.x)/e.width,h=(i-c.y)/e.height,p=Math.min(f,h),g=qa(p,a,l),m=e.x+e.width/2,v=e.y+e.height/2,b=n/2-m*g,w=i/2-v*g,N=Ik(e,b,w,g,n,i),C={left:Math.min(N.left-c.left,0),top:Math.min(N.top-c.top,0),right:Math.min(N.right-c.right,0),bottom:Math.min(N.bottom-c.bottom,0)};return{x:b-C.left+C.right,y:w-C.top+C.bottom,zoom:g}},vl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Fa(e){return e!=null&&e!=="parent"}function wi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function xb(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function vb(e,n={width:0,height:0},i,a,l){const s={...e},c=a.get(i);if(c){const f=c.origin||l;s.x+=c.internals.positionAbsolute.x-(n.width??0)*f[0],s.y+=c.internals.positionAbsolute.y-(n.height??0)*f[1]}return s}function $x(e,n){if(e.size!==n.size)return!1;for(const i of e)if(!n.has(i))return!1;return!0}function Bk(){let e,n;return{promise:new Promise((a,l)=>{e=a,n=l}),resolve:e,reject:n}}function Hk(e){return{...ub,...e||{}}}function ol(e,{snapGrid:n=[0,0],snapToGrid:i=!1,transform:a,containerBounds:l}){const{x:s,y:c}=On(e),f=Ml({x:s-(l?.left??0),y:c-(l?.top??0)},a),{x:h,y:p}=i?Al(f,n):f;return{xSnapped:h,ySnapped:p,...f}}const ip=e=>({width:e.offsetWidth,height:e.offsetHeight}),bb=e=>e?.getRootNode?.()||window?.document,Pk=["INPUT","SELECT","TEXTAREA"];function wb(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:Pk.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const Sb=e=>"clientX"in e,On=(e,n)=>{const i=Sb(e),a=i?e.clientX:e.touches?.[0].clientX,l=i?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:l-(n?.top??0)}},Ux=(e,n,i,a,l)=>{const s=n.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-i.left)/a,y:(f.top-i.top)/a,...ip(c)}})};function Nb({sourceX:e,sourceY:n,targetX:i,targetY:a,sourceControlX:l,sourceControlY:s,targetControlX:c,targetControlY:f}){const h=e*.125+l*.375+c*.375+i*.125,p=n*.125+s*.375+f*.375+a*.125,g=Math.abs(h-e),m=Math.abs(p-n);return[h,p,g,m]}function uc(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function qx({pos:e,x1:n,y1:i,x2:a,y2:l,c:s}){switch(e){case ge.Left:return[n-uc(n-a,s),i];case ge.Right:return[n+uc(a-n,s),i];case ge.Top:return[n,i-uc(i-l,s)];case ge.Bottom:return[n,i+uc(l-i,s)]}}function Eb({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top,curvature:c=.25}){const[f,h]=qx({pos:i,x1:e,y1:n,x2:a,y2:l,c}),[p,g]=qx({pos:s,x1:a,y1:l,x2:e,y2:n,c}),[m,v,b,w]=Nb({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${e},${n} C${f},${h} ${p},${g} ${a},${l}`,m,v,b,w]}function jb({sourceX:e,sourceY:n,targetX:i,targetY:a}){const l=Math.abs(i-e)/2,s=i<e?i+l:i-l,c=Math.abs(a-n)/2,f=a<n?a+c:a-c;return[s,f,l,c]}function $k({sourceNode:e,targetNode:n,selected:i=!1,zIndex:a=0,elevateOnSelect:l=!1,zIndexMode:s="basic"}){if(s==="manual")return a;const c=l&&i?a+1e3:a,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,n.parentId||l&&n.selected?n.internals.z:0);return c+f}function Uk({sourceNode:e,targetNode:n,width:i,height:a,transform:l}){const s=Jc(Lc(e),Lc(n));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:i/l[2],height:a/l[2]};return xl(c,eu(s))>0}const qk=({source:e,sourceHandle:n,target:i,targetHandle:a})=>`xy-edge__${e}${n||""}-${i}${a||""}`,Vk=(e,n)=>n.some(i=>i.source===e.source&&i.target===e.target&&(i.sourceHandle===e.sourceHandle||!i.sourceHandle&&!e.sourceHandle)&&(i.targetHandle===e.targetHandle||!i.targetHandle&&!e.targetHandle)),Cb=(e,n,i={})=>{if(!e.source||!e.target)return n;const a=i.getEdgeId||qk;let l;return hb(e)?l={...e}:l={...e,id:a(e)},Vk(l,n)?n:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,n.concat(l))};function kb({sourceX:e,sourceY:n,targetX:i,targetY:a}){const[l,s,c,f]=jb({sourceX:e,sourceY:n,targetX:i,targetY:a});return[`M ${e},${n}L ${i},${a}`,l,s,c,f]}const Vx={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Fk=({source:e,sourcePosition:n=ge.Bottom,target:i})=>n===ge.Left||n===ge.Right?e.x<i.x?{x:1,y:0}:{x:-1,y:0}:e.y<i.y?{x:0,y:1}:{x:0,y:-1},Fx=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function Gk({source:e,sourcePosition:n=ge.Bottom,target:i,targetPosition:a=ge.Top,center:l,offset:s,stepPosition:c}){const f=Vx[n],h=Vx[a],p={x:e.x+f.x*s,y:e.y+f.y*s},g={x:i.x+h.x*s,y:i.y+h.y*s},m=Fk({source:p,sourcePosition:n,target:g}),v=m.x!==0?"x":"y",b=m[v];let w=[],N,C;const S={x:0,y:0},k={x:0,y:0},[,,j,_]=jb({sourceX:e.x,sourceY:e.y,targetX:i.x,targetY:i.y});if(f[v]*h[v]===-1){v==="x"?(N=l.x??p.x+(g.x-p.x)*c,C=l.y??(p.y+g.y)/2):(N=l.x??(p.x+g.x)/2,C=l.y??p.y+(g.y-p.y)*c);const M=[{x:N,y:p.y},{x:N,y:g.y}],H=[{x:p.x,y:C},{x:g.x,y:C}];f[v]===b?w=v==="x"?M:H:w=v==="x"?H:M}else{const M=[{x:p.x,y:g.y}],H=[{x:g.x,y:p.y}];if(v==="x"?w=f.x===b?H:M:w=f.y===b?M:H,n===a){const q=Math.abs(e[v]-i[v]);if(q<=s){const K=Math.min(s-1,s-q);f[v]===b?S[v]=(p[v]>e[v]?-1:1)*K:k[v]=(g[v]>i[v]?-1:1)*K}}if(n!==a){const q=v==="x"?"y":"x",K=f[v]===h[q],A=p[q]>g[q],$=p[q]<g[q];(f[v]===1&&(!K&&A||K&&$)||f[v]!==1&&(!K&&$||K&&A))&&(w=v==="x"?M:H)}const F={x:p.x+S.x,y:p.y+S.y},X={x:g.x+k.x,y:g.y+k.y},I=Math.max(Math.abs(F.x-w[0].x),Math.abs(X.x-w[0].x)),L=Math.max(Math.abs(F.y-w[0].y),Math.abs(X.y-w[0].y));I>=L?(N=(F.x+X.x)/2,C=w[0].y):(N=w[0].x,C=(F.y+X.y)/2)}return[[e,{x:p.x+S.x,y:p.y+S.y},...w,{x:g.x+k.x,y:g.y+k.y},i],N,C,j,_]}function Yk(e,n,i,a){const l=Math.min(Fx(e,n)/2,Fx(n,i)/2,a),{x:s,y:c}=n;if(e.x===s&&s===i.x||e.y===c&&c===i.y)return`L${s} ${c}`;if(e.y===c){const p=e.x<i.x?-1:1,g=e.y<i.y?1:-1;return`L ${s+l*p},${c}Q ${s},${c} ${s},${c+l*g}`}const f=e.x<i.x?1:-1,h=e.y<i.y?-1:1;return`L ${s},${c+l*h}Q ${s},${c} ${s+l*f},${c}`}function Bc({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top,borderRadius:c=5,centerX:f,centerY:h,offset:p=20,stepPosition:g=.5}){const[m,v,b,w,N]=Gk({source:{x:e,y:n},sourcePosition:i,target:{x:a,y:l},targetPosition:s,center:{x:f,y:h},offset:p,stepPosition:g});return[m.reduce((S,k,j)=>{let _="";return j>0&&j<m.length-1?_=Yk(m[j-1],k,m[j+1],c):_=`${j===0?"M":"L"}${k.x} ${k.y}`,S+=_,S},""),v,b,w,N]}function Gx(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Xk(e){const{sourceNode:n,targetNode:i}=e;if(!Gx(n)||!Gx(i))return null;const a=n.internals.handleBounds||Yx(n.handles),l=i.internals.handleBounds||Yx(i.handles),s=Xx(a?.source??[],e.sourceHandle),c=Xx(e.connectionMode===Ua.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!s||!c)return e.onError?.("008",Gn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=s?.position||ge.Bottom,h=c?.position||ge.Top,p=Br(n,s,f),g=Br(i,c,h);return{sourceX:p.x,sourceY:p.y,targetX:g.x,targetY:g.y,sourcePosition:f,targetPosition:h}}function Yx(e){if(!e)return null;const n=[],i=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&i.push(a);return{source:n,target:i}}function Br(e,n,i=ge.Left,a=!1){const l=(n?.x??0)+e.internals.positionAbsolute.x,s=(n?.y??0)+e.internals.positionAbsolute.y,{width:c,height:f}=n??wi(e);if(a)return{x:l+c/2,y:s+f/2};switch(n?.position??i){case ge.Top:return{x:l+c/2,y:s};case ge.Right:return{x:l+c,y:s+f/2};case ge.Bottom:return{x:l+c/2,y:s+f};case ge.Left:return{x:l,y:s+f/2}}}function Xx(e,n){return e&&(n?e.find(i=>i.id===n):e[0])||null}function Eh(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function Qk(e,{id:n,defaultColor:i,defaultMarkerStart:a,defaultMarkerEnd:l}){const s=new Set;return e.reduce((c,f)=>([f.markerStart||a,f.markerEnd||l].forEach(h=>{if(h&&typeof h=="object"){const p=Eh(h,n);s.has(p)||(c.push({id:p,color:h.color||i,...h}),s.add(p))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const Tb=1e3,Zk=10,rp={nodeOrigin:[0,0],nodeExtent:gl,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Wk={...rp,checkEquality:!0};function ap(e,n){const i={...e};for(const a in n)n[a]!==void 0&&(i[a]=n[a]);return i}function Kk(e,n,i){const a=ap(rp,i);for(const l of e.values())if(l.parentId)lp(l,e,n,a);else{const s=kl(l,a.nodeOrigin),c=Fa(l.extent)?l.extent:a.nodeExtent,f=Ir(s,c,wi(l));l.internals.positionAbsolute=f}}function Jk(e,n){if(!e.handles)return e.measured?n?.internals.handleBounds:void 0;const i=[],a=[];for(const l of e.handles){const s={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?i.push(s):l.type==="target"&&a.push(s)}return{source:i,target:a}}function op(e){return e==="manual"}function jh(e,n,i,a={}){const l=ap(Wk,a),s={i:0},c=new Map(n),f=l?.elevateNodesOnSelect&&!op(l.zIndexMode)?Tb:0;let h=e.length>0;n.clear(),i.clear();for(const p of e){let g=c.get(p.id);if(l.checkEquality&&p===g?.internals.userNode)n.set(p.id,g);else{const m=kl(p,l.nodeOrigin),v=Fa(p.extent)?p.extent:l.nodeExtent,b=Ir(m,v,wi(p));g={...l.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:b,handleBounds:Jk(p,g),z:Ab(p,f,l.zIndexMode),userNode:p}},n.set(p.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(h=!1),p.parentId&&lp(g,n,i,a,s)}return h}function eT(e,n){if(!e.parentId)return;const i=n.get(e.parentId);i?i.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function lp(e,n,i,a,l){const{elevateNodesOnSelect:s,nodeOrigin:c,nodeExtent:f,zIndexMode:h}=ap(rp,a),p=e.parentId,g=n.get(p);if(!g){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}eT(e,i),l&&!g.parentId&&g.internals.rootParentIndex===void 0&&h==="auto"&&(g.internals.rootParentIndex=++l.i,g.internals.z=g.internals.z+l.i*Zk),l&&g.internals.rootParentIndex!==void 0&&(l.i=g.internals.rootParentIndex);const m=s&&!op(h)?Tb:0,{x:v,y:b,z:w}=tT(e,g,c,f,m,h),{positionAbsolute:N}=e.internals,C=v!==N.x||b!==N.y;(C||w!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:v,y:b}:N,z:w}})}function Ab(e,n,i){const a=_n(e.zIndex)?e.zIndex:0;return op(i)?a:a+(e.selected?n:0)}function tT(e,n,i,a,l,s){const{x:c,y:f}=n.internals.positionAbsolute,h=wi(e),p=kl(e,i),g=Fa(e.extent)?Ir(p,e.extent,h):p;let m=Ir({x:c+g.x,y:f+g.y},a,h);e.extent==="parent"&&(m=mb(m,h,n));const v=Ab(e,l,s),b=n.internals.z??0;return{x:m.x,y:m.y,z:b>=v?b+1:v}}function sp(e,n,i,a=[0,0]){const l=[],s=new Map;for(const c of e){const f=n.get(c.parentId);if(!f)continue;const h=s.get(c.parentId)?.expandedRect??Va(f),p=yb(h,c.rect);s.set(c.parentId,{expandedRect:p,parent:f})}return s.size>0&&s.forEach(({expandedRect:c,parent:f},h)=>{const p=f.internals.positionAbsolute,g=wi(f),m=f.origin??a,v=c.x<p.x?Math.round(Math.abs(p.x-c.x)):0,b=c.y<p.y?Math.round(Math.abs(p.y-c.y)):0,w=Math.max(g.width,Math.round(c.width)),N=Math.max(g.height,Math.round(c.height)),C=(w-g.width)*m[0],S=(N-g.height)*m[1];(v>0||b>0||C||S)&&(l.push({id:h,type:"position",position:{x:f.position.x-v+C,y:f.position.y-b+S}}),i.get(h)?.forEach(k=>{e.some(j=>j.id===k.id)||l.push({id:k.id,type:"position",position:{x:k.position.x+v,y:k.position.y+b}})})),(g.width<c.width||g.height<c.height||v||b)&&l.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?m[0]*v-C:0),height:N+(b?m[1]*b-S:0)}})}),l}function nT(e,n,i,a,l,s,c){const f=a?.querySelector(".xyflow__viewport");let h=!1;if(!f)return{changes:[],updatedInternals:h};const p=[],g=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(g.transform),v=[];for(const b of e.values()){const w=n.get(b.id);if(!w)continue;if(w.hidden){n.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),h=!0;continue}const N=ip(b.nodeElement),C=w.measured.width!==N.width||w.measured.height!==N.height;if(!!(N.width&&N.height&&(C||!w.internals.handleBounds||b.force))){const k=b.nodeElement.getBoundingClientRect(),j=Fa(w.extent)?w.extent:s;let{positionAbsolute:_}=w.internals;w.parentId&&w.extent==="parent"?_=mb(_,N,n.get(w.parentId)):j&&(_=Ir(_,j,N));const P={...w,measured:N,internals:{...w.internals,positionAbsolute:_,handleBounds:{source:Ux("source",b.nodeElement,k,m,w.id),target:Ux("target",b.nodeElement,k,m,w.id)}}};n.set(w.id,P),w.parentId&&lp(P,n,i,{nodeOrigin:l,zIndexMode:c}),h=!0,C&&(p.push({id:w.id,type:"dimensions",dimensions:N}),w.expandParent&&w.parentId&&v.push({id:w.id,parentId:w.parentId,rect:Va(P,l)}))}}if(v.length>0){const b=sp(v,n,i,l);p.push(...b)}return{changes:p,updatedInternals:h}}async function iT({delta:e,panZoom:n,transform:i,translateExtent:a,width:l,height:s}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const c=await n.setViewportConstrained({x:i[0]+e.x,y:i[1]+e.y,zoom:i[2]},[[0,0],[l,s]],a),f=!!c&&(c.x!==i[0]||c.y!==i[1]||c.k!==i[2]);return Promise.resolve(f)}function Qx(e,n,i,a,l,s){let c=l;const f=a.get(c)||new Map;a.set(c,f.set(i,n)),c=`${l}-${e}`;const h=a.get(c)||new Map;if(a.set(c,h.set(i,n)),s){c=`${l}-${e}-${s}`;const p=a.get(c)||new Map;a.set(c,p.set(i,n))}}function Mb(e,n,i){e.clear(),n.clear();for(const a of i){const{source:l,target:s,sourceHandle:c=null,targetHandle:f=null}=a,h={edgeId:a.id,source:l,target:s,sourceHandle:c,targetHandle:f},p=`${l}-${c}--${s}-${f}`,g=`${s}-${f}--${l}-${c}`;Qx("source",h,g,e,l,c),Qx("target",h,p,e,s,f),n.set(a.id,a)}}function Db(e,n){if(!e.parentId)return!1;const i=n.get(e.parentId);return i?i.selected?!0:Db(i,n):!1}function Zx(e,n,i){let a=e;do{if(a?.matches?.(n))return!0;if(a===i)return!1;a=a?.parentElement}while(a);return!1}function rT(e,n,i,a){const l=new Map;for(const[s,c]of e)if((c.selected||c.id===a)&&(!c.parentId||!Db(c,e))&&(c.draggable||n&&typeof c.draggable>"u")){const f=e.get(s);f&&l.set(s,{id:s,position:f.position||{x:0,y:0},distance:{x:i.x-f.internals.positionAbsolute.x,y:i.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function If({nodeId:e,dragItems:n,nodeLookup:i,dragging:a=!0}){const l=[];for(const[c,f]of n){const h=i.get(c)?.internals.userNode;h&&l.push({...h,position:f.position,dragging:a})}if(!e)return[l[0],l];const s=i.get(e)?.internals.userNode;return[s?{...s,position:n.get(e)?.position||s.position,dragging:a}:l[0],l]}function aT({dragItems:e,snapGrid:n,x:i,y:a}){const l=e.values().next().value;if(!l)return null;const s={x:i-l.distance.x,y:a-l.distance.y},c=Al(s,n);return{x:c.x-s.x,y:c.y-s.y}}function oT({onNodeMouseDown:e,getStoreItems:n,onDragStart:i,onDrag:a,onDragStop:l}){let s={x:null,y:null},c=0,f=new Map,h=!1,p={x:0,y:0},g=null,m=!1,v=null,b=!1,w=!1,N=null;function C({noDragClassName:k,handleSelector:j,domNode:_,isSelectable:P,nodeId:M,nodeClickDistance:H=0}){v=dn(_);function F({x:q,y:K}){const{nodeLookup:A,nodeExtent:$,snapGrid:D,snapToGrid:U,nodeOrigin:G,onNodeDrag:Z,onSelectionDrag:O,onError:B,updateNodePositions:V}=n();s={x:q,y:K};let z=!1;const ie=f.size>1,te=ie&&$?Nh(Tl(f)):null,re=ie&&U?aT({dragItems:f,snapGrid:D,x:q,y:K}):null;for(const[de,oe]of f){if(!A.has(de))continue;let fe={x:q-oe.distance.x,y:K-oe.distance.y};U&&(fe=re?{x:Math.round(fe.x+re.x),y:Math.round(fe.y+re.y)}:Al(fe,D));let xe=null;if(ie&&$&&!oe.extent&&te){const{positionAbsolute:Ee}=oe.internals,De=Ee.x-te.x+$[0][0],Ue=Ee.x+oe.measured.width-te.x2+$[1][0],qe=Ee.y-te.y+$[0][1],ft=Ee.y+oe.measured.height-te.y2+$[1][1];xe=[[De,qe],[Ue,ft]]}const{position:je,positionAbsolute:ve}=pb({nodeId:de,nextPosition:fe,nodeLookup:A,nodeExtent:xe||$,nodeOrigin:G,onError:B});z=z||oe.position.x!==je.x||oe.position.y!==je.y,oe.position=je,oe.internals.positionAbsolute=ve}if(w=w||z,!!z&&(V(f,!0),N&&(a||Z||!M&&O))){const[de,oe]=If({nodeId:M,dragItems:f,nodeLookup:A});a?.(N,f,de,oe),Z?.(N,de,oe),M||O?.(N,oe)}}async function X(){if(!g)return;const{transform:q,panBy:K,autoPanSpeed:A,autoPanOnNodeDrag:$}=n();if(!$){h=!1,cancelAnimationFrame(c);return}const[D,U]=gb(p,g,A);(D!==0||U!==0)&&(s.x=(s.x??0)-D/q[2],s.y=(s.y??0)-U/q[2],await K({x:D,y:U})&&F(s)),c=requestAnimationFrame(X)}function I(q){const{nodeLookup:K,multiSelectionActive:A,nodesDraggable:$,transform:D,snapGrid:U,snapToGrid:G,selectNodesOnDrag:Z,onNodeDragStart:O,onSelectionDragStart:B,unselectNodesAndEdges:V}=n();m=!0,(!Z||!P)&&!A&&M&&(K.get(M)?.selected||V()),P&&Z&&M&&e?.(M);const z=ol(q.sourceEvent,{transform:D,snapGrid:U,snapToGrid:G,containerBounds:g});if(s=z,f=rT(K,$,z,M),f.size>0&&(i||O||!M&&B)){const[ie,te]=If({nodeId:M,dragItems:f,nodeLookup:K});i?.(q.sourceEvent,f,ie,te),O?.(q.sourceEvent,ie,te),M||B?.(q.sourceEvent,te)}}const L=Y0().clickDistance(H).on("start",q=>{const{domNode:K,nodeDragThreshold:A,transform:$,snapGrid:D,snapToGrid:U}=n();g=K?.getBoundingClientRect()||null,b=!1,w=!1,N=q.sourceEvent,A===0&&I(q),s=ol(q.sourceEvent,{transform:$,snapGrid:D,snapToGrid:U,containerBounds:g}),p=On(q.sourceEvent,g)}).on("drag",q=>{const{autoPanOnNodeDrag:K,transform:A,snapGrid:$,snapToGrid:D,nodeDragThreshold:U,nodeLookup:G}=n(),Z=ol(q.sourceEvent,{transform:A,snapGrid:$,snapToGrid:D,containerBounds:g});if(N=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||M&&!G.has(M))&&(b=!0),!b){if(!h&&K&&m&&(h=!0,X()),!m){const O=On(q.sourceEvent,g),B=O.x-p.x,V=O.y-p.y;Math.sqrt(B*B+V*V)>U&&I(q)}(s.x!==Z.xSnapped||s.y!==Z.ySnapped)&&f&&m&&(p=On(q.sourceEvent,g),F(Z))}}).on("end",q=>{if(!(!m||b)&&(h=!1,m=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:K,updateNodePositions:A,onNodeDragStop:$,onSelectionDragStop:D}=n();if(w&&(A(f,!1),w=!1),l||$||!M&&D){const[U,G]=If({nodeId:M,dragItems:f,nodeLookup:K,dragging:!1});l?.(q.sourceEvent,f,U,G),$?.(q.sourceEvent,U,G),M||D?.(q.sourceEvent,G)}}}).filter(q=>{const K=q.target;return!q.button&&(!k||!Zx(K,`.${k}`,_))&&(!j||Zx(K,j,_))});v.call(L)}function S(){v?.on(".drag",null)}return{update:C,destroy:S}}function lT(e,n,i){const a=[],l={x:e.x-i,y:e.y-i,width:i*2,height:i*2};for(const s of n.values())xl(l,Va(s))>0&&a.push(s);return a}const sT=250;function cT(e,n,i,a){let l=[],s=1/0;const c=lT(e,i,n+sT);for(const f of c){const h=[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]];for(const p of h){if(a.nodeId===p.nodeId&&a.type===p.type&&a.id===p.id)continue;const{x:g,y:m}=Br(f,p,p.position,!0),v=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(m-e.y,2));v>n||(v<s?(l=[{...p,x:g,y:m}],s=v):v===s&&l.push({...p,x:g,y:m}))}}if(!l.length)return null;if(l.length>1){const f=a.type==="source"?"target":"source";return l.find(h=>h.type===f)??l[0]}return l[0]}function _b(e,n,i,a,l,s=!1){const c=a.get(e);if(!c)return null;const f=l==="strict"?c.internals.handleBounds?.[n]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],h=(i?f?.find(p=>p.id===i):f?.[0])??null;return h&&s?{...h,...Br(c,h,h.position,!0)}:h}function Ob(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function uT(e,n){let i=null;return n?i=!0:e&&!n&&(i=!1),i}const Rb=()=>!0;function dT(e,{connectionMode:n,connectionRadius:i,handleId:a,nodeId:l,edgeUpdaterType:s,isTarget:c,domNode:f,nodeLookup:h,lib:p,autoPanOnConnect:g,flowId:m,panBy:v,cancelConnection:b,onConnectStart:w,onConnect:N,onConnectEnd:C,isValidConnection:S=Rb,onReconnectEnd:k,updateConnection:j,getTransform:_,getFromHandle:P,autoPanSpeed:M,dragThreshold:H=1,handleDomNode:F}){const X=bb(e.target);let I=0,L;const{x:q,y:K}=On(e),A=Ob(s,F),$=f?.getBoundingClientRect();let D=!1;if(!$||!A)return;const U=_b(l,A,a,h,n);if(!U)return;let G=On(e,$),Z=!1,O=null,B=!1,V=null;function z(){if(!g||!$)return;const[je,ve]=gb(G,$,M);v({x:je,y:ve}),I=requestAnimationFrame(z)}const ie={...U,nodeId:l,type:A,position:U.position},te=h.get(l);let de={inProgress:!0,isValid:null,from:Br(te,ie,ge.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:te,to:G,toHandle:null,toPosition:Bx[ie.position],toNode:null,pointer:G};function oe(){D=!0,j(de),w?.(e,{nodeId:l,handleId:a,handleType:A})}H===0&&oe();function fe(je){if(!D){const{x:ft,y:Jt}=On(je),_t=ft-q,$t=Jt-K;if(!(_t*_t+$t*$t>H*H))return;oe()}if(!P()||!ie){xe(je);return}const ve=_();G=On(je,$),L=cT(Ml(G,ve,!1,[1,1]),i,h,ie),Z||(z(),Z=!0);const Ee=zb(je,{handle:L,connectionMode:n,fromNodeId:l,fromHandleId:a,fromType:c?"target":"source",isValidConnection:S,doc:X,lib:p,flowId:m,nodeLookup:h});V=Ee.handleDomNode,O=Ee.connection,B=uT(!!L,Ee.isValid);const De=h.get(l),Ue=De?Br(De,ie,ge.Left,!0):de.from,qe={...de,from:Ue,isValid:B,to:Ee.toHandle&&B?Ic({x:Ee.toHandle.x,y:Ee.toHandle.y},ve):G,toHandle:Ee.toHandle,toPosition:B&&Ee.toHandle?Ee.toHandle.position:Bx[ie.position],toNode:Ee.toHandle?h.get(Ee.toHandle.nodeId):null,pointer:G};j(qe),de=qe}function xe(je){if(!("touches"in je&&je.touches.length>0)){if(D){(L||V)&&O&&B&&N?.(O);const{inProgress:ve,...Ee}=de,De={...Ee,toPosition:de.toHandle?de.toPosition:null};C?.(je,De),s&&k?.(je,De)}b(),cancelAnimationFrame(I),Z=!1,B=!1,O=null,V=null,X.removeEventListener("mousemove",fe),X.removeEventListener("mouseup",xe),X.removeEventListener("touchmove",fe),X.removeEventListener("touchend",xe)}}X.addEventListener("mousemove",fe),X.addEventListener("mouseup",xe),X.addEventListener("touchmove",fe),X.addEventListener("touchend",xe)}function zb(e,{handle:n,connectionMode:i,fromNodeId:a,fromHandleId:l,fromType:s,doc:c,lib:f,flowId:h,isValidConnection:p=Rb,nodeLookup:g}){const m=s==="target",v=n?c.querySelector(`.${f}-flow__handle[data-id="${h}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:b,y:w}=On(e),N=c.elementFromPoint(b,w),C=N?.classList.contains(`${f}-flow__handle`)?N:v,S={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const k=Ob(void 0,C),j=C.getAttribute("data-nodeid"),_=C.getAttribute("data-handleid"),P=C.classList.contains("connectable"),M=C.classList.contains("connectableend");if(!j||!k)return S;const H={source:m?j:a,sourceHandle:m?_:l,target:m?a:j,targetHandle:m?l:_};S.connection=H;const X=P&&M&&(i===Ua.Strict?m&&k==="source"||!m&&k==="target":j!==a||_!==l);S.isValid=X&&p(H),S.toHandle=_b(j,k,_,g,i,!0)}return S}const Ch={onPointerDown:dT,isValid:zb};function fT({domNode:e,panZoom:n,getTransform:i,getViewScale:a}){const l=dn(e);function s({translateExtent:f,width:h,height:p,zoomStep:g=1,pannable:m=!0,zoomable:v=!0,inversePan:b=!1}){const w=j=>{if(j.sourceEvent.type!=="wheel"||!n)return;const _=i(),P=j.sourceEvent.ctrlKey&&vl()?10:1,M=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*g,H=_[2]*Math.pow(2,M*P);n.scaleTo(H)};let N=[0,0];const C=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(N=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},S=j=>{const _=i();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!n)return;const P=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],M=[P[0]-N[0],P[1]-N[1]];N=P;const H=a()*Math.max(_[2],Math.log(_[2]))*(b?-1:1),F={x:_[0]-M[0]*H,y:_[1]-M[1]*H},X=[[0,0],[h,p]];n.setViewportConstrained({x:F.x,y:F.y,zoom:_[2]},X,f)},k=sb().on("start",C).on("zoom",m?S:null).on("zoom.wheel",v?w:null);l.call(k,{})}function c(){l.on("zoom",null)}return{update:s,destroy:c,pointer:An}}const tu=e=>({x:e.x,y:e.y,zoom:e.k}),Bf=({x:e,y:n,zoom:i})=>Kc.translate(e,n).scale(i),Ra=(e,n)=>e.target.closest(`.${n}`),Lb=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),hT=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Hf=(e,n=0,i=hT,a=()=>{})=>{const l=typeof n=="number"&&n>0;return l||a(),l?e.transition().duration(n).ease(i).on("end",a):e},Ib=e=>{const n=e.ctrlKey&&vl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function pT({zoomPanValues:e,noWheelClassName:n,d3Selection:i,d3Zoom:a,panOnScrollMode:l,panOnScrollSpeed:s,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:h,onPanZoomEnd:p}){return g=>{if(Ra(g,n))return g.ctrlKey&&g.preventDefault(),!1;g.preventDefault(),g.stopImmediatePropagation();const m=i.property("__zoom").k||1;if(g.ctrlKey&&c){const C=An(g),S=Ib(g),k=m*Math.pow(2,S);a.scaleTo(i,k,C,g);return}const v=g.deltaMode===1?20:1;let b=l===Rr.Vertical?0:g.deltaX*v,w=l===Rr.Horizontal?0:g.deltaY*v;!vl()&&g.shiftKey&&l!==Rr.Vertical&&(b=g.deltaY*v,w=0),a.translateBy(i,-(b/m)*s,-(w/m)*s,{internal:!0});const N=tu(i.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h?.(g,N),e.panScrollTimeout=setTimeout(()=>{p?.(g,N),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f?.(g,N))}}function mT({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:i}){return function(a,l){const s=a.type==="wheel",c=!n&&s&&!a.ctrlKey,f=Ra(a,e);if(a.ctrlKey&&s&&f&&a.preventDefault(),c||f)return null;a.preventDefault(),i.call(this,a,l)}}function gT({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:i}){return a=>{if(a.sourceEvent?.internal)return;const l=tu(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,a.sourceEvent?.type==="mousedown"&&n(!0),i&&i?.(a.sourceEvent,l)}}function yT({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:i,onTransformChange:a,onPanZoom:l}){return s=>{e.usedRightMouseButton=!!(i&&Lb(n,e.mouseButton??0)),s.sourceEvent?.sync||a([s.transform.x,s.transform.y,s.transform.k]),l&&!s.sourceEvent?.internal&&l?.(s.sourceEvent,tu(s.transform))}}function xT({zoomPanValues:e,panOnDrag:n,panOnScroll:i,onDraggingChange:a,onPanZoomEnd:l,onPaneContextMenu:s}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&Lb(n,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&s(c.sourceEvent),e.usedRightMouseButton=!1,a(!1),l)){const f=tu(c.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(c.sourceEvent,f)},i?150:0)}}}function vT({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:i,panOnDrag:a,panOnScroll:l,zoomOnDoubleClick:s,userSelectionActive:c,noWheelClassName:f,noPanClassName:h,lib:p,connectionInProgress:g}){return m=>{const v=e||n,b=i&&m.ctrlKey,w=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(Ra(m,`${p}-flow__node`)||Ra(m,`${p}-flow__edge`)))return!0;if(!a&&!v&&!l&&!s&&!i||c||g&&!w||Ra(m,f)&&w||Ra(m,h)&&(!w||l&&w&&!e)||!i&&m.ctrlKey&&w)return!1;if(!i&&m.type==="touchstart"&&m.touches?.length>1)return m.preventDefault(),!1;if(!v&&!l&&!b&&w||!a&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(a)&&!a.includes(m.button)&&m.type==="mousedown")return!1;const N=Array.isArray(a)&&a.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||w)&&N}}function bT({domNode:e,minZoom:n,maxZoom:i,translateExtent:a,viewport:l,onPanZoom:s,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),m=sb().scaleExtent([n,i]).translateExtent(a),v=dn(e).call(m);k({x:l.x,y:l.y,zoom:qa(l.zoom,n,i)},[[0,0],[g.width,g.height]],a);const b=v.on("wheel.zoom"),w=v.on("dblclick.zoom");m.wheelDelta(Ib);function N(L,q){return v?new Promise(K=>{m?.interpolate(q?.interpolate==="linear"?al:Nc).transform(Hf(v,q?.duration,q?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function C({noWheelClassName:L,noPanClassName:q,onPaneContextMenu:K,userSelectionActive:A,panOnScroll:$,panOnDrag:D,panOnScrollMode:U,panOnScrollSpeed:G,preventScrolling:Z,zoomOnPinch:O,zoomOnScroll:B,zoomOnDoubleClick:V,zoomActivationKeyPressed:z,lib:ie,onTransformChange:te,connectionInProgress:re,paneClickDistance:de,selectionOnDrag:oe}){A&&!p.isZoomingOrPanning&&S();const fe=$&&!z&&!A;m.clickDistance(oe?1/0:!_n(de)||de<0?0:de);const xe=fe?pT({zoomPanValues:p,noWheelClassName:L,d3Selection:v,d3Zoom:m,panOnScrollMode:U,panOnScrollSpeed:G,zoomOnPinch:O,onPanZoomStart:c,onPanZoom:s,onPanZoomEnd:f}):mT({noWheelClassName:L,preventScrolling:Z,d3ZoomHandler:b});if(v.on("wheel.zoom",xe,{passive:!1}),!A){const ve=gT({zoomPanValues:p,onDraggingChange:h,onPanZoomStart:c});m.on("start",ve);const Ee=yT({zoomPanValues:p,panOnDrag:D,onPaneContextMenu:!!K,onPanZoom:s,onTransformChange:te});m.on("zoom",Ee);const De=xT({zoomPanValues:p,panOnDrag:D,panOnScroll:$,onPaneContextMenu:K,onPanZoomEnd:f,onDraggingChange:h});m.on("end",De)}const je=vT({zoomActivationKeyPressed:z,panOnDrag:D,zoomOnScroll:B,panOnScroll:$,zoomOnDoubleClick:V,zoomOnPinch:O,userSelectionActive:A,noPanClassName:q,noWheelClassName:L,lib:ie,connectionInProgress:re});m.filter(je),V?v.on("dblclick.zoom",w):v.on("dblclick.zoom",null)}function S(){m.on("zoom",null)}async function k(L,q,K){const A=Bf(L),$=m?.constrain()(A,q,K);return $&&await N($),new Promise(D=>D($))}async function j(L,q){const K=Bf(L);return await N(K,q),new Promise(A=>A(K))}function _(L){if(v){const q=Bf(L),K=v.property("__zoom");(K.k!==L.zoom||K.x!==L.x||K.y!==L.y)&&m?.transform(v,q,null,{sync:!0})}}function P(){const L=v?lb(v.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function M(L,q){return v?new Promise(K=>{m?.interpolate(q?.interpolate==="linear"?al:Nc).scaleTo(Hf(v,q?.duration,q?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function H(L,q){return v?new Promise(K=>{m?.interpolate(q?.interpolate==="linear"?al:Nc).scaleBy(Hf(v,q?.duration,q?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function F(L){m?.scaleExtent(L)}function X(L){m?.translateExtent(L)}function I(L){const q=!_n(L)||L<0?0:L;m?.clickDistance(q)}return{update:C,destroy:S,setViewport:j,setViewportConstrained:k,getViewport:P,scaleTo:M,scaleBy:H,setScaleExtent:F,setTranslateExtent:X,syncViewport:_,setClickDistance:I}}var Ga;(function(e){e.Line="line",e.Handle="handle"})(Ga||(Ga={}));function wT({width:e,prevWidth:n,height:i,prevHeight:a,affectsX:l,affectsY:s}){const c=e-n,f=i-a,h=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(h[0]=h[0]*-1),f&&s&&(h[1]=h[1]*-1),h}function Wx(e){const n=e.includes("right")||e.includes("left"),i=e.includes("bottom")||e.includes("top"),a=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:i,affectsX:a,affectsY:l}}function Ji(e,n){return Math.max(0,n-e)}function er(e,n){return Math.max(0,e-n)}function dc(e,n,i){return Math.max(0,n-e,e-i)}function Kx(e,n){return e?!n:n}function ST(e,n,i,a,l,s,c,f){let{affectsX:h,affectsY:p}=n;const{isHorizontal:g,isVertical:m}=n,v=g&&m,{xSnapped:b,ySnapped:w}=i,{minWidth:N,maxWidth:C,minHeight:S,maxHeight:k}=a,{x:j,y:_,width:P,height:M,aspectRatio:H}=e;let F=Math.floor(g?b-e.pointerX:0),X=Math.floor(m?w-e.pointerY:0);const I=P+(h?-F:F),L=M+(p?-X:X),q=-s[0]*P,K=-s[1]*M;let A=dc(I,N,C),$=dc(L,S,k);if(c){let G=0,Z=0;h&&F<0?G=Ji(j+F+q,c[0][0]):!h&&F>0&&(G=er(j+I+q,c[1][0])),p&&X<0?Z=Ji(_+X+K,c[0][1]):!p&&X>0&&(Z=er(_+L+K,c[1][1])),A=Math.max(A,G),$=Math.max($,Z)}if(f){let G=0,Z=0;h&&F>0?G=er(j+F,f[0][0]):!h&&F<0&&(G=Ji(j+I,f[1][0])),p&&X>0?Z=er(_+X,f[0][1]):!p&&X<0&&(Z=Ji(_+L,f[1][1])),A=Math.max(A,G),$=Math.max($,Z)}if(l){if(g){const G=dc(I/H,S,k)*H;if(A=Math.max(A,G),c){let Z=0;!h&&!p||h&&!p&&v?Z=er(_+K+I/H,c[1][1])*H:Z=Ji(_+K+(h?F:-F)/H,c[0][1])*H,A=Math.max(A,Z)}if(f){let Z=0;!h&&!p||h&&!p&&v?Z=Ji(_+I/H,f[1][1])*H:Z=er(_+(h?F:-F)/H,f[0][1])*H,A=Math.max(A,Z)}}if(m){const G=dc(L*H,N,C)/H;if($=Math.max($,G),c){let Z=0;!h&&!p||p&&!h&&v?Z=er(j+L*H+q,c[1][0])/H:Z=Ji(j+(p?X:-X)*H+q,c[0][0])/H,$=Math.max($,Z)}if(f){let Z=0;!h&&!p||p&&!h&&v?Z=Ji(j+L*H,f[1][0])/H:Z=er(j+(p?X:-X)*H,f[0][0])/H,$=Math.max($,Z)}}}X=X+(X<0?$:-$),F=F+(F<0?A:-A),l&&(v?I>L*H?X=(Kx(h,p)?-F:F)/H:F=(Kx(h,p)?-X:X)*H:g?(X=F/H,p=h):(F=X*H,h=p));const D=h?j+F:j,U=p?_+X:_;return{width:P+(h?-F:F),height:M+(p?-X:X),x:s[0]*F*(h?-1:1)+D,y:s[1]*X*(p?-1:1)+U}}const Bb={width:0,height:0,x:0,y:0},NT={...Bb,pointerX:0,pointerY:0,aspectRatio:1};function ET(e){return[[0,0],[e.measured.width,e.measured.height]]}function jT(e,n,i){const a=n.position.x+e.position.x,l=n.position.y+e.position.y,s=e.measured.width??0,c=e.measured.height??0,f=i[0]*s,h=i[1]*c;return[[a-f,l-h],[a+s-f,l+c-h]]}function CT({domNode:e,nodeId:n,getStoreItems:i,onChange:a,onEnd:l}){const s=dn(e);let c={controlDirection:Wx("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:p,boundaries:g,keepAspectRatio:m,resizeDirection:v,onResizeStart:b,onResize:w,onResizeEnd:N,shouldResize:C}){let S={...Bb},k={...NT};c={boundaries:g,resizeDirection:v,keepAspectRatio:m,controlDirection:Wx(p)};let j,_=null,P=[],M,H,F,X=!1;const I=Y0().on("start",L=>{const{nodeLookup:q,transform:K,snapGrid:A,snapToGrid:$,nodeOrigin:D,paneDomNode:U}=i();if(j=q.get(n),!j)return;_=U?.getBoundingClientRect()??null;const{xSnapped:G,ySnapped:Z}=ol(L.sourceEvent,{transform:K,snapGrid:A,snapToGrid:$,containerBounds:_});S={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},k={...S,pointerX:G,pointerY:Z,aspectRatio:S.width/S.height},M=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(M=q.get(j.parentId),H=M&&j.extent==="parent"?ET(M):void 0),P=[],F=void 0;for(const[O,B]of q)if(B.parentId===n&&(P.push({id:O,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const V=jT(B,j,B.origin??D);F?F=[[Math.min(V[0][0],F[0][0]),Math.min(V[0][1],F[0][1])],[Math.max(V[1][0],F[1][0]),Math.max(V[1][1],F[1][1])]]:F=V}b?.(L,{...S})}).on("drag",L=>{const{transform:q,snapGrid:K,snapToGrid:A,nodeOrigin:$}=i(),D=ol(L.sourceEvent,{transform:q,snapGrid:K,snapToGrid:A,containerBounds:_}),U=[];if(!j)return;const{x:G,y:Z,width:O,height:B}=S,V={},z=j.origin??$,{width:ie,height:te,x:re,y:de}=ST(k,c.controlDirection,D,c.boundaries,c.keepAspectRatio,z,H,F),oe=ie!==O,fe=te!==B,xe=re!==G&&oe,je=de!==Z&&fe;if(!xe&&!je&&!oe&&!fe)return;if((xe||je||z[0]===1||z[1]===1)&&(V.x=xe?re:S.x,V.y=je?de:S.y,S.x=V.x,S.y=V.y,P.length>0)){const Ue=re-G,qe=de-Z;for(const ft of P)ft.position={x:ft.position.x-Ue+z[0]*(ie-O),y:ft.position.y-qe+z[1]*(te-B)},U.push(ft)}if((oe||fe)&&(V.width=oe&&(!c.resizeDirection||c.resizeDirection==="horizontal")?ie:S.width,V.height=fe&&(!c.resizeDirection||c.resizeDirection==="vertical")?te:S.height,S.width=V.width,S.height=V.height),M&&j.expandParent){const Ue=z[0]*(V.width??0);V.x&&V.x<Ue&&(S.x=Ue,k.x=k.x-(V.x-Ue));const qe=z[1]*(V.height??0);V.y&&V.y<qe&&(S.y=qe,k.y=k.y-(V.y-qe))}const ve=wT({width:S.width,prevWidth:O,height:S.height,prevHeight:B,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),Ee={...S,direction:ve};C?.(L,Ee)!==!1&&(X=!0,w?.(L,Ee),a(V,U))}).on("end",L=>{X&&(N?.(L,{...S}),l?.({...S}),X=!1)});s.call(I)}function h(){s.on(".drag",null)}return{update:f,destroy:h}}var Pf={exports:{}},$f={},Uf={exports:{}},qf={};var Jx;function kT(){if(Jx)return qf;Jx=1;var e=El();function n(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var i=typeof Object.is=="function"?Object.is:n,a=e.useState,l=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(m,v){var b=v(),w=a({inst:{value:b,getSnapshot:v}}),N=w[0].inst,C=w[1];return s(function(){N.value=b,N.getSnapshot=v,h(N)&&C({inst:N})},[m,b,v]),l(function(){return h(N)&&C({inst:N}),m(function(){h(N)&&C({inst:N})})},[m]),c(b),b}function h(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!i(m,b)}catch{return!0}}function p(m,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return qf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,qf}var ev;function TT(){return ev||(ev=1,Uf.exports=kT()),Uf.exports}var tv;function AT(){if(tv)return $f;tv=1;var e=El(),n=TT();function i(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var a=typeof Object.is=="function"?Object.is:i,l=n.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return $f.useSyncExternalStoreWithSelector=function(p,g,m,v,b){var w=s(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=f(function(){function S(M){if(!k){if(k=!0,j=M,M=v(M),b!==void 0&&N.hasValue){var H=N.value;if(b(H,M))return _=H}return _=M}if(H=_,a(j,M))return H;var F=v(M);return b!==void 0&&b(H,F)?(j=M,H):(j=M,_=F)}var k=!1,j,_,P=m===void 0?null:m;return[function(){return S(g())},P===null?void 0:function(){return S(P())}]},[g,m,v,b]);var C=l(p,w[0],w[1]);return c(function(){N.hasValue=!0,N.value=C},[C]),h(C),C},$f}var nv;function MT(){return nv||(nv=1,Pf.exports=AT()),Pf.exports}var DT=MT();const _T=Yc(DT),OT={},iv=e=>{let n;const i=new Set,a=(g,m)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const b=n;n=m??(typeof v!="object"||v===null)?v:Object.assign({},n,v),i.forEach(w=>w(n,b))}},l=()=>n,h={setState:a,getState:l,getInitialState:()=>p,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(OT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=n=e(a,l,h);return h},RT=e=>e?iv(e):iv,{useDebugValue:zT}=Dn,{useSyncExternalStoreWithSelector:LT}=_T,IT=e=>e;function Hb(e,n=IT,i){const a=LT(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,i);return zT(a),a}const rv=(e,n)=>{const i=RT(e),a=(l,s=n)=>Hb(i,l,s);return Object.assign(a,i),a},BT=(e,n)=>e?rv(e,n):rv;function ot(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,l]of e)if(!Object.is(l,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!1;for(const a of i)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}var kh=_0();const nu=T.createContext(null),HT=nu.Provider,Pb=Gn.error001();function Be(e,n){const i=T.useContext(nu);if(i===null)throw new Error(Pb);return Hb(i,e,n)}function lt(){const e=T.useContext(nu);if(e===null)throw new Error(Pb);return T.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const av={display:"none"},PT={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$b="react-flow__node-desc",Ub="react-flow__edge-desc",$T="react-flow__aria-live",UT=e=>e.ariaLiveMessage,qT=e=>e.ariaLabelConfig;function VT({rfId:e}){const n=Be(UT);return u.jsx("div",{id:`${$T}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:PT,children:n})}function FT({rfId:e,disableKeyboardA11y:n}){const i=Be(qT);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${$b}-${e}`,style:av,children:n?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${Ub}-${e}`,style:av,children:i["edge.a11yDescription.default"]}),!n&&u.jsx(VT,{rfId:e})]})}const iu=T.forwardRef(({position:e="top-left",children:n,className:i,style:a,...l},s)=>{const c=`${e}`.split("-");return u.jsx("div",{className:St(["react-flow__panel",i,...c]),style:a,ref:s,...l,children:n})});iu.displayName="Panel";function GT({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:u.jsx(iu,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const YT=e=>{const n=[],i=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&i.push(a);return{selectedNodes:n,selectedEdges:i}},fc=e=>e.id;function XT(e,n){return ot(e.selectedNodes.map(fc),n.selectedNodes.map(fc))&&ot(e.selectedEdges.map(fc),n.selectedEdges.map(fc))}function QT({onSelectionChange:e}){const n=lt(),{selectedNodes:i,selectedEdges:a}=Be(YT,XT);return T.useEffect(()=>{const l={nodes:i,edges:a};e?.(l),n.getState().onSelectionChangeHandlers.forEach(s=>s(l))},[i,a,e]),null}const ZT=e=>!!e.onSelectionChangeHandlers;function WT({onSelectionChange:e}){const n=Be(ZT);return e||n?u.jsx(QT,{onSelectionChange:e}):null}const qb=[0,0],KT={x:0,y:0,zoom:1},JT=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ov=[...JT,"rfId"],eA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),lv={translateExtent:gl,nodeOrigin:qb,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tA(e){const{setNodes:n,setEdges:i,setMinZoom:a,setMaxZoom:l,setTranslateExtent:s,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:h}=Be(eA,ot),p=lt();T.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{g.current=lv,f()}),[]);const g=T.useRef(lv);return T.useEffect(()=>{for(const m of ov){const v=e[m],b=g.current[m];v!==b&&(typeof e[m]>"u"||(m==="nodes"?n(v):m==="edges"?i(v):m==="minZoom"?a(v):m==="maxZoom"?l(v):m==="translateExtent"?s(v):m==="nodeExtent"?c(v):m==="ariaLabelConfig"?p.setState({ariaLabelConfig:Hk(v)}):m==="fitView"?p.setState({fitViewQueued:v}):m==="fitViewOptions"?p.setState({fitViewOptions:v}):p.setState({[m]:v})))}g.current=e},ov.map(m=>e[m])),null}function sv(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nA(e){const[n,i]=T.useState(e==="system"?null:e);return T.useEffect(()=>{if(e!=="system"){i(e);return}const a=sv(),l=()=>i(a?.matches?"dark":"light");return l(),a?.addEventListener("change",l),()=>{a?.removeEventListener("change",l)}},[e]),n!==null?n:sv()?.matches?"dark":"light"}const cv=typeof document<"u"?document:null;function bl(e=null,n={target:cv,actInsideInputWithModifier:!0}){const[i,a]=T.useState(!1),l=T.useRef(!1),s=T.useRef(new Set([])),[c,f]=T.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=p.reduce((m,v)=>m.concat(...v),[]);return[p,g]}return[[],[]]},[e]);return T.useEffect(()=>{const h=n?.target??cv,p=n?.actInsideInputWithModifier??!0;if(e!==null){const g=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!p)&&wb(b))return!1;const N=dv(b.code,f);if(s.current.add(b[N]),uv(c,s.current,!1)){const C=b.composedPath?.()?.[0]||b.target,S=C?.nodeName==="BUTTON"||C?.nodeName==="A";n.preventDefault!==!1&&(l.current||!S)&&b.preventDefault(),a(!0)}},m=b=>{const w=dv(b.code,f);uv(c,s.current,!0)?(a(!1),s.current.clear()):s.current.delete(b[w]),b.key==="Meta"&&s.current.clear(),l.current=!1},v=()=>{s.current.clear(),a(!1)};return h?.addEventListener("keydown",g),h?.addEventListener("keyup",m),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{h?.removeEventListener("keydown",g),h?.removeEventListener("keyup",m),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[e,a]),i}function uv(e,n,i){return e.filter(a=>i||a.length===n.size).some(a=>a.every(l=>n.has(l)))}function dv(e,n){return n.includes(e)?"code":"key"}const iA=()=>{const e=lt();return T.useMemo(()=>({zoomIn:n=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,i)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,i)=>{const{transform:[a,l,s],panZoom:c}=e.getState();return c?(await c.setViewport({x:n.x??a,y:n.y??l,zoom:n.zoom??s},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,i,a]=e.getState().transform;return{x:n,y:i,zoom:a}},setCenter:async(n,i,a)=>e.getState().setCenter(n,i,a),fitBounds:async(n,i)=>{const{width:a,height:l,minZoom:s,maxZoom:c,panZoom:f}=e.getState(),h=np(n,a,l,s,c,i?.padding??.1);return f?(await f.setViewport(h,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,i={})=>{const{transform:a,snapGrid:l,snapToGrid:s,domNode:c}=e.getState();if(!c)return n;const{x:f,y:h}=c.getBoundingClientRect(),p={x:n.x-f,y:n.y-h},g=i.snapGrid??l,m=i.snapToGrid??s;return Ml(p,a,m,g)},flowToScreenPosition:n=>{const{transform:i,domNode:a}=e.getState();if(!a)return n;const{x:l,y:s}=a.getBoundingClientRect(),c=Ic(n,i);return{x:c.x+l,y:c.y+s}}}),[])};function Vb(e,n){const i=[],a=new Map,l=[];for(const s of e)if(s.type==="add"){l.push(s);continue}else if(s.type==="remove"||s.type==="replace")a.set(s.id,[s]);else{const c=a.get(s.id);c?c.push(s):a.set(s.id,[s])}for(const s of n){const c=a.get(s.id);if(!c){i.push(s);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){i.push({...c[0].item});continue}const f={...s};for(const h of c)rA(h,f);i.push(f)}return l.length&&l.forEach(s=>{s.index!==void 0?i.splice(s.index,0,{...s.item}):i.push({...s.item})}),i}function rA(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function Fb(e,n){return Vb(e,n)}function Gb(e,n){return Vb(e,n)}function Dr(e,n){return{id:e,type:"select",selected:n}}function za(e,n=new Set,i=!1){const a=[];for(const[l,s]of e){const c=n.has(l);!(s.selected===void 0&&!c)&&s.selected!==c&&(i&&(s.selected=c),a.push(Dr(s.id,c)))}return a}function fv({items:e=[],lookup:n}){const i=[],a=new Map(e.map(l=>[l.id,l]));for(const[l,s]of e.entries()){const c=n.get(s.id),f=c?.internals?.userNode??c;f!==void 0&&f!==s&&i.push({id:s.id,item:s,type:"replace"}),f===void 0&&i.push({item:s,type:"add",index:l})}for(const[l]of n)a.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function hv(e){return{id:e.id,type:"remove"}}const pv=e=>Ak(e),aA=e=>hb(e);function Yb(e){return T.forwardRef(e)}const oA=typeof window<"u"?T.useLayoutEffect:T.useEffect;function mv(e){const[n,i]=T.useState(BigInt(0)),[a]=T.useState(()=>lA(()=>i(l=>l+BigInt(1))));return oA(()=>{const l=a.get();l.length&&(e(l),a.reset())},[n]),a}function lA(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:i=>{n.push(i),e()}}}const Xb=T.createContext(null);function sA({children:e}){const n=lt(),i=T.useCallback(f=>{const{nodes:h=[],setNodes:p,hasDefaultNodes:g,onNodesChange:m,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:w}=n.getState();let N=h;for(const S of f)N=typeof S=="function"?S(N):S;let C=fv({items:N,lookup:v});for(const S of w.values())C=S(C);g&&p(N),C.length>0?m?.(C):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:k,setNodes:j}=n.getState();S&&j(k)})},[]),a=mv(i),l=T.useCallback(f=>{const{edges:h=[],setEdges:p,hasDefaultEdges:g,onEdgesChange:m,edgeLookup:v}=n.getState();let b=h;for(const w of f)b=typeof w=="function"?w(b):w;g?p(b):m&&m(fv({items:b,lookup:v}))},[]),s=mv(l),c=T.useMemo(()=>({nodeQueue:a,edgeQueue:s}),[]);return u.jsx(Xb.Provider,{value:c,children:e})}function cA(){const e=T.useContext(Xb);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const uA=e=>!!e.panZoom;function ru(){const e=iA(),n=lt(),i=cA(),a=Be(uA),l=T.useMemo(()=>{const s=m=>n.getState().nodeLookup.get(m),c=m=>{i.nodeQueue.push(m)},f=m=>{i.edgeQueue.push(m)},h=m=>{const{nodeLookup:v,nodeOrigin:b}=n.getState(),w=pv(m)?m:v.get(m.id),N=w.parentId?vb(w.position,w.measured,w.parentId,v,b):w.position,C={...w,position:N,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return Va(C)},p=(m,v,b={replace:!1})=>{c(w=>w.map(N=>{if(N.id===m){const C=typeof v=="function"?v(N):v;return b.replace&&pv(C)?C:{...N,...C}}return N}))},g=(m,v,b={replace:!1})=>{f(w=>w.map(N=>{if(N.id===m){const C=typeof v=="function"?v(N):v;return b.replace&&aA(C)?C:{...N,...C}}return N}))};return{getNodes:()=>n.getState().nodes.map(m=>({...m})),getNode:m=>s(m)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:m=[]}=n.getState();return m.map(v=>({...v}))},getEdge:m=>n.getState().edgeLookup.get(m),setNodes:c,setEdges:f,addNodes:m=>{const v=Array.isArray(m)?m:[m];i.nodeQueue.push(b=>[...b,...v])},addEdges:m=>{const v=Array.isArray(m)?m:[m];i.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:m=[],edges:v=[],transform:b}=n.getState(),[w,N,C]=b;return{nodes:m.map(S=>({...S})),edges:v.map(S=>({...S})),viewport:{x:w,y:N,zoom:C}}},deleteElements:async({nodes:m=[],edges:v=[]})=>{const{nodes:b,edges:w,onNodesDelete:N,onEdgesDelete:C,triggerNodeChanges:S,triggerEdgeChanges:k,onDelete:j,onBeforeDelete:_}=n.getState(),{nodes:P,edges:M}=await Rk({nodesToRemove:m,edgesToRemove:v,nodes:b,edges:w,onBeforeDelete:_}),H=M.length>0,F=P.length>0;if(H){const X=M.map(hv);C?.(M),k(X)}if(F){const X=P.map(hv);N?.(P),S(X)}return(F||H)&&j?.({nodes:P,edges:M}),{deletedNodes:P,deletedEdges:M}},getIntersectingNodes:(m,v=!0,b)=>{const w=Px(m),N=w?m:h(m),C=b!==void 0;return N?(b||n.getState().nodes).filter(S=>{const k=n.getState().nodeLookup.get(S.id);if(k&&!w&&(S.id===m.id||!k.internals.positionAbsolute))return!1;const j=Va(C?S:k),_=xl(j,N);return v&&_>0||_>=j.width*j.height||_>=N.width*N.height}):[]},isNodeIntersecting:(m,v,b=!0)=>{const N=Px(m)?m:h(m);if(!N)return!1;const C=xl(N,v);return b&&C>0||C>=v.width*v.height||C>=N.width*N.height},updateNode:p,updateNodeData:(m,v,b={replace:!1})=>{p(m,w=>{const N=typeof v=="function"?v(w):v;return b.replace?{...w,data:N}:{...w,data:{...w.data,...N}}},b)},updateEdge:g,updateEdgeData:(m,v,b={replace:!1})=>{g(m,w=>{const N=typeof v=="function"?v(w):v;return b.replace?{...w,data:N}:{...w,data:{...w.data,...N}}},b)},getNodesBounds:m=>{const{nodeLookup:v,nodeOrigin:b}=n.getState();return Mk(m,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:m,id:v,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}-${m}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:v,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}${m?v?`-${m}-${v}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const v=n.getState().fitViewResolver??Bk();return n.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:v}),i.nodeQueue.push(b=>[...b]),v.promise}}},[]);return T.useMemo(()=>({...l,...e,viewportInitialized:a}),[a])}const gv=e=>e.selected,dA=typeof window<"u"?window:void 0;function fA({deleteKeyCode:e,multiSelectionKeyCode:n}){const i=lt(),{deleteElements:a}=ru(),l=bl(e,{actInsideInputWithModifier:!1}),s=bl(n,{target:dA});T.useEffect(()=>{if(l){const{edges:c,nodes:f}=i.getState();a({nodes:f.filter(gv),edges:c.filter(gv)}),i.setState({nodesSelectionActive:!1})}},[l]),T.useEffect(()=>{i.setState({multiSelectionActive:s})},[s])}function hA(e){const n=lt();T.useEffect(()=>{const i=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const a=ip(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",Gn.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){i(),window.addEventListener("resize",i);const a=new ResizeObserver(()=>i());return a.observe(e.current),()=>{window.removeEventListener("resize",i),a&&e.current&&a.unobserve(e.current)}}},[])}const au={position:"absolute",width:"100%",height:"100%",top:0,left:0},pA=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function mA({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:s=Rr.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:g,maxZoom:m,zoomActivationKeyCode:v,preventScrolling:b=!0,children:w,noWheelClassName:N,noPanClassName:C,onViewportChange:S,isControlledViewport:k,paneClickDistance:j,selectionOnDrag:_}){const P=lt(),M=T.useRef(null),{userSelectionActive:H,lib:F,connectionInProgress:X}=Be(pA,ot),I=bl(v),L=T.useRef();hA(M);const q=T.useCallback(K=>{S?.({x:K[0],y:K[1],zoom:K[2]}),k||P.setState({transform:K})},[S,k]);return T.useEffect(()=>{if(M.current){L.current=bT({domNode:M.current,minZoom:g,maxZoom:m,translateExtent:p,viewport:h,onDraggingChange:D=>P.setState({paneDragging:D}),onPanZoomStart:(D,U)=>{const{onViewportChangeStart:G,onMoveStart:Z}=P.getState();Z?.(D,U),G?.(U)},onPanZoom:(D,U)=>{const{onViewportChange:G,onMove:Z}=P.getState();Z?.(D,U),G?.(U)},onPanZoomEnd:(D,U)=>{const{onViewportChangeEnd:G,onMoveEnd:Z}=P.getState();Z?.(D,U),G?.(U)}});const{x:K,y:A,zoom:$}=L.current.getViewport();return P.setState({panZoom:L.current,transform:[K,A,$],domNode:M.current.closest(".react-flow")}),()=>{L.current?.destroy()}}},[]),T.useEffect(()=>{L.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:i,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:s,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:I,preventScrolling:b,noPanClassName:C,userSelectionActive:H,noWheelClassName:N,lib:F,onTransformChange:q,connectionInProgress:X,selectionOnDrag:_,paneClickDistance:j})},[e,n,i,a,l,s,c,f,I,b,C,H,N,F,q,X,_,j]),u.jsx("div",{className:"react-flow__renderer",ref:M,style:au,children:w})}const gA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yA(){const{userSelectionActive:e,userSelectionRect:n}=Be(gA,ot);return e&&n?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Vf=(e,n)=>i=>{i.target===n.current&&e?.(i)},xA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function vA({isSelecting:e,selectionKeyPressed:n,selectionMode:i=yl.Full,panOnDrag:a,paneClickDistance:l,selectionOnDrag:s,onSelectionStart:c,onSelectionEnd:f,onPaneClick:h,onPaneContextMenu:p,onPaneScroll:g,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:b,children:w}){const N=lt(),{userSelectionActive:C,elementsSelectable:S,dragging:k,connectionInProgress:j}=Be(xA,ot),_=S&&(e||C),P=T.useRef(null),M=T.useRef(),H=T.useRef(new Set),F=T.useRef(new Set),X=T.useRef(!1),I=G=>{if(X.current||j){X.current=!1;return}h?.(G),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},L=G=>{if(Array.isArray(a)&&a?.includes(2)){G.preventDefault();return}p?.(G)},q=g?G=>g(G):void 0,K=G=>{X.current&&(G.stopPropagation(),X.current=!1)},A=G=>{const{domNode:Z}=N.getState();if(M.current=Z?.getBoundingClientRect(),!M.current)return;const O=G.target===P.current;if(!O&&!!G.target.closest(".nokey")||!e||!(s&&O||n)||G.button!==0||!G.isPrimary)return;G.target?.setPointerCapture?.(G.pointerId),X.current=!1;const{x:z,y:ie}=On(G.nativeEvent,M.current);N.setState({userSelectionRect:{width:0,height:0,startX:z,startY:ie,x:z,y:ie}}),O||(G.stopPropagation(),G.preventDefault())},$=G=>{const{userSelectionRect:Z,transform:O,nodeLookup:B,edgeLookup:V,connectionLookup:z,triggerNodeChanges:ie,triggerEdgeChanges:te,defaultEdgeOptions:re,resetSelectedElements:de}=N.getState();if(!M.current||!Z)return;const{x:oe,y:fe}=On(G.nativeEvent,M.current),{startX:xe,startY:je}=Z;if(!X.current){const qe=n?0:l;if(Math.hypot(oe-xe,fe-je)<=qe)return;de(),c?.(G)}X.current=!0;const ve={startX:xe,startY:je,x:oe<xe?oe:xe,y:fe<je?fe:je,width:Math.abs(oe-xe),height:Math.abs(fe-je)},Ee=H.current,De=F.current;H.current=new Set(tp(B,ve,O,i===yl.Partial,!0).map(qe=>qe.id)),F.current=new Set;const Ue=re?.selectable??!0;for(const qe of H.current){const ft=z.get(qe);if(ft)for(const{edgeId:Jt}of ft.values()){const _t=V.get(Jt);_t&&(_t.selectable??Ue)&&F.current.add(Jt)}}if(!$x(Ee,H.current)){const qe=za(B,H.current,!0);ie(qe)}if(!$x(De,F.current)){const qe=za(V,F.current);te(qe)}N.setState({userSelectionRect:ve,userSelectionActive:!0,nodesSelectionActive:!1})},D=G=>{G.button===0&&(G.target?.releasePointerCapture?.(G.pointerId),!C&&G.target===P.current&&N.getState().userSelectionRect&&I?.(G),N.setState({userSelectionActive:!1,userSelectionRect:null}),X.current&&(f?.(G),N.setState({nodesSelectionActive:H.current.size>0})))},U=a===!0||Array.isArray(a)&&a.includes(0);return u.jsxs("div",{className:St(["react-flow__pane",{draggable:U,dragging:k,selection:e}]),onClick:_?void 0:Vf(I,P),onContextMenu:Vf(L,P),onWheel:Vf(q,P),onPointerEnter:_?void 0:m,onPointerMove:_?$:v,onPointerUp:_?D:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?K:void 0,onPointerLeave:b,ref:P,style:au,children:[w,u.jsx(yA,{})]})}function Th({id:e,store:n,unselect:i=!1,nodeRef:a}){const{addSelectedNodes:l,unselectNodesAndEdges:s,multiSelectionActive:c,nodeLookup:f,onError:h}=n.getState(),p=f.get(e);if(!p){h?.("012",Gn.error012(e));return}n.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&c)&&(s({nodes:[p],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):l([e])}function Qb({nodeRef:e,disabled:n=!1,noDragClassName:i,handleSelector:a,nodeId:l,isSelectable:s,nodeClickDistance:c}){const f=lt(),[h,p]=T.useState(!1),g=T.useRef();return T.useEffect(()=>{g.current=oT({getStoreItems:()=>f.getState(),onNodeMouseDown:m=>{Th({id:m,store:f,nodeRef:e})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),T.useEffect(()=>{if(n)g.current?.destroy();else if(e.current)return g.current?.update({noDragClassName:i,handleSelector:a,domNode:e.current,isSelectable:s,nodeId:l,nodeClickDistance:c}),()=>{g.current?.destroy()}},[i,a,n,s,e,l]),h}const bA=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function Zb(){const e=lt();return T.useCallback(i=>{const{nodeExtent:a,snapToGrid:l,snapGrid:s,nodesDraggable:c,onError:f,updateNodePositions:h,nodeLookup:p,nodeOrigin:g}=e.getState(),m=new Map,v=bA(c),b=l?s[0]:5,w=l?s[1]:5,N=i.direction.x*b*i.factor,C=i.direction.y*w*i.factor;for(const[,S]of p){if(!v(S))continue;let k={x:S.internals.positionAbsolute.x+N,y:S.internals.positionAbsolute.y+C};l&&(k=Al(k,s));const{position:j,positionAbsolute:_}=pb({nodeId:S.id,nextPosition:k,nodeLookup:p,nodeExtent:a,nodeOrigin:g,onError:f});S.position=j,S.internals.positionAbsolute=_,m.set(S.id,S)}h(m)},[])}const cp=T.createContext(null),wA=cp.Provider;cp.Consumer;const $r=()=>T.useContext(cp),SA=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),NA=(e,n,i)=>a=>{const{connectionClickStartHandle:l,connectionMode:s,connection:c}=a,{fromHandle:f,toHandle:h,isValid:p}=c,g=h?.nodeId===e&&h?.id===n&&h?.type===i;return{connectingFrom:f?.nodeId===e&&f?.id===n&&f?.type===i,connectingTo:g,clickConnecting:l?.nodeId===e&&l?.id===n&&l?.type===i,isPossibleEndHandle:s===Ua.Strict?f?.type!==i:e!==f?.nodeId||n!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:g&&p}};function EA({type:e="source",position:n=ge.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:l=!0,isConnectableEnd:s=!0,id:c,onConnect:f,children:h,className:p,onMouseDown:g,onTouchStart:m,...v},b){const w=c||null,N=e==="target",C=lt(),S=$r(),{connectOnClick:k,noPanClassName:j,rfId:_}=Be(SA,ot),{connectingFrom:P,connectingTo:M,clickConnecting:H,isPossibleEndHandle:F,connectionInProcess:X,clickConnectionInProcess:I,valid:L}=Be(NA(S,w,e),ot);S||C.getState().onError?.("010",Gn.error010());const q=$=>{const{defaultEdgeOptions:D,onConnect:U,hasDefaultEdges:G}=C.getState(),Z={...D,...$};if(G){const{edges:O,setEdges:B}=C.getState();B(Cb(Z,O))}U?.(Z),f?.(Z)},K=$=>{if(!S)return;const D=Sb($.nativeEvent);if(l&&(D&&$.button===0||!D)){const U=C.getState();Ch.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:N,handleId:w,nodeId:S,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:q,isValidConnection:i||U.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed,dragThreshold:U.connectionDragThreshold})}D?g?.($):m?.($)},A=$=>{const{onClickConnectStart:D,onClickConnectEnd:U,connectionClickStartHandle:G,connectionMode:Z,isValidConnection:O,lib:B,rfId:V,nodeLookup:z,connection:ie}=C.getState();if(!S||!G&&!l)return;if(!G){D?.($.nativeEvent,{nodeId:S,handleId:w,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:S,type:e,id:w}});return}const te=bb($.target),re=i||O,{connection:de,isValid:oe}=Ch.isValid($.nativeEvent,{handle:{nodeId:S,id:w,type:e},connectionMode:Z,fromNodeId:G.nodeId,fromHandleId:G.id||null,fromType:G.type,isValidConnection:re,flowId:V,doc:te,lib:B,nodeLookup:z});oe&&de&&q(de);const fe=structuredClone(ie);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,U?.($,fe),C.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":w,"data-nodeid":S,"data-handlepos":n,"data-id":`${_}-${S}-${w}-${e}`,className:St(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",j,p,{source:!N,target:N,connectable:a,connectablestart:l,connectableend:s,clickconnecting:H,connectingfrom:P,connectingto:M,valid:L,connectionindicator:a&&(!X||F)&&(X||I?s:l)}]),onMouseDown:K,onTouchStart:K,onClick:k?A:void 0,ref:b,...v,children:h})}const zn=T.memo(Yb(EA));function jA({data:e,isConnectable:n,sourcePosition:i=ge.Bottom}){return u.jsxs(u.Fragment,{children:[e?.label,u.jsx(zn,{type:"source",position:i,isConnectable:n})]})}function CA({data:e,isConnectable:n,targetPosition:i=ge.Top,sourcePosition:a=ge.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(zn,{type:"target",position:i,isConnectable:n}),e?.label,u.jsx(zn,{type:"source",position:a,isConnectable:n})]})}function kA(){return null}function TA({data:e,isConnectable:n,targetPosition:i=ge.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(zn,{type:"target",position:i,isConnectable:n}),e?.label]})}const Hc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},yv={input:jA,default:CA,output:TA,group:kA};function AA(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const MA=e=>{const{width:n,height:i,x:a,y:l}=Tl(e.nodeLookup,{filter:s=>!!s.selected});return{width:_n(n)?n:null,height:_n(i)?i:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${l}px)`}};function DA({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:i}){const a=lt(),{width:l,height:s,transformString:c,userSelectionActive:f}=Be(MA,ot),h=Zb(),p=T.useRef(null);if(T.useEffect(()=>{i||p.current?.focus({preventScroll:!0})},[i]),Qb({nodeRef:p}),f||!l||!s)return null;const g=e?v=>{const b=a.getState().nodes.filter(w=>w.selected);e(v,b)}:void 0,m=v=>{Object.prototype.hasOwnProperty.call(Hc,v.key)&&(v.preventDefault(),h({direction:Hc[v.key],factor:v.shiftKey?4:1}))};return u.jsx("div",{className:St(["react-flow__nodesselection","react-flow__container",n]),style:{transform:c},children:u.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:i?void 0:-1,onKeyDown:i?void 0:m,style:{width:l,height:s}})})}const xv=typeof window<"u"?window:void 0,_A=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Wb({children:e,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:s,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:h,selectionKeyCode:p,selectionOnDrag:g,selectionMode:m,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:w,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:_,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:H,panOnDrag:F,defaultViewport:X,translateExtent:I,minZoom:L,maxZoom:q,preventScrolling:K,onSelectionContextMenu:A,noWheelClassName:$,noPanClassName:D,disableKeyboardA11y:U,onViewportChange:G,isControlledViewport:Z}){const{nodesSelectionActive:O,userSelectionActive:B}=Be(_A,ot),V=bl(p,{target:xv}),z=bl(N,{target:xv}),ie=z||F,te=z||_,re=g&&ie!==!0,de=V||B||re;return fA({deleteKeyCode:h,multiSelectionKeyCode:w}),u.jsx(mA,{onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:te,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:H,panOnDrag:!V&&ie,defaultViewport:X,translateExtent:I,minZoom:L,maxZoom:q,zoomActivationKeyCode:C,preventScrolling:K,noWheelClassName:$,noPanClassName:D,onViewportChange:G,isControlledViewport:Z,paneClickDistance:f,selectionOnDrag:re,children:u.jsxs(vA,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:s,onPaneScroll:c,panOnDrag:ie,isSelecting:!!de,selectionMode:m,selectionKeyPressed:V,paneClickDistance:f,selectionOnDrag:re,children:[e,O&&u.jsx(DA,{onSelectionContextMenu:A,noPanClassName:D,disableKeyboardA11y:U})]})})}Wb.displayName="FlowRenderer";const OA=T.memo(Wb),RA=e=>n=>e?tp(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(i=>i.id):Array.from(n.nodeLookup.keys());function zA(e){return Be(T.useCallback(RA(e),[e]),ot)}const LA=e=>e.updateNodeInternals;function IA(){const e=Be(LA),[n]=T.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const a=new Map;i.forEach(l=>{const s=l.target.getAttribute("data-id");a.set(s,{id:s,nodeElement:l.target,force:!0})}),e(a)}));return T.useEffect(()=>()=>{n?.disconnect()},[n]),n}function BA({node:e,nodeType:n,hasDimensions:i,resizeObserver:a}){const l=lt(),s=T.useRef(null),c=T.useRef(null),f=T.useRef(e.sourcePosition),h=T.useRef(e.targetPosition),p=T.useRef(n),g=i&&!!e.internals.handleBounds;return T.useEffect(()=>{s.current&&!e.hidden&&(!g||c.current!==s.current)&&(c.current&&a?.unobserve(c.current),a?.observe(s.current),c.current=s.current)},[g,e.hidden]),T.useEffect(()=>()=>{c.current&&(a?.unobserve(c.current),c.current=null)},[]),T.useEffect(()=>{if(s.current){const m=p.current!==n,v=f.current!==e.sourcePosition,b=h.current!==e.targetPosition;(m||v||b)&&(p.current=n,f.current=e.sourcePosition,h.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),s}function HA({id:e,onClick:n,onMouseEnter:i,onMouseMove:a,onMouseLeave:l,onContextMenu:s,onDoubleClick:c,nodesDraggable:f,elementsSelectable:h,nodesConnectable:p,nodesFocusable:g,resizeObserver:m,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:w,rfId:N,nodeTypes:C,nodeClickDistance:S,onError:k}){const{node:j,internals:_,isParent:P}=Be(oe=>{const fe=oe.nodeLookup.get(e),xe=oe.parentLookup.has(e);return{node:fe,internals:fe.internals,isParent:xe}},ot);let M=j.type||"default",H=C?.[M]||yv[M];H===void 0&&(k?.("003",Gn.error003(M)),M="default",H=C?.default||yv.default);const F=!!(j.draggable||f&&typeof j.draggable>"u"),X=!!(j.selectable||h&&typeof j.selectable>"u"),I=!!(j.connectable||p&&typeof j.connectable>"u"),L=!!(j.focusable||g&&typeof j.focusable>"u"),q=lt(),K=xb(j),A=BA({node:j,nodeType:M,hasDimensions:K,resizeObserver:m}),$=Qb({nodeRef:A,disabled:j.hidden||!F,noDragClassName:v,handleSelector:j.dragHandle,nodeId:e,isSelectable:X,nodeClickDistance:S}),D=Zb();if(j.hidden)return null;const U=wi(j),G=AA(j),Z=X||F||n||i||a||l,O=i?oe=>i(oe,{..._.userNode}):void 0,B=a?oe=>a(oe,{..._.userNode}):void 0,V=l?oe=>l(oe,{..._.userNode}):void 0,z=s?oe=>s(oe,{..._.userNode}):void 0,ie=c?oe=>c(oe,{..._.userNode}):void 0,te=oe=>{const{selectNodesOnDrag:fe,nodeDragThreshold:xe}=q.getState();X&&(!fe||!F||xe>0)&&Th({id:e,store:q,nodeRef:A}),n&&n(oe,{..._.userNode})},re=oe=>{if(!(wb(oe.nativeEvent)||w)){if(cb.includes(oe.key)&&X){const fe=oe.key==="Escape";Th({id:e,store:q,unselect:fe,nodeRef:A})}else if(F&&j.selected&&Object.prototype.hasOwnProperty.call(Hc,oe.key)){oe.preventDefault();const{ariaLabelConfig:fe}=q.getState();q.setState({ariaLiveMessage:fe["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),D({direction:Hc[oe.key],factor:oe.shiftKey?4:1})}}},de=()=>{if(w||!A.current?.matches(":focus-visible"))return;const{transform:oe,width:fe,height:xe,autoPanOnNodeFocus:je,setCenter:ve}=q.getState();if(!je)return;tp(new Map([[e,j]]),{x:0,y:0,width:fe,height:xe},oe,!0).length>0||ve(j.position.x+U.width/2,j.position.y+U.height/2,{zoom:oe[2]})};return u.jsx("div",{className:St(["react-flow__node",`react-flow__node-${M}`,{[b]:F},j.className,{selected:j.selected,selectable:X,parent:P,draggable:F,dragging:$}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:Z?"all":"none",visibility:K?"visible":"hidden",...j.style,...G},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:O,onMouseMove:B,onMouseLeave:V,onContextMenu:z,onClick:te,onDoubleClick:ie,onKeyDown:L?re:void 0,tabIndex:L?0:void 0,onFocus:L?de:void 0,role:j.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${$b}-${N}`,"aria-label":j.ariaLabel,...j.domAttributes,children:u.jsx(wA,{value:e,children:u.jsx(H,{id:e,data:j.data,type:M,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:j.selected??!1,selectable:X,draggable:F,deletable:j.deletable??!0,isConnectable:I,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:$,dragHandle:j.dragHandle,zIndex:_.z,parentId:j.parentId,...U})})})}var PA=T.memo(HA);const $A=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Kb(e){const{nodesDraggable:n,nodesConnectable:i,nodesFocusable:a,elementsSelectable:l,onError:s}=Be($A,ot),c=zA(e.onlyRenderVisibleElements),f=IA();return u.jsx("div",{className:"react-flow__nodes",style:au,children:c.map(h=>u.jsx(PA,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:n,nodesConnectable:i,nodesFocusable:a,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:s},h))})}Kb.displayName="NodeRenderer";const UA=T.memo(Kb);function qA(e){return Be(T.useCallback(i=>{if(!e)return i.edges.map(l=>l.id);const a=[];if(i.width&&i.height)for(const l of i.edges){const s=i.nodeLookup.get(l.source),c=i.nodeLookup.get(l.target);s&&c&&Uk({sourceNode:s,targetNode:c,width:i.width,height:i.height,transform:i.transform})&&a.push(l.id)}return a},[e]),ot)}const VA=({color:e="none",strokeWidth:n=1})=>{const i={strokeWidth:n,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},FA=({color:e="none",strokeWidth:n=1})=>{const i={strokeWidth:n,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},vv={[zc.Arrow]:VA,[zc.ArrowClosed]:FA};function GA(e){const n=lt();return T.useMemo(()=>Object.prototype.hasOwnProperty.call(vv,e)?vv[e]:(n.getState().onError?.("009",Gn.error009(e)),null),[e])}const YA=({id:e,type:n,color:i,width:a=12.5,height:l=12.5,markerUnits:s="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const h=GA(n);return h?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:f,refX:"0",refY:"0",children:u.jsx(h,{color:i,strokeWidth:c})}):null},Jb=({defaultColor:e,rfId:n})=>{const i=Be(s=>s.edges),a=Be(s=>s.defaultEdgeOptions),l=T.useMemo(()=>Qk(i,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[i,a,n,e]);return l.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:l.map(s=>u.jsx(YA,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Jb.displayName="MarkerDefinitions";var XA=T.memo(Jb);function ew({x:e,y:n,label:i,labelStyle:a,labelShowBg:l=!0,labelBgStyle:s,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:h,className:p,...g}){const[m,v]=T.useState({x:1,y:0,width:0,height:0}),b=St(["react-flow__edge-textwrapper",p]),w=T.useRef(null);return T.useEffect(()=>{if(w.current){const N=w.current.getBBox();v({x:N.x,y:N.y,width:N.width,height:N.height})}},[i]),i?u.jsxs("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:b,visibility:m.width?"visible":"hidden",...g,children:[l&&u.jsx("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:f,ry:f}),u.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:w,style:a,children:i}),h]}):null}ew.displayName="EdgeText";const QA=T.memo(ew);function Dl({path:e,labelX:n,labelY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,interactionWidth:p=20,...g}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...g,d:e,fill:"none",className:St(["react-flow__edge-path",g.className])}),p?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,a&&_n(n)&&_n(i)?u.jsx(QA,{x:n,y:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null]})}function bv({pos:e,x1:n,y1:i,x2:a,y2:l}){return e===ge.Left||e===ge.Right?[.5*(n+a),i]:[n,.5*(i+l)]}function tw({sourceX:e,sourceY:n,sourcePosition:i=ge.Bottom,targetX:a,targetY:l,targetPosition:s=ge.Top}){const[c,f]=bv({pos:i,x1:e,y1:n,x2:a,y2:l}),[h,p]=bv({pos:s,x1:a,y1:l,x2:e,y2:n}),[g,m,v,b]=Nb({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${e},${n} C${c},${f} ${h},${p} ${a},${l}`,g,m,v,b]}function nw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,sourcePosition:c,targetPosition:f,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:N,markerStart:C,interactionWidth:S})=>{const[k,j,_]=tw({sourceX:i,sourceY:a,sourcePosition:c,targetX:l,targetY:s,targetPosition:f}),P=e.isInternal?void 0:n;return u.jsx(Dl,{id:P,path:k,labelX:j,labelY:_,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:N,markerStart:C,interactionWidth:S})})}const ZA=nw({isInternal:!1}),iw=nw({isInternal:!0});ZA.displayName="SimpleBezierEdge";iw.displayName="SimpleBezierEdgeInternal";function rw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:v,sourcePosition:b=ge.Bottom,targetPosition:w=ge.Top,markerEnd:N,markerStart:C,pathOptions:S,interactionWidth:k})=>{const[j,_,P]=Bc({sourceX:i,sourceY:a,sourcePosition:b,targetX:l,targetY:s,targetPosition:w,borderRadius:S?.borderRadius,offset:S?.offset,stepPosition:S?.stepPosition}),M=e.isInternal?void 0:n;return u.jsx(Dl,{id:M,path:j,labelX:_,labelY:P,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:v,markerEnd:N,markerStart:C,interactionWidth:k})})}const aw=rw({isInternal:!1}),ow=rw({isInternal:!0});aw.displayName="SmoothStepEdge";ow.displayName="SmoothStepEdgeInternal";function lw(e){return T.memo(({id:n,...i})=>{const a=e.isInternal?void 0:n;return u.jsx(aw,{...i,id:a,pathOptions:T.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const WA=lw({isInternal:!1}),sw=lw({isInternal:!0});WA.displayName="StepEdge";sw.displayName="StepEdgeInternal";function cw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:v,markerEnd:b,markerStart:w,interactionWidth:N})=>{const[C,S,k]=kb({sourceX:i,sourceY:a,targetX:l,targetY:s}),j=e.isInternal?void 0:n;return u.jsx(Dl,{id:j,path:C,labelX:S,labelY:k,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:v,markerEnd:b,markerStart:w,interactionWidth:N})})}const KA=cw({isInternal:!1}),uw=cw({isInternal:!0});KA.displayName="StraightEdge";uw.displayName="StraightEdgeInternal";function dw(e){return T.memo(({id:n,sourceX:i,sourceY:a,targetX:l,targetY:s,sourcePosition:c=ge.Bottom,targetPosition:f=ge.Top,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:N,markerStart:C,pathOptions:S,interactionWidth:k})=>{const[j,_,P]=Eb({sourceX:i,sourceY:a,sourcePosition:c,targetX:l,targetY:s,targetPosition:f,curvature:S?.curvature}),M=e.isInternal?void 0:n;return u.jsx(Dl,{id:M,path:j,labelX:_,labelY:P,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:N,markerStart:C,interactionWidth:k})})}const JA=dw({isInternal:!1}),fw=dw({isInternal:!0});JA.displayName="BezierEdge";fw.displayName="BezierEdgeInternal";const wv={default:fw,straight:uw,step:sw,smoothstep:ow,simplebezier:iw},Sv={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},eM=(e,n,i)=>i===ge.Left?e-n:i===ge.Right?e+n:e,tM=(e,n,i)=>i===ge.Top?e-n:i===ge.Bottom?e+n:e,Nv="react-flow__edgeupdater";function Ev({position:e,centerX:n,centerY:i,radius:a=10,onMouseDown:l,onMouseEnter:s,onMouseOut:c,type:f}){return u.jsx("circle",{onMouseDown:l,onMouseEnter:s,onMouseOut:c,className:St([Nv,`${Nv}-${f}`]),cx:eM(n,a,e),cy:tM(i,a,e),r:a,stroke:"transparent",fill:"transparent"})}function nM({isReconnectable:e,reconnectRadius:n,edge:i,sourceX:a,sourceY:l,targetX:s,targetY:c,sourcePosition:f,targetPosition:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:m,setReconnecting:v,setUpdateHover:b}){const w=lt(),N=(_,P)=>{if(_.button!==0)return;const{autoPanOnConnect:M,domNode:H,isValidConnection:F,connectionMode:X,connectionRadius:I,lib:L,onConnectStart:q,onConnectEnd:K,cancelConnection:A,nodeLookup:$,rfId:D,panBy:U,updateConnection:G}=w.getState(),Z=P.type==="target",O=(z,ie)=>{v(!1),m?.(z,i,P.type,ie)},B=z=>p?.(i,z),V=(z,ie)=>{v(!0),g?.(_,i,P.type),q?.(z,ie)};Ch.onPointerDown(_.nativeEvent,{autoPanOnConnect:M,connectionMode:X,connectionRadius:I,domNode:H,handleId:P.id,nodeId:P.nodeId,nodeLookup:$,isTarget:Z,edgeUpdaterType:P.type,lib:L,flowId:D,cancelConnection:A,panBy:U,isValidConnection:F,onConnect:B,onConnectStart:V,onConnectEnd:K,onReconnectEnd:O,updateConnection:G,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},C=_=>N(_,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),S=_=>N(_,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),k=()=>b(!0),j=()=>b(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(Ev,{position:f,centerX:a,centerY:l,radius:n,onMouseDown:C,onMouseEnter:k,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&u.jsx(Ev,{position:h,centerX:s,centerY:c,radius:n,onMouseDown:S,onMouseEnter:k,onMouseOut:j,type:"target"})]})}function iM({id:e,edgesFocusable:n,edgesReconnectable:i,elementsSelectable:a,onClick:l,onDoubleClick:s,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,reconnectRadius:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:b,rfId:w,edgeTypes:N,noPanClassName:C,onError:S,disableKeyboardA11y:k}){let j=Be(ve=>ve.edgeLookup.get(e));const _=Be(ve=>ve.defaultEdgeOptions);j=_?{..._,...j}:j;let P=j.type||"default",M=N?.[P]||wv[P];M===void 0&&(S?.("011",Gn.error011(P)),P="default",M=N?.default||wv.default);const H=!!(j.focusable||n&&typeof j.focusable>"u"),F=typeof m<"u"&&(j.reconnectable||i&&typeof j.reconnectable>"u"),X=!!(j.selectable||a&&typeof j.selectable>"u"),I=T.useRef(null),[L,q]=T.useState(!1),[K,A]=T.useState(!1),$=lt(),{zIndex:D,sourceX:U,sourceY:G,targetX:Z,targetY:O,sourcePosition:B,targetPosition:V}=Be(T.useCallback(ve=>{const Ee=ve.nodeLookup.get(j.source),De=ve.nodeLookup.get(j.target);if(!Ee||!De)return{zIndex:j.zIndex,...Sv};const Ue=Xk({id:e,sourceNode:Ee,targetNode:De,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:ve.connectionMode,onError:S});return{zIndex:$k({selected:j.selected,zIndex:j.zIndex,sourceNode:Ee,targetNode:De,elevateOnSelect:ve.elevateEdgesOnSelect,zIndexMode:ve.zIndexMode}),...Ue||Sv}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),ot),z=T.useMemo(()=>j.markerStart?`url('#${Eh(j.markerStart,w)}')`:void 0,[j.markerStart,w]),ie=T.useMemo(()=>j.markerEnd?`url('#${Eh(j.markerEnd,w)}')`:void 0,[j.markerEnd,w]);if(j.hidden||U===null||G===null||Z===null||O===null)return null;const te=ve=>{const{addSelectedEdges:Ee,unselectNodesAndEdges:De,multiSelectionActive:Ue}=$.getState();X&&($.setState({nodesSelectionActive:!1}),j.selected&&Ue?(De({nodes:[],edges:[j]}),I.current?.blur()):Ee([e])),l&&l(ve,j)},re=s?ve=>{s(ve,{...j})}:void 0,de=c?ve=>{c(ve,{...j})}:void 0,oe=f?ve=>{f(ve,{...j})}:void 0,fe=h?ve=>{h(ve,{...j})}:void 0,xe=p?ve=>{p(ve,{...j})}:void 0,je=ve=>{if(!k&&cb.includes(ve.key)&&X){const{unselectNodesAndEdges:Ee,addSelectedEdges:De}=$.getState();ve.key==="Escape"?(I.current?.blur(),Ee({edges:[j]})):De([e])}};return u.jsx("svg",{style:{zIndex:D},children:u.jsxs("g",{className:St(["react-flow__edge",`react-flow__edge-${P}`,j.className,C,{selected:j.selected,animated:j.animated,inactive:!X&&!l,updating:L,selectable:X}]),onClick:te,onDoubleClick:re,onContextMenu:de,onMouseEnter:oe,onMouseMove:fe,onMouseLeave:xe,onKeyDown:H?je:void 0,tabIndex:H?0:void 0,role:j.ariaRole??(H?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":H?`${Ub}-${w}`:void 0,ref:I,...j.domAttributes,children:[!K&&u.jsx(M,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:X,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:U,sourceY:G,targetX:Z,targetY:O,sourcePosition:B,targetPosition:V,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:z,markerEnd:ie,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),F&&u.jsx(nM,{edge:j,isReconnectable:F,reconnectRadius:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:b,sourceX:U,sourceY:G,targetX:Z,targetY:O,sourcePosition:B,targetPosition:V,setUpdateHover:q,setReconnecting:A})]})})}var rM=T.memo(iM);const aM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function hw({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:i,edgeTypes:a,noPanClassName:l,onReconnect:s,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:p,onEdgeClick:g,reconnectRadius:m,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,disableKeyboardA11y:N}){const{edgesFocusable:C,edgesReconnectable:S,elementsSelectable:k,onError:j}=Be(aM,ot),_=qA(n);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(XA,{defaultColor:e,rfId:i}),_.map(P=>u.jsx(rM,{id:P,edgesFocusable:C,edgesReconnectable:S,elementsSelectable:k,noPanClassName:l,onReconnect:s,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onClick:g,reconnectRadius:m,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,rfId:i,onError:j,edgeTypes:a,disableKeyboardA11y:N},P))]})}hw.displayName="EdgeRenderer";const oM=T.memo(hw),lM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function sM({children:e}){const n=Be(lM);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function cM(e){const n=ru(),i=T.useRef(!1);T.useEffect(()=>{!i.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),i.current=!0)},[e,n.viewportInitialized])}const uM=e=>e.panZoom?.syncViewport;function dM(e){const n=Be(uM),i=lt();return T.useEffect(()=>{e&&(n?.(e),i.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function fM(e){return e.connection.inProgress?{...e.connection,to:Ml(e.connection.to,e.transform)}:{...e.connection}}function hM(e){return fM}function pM(e){const n=hM();return Be(n,ot)}const mM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function gM({containerStyle:e,style:n,type:i,component:a}){const{nodesConnectable:l,width:s,height:c,isValid:f,inProgress:h}=Be(mM,ot);return!(s&&l&&h)?null:u.jsx("svg",{style:e,width:s,height:c,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:St(["react-flow__connection",fb(f)]),children:u.jsx(pw,{style:n,type:i,CustomComponent:a,isValid:f})})})}const pw=({style:e,type:n=ir.Bezier,CustomComponent:i,isValid:a})=>{const{inProgress:l,from:s,fromNode:c,fromHandle:f,fromPosition:h,to:p,toNode:g,toHandle:m,toPosition:v,pointer:b}=pM();if(!l)return;if(i)return u.jsx(i,{connectionLineType:n,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:s.x,fromY:s.y,toX:p.x,toY:p.y,fromPosition:h,toPosition:v,connectionStatus:fb(a),toNode:g,toHandle:m,pointer:b});let w="";const N={sourceX:s.x,sourceY:s.y,sourcePosition:h,targetX:p.x,targetY:p.y,targetPosition:v};switch(n){case ir.Bezier:[w]=Eb(N);break;case ir.SimpleBezier:[w]=tw(N);break;case ir.Step:[w]=Bc({...N,borderRadius:0});break;case ir.SmoothStep:[w]=Bc(N);break;default:[w]=kb(N)}return u.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};pw.displayName="ConnectionLine";const yM={};function jv(e=yM){T.useRef(e),lt(),T.useEffect(()=>{},[e])}function xM(){lt(),T.useRef(!1),T.useEffect(()=>{},[])}function mw({nodeTypes:e,edgeTypes:n,onInit:i,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:s,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:m,onSelectionStart:v,onSelectionEnd:b,connectionLineType:w,connectionLineStyle:N,connectionLineComponent:C,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:j,selectionMode:_,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:H,deleteKeyCode:F,onlyRenderVisibleElements:X,elementsSelectable:I,defaultViewport:L,translateExtent:q,minZoom:K,maxZoom:A,preventScrolling:$,defaultMarkerColor:D,zoomOnScroll:U,zoomOnPinch:G,panOnScroll:Z,panOnScrollSpeed:O,panOnScrollMode:B,zoomOnDoubleClick:V,panOnDrag:z,onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:re,onPaneMouseLeave:de,onPaneScroll:oe,onPaneContextMenu:fe,paneClickDistance:xe,nodeClickDistance:je,onEdgeContextMenu:ve,onEdgeMouseEnter:Ee,onEdgeMouseMove:De,onEdgeMouseLeave:Ue,reconnectRadius:qe,onReconnect:ft,onReconnectStart:Jt,onReconnectEnd:_t,noDragClassName:$t,noWheelClassName:Nn,noPanClassName:Qn,disableKeyboardA11y:Zn,nodeExtent:Nt,rfId:Ei,viewport:le,onViewportChange:pe}){return jv(e),jv(n),xM(),cM(i),dM(le),u.jsx(OA,{onPaneClick:ie,onPaneMouseEnter:te,onPaneMouseMove:re,onPaneMouseLeave:de,onPaneContextMenu:fe,onPaneScroll:oe,paneClickDistance:xe,deleteKeyCode:F,selectionKeyCode:k,selectionOnDrag:j,selectionMode:_,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:H,elementsSelectable:I,zoomOnScroll:U,zoomOnPinch:G,zoomOnDoubleClick:V,panOnScroll:Z,panOnScrollSpeed:O,panOnScrollMode:B,panOnDrag:z,defaultViewport:L,translateExtent:q,minZoom:K,maxZoom:A,onSelectionContextMenu:m,preventScrolling:$,noDragClassName:$t,noWheelClassName:Nn,noPanClassName:Qn,disableKeyboardA11y:Zn,onViewportChange:pe,isControlledViewport:!!le,children:u.jsxs(sM,{children:[u.jsx(oM,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:ft,onReconnectStart:Jt,onReconnectEnd:_t,onlyRenderVisibleElements:X,onEdgeContextMenu:ve,onEdgeMouseEnter:Ee,onEdgeMouseMove:De,onEdgeMouseLeave:Ue,reconnectRadius:qe,defaultMarkerColor:D,noPanClassName:Qn,disableKeyboardA11y:Zn,rfId:Ei}),u.jsx(gM,{style:N,type:w,component:C,containerStyle:S}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(UA,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:s,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,nodeClickDistance:je,onlyRenderVisibleElements:X,noPanClassName:Qn,noDragClassName:$t,disableKeyboardA11y:Zn,nodeExtent:Nt,rfId:Ei}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}mw.displayName="GraphView";const vM=T.memo(mw),Cv=({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:h=.5,maxZoom:p=2,nodeOrigin:g,nodeExtent:m,zIndexMode:v="basic"}={})=>{const b=new Map,w=new Map,N=new Map,C=new Map,S=a??n??[],k=i??e??[],j=g??[0,0],_=m??gl;Mb(N,C,S);const P=jh(k,b,w,{nodeOrigin:j,nodeExtent:_,zIndexMode:v});let M=[0,0,1];if(c&&l&&s){const H=Tl(b,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:F,y:X,zoom:I}=np(H,l,s,h,p,f?.padding??.1);M=[F,X,I]}return{rfId:"1",width:l??0,height:s??0,transform:M,nodes:k,nodesInitialized:P,nodeLookup:b,parentLookup:w,edges:S,edgeLookup:C,connectionLookup:N,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:h,maxZoom:p,translateExtent:gl,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ua.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:j,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...db},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:zk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:ub,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},bM=({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:p,nodeOrigin:g,nodeExtent:m,zIndexMode:v})=>BT((b,w)=>{async function N(){const{nodeLookup:C,panZoom:S,fitViewOptions:k,fitViewResolver:j,width:_,height:P,minZoom:M,maxZoom:H}=w();S&&(await Ok({nodes:C,width:_,height:P,panZoom:S,minZoom:M,maxZoom:H},k),j?.resolve(!0),b({fitViewResolver:null}))}return{...Cv({nodes:e,edges:n,width:l,height:s,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:p,nodeOrigin:g,nodeExtent:m,defaultNodes:i,defaultEdges:a,zIndexMode:v}),setNodes:C=>{const{nodeLookup:S,parentLookup:k,nodeOrigin:j,elevateNodesOnSelect:_,fitViewQueued:P,zIndexMode:M}=w(),H=jh(C,S,k,{nodeOrigin:j,nodeExtent:m,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:M});P&&H?(N(),b({nodes:C,nodesInitialized:H,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:C,nodesInitialized:H})},setEdges:C=>{const{connectionLookup:S,edgeLookup:k}=w();Mb(S,k,C),b({edges:C})},setDefaultNodesAndEdges:(C,S)=>{if(C){const{setNodes:k}=w();k(C),b({hasDefaultNodes:!0})}if(S){const{setEdges:k}=w();k(S),b({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:S,nodeLookup:k,parentLookup:j,domNode:_,nodeOrigin:P,nodeExtent:M,debug:H,fitViewQueued:F,zIndexMode:X}=w(),{changes:I,updatedInternals:L}=nT(C,k,j,_,P,M,X);L&&(Kk(k,j,{nodeOrigin:P,nodeExtent:M,zIndexMode:X}),F?(N(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),I?.length>0&&(H&&console.log("React Flow: trigger node changes",I),S?.(I)))},updateNodePositions:(C,S=!1)=>{const k=[];let j=[];const{nodeLookup:_,triggerNodeChanges:P,connection:M,updateConnection:H,onNodesChangeMiddlewareMap:F}=w();for(const[X,I]of C){const L=_.get(X),q=!!(L?.expandParent&&L?.parentId&&I?.position),K={id:X,type:"position",position:q?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:S};if(L&&M.inProgress&&M.fromNode.id===L.id){const A=Br(L,M.fromHandle,ge.Left,!0);H({...M,from:A})}q&&L.parentId&&k.push({id:X,parentId:L.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),j.push(K)}if(k.length>0){const{parentLookup:X,nodeOrigin:I}=w(),L=sp(k,_,X,I);j.push(...L)}for(const X of F.values())j=X(j);P(j)},triggerNodeChanges:C=>{const{onNodesChange:S,setNodes:k,nodes:j,hasDefaultNodes:_,debug:P}=w();if(C?.length){if(_){const M=Fb(C,j);k(M)}P&&console.log("React Flow: trigger node changes",C),S?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:S,setEdges:k,edges:j,hasDefaultEdges:_,debug:P}=w();if(C?.length){if(_){const M=Gb(C,j);k(M)}P&&console.log("React Flow: trigger edge changes",C),S?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:S,edgeLookup:k,nodeLookup:j,triggerNodeChanges:_,triggerEdgeChanges:P}=w();if(S){const M=C.map(H=>Dr(H,!0));_(M);return}_(za(j,new Set([...C]),!0)),P(za(k))},addSelectedEdges:C=>{const{multiSelectionActive:S,edgeLookup:k,nodeLookup:j,triggerNodeChanges:_,triggerEdgeChanges:P}=w();if(S){const M=C.map(H=>Dr(H,!0));P(M);return}P(za(k,new Set([...C]))),_(za(j,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:S}={})=>{const{edges:k,nodes:j,nodeLookup:_,triggerNodeChanges:P,triggerEdgeChanges:M}=w(),H=C||j,F=S||k,X=H.map(L=>{const q=_.get(L.id);return q&&(q.selected=!1),Dr(L.id,!1)}),I=F.map(L=>Dr(L.id,!1));P(X),M(I)},setMinZoom:C=>{const{panZoom:S,maxZoom:k}=w();S?.setScaleExtent([C,k]),b({minZoom:C})},setMaxZoom:C=>{const{panZoom:S,minZoom:k}=w();S?.setScaleExtent([k,C]),b({maxZoom:C})},setTranslateExtent:C=>{w().panZoom?.setTranslateExtent(C),b({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:S,triggerNodeChanges:k,triggerEdgeChanges:j,elementsSelectable:_}=w();if(!_)return;const P=S.reduce((H,F)=>F.selected?[...H,Dr(F.id,!1)]:H,[]),M=C.reduce((H,F)=>F.selected?[...H,Dr(F.id,!1)]:H,[]);k(P),j(M)},setNodeExtent:C=>{const{nodes:S,nodeLookup:k,parentLookup:j,nodeOrigin:_,elevateNodesOnSelect:P,nodeExtent:M,zIndexMode:H}=w();C[0][0]===M[0][0]&&C[0][1]===M[0][1]&&C[1][0]===M[1][0]&&C[1][1]===M[1][1]||(jh(S,k,j,{nodeOrigin:_,nodeExtent:C,elevateNodesOnSelect:P,checkEquality:!1,zIndexMode:H}),b({nodeExtent:C}))},panBy:C=>{const{transform:S,width:k,height:j,panZoom:_,translateExtent:P}=w();return iT({delta:C,panZoom:_,transform:S,translateExtent:P,width:k,height:j})},setCenter:async(C,S,k)=>{const{width:j,height:_,maxZoom:P,panZoom:M}=w();if(!M)return Promise.resolve(!1);const H=typeof k?.zoom<"u"?k.zoom:P;return await M.setViewport({x:j/2-C*H,y:_/2-S*H,zoom:H},{duration:k?.duration,ease:k?.ease,interpolate:k?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...db}})},updateConnection:C=>{b({connection:C})},reset:()=>b({...Cv()})}},Object.is);function gw({initialNodes:e,initialEdges:n,defaultNodes:i,defaultEdges:a,initialWidth:l,initialHeight:s,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:h,fitView:p,nodeOrigin:g,nodeExtent:m,zIndexMode:v,children:b}){const[w]=T.useState(()=>bM({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:p,minZoom:c,maxZoom:f,fitViewOptions:h,nodeOrigin:g,nodeExtent:m,zIndexMode:v}));return u.jsx(HT,{value:w,children:u.jsx(sA,{children:b})})}function wM({children:e,nodes:n,edges:i,defaultNodes:a,defaultEdges:l,width:s,height:c,fitView:f,fitViewOptions:h,minZoom:p,maxZoom:g,nodeOrigin:m,nodeExtent:v,zIndexMode:b}){return T.useContext(nu)?u.jsx(u.Fragment,{children:e}):u.jsx(gw,{initialNodes:n,initialEdges:i,defaultNodes:a,defaultEdges:l,initialWidth:s,initialHeight:c,fitView:f,initialFitViewOptions:h,initialMinZoom:p,initialMaxZoom:g,nodeOrigin:m,nodeExtent:v,zIndexMode:b,children:e})}const SM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function NM({nodes:e,edges:n,defaultNodes:i,defaultEdges:a,className:l,nodeTypes:s,edgeTypes:c,onNodeClick:f,onEdgeClick:h,onInit:p,onMove:g,onMoveStart:m,onMoveEnd:v,onConnect:b,onConnectStart:w,onConnectEnd:N,onClickConnectStart:C,onClickConnectEnd:S,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:_,onNodeContextMenu:P,onNodeDoubleClick:M,onNodeDragStart:H,onNodeDrag:F,onNodeDragStop:X,onNodesDelete:I,onEdgesDelete:L,onDelete:q,onSelectionChange:K,onSelectionDragStart:A,onSelectionDrag:$,onSelectionDragStop:D,onSelectionContextMenu:U,onSelectionStart:G,onSelectionEnd:Z,onBeforeDelete:O,connectionMode:B,connectionLineType:V=ir.Bezier,connectionLineStyle:z,connectionLineComponent:ie,connectionLineContainerStyle:te,deleteKeyCode:re="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:oe=!1,selectionMode:fe=yl.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:je=vl()?"Meta":"Control",zoomActivationKeyCode:ve=vl()?"Meta":"Control",snapToGrid:Ee,snapGrid:De,onlyRenderVisibleElements:Ue=!1,selectNodesOnDrag:qe,nodesDraggable:ft,autoPanOnNodeFocus:Jt,nodesConnectable:_t,nodesFocusable:$t,nodeOrigin:Nn=qb,edgesFocusable:Qn,edgesReconnectable:Zn,elementsSelectable:Nt=!0,defaultViewport:Ei=KT,minZoom:le=.5,maxZoom:pe=2,translateExtent:Se=gl,preventScrolling:_e=!0,nodeExtent:Pe,defaultMarkerColor:Bt="#b1b1b7",zoomOnScroll:En=!0,zoomOnPinch:kt=!0,panOnScroll:ht=!1,panOnScrollSpeed:Ot=.5,panOnScrollMode:Qe=Rr.Free,zoomOnDoubleClick:In=!0,panOnDrag:en=!0,onPaneClick:pu,onPaneMouseEnter:qr,onPaneMouseMove:Vr,onPaneMouseLeave:Fr,onPaneScroll:Wn,onPaneContextMenu:Gr,paneClickDistance:sr=1,nodeClickDistance:mu=0,children:Ll,onReconnect:Wa,onReconnectStart:cr,onReconnectEnd:gu,onEdgeContextMenu:Il,onEdgeDoubleClick:Bl,onEdgeMouseEnter:Hl,onEdgeMouseMove:Ka,onEdgeMouseLeave:Ja,reconnectRadius:Pl=10,onNodesChange:$l,onEdgesChange:Bn,noDragClassName:Et="nodrag",noWheelClassName:Rt="nowheel",noPanClassName:Kn="nopan",fitView:Yr,fitViewOptions:Ul,connectOnClick:yu,attributionPosition:ql,proOptions:ur,defaultEdgeOptions:eo,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Ci=!1,disableKeyboardA11y:ki=!1,autoPanOnConnect:Ti,autoPanOnNodeDrag:gt,autoPanSpeed:Vl,connectionRadius:Fl,isValidConnection:Jn,onError:Ai,style:xu,id:to,nodeDragThreshold:Gl,connectionDragThreshold:vu,viewport:Xr,onViewportChange:Qr,width:jn,height:Ut,colorMode:Yl="light",debug:bu,onScroll:Zr,ariaLabelConfig:Xl,zIndexMode:dr="basic",...wu},qt){const fr=to||"1",Ql=nA(Yl),no=T.useCallback(ei=>{ei.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Zr?.(ei)},[Zr]);return u.jsx("div",{"data-testid":"rf__wrapper",...wu,onScroll:no,style:{...xu,...SM},ref:qt,className:St(["react-flow",l,Ql]),id:to,role:"application",children:u.jsxs(wM,{nodes:e,edges:n,width:jn,height:Ut,fitView:Yr,fitViewOptions:Ul,minZoom:le,maxZoom:pe,nodeOrigin:Nn,nodeExtent:Pe,zIndexMode:dr,children:[u.jsx(vM,{onInit:p,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:_,onNodeContextMenu:P,onNodeDoubleClick:M,nodeTypes:s,edgeTypes:c,connectionLineType:V,connectionLineStyle:z,connectionLineComponent:ie,connectionLineContainerStyle:te,selectionKeyCode:de,selectionOnDrag:oe,selectionMode:fe,deleteKeyCode:re,multiSelectionKeyCode:je,panActivationKeyCode:xe,zoomActivationKeyCode:ve,onlyRenderVisibleElements:Ue,defaultViewport:Ei,translateExtent:Se,minZoom:le,maxZoom:pe,preventScrolling:_e,zoomOnScroll:En,zoomOnPinch:kt,zoomOnDoubleClick:In,panOnScroll:ht,panOnScrollSpeed:Ot,panOnScrollMode:Qe,panOnDrag:en,onPaneClick:pu,onPaneMouseEnter:qr,onPaneMouseMove:Vr,onPaneMouseLeave:Fr,onPaneScroll:Wn,onPaneContextMenu:Gr,paneClickDistance:sr,nodeClickDistance:mu,onSelectionContextMenu:U,onSelectionStart:G,onSelectionEnd:Z,onReconnect:Wa,onReconnectStart:cr,onReconnectEnd:gu,onEdgeContextMenu:Il,onEdgeDoubleClick:Bl,onEdgeMouseEnter:Hl,onEdgeMouseMove:Ka,onEdgeMouseLeave:Ja,reconnectRadius:Pl,defaultMarkerColor:Bt,noDragClassName:Et,noWheelClassName:Rt,noPanClassName:Kn,rfId:fr,disableKeyboardA11y:ki,nodeExtent:Pe,viewport:Xr,onViewportChange:Qr}),u.jsx(tA,{nodes:e,edges:n,defaultNodes:i,defaultEdges:a,onConnect:b,onConnectStart:w,onConnectEnd:N,onClickConnectStart:C,onClickConnectEnd:S,nodesDraggable:ft,autoPanOnNodeFocus:Jt,nodesConnectable:_t,nodesFocusable:$t,edgesFocusable:Qn,edgesReconnectable:Zn,elementsSelectable:Nt,elevateNodesOnSelect:ji,elevateEdgesOnSelect:Ci,minZoom:le,maxZoom:pe,nodeExtent:Pe,onNodesChange:$l,onEdgesChange:Bn,snapToGrid:Ee,snapGrid:De,connectionMode:B,translateExtent:Se,connectOnClick:yu,defaultEdgeOptions:eo,fitView:Yr,fitViewOptions:Ul,onNodesDelete:I,onEdgesDelete:L,onDelete:q,onNodeDragStart:H,onNodeDrag:F,onNodeDragStop:X,onSelectionDrag:$,onSelectionDragStart:A,onSelectionDragStop:D,onMove:g,onMoveStart:m,onMoveEnd:v,noPanClassName:Kn,nodeOrigin:Nn,rfId:fr,autoPanOnConnect:Ti,autoPanOnNodeDrag:gt,autoPanSpeed:Vl,onError:Ai,connectionRadius:Fl,isValidConnection:Jn,selectNodesOnDrag:qe,nodeDragThreshold:Gl,connectionDragThreshold:vu,onBeforeDelete:O,debug:bu,ariaLabelConfig:Xl,zIndexMode:dr}),u.jsx(WT,{onSelectionChange:K}),Ll,u.jsx(GT,{proOptions:ur,position:ql}),u.jsx(FT,{rfId:fr,disableKeyboardA11y:ki})]})})}var EM=Yb(NM);const jM=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function CM({children:e}){const n=Be(jM);return n?kh.createPortal(e,n):null}function yw(){const e=lt();return T.useCallback(n=>{const{domNode:i,updateNodeInternals:a}=e.getState(),l=Array.isArray(n)?n:[n],s=new Map;l.forEach(c=>{const f=i?.querySelector(`.react-flow__node[data-id="${c}"]`);f&&s.set(c,{id:c,nodeElement:f,force:!0})}),requestAnimationFrame(()=>a(s,{triggerFitView:!1}))},[])}const kM=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function TM(){return Be(kM,ot)}function AM({dimensions:e,lineWidth:n,variant:i,className:a}){return u.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:St(["react-flow__background-pattern",i,a])})}function MM({radius:e,className:n}){return u.jsx("circle",{cx:e,cy:e,r:e,className:St(["react-flow__background-pattern","dots",n])})}var ar;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ar||(ar={}));const DM={[ar.Dots]:1,[ar.Lines]:1,[ar.Cross]:6},_M=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xw({id:e,variant:n=ar.Dots,gap:i=20,size:a,lineWidth:l=1,offset:s=0,color:c,bgColor:f,style:h,className:p,patternClassName:g}){const m=T.useRef(null),{transform:v,patternId:b}=Be(_M,ot),w=a||DM[n],N=n===ar.Dots,C=n===ar.Cross,S=Array.isArray(i)?i:[i,i],k=[S[0]*v[2]||1,S[1]*v[2]||1],j=w*v[2],_=Array.isArray(s)?s:[s,s],P=C?[j,j]:k,M=[_[0]*v[2]||1+P[0]/2,_[1]*v[2]||1+P[1]/2],H=`${b}${e||""}`;return u.jsxs("svg",{className:St(["react-flow__background",p]),style:{...h,...au,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[u.jsx("pattern",{id:H,x:v[0]%k[0],y:v[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:N?u.jsx(MM,{radius:j/2,className:g}):u.jsx(AM,{dimensions:P,lineWidth:l,variant:n,className:g})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${H})`})]})}xw.displayName="Background";const OM=T.memo(xw);function RM(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zM(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function LM(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function IM(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function BM(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hc({children:e,className:n,...i}){return u.jsx("button",{type:"button",className:St(["react-flow__controls-button",n]),...i,children:e})}const HM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function vw({style:e,showZoom:n=!0,showFitView:i=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:s,onZoomOut:c,onFitView:f,onInteractiveChange:h,className:p,children:g,position:m="bottom-left",orientation:v="vertical","aria-label":b}){const w=lt(),{isInteractive:N,minZoomReached:C,maxZoomReached:S,ariaLabelConfig:k}=Be(HM,ot),{zoomIn:j,zoomOut:_,fitView:P}=ru(),M=()=>{j(),s?.()},H=()=>{_(),c?.()},F=()=>{P(l),f?.()},X=()=>{w.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),h?.(!N)},I=v==="horizontal"?"horizontal":"vertical";return u.jsxs(iu,{className:St(["react-flow__controls",I,p]),position:m,style:e,"data-testid":"rf__controls","aria-label":b??k["controls.ariaLabel"],children:[n&&u.jsxs(u.Fragment,{children:[u.jsx(hc,{onClick:M,className:"react-flow__controls-zoomin",title:k["controls.zoomIn.ariaLabel"],"aria-label":k["controls.zoomIn.ariaLabel"],disabled:S,children:u.jsx(RM,{})}),u.jsx(hc,{onClick:H,className:"react-flow__controls-zoomout",title:k["controls.zoomOut.ariaLabel"],"aria-label":k["controls.zoomOut.ariaLabel"],disabled:C,children:u.jsx(zM,{})})]}),i&&u.jsx(hc,{className:"react-flow__controls-fitview",onClick:F,title:k["controls.fitView.ariaLabel"],"aria-label":k["controls.fitView.ariaLabel"],children:u.jsx(LM,{})}),a&&u.jsx(hc,{className:"react-flow__controls-interactive",onClick:X,title:k["controls.interactive.ariaLabel"],"aria-label":k["controls.interactive.ariaLabel"],children:N?u.jsx(BM,{}):u.jsx(IM,{})}),g]})}vw.displayName="Controls";T.memo(vw);function PM({id:e,x:n,y:i,width:a,height:l,style:s,color:c,strokeColor:f,strokeWidth:h,className:p,borderRadius:g,shapeRendering:m,selected:v,onClick:b}){const{background:w,backgroundColor:N}=s||{},C=c||w||N;return u.jsx("rect",{className:St(["react-flow__minimap-node",{selected:v},p]),x:n,y:i,rx:g,ry:g,width:a,height:l,style:{fill:C,stroke:f,strokeWidth:h},shapeRendering:m,onClick:b?S=>b(S,e):void 0})}const $M=T.memo(PM),UM=e=>e.nodes.map(n=>n.id),Ff=e=>e instanceof Function?e:()=>e;function qM({nodeStrokeColor:e,nodeColor:n,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:s=$M,onClick:c}){const f=Be(UM,ot),h=Ff(n),p=Ff(e),g=Ff(i),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:f.map(v=>u.jsx(FM,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:p,nodeClassNameFunc:g,nodeBorderRadius:a,nodeStrokeWidth:l,NodeComponent:s,onClick:c,shapeRendering:m},v))})}function VM({id:e,nodeColorFunc:n,nodeStrokeColorFunc:i,nodeClassNameFunc:a,nodeBorderRadius:l,nodeStrokeWidth:s,shapeRendering:c,NodeComponent:f,onClick:h}){const{node:p,x:g,y:m,width:v,height:b}=Be(w=>{const{internals:N}=w.nodeLookup.get(e),C=N.userNode,{x:S,y:k}=N.positionAbsolute,{width:j,height:_}=wi(C);return{node:C,x:S,y:k,width:j,height:_}},ot);return!p||p.hidden||!xb(p)?null:u.jsx(f,{x:g,y:m,width:v,height:b,style:p.style,selected:!!p.selected,className:a(p),color:n(p),borderRadius:l,strokeColor:i(p),strokeWidth:s,shapeRendering:c,onClick:h,id:p.id})}const FM=T.memo(VM);var GM=T.memo(qM);const YM=200,XM=150,QM=e=>!e.hidden,ZM=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?yb(Tl(e.nodeLookup,{filter:QM}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},WM="react-flow__minimap-desc";function bw({style:e,className:n,nodeStrokeColor:i,nodeColor:a,nodeClassName:l="",nodeBorderRadius:s=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:h,maskColor:p,maskStrokeColor:g,maskStrokeWidth:m,position:v="bottom-right",onClick:b,onNodeClick:w,pannable:N=!1,zoomable:C=!1,ariaLabel:S,inversePan:k,zoomStep:j=1,offsetScale:_=5}){const P=lt(),M=T.useRef(null),{boundingRect:H,viewBB:F,rfId:X,panZoom:I,translateExtent:L,flowWidth:q,flowHeight:K,ariaLabelConfig:A}=Be(ZM,ot),$=e?.width??YM,D=e?.height??XM,U=H.width/$,G=H.height/D,Z=Math.max(U,G),O=Z*$,B=Z*D,V=_*Z,z=H.x-(O-H.width)/2-V,ie=H.y-(B-H.height)/2-V,te=O+V*2,re=B+V*2,de=`${WM}-${X}`,oe=T.useRef(0),fe=T.useRef();oe.current=Z,T.useEffect(()=>{if(M.current&&I)return fe.current=fT({domNode:M.current,panZoom:I,getTransform:()=>P.getState().transform,getViewScale:()=>oe.current}),()=>{fe.current?.destroy()}},[I]),T.useEffect(()=>{fe.current?.update({translateExtent:L,width:q,height:K,inversePan:k,pannable:N,zoomStep:j,zoomable:C})},[N,C,k,j,L,q,K]);const xe=b?Ee=>{const[De,Ue]=fe.current?.pointer(Ee)||[0,0];b(Ee,{x:De,y:Ue})}:void 0,je=w?T.useCallback((Ee,De)=>{const Ue=P.getState().nodeLookup.get(De).internals.userNode;w(Ee,Ue)},[]):void 0,ve=S??A["minimap.ariaLabel"];return u.jsx(iu,{position:v,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*Z:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:St(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:$,height:D,viewBox:`${z} ${ie} ${te} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:M,onClick:xe,children:[ve&&u.jsx("title",{id:de,children:ve}),u.jsx(GM,{onClick:je,nodeColor:a,nodeStrokeColor:i,nodeBorderRadius:s,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-V},${ie-V}h${te+V*2}v${re+V*2}h${-te-V*2}z
        M${F.x},${F.y}h${F.width}v${F.height}h${-F.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}bw.displayName="MiniMap";const KM=T.memo(bw),JM=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,e2={[Ga.Line]:"right",[Ga.Handle]:"bottom-right"};function t2({nodeId:e,position:n,variant:i=Ga.Handle,className:a,style:l=void 0,children:s,color:c,minWidth:f=10,minHeight:h=10,maxWidth:p=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:v,autoScale:b=!0,shouldResize:w,onResizeStart:N,onResize:C,onResizeEnd:S}){const k=$r(),j=typeof e=="string"?e:k,_=lt(),P=T.useRef(null),M=i===Ga.Handle,H=Be(T.useCallback(JM(M&&b),[M,b]),ot),F=T.useRef(null),X=n??e2[i];T.useEffect(()=>{if(!(!P.current||!j))return F.current||(F.current=CT({domNode:P.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:L,transform:q,snapGrid:K,snapToGrid:A,nodeOrigin:$,domNode:D}=_.getState();return{nodeLookup:L,transform:q,snapGrid:K,snapToGrid:A,nodeOrigin:$,paneDomNode:D}},onChange:(L,q)=>{const{triggerNodeChanges:K,nodeLookup:A,parentLookup:$,nodeOrigin:D}=_.getState(),U=[],G={x:L.x,y:L.y},Z=A.get(j);if(Z&&Z.expandParent&&Z.parentId){const O=Z.origin??D,B=L.width??Z.measured.width??0,V=L.height??Z.measured.height??0,z={id:Z.id,parentId:Z.parentId,rect:{width:B,height:V,...vb({x:L.x??Z.position.x,y:L.y??Z.position.y},{width:B,height:V},Z.parentId,A,O)}},ie=sp([z],A,$,D);U.push(...ie),G.x=L.x?Math.max(O[0]*B,L.x):void 0,G.y=L.y?Math.max(O[1]*V,L.y):void 0}if(G.x!==void 0&&G.y!==void 0){const O={id:j,type:"position",position:{...G}};U.push(O)}if(L.width!==void 0&&L.height!==void 0){const B={id:j,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};U.push(B)}for(const O of q){const B={...O,type:"position"};U.push(B)}K(U)},onEnd:({width:L,height:q})=>{const K={id:j,type:"dimensions",resizing:!1,dimensions:{width:L,height:q}};_.getState().triggerNodeChanges([K])}})),F.current.update({controlPosition:X,boundaries:{minWidth:f,minHeight:h,maxWidth:p,maxHeight:g},keepAspectRatio:m,resizeDirection:v,onResizeStart:N,onResize:C,onResizeEnd:S,shouldResize:w}),()=>{F.current?.destroy()}},[X,f,h,p,g,m,N,C,S,w]);const I=X.split("-");return u.jsx("div",{className:St(["react-flow__resize-control","nodrag",...I,i,a]),ref:P,style:{...l,scale:H,...c&&{[M?"backgroundColor":"borderColor"]:c}},children:s})}T.memo(t2);const kv=e=>{let n;const i=new Set,a=(p,g)=>{const m=typeof p=="function"?p(n):p;if(!Object.is(m,n)){const v=n;n=g??(typeof m!="object"||m===null)?m:Object.assign({},n,m),i.forEach(b=>b(n,v))}},l=()=>n,f={setState:a,getState:l,getInitialState:()=>h,subscribe:p=>(i.add(p),()=>i.delete(p))},h=n=e(a,l,f);return f},n2=(e=>e?kv(e):kv),i2=e=>e;function r2(e,n=i2){const i=Dn.useSyncExternalStore(e.subscribe,Dn.useCallback(()=>n(e.getState()),[e,n]),Dn.useCallback(()=>n(e.getInitialState()),[e,n]));return Dn.useDebugValue(i),i}const Tv=e=>{const n=n2(e),i=a=>r2(n,a);return Object.assign(i,n),i},ou=(e=>e?Tv(e):Tv),Ce=ou((e,n)=>({workflowId:null,workflowName:"Untitled Workflow",nodes:[],edges:[],selectedNodeId:null,configOpen:!1,setNodes:i=>e({nodes:i}),setEdges:i=>e({edges:i}),onNodesChange:i=>{e({nodes:Fb(i,n().nodes)})},onEdgesChange:i=>{e({edges:Gb(i,n().edges)})},onConnect:i=>{const a={...i,type:"animated"};e({edges:Cb(a,n().edges)})},addNode:i=>{e({nodes:[...n().nodes,i]})},updateNode:(i,a)=>{e({nodes:n().nodes.map(l=>l.id===i?{...l,data:{...l.data,...a}}:l)})},deleteNode:i=>{e({nodes:n().nodes.filter(a=>a.id!==i),edges:n().edges.filter(a=>a.source!==i&&a.target!==i)})},setSelectedNode:i=>e({selectedNodeId:i}),setConfigOpen:i=>e({configOpen:i}),openConfig:i=>e({selectedNodeId:i,configOpen:!0}),closeConfig:()=>e({configOpen:!1}),clearWorkflow:()=>e({nodes:[],edges:[],selectedNodeId:null,configOpen:!1}),setWorkflowName:i=>e({workflowName:i}),getWorkflowData:()=>({id:n().workflowId,name:n().workflowName,nodes:n().nodes,edges:n().edges}),loadWorkflow:i=>{e({workflowId:i.id||Date.now().toString(),workflowName:i.name||"Untitled Workflow",nodes:i.nodes||[],edges:i.edges||[],selectedNodeId:null})}})),Xe=ou((e,n)=>({isRunning:!1,isPaused:!1,isDebugMode:!1,currentNodeId:null,activeSupportingNodeIds:[],executionPath:[],logs:[],nodeResults:{},edgeSnapshots:{},artifacts:[],startTime:null,endTime:null,startExecution:()=>{e({isRunning:!0,isPaused:!1,startTime:Date.now(),endTime:null,logs:[],nodeResults:{},executionPath:[],currentNodeId:null,activeSupportingNodeIds:[]})},stopExecution:()=>{e({isRunning:!1,isPaused:!1,endTime:Date.now(),currentNodeId:null,activeSupportingNodeIds:[]})},setCurrentNode:i=>{const a=n().executionPath;e({currentNodeId:i,executionPath:i?[...a,i]:a,activeSupportingNodeIds:[]})},setActiveSupportingNodes:i=>{e({activeSupportingNodeIds:i||[]})},setNodeResult:(i,a)=>{e({nodeResults:{...n().nodeResults,[i]:a}})},addEdgeSnapshot:(i,a)=>{const l=n().edgeSnapshots,s=l[i]||[],c={timestamp:Date.now(),data:a,preview:JSON.stringify(a,null,2).slice(0,500)},f=[...s,c].slice(-5);e({edgeSnapshots:{...l,[i]:f}})},getEdgeSnapshots:i=>n().edgeSnapshots[i]||[],getLastEdgeSnapshot:i=>{const a=n().edgeSnapshots[i];return a?.[a.length-1]||null},clearEdgeSnapshots:()=>e({edgeSnapshots:{}}),addLog:i=>{const a={id:Date.now().toString()+Math.random().toString(36).slice(2,9),timestamp:new Date().toISOString(),...i};e({logs:[...n().logs,a]})},addArtifact:i=>{e({artifacts:[...n().artifacts,i]})},clearLogs:()=>e({logs:[]}),setDebugMode:i=>e({isDebugMode:i}),getExecutionDuration:()=>{const{startTime:i,endTime:a,isRunning:l}=n();return i?(l?Date.now():a||Date.now())-i:0},reset:()=>{e({isRunning:!1,isPaused:!1,isDebugMode:!1,currentNodeId:null,executionPath:[],logs:[],nodeResults:{},edgeSnapshots:{},artifacts:[],startTime:null,endTime:null})}})),Ya=ou((e,n)=>({toasts:[],addToast:(i,a="info",l=3e3)=>{const s=Date.now().toString()+Math.random().toString(36).slice(2,6),c={id:s,message:i,type:a,duration:l};return e({toasts:[...n().toasts,c]}),l>0&&setTimeout(()=>{n().removeToast(s)},l),s},removeToast:i=>{e({toasts:n().toasts.filter(a=>a.id!==i)})},success:(i,a)=>n().addToast(i,"success",a),error:(i,a)=>n().addToast(i,"error",a??5e3),warning:(i,a)=>n().addToast(i,"warning",a),info:(i,a)=>n().addToast(i,"info",a)})),Hr={trigger:{name:"Triggers",color:"#00c853",description:"Start a workflow execution"},action:{name:"Actions",color:"#2979ff",description:"Perform operations on data"},logic:{name:"Logic",color:"#ffab00",description:"Control workflow flow"},ai:{name:"AI",color:"#e040fb",description:"AI-powered operations"},aiTool:{name:"AI Tools",color:"#f59e0b",description:"Tools callable by AI Agents"}},Si={manualTrigger:{type:"manualTrigger",category:"trigger",name:"Manual Trigger",description:"Manually start the workflow",icon:"",inputs:0,outputs:1,defaultData:{label:"Manual Trigger"}},scheduleTrigger:{type:"scheduleTrigger",category:"trigger",name:"Schedule Trigger",description:"Run on a schedule (cron-like)",icon:"",inputs:1,outputs:1,defaultData:{label:"Schedule",schedule:"*/5 * * * *",enabled:!1}},webhookTrigger:{type:"webhookTrigger",category:"trigger",name:"Webhook Trigger",description:"Receive external HTTP triggers",icon:"",inputs:0,outputs:1,defaultData:{label:"Webhook",method:"POST",endpoint:"/webhook/default",authRequired:!1}},errorTrigger:{type:"errorTrigger",category:"trigger",name:"Error Trigger",description:"Trigger when any node fails",icon:"",inputs:0,outputs:1,defaultData:{label:"On Error",watchAll:!0,specificNodes:[],retryEnabled:!1,retryCount:3}},browserEventTrigger:{type:"browserEventTrigger",category:"trigger",name:"Browser Event",description:"Trigger on browser events",icon:"",inputs:0,outputs:1,defaultData:{label:"Browser Event",eventType:"focus",selector:"",urlPattern:"",interval:1e3}},output:{type:"output",category:"trigger",name:"Output",description:"Workflow output - displays or saves result",icon:"",inputs:1,outputs:0,defaultData:{label:"Output",outputType:"console",filename:"output.txt",formatJson:!1}},codeExecutor:{type:"codeExecutor",category:"action",name:"Code",description:"Execute JavaScript code",icon:"",inputs:1,outputs:1,defaultData:{label:"Code",code:"// Access input data via `input`\n// Return output data\nreturn input;"}},setVariable:{type:"setVariable",category:"action",name:"Set Variable",description:"Set or transform data",icon:"",inputs:1,outputs:1,defaultData:{label:"Set Variable",variableName:"data",value:"",mode:"set"}},httpRequest:{type:"httpRequest",category:"aiTool",name:"HTTP Request",description:"Make HTTP requests to APIs",icon:"",inputs:0,outputs:0,isProvider:!0,defaultData:{label:"HTTP Request",method:"GET",url:"",headers:{},body:"",timeout:3e4,description:"Perform HTTP request. Args: { url, method, body }"}},fileSystem:{type:"fileSystem",category:"aiTool",name:"File System",description:"Read/write local files (FSA API)",icon:"",inputs:0,outputs:0,isProvider:!0,defaultData:{label:"File",mode:"read",filename:"",fileTypes:[],description:"Read or write files. Args: { filename, content, mode }"}},localStorage:{type:"localStorage",category:"action",name:"Local Storage",description:"Read/write to IndexedDB or LocalStorage",icon:"",inputs:1,outputs:1,defaultData:{label:"Storage",mode:"get",storageType:"indexedDB",key:""}},ifElse:{type:"ifElse",category:"logic",name:"If/Else",description:"Branch based on conditions",icon:"",inputs:1,outputs:2,defaultData:{label:"If/Else",condition:"",operator:"equals",compareValue:""}},loop:{type:"loop",category:"logic",name:"Loop",description:"Iterate over array items or repeat N times",icon:"",inputs:1,outputs:2,defaultData:{label:"Loop",iterations:1,itemsPath:"items",maxIterations:100}},switchNode:{type:"switchNode",category:"logic",name:"Switch",description:"Route to different outputs",icon:"",inputs:1,outputs:4,defaultData:{label:"Switch",field:"",routes:[{value:"",outputIndex:0},{value:"",outputIndex:1}],defaultOutput:3}},merge:{type:"merge",category:"logic",name:"Merge",description:"Combine multiple inputs (wait for all or first)",icon:"",inputs:2,outputs:1,defaultData:{label:"Merge",mode:"wait",inputCount:2,aggregator:"array"}},semanticRouter:{type:"semanticRouter",category:"ai",name:"Semantic Router",description:"Route input to outputs based on semantic classification",icon:"",inputs:1,outputs:4,defaultData:{label:"Router",classificationMode:"keyword",routes:[{id:"route-0",label:"General",keywords:["general","other"]},{id:"route-1",label:"Technical",keywords:["code","programming","bug"]},{id:"route-2",label:"Creative",keywords:["story","write","creative"]}]}},evaluator:{type:"evaluator",category:"ai",name:"Evaluator",description:"Validate output against schema for self-correction loops",icon:"",inputs:1,outputs:2,defaultData:{label:"Evaluator",evaluationType:"schema",maxRetries:3,schema:null,regexPattern:""}},groupNode:{type:"groupNode",category:"logic",name:"Group",description:"Collapsible container for grouping nodes",icon:"",inputs:1,outputs:1,defaultData:{label:"Node Group",collapsed:!1,childNodeIds:[],width:300,height:200,color:"#6366f1"}},chatModel:{type:"chatModel",category:"ai",name:"Chat Model",description:"AI model provider for agents",icon:"",inputs:0,outputs:0,isProvider:!0,defaultData:{label:"Chat Model",provider:"webllm",modelId:"gemma-2-2b-it-q4f16_1-MLC",modelName:"Gemma 2 2B",temperature:.7,maxTokens:2e3}},aiAgent:{type:"aiAgent",category:"ai",name:"AI Agent",description:"WebLLM-powered AI agent with ReAct",icon:"",inputs:1,outputs:1,defaultData:{label:"AI Agent",systemPrompt:"",modelId:"gemma-2-2b-it-q4f16_1-MLC",temperature:.7,maxTokens:2e3,tools:[]}},vectorMemory:{type:"vectorMemory",category:"ai",name:"Vector Memory",description:"Store and query local vector memory",icon:"",inputs:1,outputs:1,isProvider:!0,defaultData:{label:"Memory",mode:"query",namespace:"default",topK:5,minScore:.3}},waitForApproval:{type:"waitForApproval",category:"ai",name:"Wait for Approval",description:"Pause workflow for human approval",icon:"",inputs:1,outputs:2,defaultData:{label:"Approval",title:"Approval Required",message:"",timeout:0,notifyBrowser:!0}},subWorkflow:{type:"subWorkflow",category:"ai",name:"Sub-Workflow",description:"Execute another workflow as subroutine",icon:"",inputs:1,outputs:1,defaultData:{label:"Sub-Workflow",workflowId:"",workflowName:"",passInput:!0,async:!1}},textToSpeech:{type:"textToSpeech",category:"aiTool",name:"Text to Speech",description:"Convert text to audio using Web Speech API",icon:"",inputs:0,outputs:0,isProvider:!0,defaultData:{label:"Text to Speech",provider:"webSpeech",voice:"default",speed:1,pitch:1,autoPlay:!0}},imageGeneration:{type:"imageGeneration",category:"aiTool",name:"Image Generation",description:"Generate images using AI models",icon:"",inputs:1,outputs:1,defaultData:{label:"Generate Image",provider:"local",model:"stable-diffusion",size:"512x512",negativePrompt:"",seed:null,steps:20}},pythonExecutor:{type:"pythonExecutor",category:"aiTool",name:"Python Executor",description:"Run Python code locally using Pyodide",icon:"",inputs:1,outputs:1,defaultData:{label:"Python",code:`# Access input via 'input' variable
result = input`,packages:[],timeout:3e4}}};function a2(){const e={};return Object.values(Hr).forEach(n=>{e[n.name]=[]}),Object.values(Si).forEach(n=>{const i=Hr[n.category];i&&e[i.name].push(n)}),e}function tr(e,n){const i=Si[e];if(!i)throw new Error(`Unknown node type: ${e}`);return{id:`${e}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,type:e,position:n,data:{...i.defaultData}}}function lu(e){const n=Si[e];if(!n)return"#666666";const i=Hr[n.category];return i?i.color:"#666666"}function o2(e,n,i){const{source:a,target:l}=e;if(a===l)return!1;const s=n.find(v=>v.id===a),c=n.find(v=>v.id===l);if(!s||!c||Si[c.type]?.category==="trigger"&&c.type!=="scheduleTrigger"&&c.type!=="output"||i.find(v=>v.source===a&&v.target===l))return!1;const p=s.type==="loop";if(i.find(v=>v.source===l&&v.target===a)&&!p)return!1;const{targetHandle:m}=e;return!(m==="model-slot"&&s.type!=="chatModel"||m==="memory-slot"&&s.type!=="vectorMemory"||m==="tool-slot"&&!["codeExecutor","pythonExecutor","httpRequest","pythonTool","textToSpeech","imageGeneration","aiAgent","fileSystem"].includes(s.type))}function l2(e){return e.filter(n=>Si[n.type]?.category==="trigger")}function s2({x:e,y:n,type:i,onClose:a,onAction:l}){const s=i==="node"?[{id:"duplicate",label:"Duplicate",icon:"",shortcut:"Ctrl+D"},{id:"copy",label:"Copy",icon:"",shortcut:"Ctrl+C"},{id:"cut",label:"Cut",icon:"",shortcut:"Ctrl+X"},{id:"divider1",divider:!0},{id:"delete",label:"Delete",icon:"",shortcut:"Del",danger:!0}]:i==="insert"?[{id:"addTrigger",label:"Add Trigger",icon:""},{id:"addHTTP",label:"Add HTTP Request",icon:""},{id:"addAI",label:"Add AI Agent",icon:""},{id:"codeExecutor",label:"Add Code Executor",icon:""},{id:"setVariable",label:"Add Set Variable",icon:""},{id:"divider1",divider:!0},{id:"ifElse",label:"Add If/Else",icon:""},{id:"textToSpeech",label:"Add Text to Speech",icon:""},{id:"output",label:"Add Output",icon:""}]:[{id:"addTrigger",label:"Add Trigger",icon:""},{id:"addHTTP",label:"Add HTTP Request",icon:""},{id:"addAI",label:"Add AI Agent",icon:""},{id:"divider1",divider:!0},{id:"paste",label:"Paste",icon:"",shortcut:"Ctrl+V"},{id:"selectAll",label:"Select All",icon:"",shortcut:"Ctrl+A"},{id:"divider2",divider:!0},{id:"fitView",label:"Fit View",icon:""},{id:"zoomIn",label:"Zoom In",icon:"",shortcut:"Ctrl++"},{id:"zoomOut",label:"Zoom Out",icon:"",shortcut:"Ctrl+-"}],c=f=>{l(f),a()};return u.jsx("div",{className:"context-menu",style:{left:e,top:n},onClick:f=>f.stopPropagation(),children:s.map(f=>f.divider?u.jsx("div",{className:"context-menu-divider"},f.id):u.jsxs("button",{className:`context-menu-item ${f.danger?"danger":""}`,onClick:()=>c(f.id),children:[u.jsx("span",{className:"menu-icon",children:f.icon}),u.jsx("span",{className:"menu-label",children:f.label}),f.shortcut&&u.jsx("span",{className:"menu-shortcut",children:f.shortcut})]},f.id))})}const c2=T.memo(s2),pc={circle:"circle",diamond:"diamond"},Av={workflow:{id:"workflow",label:"Data",color:"#888",strokeDasharray:"none",shape:pc.circle,description:"Standard data flow connection"},model:{id:"model",label:"Chat Model",color:"#6366f1",strokeDasharray:"5,5",shape:pc.diamond,description:"AI model provider connection",required:!0,warningColor:"#ef4444"},memory:{id:"memory",label:"Memory",color:"#10b981",strokeDasharray:"5,5",shape:pc.diamond,description:"Memory/context connection",required:!1},tool:{id:"tool",label:"Tool",color:"#f59e0b",strokeDasharray:"5,5",shape:pc.diamond,description:"Tool/function connection",multiple:!0,required:!1}},u2={resourceSlots:[{id:"model-slot",type:"model",position:"bottom",label:"Model",shape:"diamond",required:!0},{id:"memory-slot",type:"memory",position:"bottom",label:"Memory",shape:"diamond",required:!1},{id:"tool-slot",type:"tool",position:"bottom",label:"Tools",shape:"diamond",multiple:!0,required:!1}]},d2="modulepreload",f2=function(e){return"/"+e},Mv={},h2=function(n,i,a){let l=Promise.resolve();if(i&&i.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(i.map(p=>{if(p=f2(p),p in Mv)return;Mv[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":d2,g||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),g)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return n().catch(s)})},p2=[{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",size:"~1.4GB",description:"Google's fast, lightweight model (Recommended)",category:"recommended"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",size:"~1GB",description:"Alibaba's efficient small model",category:"recommended"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",name:"SmolLM2 1.7B",size:"~1.1GB",description:"HuggingFace's compact model",category:"recommended"},{id:"Qwen2.5-0.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 0.5B",size:"~350MB",description:"Ultra-light Qwen for basic tasks",category:"qwen"},{id:"Qwen2.5-3B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 3B",size:"~2GB",description:"Balanced Qwen with good reasoning",category:"qwen"},{id:"Qwen2.5-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 7B",size:"~4.5GB",description:"Powerful Qwen for complex tasks",category:"qwen"},{id:"Qwen2.5-Coder-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 1.5B",size:"~1GB",description:"Optimized for code generation",category:"qwen"},{id:"Qwen2.5-Coder-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 7B",size:"~4.5GB",description:"Advanced coding assistant",category:"qwen"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi-3.5 Mini",size:"~2.4GB",description:"Microsoft's balanced 3.8B model",category:"medium"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",name:"Llama 3.2 3B",size:"~2GB",description:"Meta's capable small model",category:"medium"},{id:"Mistral-7B-Instruct-v0.3-q4f16_1-MLC",name:"Mistral 7B v0.3",size:"~4.5GB",description:"Mistral AI's flagship model",category:"medium"},{id:"TinyLlama-1.1B-Chat-v1.0-q4f16_1-MLC",name:"TinyLlama 1.1B",size:"~700MB",description:"Ultra-fast for simple tasks",category:"tiny"},{id:"SmolLM2-360M-Instruct-q4f16_1-MLC",name:"SmolLM2 360M",size:"~250MB",description:"Smallest practical model",category:"tiny"}];class m2{constructor(){this.worker=null,this.isLoading=!1,this.isReady=!1,this.currentModel=null,this.messageId=0,this.pendingRequests=new Map}static async checkWebGPUSupport(){if(!navigator.gpu)return{supported:!1,reason:"WebGPU not available in this browser"};try{const n=await navigator.gpu.requestAdapter();return n?{supported:!0,adapter:n}:{supported:!1,reason:"No WebGPU adapter found"}}catch(n){return{supported:!1,reason:n.message}}}async downloadModel(n,i=null){return new Promise((a,l)=>{const s=new Worker(new URL("/assets/webllm.worker-Ch0B_N4r.js",import.meta.url),{type:"module"}),c=this.getNextMessageId();s.onmessage=f=>{const{type:h,id:p,progress:g,text:m,error:v}=f.data;if(!(p!==c&&h!=="INIT_PROGRESS"))switch(h){case"INIT_PROGRESS":i&&i({progress:g,text:m});break;case"INIT_COMPLETE":s.terminate(),a(!0);break;case"ERROR":s.terminate(),l(new Error(v));break}},s.onerror=f=>{s.terminate(),l(f)},s.postMessage({type:"INIT",id:c,payload:{modelId:n}})})}async initialize(n=p2[0].id,i=null){if(this.isLoading)throw new Error("Model is already loading");return this.isLoading=!0,new Promise((a,l)=>{this.worker=new Worker(new URL("/assets/webllm.worker-Ch0B_N4r.js",import.meta.url),{type:"module"});const s=this.getNextMessageId();this.worker.onmessage=c=>{const{type:f,id:h,progress:p,text:g,timeElapsed:m,error:v}=c.data;if(!(h!==s&&f!=="INIT_PROGRESS"))switch(f){case"INIT_PROGRESS":i&&i({progress:p,text:g,timeElapsed:m});break;case"INIT_COMPLETE":this.isReady=!0,this.isLoading=!1,this.currentModel=n,a(!0);break;case"ERROR":this.isLoading=!1,l(new Error(v));break}},this.worker.onerror=c=>{this.isLoading=!1,l(c)},this.worker.postMessage({type:"INIT",id:s,payload:{modelId:n}})})}async generateWithHistory(n,i=[],a={},l=null){if(!this.isReady||!this.worker)throw new Error("Model not loaded");const{maxTokens:s=4096,temperature:c=1,systemPrompt:f=""}=a,h=this.getNextMessageId(),p=!!l;return new Promise((g,m)=>{const v=setTimeout(()=>{this.worker.removeEventListener("message",b),m(new Error("Model generation timed out (worker unresponsive)"))},6e4),b=w=>{const{type:N,id:C,text:S,token:k,error:j}=w.data;if(C===h)switch((N==="GENERATE_TOKEN"||N==="GENERATE_COMPLETE")&&clearTimeout(v),N){case"GENERATE_TOKEN":l&&l(k,S);break;case"GENERATE_COMPLETE":this.worker.removeEventListener("message",b),g(S);break;case"ERROR":this.worker.removeEventListener("message",b),clearTimeout(v),m(new Error(j));break}};this.worker.addEventListener("message",b),this.worker.postMessage({type:"GENERATE",id:h,payload:{userMessage:n,history:i,maxTokens:s,temperature:c,systemPrompt:f,streaming:p}})})}async resetChat(){if(!this.worker)return;const n=this.getNextMessageId();this.worker.postMessage({type:"RESET",id:n})}async unload(){this.worker&&(this.worker.terminate(),this.worker=null,this.isReady=!1,this.currentModel=null)}getNextMessageId(){return++this.messageId}}const rr=new m2,g2="EchoesArtifactsDB",Pc="artifacts",y2=1,x2=()=>new Promise((e,n)=>{const i=indexedDB.open(g2,y2);i.onerror=a=>n("IndexedDB error: "+a.target.error),i.onsuccess=a=>e(a.target.result),i.onupgradeneeded=a=>{const l=a.target.result;if(!l.objectStoreNames.contains(Pc)){const s=l.createObjectStore(Pc,{keyPath:"id"});s.createIndex("executionId","executionId",{unique:!1}),s.createIndex("nodeId","nodeId",{unique:!1}),s.createIndex("timestamp","timestamp",{unique:!1})}}}),v2=async e=>{const n=await x2();return new Promise((i,a)=>{const c=n.transaction([Pc],"readwrite").objectStore(Pc).put(e);c.onsuccess=()=>i(e),c.onerror=f=>a(f.target.error)})};class b2{constructor(){this.storagePrefix="echoes_memory_"}_getKey(n){return`${this.storagePrefix}${n}`}_load(n){try{const i=localStorage.getItem(this._getKey(n));return i?JSON.parse(i):[]}catch(i){return console.error("Memory load error:",i),[]}}_save(n,i){try{localStorage.setItem(this._getKey(n),JSON.stringify(i))}catch(a){console.error("Memory save error:",a)}}_tokenize(n){return n?new Set(n.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(i=>i.length>2)):new Set}_similarity(n,i){const a=this._tokenize(n),l=this._tokenize(i);if(a.size===0||l.size===0)return 0;const s=new Set([...a].filter(f=>l.has(f))),c=new Set([...a,...l]);return s.size/c.size}async upsert(n="default",i){const a=this._load(n),l=Date.now(),s=Array.isArray(i)?i:[i];let c=0,f=0;return s.forEach(h=>{h.id||(h.id=`mem_${l}_${Math.random().toString(36).substr(2,9)}`);const p=a.findIndex(m=>m.id===h.id),g={id:h.id,text:h.text||JSON.stringify(h),metadata:h.metadata||{},timestamp:l};p>=0?(a[p]=g,f++):(a.push(g),c++)}),this._save(n,a),{status:"success",added:c,updated:f,total:a.length}}async query(n="default",i,a=5,l=.1){const c=this._load(n).map(f=>{const h=this._similarity(i,f.text);return{...f,score:h}}).filter(f=>f.score>=l).sort((f,h)=>h.score-f.score).slice(0,a);return{matches:c,count:c.length}}async delete(n="default",i=[],a=!1){if(a)return localStorage.removeItem(this._getKey(n)),{status:"success",deleted:"all"};const l=this._load(n),s=l.length,c=new Set(Array.isArray(i)?i:[i]),f=l.filter(h=>!c.has(h.id));return this._save(n,f),{status:"success",deleted:s-f.length,remaining:f.length}}}const mc=new b2,w2=["window","document","location","navigator","fetch","XMLHttpRequest","WebSocket","EventSource","Worker","SharedWorker","ServiceWorker","importScripts","eval","Function","localStorage","sessionStorage","indexedDB","caches","cookieStore","crypto","Notification","alert","confirm","prompt","open","close","postMessage","parent","top","frames","opener","self","globalThis"],S2={Math,Array,Object,String,Number,Boolean,Date,RegExp,Map,Set,WeakMap,WeakSet,JSON,Promise,Error,TypeError,RangeError,SyntaxError,parseInt,parseFloat,isNaN,isFinite,encodeURI,decodeURI,encodeURIComponent,decodeURIComponent,console:{log:(...e)=>console.log("[Sandbox]",...e),info:(...e)=>console.info("[Sandbox]",...e),warn:(...e)=>console.warn("[Sandbox]",...e),error:(...e)=>console.error("[Sandbox]",...e)},setTimeout:(e,n)=>setTimeout(e,Math.min(n,3e4)),undefined:void 0,NaN:NaN,Infinity:1/0};async function N2(e,n,i={},a={}){const{timeout:l=3e4}=a;if(typeof e!="string")throw new Error("Code must be a string");const s=[/\beval\s*\(/gi,/\bFunction\s*\(/gi,/\bimport\s*\(/gi,/\bimport\s+/gi,/\brequire\s*\(/gi,/\b__proto__\b/gi,/\bconstructor\s*\[/gi,/\bprototype\b/gi];for(const g of s)if(g.test(e))throw new Error(`Potentially dangerous code pattern detected: ${g.source}`);const c={...S2,input:n,context:{nodeId:i.nodeId}};for(const g of w2)c[g]=new Proxy({},{get(){throw new Error(`Access to '${g}' is not allowed in sandboxed code`)},set(){throw new Error(`Cannot modify '${g}' in sandboxed code`)},apply(){throw new Error(`Cannot call '${g}' in sandboxed code`)}});const f=Object.keys(c),h=Object.values(c),p=`
    "use strict";
    return (async () => {
      ${e}
    })();
  `;try{const g=new Function(...f,p);return await Promise.race([g(...h),new Promise((v,b)=>setTimeout(()=>b(new Error(`Execution timeout after ${l}ms`)),l))])}catch(g){const m=g.message.replace(/at\s+.*?:\d+:\d+/g,"").replace(/\n\s+at\s+.*/g,"").trim();throw new Error(`Sandbox execution error: ${m}`)}}const E2={$now:()=>new Date().toISOString(),$uuid:()=>crypto.randomUUID?.()||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)}),$formatDate:(e,n="yyyy-MM-dd")=>{const i=new Date(e),a=l=>String(l).padStart(2,"0");return n.replace("yyyy",i.getFullYear()).replace("MM",a(i.getMonth()+1)).replace("dd",a(i.getDate())).replace("HH",a(i.getHours())).replace("mm",a(i.getMinutes())).replace("ss",a(i.getSeconds()))},$upper:e=>String(e).toUpperCase(),$lower:e=>String(e).toLowerCase(),$trim:e=>String(e).trim(),$replace:(e,n,i)=>String(e).replace(n,i),$split:(e,n)=>String(e).split(n),$join:(e,n=",")=>Array.isArray(e)?e.join(n):String(e),$round:(e,n=0)=>Number(Number(e).toFixed(n)),$floor:e=>Math.floor(Number(e)),$ceil:e=>Math.ceil(Number(e)),$abs:e=>Math.abs(Number(e)),$min:(...e)=>Math.min(...e.map(Number)),$max:(...e)=>Math.max(...e.map(Number)),$length:e=>Array.isArray(e)?e.length:String(e).length,$first:e=>Array.isArray(e)?e[0]:e,$last:e=>Array.isArray(e)?e[e.length-1]:e,$reverse:e=>Array.isArray(e)?[...e].reverse():e,$keys:e=>typeof e=="object"&&e!==null?Object.keys(e):[],$values:e=>typeof e=="object"&&e!==null?Object.values(e):[],$pick:(e,...n)=>typeof e!="object"||e===null?{}:n.reduce((i,a)=>(a in e&&(i[a]=e[a]),i),{}),$stringify:(e,n=!1)=>JSON.stringify(e,null,n?2:void 0),$parse:e=>{try{return JSON.parse(e)}catch{return e}},$if:(e,n,i)=>e?n:i,$default:(e,n)=>e??n,$isEmpty:e=>e==null||e===""||Array.isArray(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0};function j2(e,n={}){const i=e.trim(),a=[/\beval\b/i,/\bFunction\b/,/\bimport\b/i,/\brequire\b/i,/\b__proto__\b/,/\bconstructor\b/,/\bprototype\b/,/\bwindow\b/i,/\bdocument\b/i,/\bfetch\b/i,/\bglobalThis\b/i];for(const s of a)if(s.test(i))return console.warn(`Blocked dangerous expression: ${s.source}`),"{{BLOCKED: unsafe pattern}}";const l={...E2,$json:n.input||{},$input:n.input||{},$index:n.index??0,$item:n.item??null,$node:n.nodeData||{},$workflow:n.workflowData||{},...n.variables};try{const s=Object.keys(l),c=Object.values(l),f=`"use strict"; return (${i});`;return new Function(...s,f)(...c)}catch(s){return console.warn(`Expression error: ${s.message}`,{expr:e,context:n}),`{{ERROR: ${s.message}}}`}}function ll(e,n={}){if(typeof e!="string")return e;const i=/\{\{\s*((?:[^{}]|\{[^{}]*\})*)\s*\}\}/g;return e.replace(i,(a,l)=>{const s=j2(l,n);return s==null?"":typeof s=="object"?JSON.stringify(s):String(s)})}function C2(){return[{name:"$json",description:"Input data object",example:"$json.fieldName"},{name:"$input",description:"Full input object",example:"$input"},{name:"$index",description:"Current loop index",example:"$index"},{name:"$item",description:"Current loop item",example:"$item"},{name:"$node",description:"Current node data",example:"$node.label"},{name:"$now",description:"Current timestamp",example:"$now"},{name:"$uuid",description:"Generate UUID",example:"$uuid"},{name:"$formatDate",description:"Format date",example:'$formatDate($now, "yyyy-MM-dd")'},{name:"$upper",description:"Uppercase string",example:"$upper($json.name)"},{name:"$lower",description:"Lowercase string",example:"$lower($json.name)"},{name:"$trim",description:"Trim whitespace",example:"$trim($json.text)"},{name:"$replace",description:"Replace text",example:'$replace($json.text, "old", "new")'},{name:"$split",description:"Split string",example:'$split($json.csv, ",")'},{name:"$join",description:"Join array",example:'$join($json.items, ", ")'},{name:"$round",description:"Round number",example:"$round($json.price, 2)"},{name:"$floor",description:"Floor number",example:"$floor($json.value)"},{name:"$ceil",description:"Ceiling number",example:"$ceil($json.value)"},{name:"$min",description:"Minimum value",example:"$min($json.a, $json.b)"},{name:"$max",description:"Maximum value",example:"$max($json.a, $json.b)"},{name:"$length",description:"Array/string length",example:"$length($json.items)"},{name:"$first",description:"First array item",example:"$first($json.items)"},{name:"$last",description:"Last array item",example:"$last($json.items)"},{name:"$keys",description:"Object keys",example:"$keys($json)"},{name:"$values",description:"Object values",example:"$values($json)"},{name:"$stringify",description:"JSON stringify",example:"$stringify($json, true)"},{name:"$if",description:"Conditional value",example:'$if($json.active, "Yes", "No")'},{name:"$default",description:"Default value",example:'$default($json.name, "Unknown")'},{name:"$isEmpty",description:"Check if empty",example:"$isEmpty($json.items)"}]}async function up(e,n,i){const a=M2[e.type];if(!a)throw new Error(`No executor found for node type: ${e.type}`);try{return{success:!0,...await a(e.data,n,i)}}catch(l){return{success:!1,error:l.message||"Node execution failed",output:null}}}const k2=e=>{try{return JSON.parse(e)}catch{return null}},T2=e=>{if(e instanceof Blob){const n=Ah(e.type);return{mimeType:e.type||"application/octet-stream",extension:n,data:e,isBlob:!0}}if(e?.audioBlob instanceof Blob)return{mimeType:e.audioBlob.type||"audio/wav",extension:".wav",data:e.audioBlob,isBlob:!0};if(e?.imageBlob instanceof Blob)return{mimeType:e.imageBlob.type||"image/png",extension:".png",data:e.imageBlob,isBlob:!0};if(typeof e?.audioBase64=="string")return{mimeType:"audio/wav",extension:".wav",data:A2(e.audioBase64,"audio/wav"),isBlob:!0};if(typeof e?.url=="string"&&e.url.startsWith("blob:")){const n=e.type||"application/octet-stream";return{mimeType:n,extension:Ah(n),data:e.url,isBlob:!1}}return typeof e=="string"?{mimeType:"text/plain",extension:".txt",data:e,isBlob:!1}:typeof e=="object"&&e!==null?{mimeType:"application/json",extension:".json",data:JSON.stringify(e,null,2),isBlob:!1}:{mimeType:"text/plain",extension:".txt",data:String(e),isBlob:!1}},Ah=e=>({"audio/wav":".wav","audio/mpeg":".mp3","audio/mp3":".mp3","audio/ogg":".ogg","audio/webm":".webm","audio/flac":".flac","audio/aac":".aac","video/mp4":".mp4","video/webm":".webm","video/ogg":".ogv","video/quicktime":".mov","video/x-msvideo":".avi","image/png":".png","image/jpeg":".jpg","image/jpg":".jpg","image/gif":".gif","image/webp":".webp","image/svg+xml":".svg","image/bmp":".bmp","text/plain":".txt","text/markdown":".md","text/html":".html","text/css":".css","text/javascript":".js","text/csv":".csv","application/json":".json","application/xml":".xml","application/yaml":".yaml","application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-powerpoint":".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":".pptx","application/zip":".zip","application/x-tar":".tar","application/gzip":".gz","application/x-7z-compressed":".7z","application/octet-stream":".bin"})[e]||".bin",A2=(e,n="application/octet-stream")=>{try{const i=atob(e.replace(/^data:[^;]+;base64,/,"")),a=new Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return new Blob([new Uint8Array(a)],{type:n})}catch{return null}},Dv=async(e,n,i,a)=>{try{const l={id:crypto.randomUUID(),nodeId:e.nodeId,executionId:e.executionId||"manual",name:n,type:i,data:a,timestamp:Date.now()};return await v2(l),e.executionStore?.addArtifact&&e.executionStore.addArtifact(l),e.addLog({type:"success",nodeId:e.nodeId,nodeName:"System",message:` Saved artifact: ${n}`}),l}catch(l){return console.error("Failed to save artifact:",l),e.addLog({type:"error",nodeId:e.nodeId,nodeName:"System",message:`Failed to save artifact: ${l.message}`}),null}},M2={manualTrigger:async(e,n,i)=>{const a=e.defaultPayload||"",l=e.inputValues||{},s={timestamp:new Date().toISOString(),trigger:"manual",...l,text:a,data:n||{...l,text:a}};return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Manual Trigger",message:" Workflow started manually"}),{output:s}},scheduleTrigger:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:"Schedule",message:" Rescheduling next run... (Simulated)"}),{output:n}),aiAgent:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&!Array.isArray(n)&&["model","temperature","maxTokens","systemMessage"].forEach(b=>{n[b]!==void 0&&(a[b]=n[b])});const l=a.connectedModel;l&&(l.temperature!==void 0&&(a.temperature=l.temperature),l.maxTokens!==void 0&&(a.maxTokens=l.maxTokens),l.modelId&&(a.modelId=l.modelId));const{systemMessage:s,userMessage:c,temperature:f=.7,maxTokens:h=1e3}=a;let p=[],g="",m=s||"";if(Array.isArray(n)&&n.length>0){g=n[n.length-1].content,p=n.slice(0,-1);const w=p.find(N=>N.role==="system");w&&(m=w.content,p=p.filter(N=>N.role!=="system"))}else m&&m.includes("{{")&&(m=ll(m,{input:n})),c?c.includes("{{")?g=ll(c,{input:n}):g=c:g=typeof n=="string"?n:JSON.stringify(n);i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:" AI processing..."});const v=a.connectedMemory;if(v){i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Retrieving memories from ${v.namespace}...`});try{const b=await mc.query(v.namespace,g,v.topK||5);if(b&&b.matches&&b.matches.length>0){const w=b.matches.map(N=>`- ${typeof N.text=="string"?N.text:JSON.stringify(N.text)}`).join(`
`);m=`${m}

[CONTEXT FROM MEMORY]
Use the following retrieved context to answer the user:
${w}
[/CONTEXT]`.trim(),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Found ${b.matches.length} relevant memories`})}}catch(b){i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Memory retrieval failed: ${b.message}`})}i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:" Context prep complete. Starting generation..."})}try{const b=a.modelId||"gemma-2-2b-it";(!rr.isReady||rr.currentModel!==b)&&(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Loading AI Model: ${b}... (This may take a moment)`}),await rr.initialize(b,()=>{i.heartbeat&&i.heartbeat()}),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Model loaded: ${b}`})),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:" Generating response..."});let N=(await rr.generateWithHistory(g,p,{temperature:f,maxTokens:h,systemPrompt:m},()=>{i.heartbeat&&i.heartbeat()})).trim();i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:" Generation complete"});const C=/\[TOOL:\s*([^\]]+)\](.*?)(?=\[TOOL:|$)/gis,S=[...N.matchAll(C)];if(S.length>0){const k=[];for(const j of S){const _=j[1].trim(),P=j[2].trim();i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Agent requested tool: ${_}`,data:{tool:_,args:P}});const M=(a.tools||[]).find(H=>H.name.toLowerCase()===_.toLowerCase());if(M){const H=i.nodes.find(F=>F.id===M.nodeId);if(H){i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Executing tool: ${_}...`});let F=P;try{P.trim().startsWith("{")?F=JSON.parse(P):F=P.replace(/^["'](.*)["']$/,"$1")}catch{}const X=await up(H,F,i);X.success?(k.push(X.output),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Tool '${_}' executed successfully`})):(i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Tool '${_}' failed: ${X.error}`}),k.push({error:X.error,tool:_}))}else i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` Tool node not found: ${M.nodeId}`})}else i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"AI Agent",message:` MISSING TOOL: Agent requested '${_}' but it is not connected.`})}if(k.length===1)return{output:k[0]};if(k.length>0)return{output:k}}return{output:N}}catch(b){throw new Error(`AI generation failed: ${b.message}`)}},codeExecutor:async(e,n,i)=>{const{code:a,language:l="javascript",cdnUrls:s=[]}=e;if(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Executing ${l} code (sandboxed)...`}),l==="javascript")try{if(s.length>0){i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Loading ${s.length} CDN libraries...`});const{loadFromCDN:f}=await h2(async()=>{const{loadFromCDN:h}=await Promise.resolve().then(()=>a5);return{loadFromCDN:h}},void 0);for(const h of s)try{await f(h)}catch{i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Code Executor",message:` Failed to load: ${h.split("/").pop()}`})}}return{output:await N2(a,n,{nodeId:i.nodeId},{timeout:3e4})}}catch(c){throw new Error(`Execution error: ${c.message}`)}else throw l==="python"&&window.pyodide?new Error("Python execution not ready pending Pyodide load"):new Error(`Unsupported language: ${l}`)},imageGeneration:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["model","size","negativePrompt","seed","steps"].forEach(f=>{n[f]!==void 0&&(a[f]=n[f])});const{seed:l=null}=a;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Image Generation",message:" Generating image (Simulated)..."}),await new Promise(f=>setTimeout(f,2e3));const s=document.createElement("canvas");s.width=512,s.height=512;const c=s.getContext("2d");return c.fillStyle="#ff4444",c.fillRect(0,0,512,512),c.fillStyle="white",c.font="30px Arial",c.fillText("AI Generated Image",100,256),new Promise(f=>{s.toBlob(async h=>{await Dv(i,`image_${Date.now()}.png`,"image/png",h),f({output:{url:URL.createObjectURL(h),prompt:n,seed:l||12345}})})})},httpRequest:async(e,n,i)=>{const{method:a="GET",url:l,headers:s,body:c,timeout:f=5e3}=e;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"HTTP Request",message:` ${a} ${l}`});try{const h=new AbortController,p=setTimeout(()=>h.abort(),f),g=await fetch(l,{method:a,headers:k2(s)||{},body:["GET","HEAD"].includes(a)?void 0:typeof c=="string"?c:JSON.stringify(c),signal:h.signal});clearTimeout(p);const m=await g.json().catch(()=>({}));return{output:{status:g.status,statusText:g.statusText,data:m,headers:Object.fromEntries(g.headers.entries())}}}catch(h){throw new Error(`HTTP Request failed: ${h.message}`)}},setVariable:async(e,n,i)=>{const{variableName:a,value:l}=e;let s=l;return typeof n=="object"&&n!==null&&(n[a]!==void 0?s=n[a]:n.value!==void 0?s=n.value:n.text!==void 0&&(s=n.text)),typeof s=="string"&&s.includes("{{")&&(s=_v(s,{input:n})),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Set Variable",message:` Set ${a} = ${typeof s=="string"?s.slice(0,50):"..."}`}),{output:{...n,[a]:s}}},ifElse:async(e,n,i)=>{const{condition:a,operator:l="equals",compareValue:s}=e,c=Ov(n,a);let f=!1;switch(l){case"equals":f=c==s;break;case"notEquals":f=c!=s;break;case"contains":f=String(c).includes(s);break;case"greaterThan":f=Number(c)>Number(s);break;case"lessThan":f=Number(c)<Number(s);break;case"exists":f=c!=null;break}return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"If/Else",message:` Check: ${a} ${l} ${s} -> ${f}`}),{output:n,outputIndex:f?0:1}},merge:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:"Merge",message:" Merging execution paths"}),{output:n}),loop:async(e,n,i)=>{const{iterations:a=1}=e,l=i.loopState||{currentIteration:0,totalIterations:a,results:[]};return l.currentIteration>0&&n&&l.results.push(n),l.currentIteration++,l.currentIteration<=l.totalIterations?(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Loop",message:` Iteration ${l.currentIteration} of ${l.totalIterations}`}),{output:{iteration:l.currentIteration,totalIterations:l.totalIterations,previousResult:n,isLoopIteration:!0},outputIndex:0,loopState:l}):(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Loop",message:` Loop complete: ${l.results.length} iterations processed`}),{output:{results:l.results,totalIterations:l.totalIterations,lastResult:n,completed:!0},outputIndex:1,loopState:null})},toolCall:async(e,n,i)=>{const{toolName:a,args:l}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Tool Call",message:` Executing tool: ${a}`,data:l||n}),{output:{tool:a,status:"success",result:`Executed ${a} successfully`,args:l||n}}},vectorMemory:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["mode","namespace","topK","minScore"].forEach(p=>{n[p]!==void 0&&(a[p]=n[p])});const{mode:l="upsert",namespace:s="default",topK:c=5,minScore:f=.1}=a;i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Vector Store Operation: ${l} (${s})`});let h;try{if(l==="upsert"){let p=[];Array.isArray(n)?p=n.map(g=>typeof g=="string"?{text:g}:g):typeof n=="object"&&n!==null?n.text?p=[n]:n.content?p=[{text:n.content,...n}]:p=[{text:JSON.stringify(n),metadata:n}]:p=[{text:String(n)}],h=await mc.upsert(s,p),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Memorized ${h.added} new items, updated ${h.updated}`})}else if(l==="query"){const p=typeof n=="string"?n:JSON.stringify(n);h=await mc.query(s,p,c,f),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Found ${h.count} matches`})}else if(l==="delete"){const p=Array.isArray(n)?n:n.id||n;h=await mc.delete(s,p),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Vector Store",message:` Deleted ${h.deleted} items`})}}catch(p){throw new Error(`Memory operation failed: ${p.message}`)}return{output:h}},output:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&["outputType","filename","notificationTitle","artifactType","artifactName"].forEach(N=>{n[N]!==void 0&&(a[N]=n[N])});const{outputType:l="console",filename:s,formatJson:c,notificationTitle:f,artifactType:h="auto",artifactName:p=""}=a,g=c?JSON.stringify(n,null,2):n;switch(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Workflow output (${l})`,data:g}),l){case"console":console.log(" Workflow Output:",g),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Output",message:`Console: ${String(g).slice(0,150)}${String(g).length>150?"...":""}`});break;case"file":{const N=typeof g=="string"?g:JSON.stringify(g,null,2),C=new Blob([N],{type:"text/plain"}),S=URL.createObjectURL(C),k=document.createElement("a");k.href=S,k.download=s||"output.txt",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(S),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Downloaded: ${s||"output.txt"}`});break}case"notification":{if("Notification"in window){let N=Notification.permission;N==="default"&&(N=await Notification.requestPermission()),N==="granted"&&new Notification(f||"Workflow Complete",{body:typeof g=="string"?g.slice(0,200):"Data ready"})}typeof window<"u"&&window.dispatchEvent(new CustomEvent("workflow-toast",{detail:{type:"success",message:f||"Workflow Complete"}})),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:` Notification: ${f||"Workflow Complete"}`});break}case"artifact":i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Output",message:" Artifact saved"});break;default:console.log(" Output:",g)}let m,v,b;if(h&&h!=="auto")if(m=h,v=Ah(h),n instanceof Blob)b=n;else if(typeof n=="object"&&n!==null)if(h==="application/json")b=JSON.stringify(n,null,2);else if(h==="text/csv")if(Array.isArray(n)&&n.length>0&&typeof n[0]=="object"){const N=Object.keys(n[0]);b=[N.join(","),...n.map(S=>N.map(k=>JSON.stringify(S[k]??"")).join(","))].join(`
`)}else b=JSON.stringify(n,null,2);else b=JSON.stringify(n,null,2);else b=String(n);else{const N=T2(n);m=N.mimeType,v=N.extension,b=N.data}let w=p||s;return w?w.includes(".")?h&&h!=="auto"&&(w=w.replace(/\.[^.]+$/,v)):w+=v:w=`output_${Date.now()}`+v,await Dv(i,w,m,b),{output:g}},webhookTrigger:async(e,n,i)=>(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Webhook",message:` Webhook endpoint ready: ${e.endpoint||"/webhook/default"}`}),{output:{timestamp:new Date().toISOString(),trigger:"webhook",method:e.method||"POST",endpoint:e.endpoint||"/webhook/default",body:n||{},query:{}}}),errorTrigger:async(e,n,i)=>(i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Error Trigger",message:" Error trigger activated",data:n}),{output:{timestamp:new Date().toISOString(),trigger:"error",error:n?.error||null,originalInput:n}}),browserEventTrigger:async(e,n,i)=>{const{eventType:a="focus"}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Browser Event",message:` Browser event: ${a}`}),{output:{timestamp:new Date().toISOString(),trigger:"browserEvent",eventType:a,url:typeof window<"u"?window.location.href:"",...n}}},fileSystem:async(e,n,i)=>{const a={...e};typeof n=="object"&&n!==null&&(n.mode&&(a.mode=n.mode),n.filename&&(a.filename=n.filename),n.content&&(a.content=n.content));const{mode:l="read"}=a;if(l==="read")try{if(typeof window<"u"&&"showOpenFilePicker"in window){const[s]=await window.showOpenFilePicker({types:a.fileTypes?.length?[{accept:{"text/*":a.fileTypes}}]:void 0}),c=await s.getFile(),f=await c.text();return i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"File System",message:` Read file: ${c.name} (${c.size} bytes)`}),{output:{filename:c.name,size:c.size,type:c.type,content:f,lastModified:c.lastModified}}}else throw new Error("File System Access API not supported")}catch(s){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"File System",message:` File read failed: ${s.message}`}),{output:{error:s.message}}}else if(l==="write")try{const s=typeof n=="string"?n:n?.text||JSON.stringify(n,null,2);if(typeof window<"u"&&"showSaveFilePicker"in window){const c=await window.showSaveFilePicker({suggestedName:e.filename||"output.txt"}),f=await c.createWritable();return await f.write(s),await f.close(),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"File System",message:" File written successfully"}),{output:{success:!0,filename:c.name}}}else{const c=new Blob([s],{type:"text/plain"}),f=URL.createObjectURL(c),h=document.createElement("a");return h.href=f,h.download=e.filename||"output.txt",h.click(),URL.revokeObjectURL(f),{output:{success:!0,downloaded:!0}}}}catch(s){return{output:{error:s.message}}}return{output:n}},localStorage:async(e,n,i)=>{const{mode:a="get",storageType:l="localStorage",key:s}=e;if(!s)return{output:{error:"No key specified"}};try{if(l==="localStorage")switch(a){case"get":{const c=window.localStorage.getItem(s),f=c?JSON.parse(c):null;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Retrieved: ${s}`}),{output:{key:s,value:f,found:c!==null}}}case"set":{const c=typeof n=="string"?n:JSON.stringify(n);return window.localStorage.setItem(s,c),i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Stored: ${s}`}),{output:{key:s,success:!0}}}case"delete":return window.localStorage.removeItem(s),i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Deleted: ${s}`}),{output:{key:s,deleted:!0}}}else{const c="iosans-storage",f="keyvalue",p=await new Promise((g,m)=>{const v=indexedDB.open(c,1);v.onerror=()=>m(v.error),v.onsuccess=()=>g(v.result),v.onupgradeneeded=b=>{const w=b.target.result;w.objectStoreNames.contains(f)||w.createObjectStore(f)}});switch(a){case"get":return new Promise(g=>{const b=p.transaction(f,"readonly").objectStore(f).get(s);b.onsuccess=()=>{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Retrieved (IndexedDB): ${s}`}),g({output:{key:s,value:b.result,found:b.result!==void 0}})},b.onerror=()=>g({output:{error:b.error.message}})});case"set":return new Promise(g=>{const b=p.transaction(f,"readwrite").objectStore(f).put(n,s);b.onsuccess=()=>{i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Stored (IndexedDB): ${s}`}),g({output:{key:s,success:!0}})},b.onerror=()=>g({output:{error:b.error.message}})});case"delete":return new Promise(g=>{const b=p.transaction(f,"readwrite").objectStore(f).delete(s);b.onsuccess=()=>{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Storage",message:` Deleted (IndexedDB): ${s}`}),g({output:{key:s,deleted:!0}})},b.onerror=()=>g({output:{error:b.error.message}})})}}}catch(c){return{output:{error:c.message}}}return{output:n}},switchNode:async(e,n,i)=>{const{field:a,routes:l=[],defaultOutput:s=3}=e,c=Ov(n,a);i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Switch",message:` Switch on "${a}": value = "${c}"`});for(const f of l)if(String(f.value)===String(c))return{output:n,outputIndex:f.outputIndex};return{output:n,outputIndex:s}},waitForApproval:async(e,n,i)=>{const{title:a="Approval Required",message:l=""}=e;return i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Approval",message:` Waiting for approval: ${a}`,data:n}),new Promise(s=>{const c=_v(l,n);window.confirm(`${a}

${c}

Click OK to approve, Cancel to reject.`)?(i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Approval",message:" Approved"}),s({output:{approved:!0,approvedAt:new Date().toISOString(),originalInput:n},outputIndex:0})):(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Approval",message:" Rejected"}),s({output:{approved:!1,rejectedAt:new Date().toISOString(),originalInput:n},outputIndex:1}))})},subWorkflow:async(e,n,i)=>{const{workflowId:a,passInput:l=!0}=e;return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Sub-Workflow",message:` Executing sub-workflow: ${a||"none selected"}`}),a?(i.addLog({type:"warning",nodeId:i.nodeId,nodeName:e.label||"Sub-Workflow",message:" Sub-workflow execution not yet implemented"}),{output:{subWorkflowId:a,result:l?n:{},duration:0,note:"Sub-workflow execution coming soon"}}):{output:{error:"No workflow selected"}}},textToSpeech:async(e,n,i)=>{let a="";typeof n=="object"&&n!==null?a=n.text||n.data||JSON.stringify(n):a=String(n||"");const l=ll(a,{input:n});return i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Text to Speech",message:` Generating audio for: "${l.substring(0,30)}..."`}),{output:{text:l,voice:e.voice||"default",speed:e.speed||1,pitch:e.pitch||1,audioId:Date.now().toString(),canPlay:!0}}},pythonExecutor:async(e,n,i)=>{const{code:a="",packages:l=[]}=e;if(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:" Executing Python code..."}),typeof window>"u"||!window.loadPyodide)try{i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:" Loading Pyodide runtime..."}),window.pyodideLoading||(window.pyodideLoading=(async()=>{const c=document.createElement("script");return c.src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js",document.head.appendChild(c),await new Promise(f=>{c.onload=f}),window.pyodide=await window.loadPyodide(),window.pyodide})()),await window.pyodideLoading}catch(c){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Failed to load Pyodide: ${c.message}`}),{output:{error:`Failed to load Pyodide: ${c.message}`}}}const s=window.pyodide;try{l.length>0&&(i.addLog({type:"info",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Installing packages: ${l.join(", ")}`}),await s.loadPackagesFromImports(l.join(`
`))),s.globals.set("input",s.toPy(n));let c="";s.setStdout({batched:m=>{c+=m}});const f=Date.now(),h=await s.runPythonAsync(`
${a}
result if 'result' in dir() else None
`),p=(Date.now()-f)/1e3,g=h?.toJs?h.toJs():h;return i.addLog({type:"success",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Python executed in ${p.toFixed(2)}s`,data:g}),{output:{result:g,stdout:c,duration:p}}}catch(c){return i.addLog({type:"error",nodeId:i.nodeId,nodeName:e.label||"Python",message:` Python error: ${c.message}`}),{output:{error:c.message}}}}};function _v(e,n){return ll(e,{input:n})}function Ov(e,n){return!n||!e?e:n.split(".").reduce((i,a)=>i&&i[a]!==void 0?i[a]:void 0,e)}async function D2(e,n=null){const i=Xe.getState();let a=n;if(!a){const c=i.nodeResults[e.id];c?.input?a=c.input:a=_2(e.type)}const l={nodeId:e.id,nodes:[],edges:[],addLog:c=>{i.addLog({...c,nodeId:e.id})}};i.addLog({type:"info",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Running step: ${e.data?.label||e.type}`});const s=Date.now();try{const c=await up(e,a,l),f=Date.now()-s;return i.setNodeResult(e.id,{...c,executionTime:f,input:a,stepExecution:!0}),i.addLog({type:"success",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Step completed in ${f}ms`,data:{preview:O2(c.output)}}),{success:!0,output:c.output,executionTime:f}}catch(c){const f=Date.now()-s;return i.setNodeResult(e.id,{success:!1,error:c.message,executionTime:f,input:a,stepExecution:!0}),i.addLog({type:"error",nodeId:e.id,nodeName:e.data?.label||e.type,message:` Step failed: ${c.message}`}),{success:!1,error:c.message,executionTime:f}}}function _2(e){return{manualTrigger:{timestamp:new Date().toISOString(),trigger:"manual",test:!0},httpRequest:{url:"https://api.example.com/data",method:"GET"},codeExecutor:{message:"Hello from step execution",value:42,items:[1,2,3]},pythonExecutor:{data:[1,2,3,4,5],text:"Sample Python input"},aiAgent:{prompt:"Test prompt for AI agent",context:"Running in step mode"},ifElse:{value:!0,status:"active"},loop:{items:["item1","item2","item3"]},switchNode:{value:"case1",status:"pending"},setVariable:{key:"testVar",value:"testValue"},textToSpeech:{text:"This is a test message for text to speech."},output:{result:"Test output data",status:"complete"}}[e]||{input:"default mock data",timestamp:new Date().toISOString()}}function O2(e){if(typeof e=="string")return e.slice(0,100)+(e.length>100?"...":"");if(typeof e=="object"){const n=JSON.stringify(e);return n.slice(0,100)+(n.length>100?"...":"")}return String(e)}function Rv({id:e,type:n,position:i,label:a,isConnected:l,isRequired:s}){const c=Av[n]||Av.workflow,f=s&&!l?"#ef4444":c.color;return u.jsxs("div",{className:"diamond-handle-wrapper",children:[a&&u.jsx("span",{className:"diamond-handle-label",style:{color:f},children:a}),u.jsx(zn,{type:i===ge.Top?"source":"target",position:i,id:e,isConnectable:!0,className:`diamond-handle handle-${n} ${s&&!l?"required":""} ${l?"connected":""}`,style:{"--handle-color":f}})]})}function R2({type:e,data:n,children:i,inputs:a=1,outputs:l=1,outputLabels:s=[],resourceSlots:c=null,providerOutput:f=null}){const h=$r(),p=Si[e],g=lu(e),[m,v]=T.useState(!1),[b,w]=T.useState(!1),N=Xe(O=>O.currentNodeId),C=Xe(O=>O.activeSupportingNodeIds||[]),S=Xe(O=>O.isRunning),k=Xe(O=>O.nodeResults),j=Ce(O=>O.selectedNodeId),_=Ce(O=>O.configOpen),P=Ce(O=>O.openConfig),M=Ce(O=>O.closeConfig),H=Ce(O=>O.edges),F=Ce(O=>O.nodes),X=S&&N===h,I=S&&C.includes(h),L=j===h,q=k[h]!==void 0,K=k[h]?.error,A=k[h],$=T.useCallback(O=>{O.stopPropagation(),L&&_?M():P(h)},[h,L,_,P,M]),D=T.useCallback(async O=>{if(O.stopPropagation(),!(m||S)){v(!0),w(!0);try{const B=F.find(V=>V.id===h);B&&await D2(B)}finally{v(!1)}}},[h,F,m,S]),U=T.useMemo(()=>{const O=new Set;return H.forEach(B=>{B.source===h&&B.sourceHandle&&O.add(B.sourceHandle),B.target===h&&B.targetHandle&&O.add(B.targetHandle)}),O},[H,h]),G=c||(e==="aiAgent"?u2.resourceSlots:null),Z=()=>{if(!A?.output)return null;const O=A.output;if(typeof O=="string")return O.slice(0,80)+(O.length>80?"...":"");const B=JSON.stringify(O,null,2);return B.slice(0,120)+(B.length>120?"...":"")};return u.jsxs("div",{className:`base-node ${X?"active":""} ${I?"supporting-active":""} ${L?"selected":""} ${K?"error":""} ${G?"has-resource-slots":""} ${m?"step-running":""}
      }`,style:{"--node-color":g},children:[f&&u.jsx(Rv,{id:f.id,type:f.type,position:ge.Top,label:f.label,isConnected:U.has(f.id),isRequired:!1}),a>0&&Array.from({length:a},(O,B)=>{const V=`input-${B}`,z=U.has(V);return u.jsx(zn,{type:"target",position:ge.Left,id:V,isConnectable:!0,className:`node-handle input-handle circle-handle ${z?"connected":""}`,style:a>1?{top:`${(B+1)/(a+1)*100}%`}:{}},V)}),u.jsxs("div",{className:"node-header",children:[u.jsx("span",{className:"node-icon",children:p?.icon||""}),u.jsx("span",{className:"node-label",children:n.label||p?.name||e}),X&&u.jsx("span",{className:"running-indicator",children:""}),m&&u.jsx("span",{className:"running-indicator step",children:""}),q&&!X&&!m&&!K&&u.jsx("span",{className:"success-indicator",children:""}),K&&u.jsx("span",{className:"error-indicator",title:"Node failed - click to see error",children:""})]}),u.jsx("div",{className:"node-body",children:i}),u.jsxs("div",{className:"node-action-toolbar",children:[u.jsx("button",{className:`action-btn config-btn ${L?"active":""}`,onClick:$,title:L?"Close config":"Open config",children:""}),!S&&u.jsx("button",{className:`action-btn run-btn ${m?"running":""}`,onClick:D,disabled:m,title:"Run this step",children:m?"":""})]}),b&&A&&u.jsxs("div",{className:`step-result-preview ${K?"error":"success"}`,children:[u.jsxs("div",{className:"step-result-header",children:[u.jsx("span",{children:K?" Error":" Result"}),u.jsxs("span",{className:"step-time",children:[A.executionTime,"ms"]}),u.jsx("button",{className:"step-close-btn",onClick:O=>{O.stopPropagation(),w(!1)},children:""})]}),u.jsx("pre",{className:"step-result-body",children:K?A.error:Z()})]}),G&&G.length>0&&u.jsx("div",{className:"resource-slots-container",children:G.map(O=>u.jsx(Rv,{id:O.id,type:O.type,position:ge.Bottom,label:O.label,isConnected:U.has(O.id),isRequired:O.required},O.id))}),l>0&&Array.from({length:l},(O,B)=>{const V=`output-${B}`,z=U.has(V);return u.jsx(zn,{type:"source",position:ge.Right,id:V,isConnectable:!0,className:`node-handle output-handle circle-handle ${z?"connected":""}`,style:l>1?{top:`${(B+1)/(l+1)*100}%`}:{},children:s[B]&&u.jsx("span",{className:"handle-label",children:s[B]})},V)})]})}const ct=T.memo(R2);function z2({data:e}){const n=$r(),i=Ce(l=>l.updateNode),a=T.useCallback(l=>{i(n,{defaultPayload:l.target.value})},[n,i]);return u.jsx(ct,{type:"manualTrigger",data:e,inputs:0,outputs:1,children:u.jsxs("div",{className:"node-field",children:[u.jsx("label",{children:"Default Payload"}),u.jsx("textarea",{className:"node-input nodrag",placeholder:"Enter text to start flow...",value:e.defaultPayload||"",onChange:a,rows:3,style:{width:"100%",resize:"vertical"}})]})})}const L2=T.memo(z2);function I2({data:e}){return u.jsxs(ct,{type:"scheduleTrigger",data:e,inputs:1,outputs:1,children:[u.jsxs("div",{className:"node-field",children:[u.jsx("label",{children:"Schedule (cron)"}),u.jsx("div",{className:"node-preview",children:e.schedule||"*/5 * * * *"})]}),u.jsx("div",{className:"node-preview",children:e.enabled?" Enabled":" Disabled"})]})}const B2=T.memo(I2);function H2({data:e}){const[n,i]=T.useState(!1),a=e.endpoint||`/webhook/${e.id||"default"}`,l=e.method||"POST",s=()=>{navigator.clipboard.writeText(`${window.location.origin}${a}`),i(!0),setTimeout(()=>i(!1),2e3)};return u.jsx(ct,{type:"webhookTrigger",data:e,inputs:0,outputs:1,children:u.jsxs("div",{className:"webhook-content",children:[u.jsx("div",{className:"method-badge",children:l}),u.jsxs("div",{className:"endpoint-display",onClick:s,children:[u.jsx("span",{className:"endpoint-path",children:a}),u.jsx("span",{className:"copy-hint",children:n?"":""})]}),e.authRequired&&u.jsx("div",{className:"auth-badge",children:" Auth Required"})]})})}const P2=T.memo(H2);function $2({data:e}){const n=e.watchAll!==!1,i=e.specificNodes||[];return u.jsx(ct,{type:"errorTrigger",data:e,inputs:0,outputs:1,children:u.jsxs("div",{className:"error-trigger-content",children:[u.jsx("div",{className:"error-icon",children:""}),u.jsx("div",{className:"watch-mode",children:n?u.jsx("span",{className:"watch-all",children:"Watching all nodes"}):u.jsxs("span",{className:"watch-specific",children:["Watching ",i.length," node(s)"]})}),e.retryEnabled&&u.jsxs("div",{className:"retry-badge",children:[" Auto-retry: ",e.retryCount||3,"x"]})]})})}const U2=T.memo($2),q2={focus:"Tab Focus",blur:"Tab Blur",urlChange:"URL Change",domClick:"DOM Click",domChange:"DOM Change",keypress:"Key Press",timer:"Timer"};function V2({data:e}){const n=e.eventType||"focus",i=q2[n]||n;return u.jsx(ct,{type:"browserEventTrigger",data:e,inputs:0,outputs:1,children:u.jsxs("div",{className:"browser-event-content",children:[u.jsx("div",{className:"event-icon",children:""}),u.jsx("div",{className:"event-type",children:i}),n==="domClick"&&e.selector&&u.jsx("div",{className:"selector-preview",children:u.jsx("code",{children:e.selector})}),n==="timer"&&e.interval&&u.jsxs("div",{className:"timer-preview",children:["Every ",e.interval,"ms"]}),n==="urlChange"&&e.urlPattern&&u.jsxs("div",{className:"pattern-preview",children:[e.urlPattern.slice(0,30),"..."]})]})})}const F2=T.memo(V2);function G2({data:e}){const n=(e.code||"").split(`
`)[0].slice(0,40);return u.jsx(ct,{type:"codeExecutor",data:e,inputs:1,outputs:1,children:u.jsxs("div",{className:"node-preview",style:{fontFamily:"var(--font-mono)"},children:[n||"// JavaScript code",n&&n.length>=40&&"..."]})})}const Y2=T.memo(G2);function X2({data:e}){return u.jsxs(ct,{type:"setVariable",data:e,inputs:1,outputs:1,children:[u.jsxs("div",{className:"node-field",children:[u.jsx("label",{children:"Variable"}),u.jsx("div",{className:"node-preview",children:e.variableName||"data"})]}),u.jsxs("div",{className:"node-preview",style:{marginTop:"4px"},children:["Mode: ",e.mode||"set"]})]})}const Q2=T.memo(X2);function Z2({data:e}){const n=e.mode||"get",i=e.storageType||"indexedDB",a=e.key||"";return u.jsx(ct,{type:"localStorage",data:e,inputs:1,outputs:1,children:u.jsxs("div",{className:"localstorage-content",children:[u.jsxs("div",{className:"storage-badge",children:[u.jsx("span",{className:"storage-icon",children:""}),u.jsx("span",{className:"storage-type",children:i})]}),u.jsxs("div",{className:"operation-row",children:[u.jsx("span",{className:`operation-mode ${n}`,children:n==="get"?"GET":n==="set"?"SET":"DELETE"}),a&&u.jsx("span",{className:"key-name",children:a})]})]})})}const W2=T.memo(Z2);function K2({data:e}){const n=e.mode||"read";return u.jsx(ct,{type:"fileSystem",data:e,inputs:0,outputs:0,providerOutput:{id:"tool-out",type:"tool",label:null},children:u.jsxs("div",{className:"filesystem-content",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px"},children:[u.jsx("div",{className:"mode-badge",style:{marginBottom:"5px"},children:u.jsx("span",{className:"mode-icon",style:{fontSize:"24px"},children:""})}),u.jsx("div",{className:"filename-display",children:u.jsx("span",{className:"mode-label",style:{fontSize:"10px",textTransform:"uppercase",fontWeight:"bold"},children:n==="read"?"Read File":"Write File"})})]})})}const J2=T.memo(K2);function eD({data:e}){const n={GET:"#00c853",POST:"#2979ff",PUT:"#ffab00",DELETE:"#ff5252",PATCH:"#e040fb"};return u.jsx(ct,{type:"httpRequest",data:e,inputs:0,outputs:0,providerOutput:{id:"tool-out",type:"tool",label:null},children:u.jsxs("div",{className:"http-content",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px"},children:[u.jsx("div",{className:"http-icon",style:{fontSize:"24px",marginBottom:"8px"},children:""}),u.jsx("div",{className:"node-field",children:u.jsx("span",{className:"http-method",style:{color:n[e.method]||"#666",fontWeight:600,fontSize:"10px"},children:e.method||"GET"})})]})})}const tD=T.memo(eD);function nD({data:e}){return u.jsx(ct,{type:"ifElse",data:e,inputs:1,outputs:2,outputLabels:["true","false"],children:u.jsx("div",{className:"node-preview",children:e.condition||"No condition set"})})}const iD=T.memo(nD);function rD({data:e}){return u.jsxs(ct,{type:"loop",data:e,inputs:1,outputs:2,outputLabels:["loop ","done "],children:[u.jsxs("div",{className:"node-field",children:[u.jsx("label",{children:"Iterations"}),u.jsxs("div",{className:"node-preview",children:[e.iterations||1,""]})]}),u.jsxs("div",{className:"node-field",children:[u.jsx("label",{children:"Items path"}),u.jsx("div",{className:"node-preview",children:e.itemsPath||"items"})]})]})}const aD=T.memo(rD);function oD({data:e}){const n=$r(),i=yw(),a=lu("switchNode"),l=Xe(N=>N.currentNodeId),s=Xe(N=>N.isRunning),c=Xe(N=>N.nodeResults),f=Ce(N=>N.selectedNodeId),h=s&&l===n,p=f===n,g=c[n]!==void 0,m=c[n]?.error,v=T.useMemo(()=>e.routes||[],[e.routes]),b=e.field||"value",w=T.useMemo(()=>{const N=v.map((C,S)=>({id:`output-${S}`,label:String(C.value||C.label||S),index:S}));return N.push({id:"output-default",label:"default",index:N.length}),N},[v]);return T.useEffect(()=>{i(n)},[n,v.length,i]),u.jsxs("div",{className:`switch-node ${h?"active":""} ${p?"selected":""} ${m?"error":""}`,style:{"--node-color":a},children:[u.jsx(zn,{type:"target",position:ge.Left,id:"input-0",className:"node-handle circle-handle"}),u.jsxs("div",{className:"node-header",children:[u.jsx("span",{className:"node-icon",children:""}),u.jsx("span",{className:"node-label",children:e.label||"Switch"}),h&&u.jsx("span",{className:"running-indicator",children:""}),g&&!h&&!m&&u.jsx("span",{className:"success-indicator",children:""})]}),u.jsxs("div",{className:"node-body",children:[u.jsxs("div",{className:"switch-field",children:[u.jsx("span",{className:"field-label",children:"Switch on:"}),u.jsx("span",{className:"field-value",children:b})]}),u.jsx("div",{className:"switch-routes",children:w.map(N=>u.jsxs("div",{className:"route-label-row",children:[u.jsx("span",{className:"route-value",children:N.label}),u.jsx("span",{className:"route-arrow",children:""})]},N.id))})]}),w.map((N,C)=>u.jsx(zn,{type:"source",position:ge.Right,id:N.id,className:`node-handle circle-handle ${N.id==="output-default"?"default-handle":""}`,style:{top:`${(C+1)/(w.length+1)*100}%`}},N.id))]})}const lD=T.memo(oD);function sD({data:e}){const n=e.inputCount||2,i=e.mode||"wait";return u.jsx(ct,{type:"merge",data:e,inputs:n,outputs:1,outputLabels:["merged"],children:u.jsxs("div",{className:"merge-node-content",children:[u.jsxs("div",{className:"merge-mode",children:[u.jsx("span",{className:"mode-icon",children:i==="wait"?"":""}),u.jsx("span",{className:"mode-text",children:i==="wait"?"Wait for all":"First to arrive"})]}),u.jsxs("div",{className:"merge-inputs",children:[u.jsx("span",{className:"inputs-label",children:"Inputs:"}),u.jsx("span",{className:"inputs-count",children:n})]}),e.aggregator&&u.jsxs("div",{className:"merge-aggregator",children:[u.jsx("span",{className:"agg-label",children:"Combine:"}),u.jsx("span",{className:"agg-value",children:e.aggregator})]})]})})}const cD=T.memo(sD);function uD({data:e}){const[n,i]=T.useState(e.collapsed||!1),a=T.useCallback(()=>{i(f=>!f)},[]),l=e.childNodeIds?.length||0,s=e.label||"Node Group",c=e.color||"#6366f1";return u.jsxs("div",{className:`group-node ${n?"collapsed":"expanded"}`,style:{"--group-color":c,minWidth:n?"160px":e.width||"300px",minHeight:n?"60px":e.height||"200px"},children:[u.jsx(zn,{type:"target",position:ge.Left,id:"input-0",className:"group-handle"}),u.jsxs("div",{className:"group-header",onClick:a,children:[u.jsx("span",{className:"group-icon",children:n?"":""}),u.jsx("span",{className:"group-label",children:s}),u.jsxs("span",{className:"group-badge",children:[l," nodes"]}),u.jsx("button",{className:"collapse-btn",title:n?"Expand":"Collapse",children:n?"":""})]}),!n&&u.jsx("div",{className:"group-body",children:l>0?u.jsx("div",{className:"group-content",children:u.jsx("span",{className:"group-hint",children:"Drag nodes here to add them to the group"})}):u.jsxs("div",{className:"group-empty",children:[u.jsx("span",{children:"Empty Group"}),u.jsx("span",{className:"group-hint",children:"Add nodes from context menu"})]})}),n&&l>0&&u.jsxs("div",{className:"collapsed-preview",children:["Contains ",l," connected nodes"]}),u.jsx(zn,{type:"source",position:ge.Right,id:"output-0",className:"group-handle"})]})}const dD=T.memo(uD);function fD(e,n){let i;try{i=e()}catch{return}return{getItem:l=>{var s;const c=h=>h===null?null:JSON.parse(h,void 0),f=(s=i.getItem(l))!=null?s:null;return f instanceof Promise?f.then(c):c(f)},setItem:(l,s)=>i.setItem(l,JSON.stringify(s,void 0)),removeItem:l=>i.removeItem(l)}}const Mh=e=>n=>{try{const i=e(n);return i instanceof Promise?i:{then(a){return Mh(a)(i)},catch(a){return this}}}catch(i){return{then(a){return this},catch(a){return Mh(a)(i)}}}},hD=(e,n)=>(i,a,l)=>{let s={storage:fD(()=>localStorage),partialize:N=>N,version:0,merge:(N,C)=>({...C,...N}),...n},c=!1;const f=new Set,h=new Set;let p=s.storage;if(!p)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...N)},a,l);const g=()=>{const N=s.partialize({...a()});return p.setItem(s.name,{state:N,version:s.version})},m=l.setState;l.setState=(N,C)=>(m(N,C),g());const v=e((...N)=>(i(...N),g()),a,l);l.getInitialState=()=>v;let b;const w=()=>{var N,C;if(!p)return;c=!1,f.forEach(k=>{var j;return k((j=a())!=null?j:v)});const S=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(N=a())!=null?N:v))||void 0;return Mh(p.getItem.bind(p))(s.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==s.version){if(s.migrate){const j=s.migrate(k.state,k.version);return j instanceof Promise?j.then(_=>[!0,_]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var j;const[_,P]=k;if(b=s.merge(P,(j=a())!=null?j:v),i(b,!0),_)return g()}).then(()=>{S?.(b,void 0),b=a(),c=!0,h.forEach(k=>k(b))}).catch(k=>{S?.(void 0,k)})};return l.persist={setOptions:N=>{s={...s,...N},N.storage&&(p=N.storage)},clearStorage:()=>{p?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>c,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(h.add(N),()=>{h.delete(N)})},s.skipHydration||w(),b||v},pD=hD,Ye=ou(pD((e,n)=>({status:"idle",currentModelId:null,loadProgress:0,loadingText:"",errorMessage:null,downloadedModels:[],downloadProgress:{},downloadQueue:[],isDownloading:!1,availableModels:[{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",size:"~1.4GB",description:"Google's fast, lightweight model (Recommended)",category:"recommended"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",size:"~1GB",description:"Alibaba's efficient small model",category:"recommended"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",name:"SmolLM2 1.7B",size:"~1.1GB",description:"HuggingFace's compact model",category:"recommended"},{id:"gemma-2-2b-it-q4f32_1-MLC",name:"Gemma 2 2B (F32)",size:"~2.5GB",description:"Higher precision Gemma 2",category:"gemma"},{id:"gemma-2-9b-it-q4f16_1-MLC",name:"Gemma 2 9B",size:"~6GB",description:"Larger Gemma 2 with better reasoning",category:"gemma"},{id:"gemma-2-2b-jpn-it-q4f16_1-MLC",name:"Gemma 2 2B Japanese",size:"~1.4GB",description:"Japanese-optimized Gemma 2",category:"gemma"},{id:"Qwen3-0.6B-q4f16_1-MLC",name:"Qwen 3 0.6B",size:"~400MB",description:"Ultra-light Qwen 3 - instant responses",category:"qwen3"},{id:"Qwen3-1.7B-q4f16_1-MLC",name:"Qwen 3 1.7B",size:"~1.1GB",description:"Fast Qwen 3 with hybrid thinking",category:"qwen3"},{id:"Qwen3-4B-q4f16_1-MLC",name:"Qwen 3 4B",size:"~2.5GB",description:"Balanced Qwen 3 for most tasks",category:"qwen3"},{id:"Qwen3-8B-q4f16_1-MLC",name:"Qwen 3 8B",size:"~5GB",description:"Advanced Qwen 3 with deep reasoning",category:"qwen3"},{id:"Qwen2.5-0.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 0.5B",size:"~350MB",description:"Ultra-light Qwen for basic tasks",category:"qwen"},{id:"Qwen2.5-3B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 3B",size:"~2GB",description:"Balanced Qwen with good reasoning",category:"qwen"},{id:"Qwen2.5-7B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 7B",size:"~4.5GB",description:"Powerful Qwen for complex tasks",category:"qwen"},{id:"Qwen2.5-Coder-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 Coder 1.5B",size:"~1GB",description:"Optimized for code generation",category:"qwen"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi-3.5 Mini",size:"~2.4GB",description:"Microsoft's balanced 3.8B model",category:"medium"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",name:"Llama 3.2 3B",size:"~2GB",description:"Meta's capable small model",category:"medium"},{id:"Llama-3.2-1B-Instruct-q4f16_1-MLC",name:"Llama 3.2 1B",size:"~900MB",description:"Meta's fast tiny model",category:"medium"},{id:"Mistral-7B-Instruct-v0.3-q4f16_1-MLC",name:"Mistral 7B v0.3",size:"~4.5GB",description:"Mistral AI's flagship model",category:"medium"},{id:"SmolLM2-360M-Instruct-q4f16_1-MLC",name:"SmolLM2 360M",size:"~250MB",description:"Smallest practical model",category:"tiny"},{id:"SmolLM2-135M-Instruct-q0f16-MLC",name:"SmolLM2 135M",size:"~150MB",description:"Tiny model for simple tasks",category:"tiny"}],setStatus:i=>e({status:i}),setLoading:(i,a)=>{e({status:"loading",loadProgress:i,loadingText:a})},setReady:i=>{const{downloadedModels:a}=n(),l=a.includes(i)?a:[...a,i];e({status:"ready",currentModelId:i,loadProgress:1,loadingText:"",errorMessage:null,downloadedModels:l})},setError:i=>{e({status:"error",errorMessage:i,loadProgress:0,loadingText:""})},reset:()=>{e({status:"idle",currentModelId:null,loadProgress:0,loadingText:"",errorMessage:null})},addToDownloadQueue:i=>{const{downloadQueue:a,downloadedModels:l}=n();!a.includes(i)&&!l.includes(i)&&e({downloadQueue:[...a,i]})},removeFromQueue:i=>{const{downloadQueue:a}=n();e({downloadQueue:a.filter(l=>l!==i)})},setDownloadProgress:(i,a,l="downloading")=>{const{downloadProgress:s}=n();e({downloadProgress:{...s,[i]:{progress:a,status:l}}})},markDownloaded:i=>{const{downloadedModels:a,downloadProgress:l,downloadQueue:s}=n();a.includes(i)||e({downloadedModels:[...a,i],downloadProgress:{...l,[i]:{progress:100,status:"complete"}},downloadQueue:s.filter(c=>c!==i)})},isModelDownloaded:i=>n().downloadedModels.includes(i),getDownloadStatus:i=>{const{downloadProgress:a,downloadedModels:l}=n();return l.includes(i)?{progress:100,status:"complete"}:a[i]||{progress:0,status:"idle"}},isReady:()=>n().status==="ready",isLoading:()=>n().status==="loading",getDownloadedModels:()=>{const{availableModels:i,downloadedModels:a}=n();return i.filter(l=>a.includes(l.id))}}),{name:"sauvrn-models",partialize:e=>({downloadedModels:e.downloadedModels,currentModelId:e.currentModelId})}));let Gf=null;async function mD(){if(Gf)return Gf;const e={webgpu:!1,gpuVendor:null,gpuRenderer:null,estimatedVRAM:0,tier:"cpu",warning:null,recommendations:[]};if("gpu"in navigator)try{const n=await navigator.gpu.requestAdapter();if(n){e.webgpu=!0;const i=await n.requestAdapterInfo?.();i&&(e.gpuVendor=i.vendor||"Unknown",e.gpuRenderer=i.device||"Unknown GPU");const a=n.limits,l=a.maxBufferSize||0,s=a.maxStorageBufferBindingSize||0,c=Math.max(l,s)/(1024*1024*1024);e.estimatedVRAM=Math.round(c*10)/10,e.estimatedVRAM>=8?e.tier="high":e.estimatedVRAM>=4?e.tier="medium":(e.estimatedVRAM>=2||e.webgpu)&&(e.tier="low")}}catch(n){console.warn("WebGPU detection failed:",n),e.warning="WebGPU available but adapter request failed"}if(!e.gpuRenderer)try{const n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl");if(i){const a=i.getExtension("WEBGL_debug_renderer_info");a&&(e.gpuVendor=i.getParameter(a.UNMASKED_VENDOR_WEBGL)||"Unknown",e.gpuRenderer=i.getParameter(a.UNMASKED_RENDERER_WEBGL)||"Unknown GPU")}}catch{}return e.tier==="cpu"?(e.recommendations.push("WebGPU not supported - AI will run on CPU (slower)"),e.warning="No GPU acceleration available"):e.tier==="low"?(e.recommendations.push("Limited VRAM - use smaller AI models"),e.recommendations.push("Recommended: Phi-3-mini, Gemma-2B")):e.tier==="medium"?(e.recommendations.push("Moderate VRAM - most models will work"),e.recommendations.push("Recommended: Mistral-7B, Llama-3.1-8B")):e.tier==="high"&&e.recommendations.push("High VRAM - all models supported"),Gf=e,e}function gD(e){switch(e){case"high":return"#22c55e";case"medium":return"#f59e0b";case"low":return"#f87171";case"cpu":return"#6b7280";default:return"#6b7280"}}function yD(e){switch(e){case"high":return"";case"medium":return"";case"low":return"";case"cpu":return"";default:return""}}function xD({data:e}){const n=Ye(h=>h.availableModels),i=Ye(h=>h.status),[a,l]=T.useState(null);T.useEffect(()=>{mD().then(l)},[]);const c=n.find(h=>h.id===e.modelId)?.name||"Gemma 2 2B",f=(e.systemPrompt||"").split(`
`)[0].slice(0,50);return u.jsx(ct,{type:"aiAgent",data:e,inputs:1,outputs:1,children:u.jsxs("div",{className:"ai-node-content",children:[u.jsxs("div",{className:"model-badge",children:[u.jsx("span",{className:`status-dot ${i}`}),u.jsx("span",{className:"model-name",children:c})]}),a&&u.jsxs("div",{className:"hardware-badge",title:a.recommendations?.[0]||`GPU: ${a.gpuRenderer}`,style:{"--tier-color":gD(a.tier)},children:[yD(a.tier)," ",a.tier.toUpperCase()]}),e.systemPrompt&&u.jsxs("div",{className:"node-preview prompt-preview",children:[f,"..."]}),e.tools&&e.tools.length>0&&u.jsxs("div",{className:"tools-count",children:[" ",e.tools.length," tool(s) available"]})]})})}const vD=T.memo(xD);function bD({data:e}){const n=Ye(f=>f.availableModels),i=Ye(f=>f.status),a=e.provider||"webllm",s=n.find(f=>f.id===e.modelId)?.name||e.modelName||"Gemma 2 2B",c={webllm:"",openai:"",anthropic:"",local:""};return u.jsx(ct,{type:"chatModel",data:e,inputs:0,outputs:0,providerOutput:{id:"model-out",type:"model"},children:u.jsx("div",{className:"chat-model-content",children:u.jsxs("div",{className:"model-provider-row",children:[u.jsx("span",{className:"provider-icon-badge",children:c[a]||""}),u.jsxs("div",{className:"model-details",children:[u.jsx("div",{className:"model-name-label",children:s}),u.jsx("div",{className:"provider-name",children:a.toUpperCase()})]}),u.jsxs("div",{className:`model-status-indicator ${i}`,children:[i==="ready"&&"",i==="loading"&&"",i==="error"&&""]})]})})})}const wD=T.memo(bD);function SD({data:e}){const n=e.mode||"query",i=e.namespace||"default";return u.jsx(ct,{type:"vectorMemory",data:e,inputs:0,outputs:0,providerOutput:{id:"memory-out",type:"memory",label:null},children:u.jsxs("div",{className:"vector-memory-content",children:[u.jsxs("div",{className:"mode-badge",children:[u.jsx("span",{className:"mode-icon",children:n==="upsert"?"":""}),u.jsx("span",{className:"mode-label",children:n==="upsert"?"Store":"Query"})]}),u.jsxs("div",{className:"namespace-tag",children:[u.jsx("span",{className:"namespace-icon",children:""}),u.jsx("span",{className:"namespace-name",children:i})]}),e.topK&&n==="query"&&u.jsxs("div",{className:"config-preview",children:["Top ",e.topK," results"]})]})})}const ND=T.memo(SD);function ED({data:e}){const n=e.title||"Approval Required",i=e.timeout||0;return u.jsx(ct,{type:"waitForApproval",data:e,inputs:1,outputs:2,children:u.jsxs("div",{className:"approval-content",children:[u.jsx("div",{className:"approval-icon",children:""}),u.jsx("div",{className:"approval-title",children:n}),e.message&&u.jsxs("div",{className:"approval-message",children:[e.message.slice(0,60),"..."]}),u.jsxs("div",{className:"approval-outputs",children:[u.jsx("div",{className:"output-label approved",children:" Approved"}),u.jsx("div",{className:"output-label rejected",children:" Rejected"})]}),i>0&&u.jsxs("div",{className:"timeout-badge",children:[" ",i,"s timeout"]})]})})}const jD=T.memo(ED);function CD({data:e}){const n=e.workflowName||"Select workflow...",i=e.passInput!==!1;return u.jsx(ct,{type:"subWorkflow",data:e,inputs:1,outputs:1,children:u.jsxs("div",{className:"subworkflow-content",children:[u.jsx("div",{className:"workflow-icon",children:""}),u.jsx("div",{className:"workflow-name",children:n}),u.jsxs("div",{className:"workflow-config",children:[i&&u.jsx("span",{className:"config-tag",children:" Pass input"}),e.async&&u.jsx("span",{className:"config-tag",children:" Async"})]}),e.description&&u.jsxs("div",{className:"workflow-desc",children:[e.description.slice(0,50),"..."]})]})})}const kD=T.memo(CD);function TD({data:e}){const n=$r(),i=yw(),a=e.routes||[{id:"route-0",label:"General",keywords:["general","other"]},{id:"route-1",label:"Technical",keywords:["code","programming","bug"]},{id:"route-2",label:"Creative",keywords:["story","write","creative"]}],l=a.length+1;T.useEffect(()=>{i(n)},[a.length,n,i]);const s=[...a.map(c=>c.label),"Other"];return u.jsx(ct,{type:"semanticRouter",data:e,inputs:1,outputs:l,outputLabels:s,children:u.jsxs("div",{className:"semantic-router-content",children:[u.jsxs("div",{className:"routes-header",children:[u.jsx("span",{className:"routes-icon",children:""}),u.jsxs("span",{className:"routes-count",children:[a.length," routes"]})]}),u.jsxs("div",{className:"routes-preview",children:[a.slice(0,3).map((c,f)=>u.jsxs("div",{className:"route-chip",children:[u.jsx("span",{className:"route-number",children:f+1}),u.jsx("span",{className:"route-label",children:c.label})]},c.id||f)),a.length>3&&u.jsxs("div",{className:"route-chip more",children:["+",a.length-3]})]}),u.jsxs("div",{className:"classification-mode",children:[u.jsx("span",{className:"mode-label",children:"Mode:"}),u.jsx("span",{className:"mode-value",children:e.classificationMode||"keyword"})]})]})})}const AD=T.memo(TD);function MD({data:e}){const n=e.evaluationType||"schema",i=e.maxRetries||3,a=e.schema||null;return u.jsx(ct,{type:"evaluator",data:e,inputs:1,outputs:2,outputLabels:["pass ","retry "],children:u.jsxs("div",{className:"evaluator-node-content",children:[u.jsxs("div",{className:"eval-type",children:[u.jsx("span",{className:"eval-icon",children:""}),u.jsx("span",{className:"eval-label",children:n})]}),u.jsxs("div",{className:"eval-retries",children:[u.jsx("span",{className:"retries-label",children:"Max retries:"}),u.jsx("span",{className:"retries-count",children:i})]}),a&&u.jsxs("div",{className:"eval-schema",children:[u.jsx("span",{className:"schema-label",children:"Schema:"}),u.jsx("span",{className:"schema-preview",children:typeof a=="object"?Object.keys(a).slice(0,3).join(", "):a})]}),u.jsxs("div",{className:"eval-modes",children:[u.jsx("span",{className:`mode-chip ${n==="schema"?"active":""}`,children:"JSON"}),u.jsx("span",{className:`mode-chip ${n==="regex"?"active":""}`,children:"Regex"}),u.jsx("span",{className:`mode-chip ${n==="llm"?"active":""}`,children:"LLM"})]})]})})}const DD=T.memo(MD);function _D({data:e}){const n=$r(),i=e.voice||"default",a=e.speed||1,l=e.provider||"webSpeech",f=Xe(w=>w.nodeResults)[n]?.output,[h,p]=T.useState(!1),g=T.useCallback(()=>{if(!f?.audioId)return;const w=window.__ttsAudio?.[f.audioId];if(!w){const k=new SpeechSynthesisUtterance(f.text);k.rate=f.speed||1,k.pitch=f.pitch||1,k.onend=()=>{p(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},p(!0),window.dispatchEvent(new CustomEvent("audioStart")),speechSynthesis.speak(k);return}const{utterance:N,text:C}=w,S=new SpeechSynthesisUtterance(C);S.rate=N.rate,S.pitch=N.pitch,N.voice&&(S.voice=N.voice),S.onend=()=>{p(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},p(!0),window.dispatchEvent(new CustomEvent("audioStart")),speechSynthesis.speak(S)},[f]),m=T.useCallback(()=>{speechSynthesis.cancel(),p(!1),window.dispatchEvent(new CustomEvent("audioEnd"))},[]),v=T.useCallback(()=>{if(!f?.text)return;const w=`Text to Speech Content
${"=".repeat(40)}

${f.text}

---
Voice: ${f.voice}
Speed: ${f.speed}x
Pitch: ${f.pitch}`,N=new Blob([w],{type:"text/plain"}),C=URL.createObjectURL(N),S=document.createElement("a");S.href=C,S.download="speech-content.txt",S.click(),URL.revokeObjectURL(C)},[f]),b=f?.canPlay;return u.jsx(ct,{type:"textToSpeech",data:e,inputs:0,outputs:0,providerOutput:{id:"tool-out",type:"tool",label:null},children:u.jsxs("div",{className:"tts-content",children:[u.jsx("div",{className:"tts-icon",children:""}),u.jsxs("div",{className:"tts-config",children:[u.jsx("div",{className:"provider-badge",children:l==="webSpeech"?"Web Speech API":l}),u.jsxs("div",{className:"voice-info",children:[u.jsx("span",{className:"voice-label",children:"Voice:"}),u.jsx("span",{className:"voice-name",children:i})]}),u.jsx("div",{className:"speed-info",children:a!==1&&u.jsxs("span",{children:[a,"x speed"]})})]}),e.autoPlay&&u.jsx("div",{className:"autoplay-badge",children:" Auto-play"}),b&&u.jsxs("div",{className:"tts-audio-controls",children:[h?u.jsx("button",{className:"tts-btn tts-btn-stop",onClick:m,children:" Stop"}):u.jsx("button",{className:"tts-btn tts-btn-play",onClick:g,children:" Play"}),u.jsx("button",{className:"tts-btn tts-btn-download",onClick:v,children:""})]})]})})}const OD=T.memo(_D);function RD({data:e}){const n=e.model||"stable-diffusion";return u.jsx(ct,{type:"imageGeneration",data:e,inputs:0,outputs:0,providerOutput:{id:"tool-out",type:"tool",label:null},children:u.jsxs("div",{className:"imagegen-content",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px"},children:[u.jsx("div",{className:"imagegen-icon",style:{fontSize:"24px",marginBottom:"8px"},children:""}),u.jsx("div",{className:"model-info",style:{fontSize:"12px",fontWeight:"500"},children:n})]})})}const zD=T.memo(RD);function LD({data:e}){return u.jsx(ct,{type:"pythonExecutor",data:e,inputs:0,outputs:0,providerOutput:{id:"tool-out",type:"tool",label:null},children:u.jsxs("div",{className:"python-content",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px"},children:[u.jsx("div",{className:"python-icon",style:{fontSize:"24px",marginBottom:"8px"},children:""}),u.jsx("div",{className:"python-label",style:{fontSize:"12px",fontWeight:"500"},children:"Python (Pyodide)"})]})})}const ID=T.memo(LD);function BD({data:e}){const n=()=>{switch(e.outputType){case"file":return" File";case"notification":return" Notify";case"artifact":return" Artifact";default:return" Console"}};return u.jsx(ct,{type:"output",data:e,inputs:1,outputs:0,children:u.jsx("div",{className:"output-node-body",children:u.jsx("div",{className:"output-type-badge",children:n()})})})}const HD=T.memo(BD);function PD({sourceX:e,sourceY:n,sourcePosition:i,targetX:a,targetY:l,targetPosition:s,nodes:c,excludeNodeIds:f=[],gap:h=10}){const p=c.filter(j=>!(!j.measured?.width&&!j.width||f.includes(j.id))).map(j=>{const _=j.measured?.width||j.width||180,P=j.measured?.height||j.height||80,M=j.position.x,H=j.position.y;return{left:M,right:M+_,top:H,bottom:H+P,centerX:M+_/2,centerY:H+P/2}}),g=(j,_,P,M,H=h)=>{const F=Math.min(j,P),X=Math.max(j,P),I=Math.min(_,M),L=Math.max(_,M);return p.some(q=>X>q.left-H&&F<q.right+H&&L>q.top-H&&I<q.bottom+H)};let m=0;const v=(e+a)/2,b=(n+l)/2,w=i===ge.Left||i===ge.Right;let N=!1;if(w?N=g(e,n,v,n)||g(v,n,v,l)||g(v,l,a,l):N=g(e,n,e,b)||g(e,b,a,b)||g(a,b,a,l),N){let j=h;for(const _ of p)if(_.left<Math.max(e,a)+h&&_.right>Math.min(e,a)-h&&_.top<Math.max(n,l)+h&&_.bottom>Math.min(n,l)-h)if(w){const M=n-_.bottom,H=_.top-n,F=Math.min(Math.abs(M),Math.abs(H));j=Math.max(j,F+h*2)}else{const M=e-_.right,H=_.left-e,F=Math.min(Math.abs(M),Math.abs(H));j=Math.max(j,F+h*2)}m=Math.max(h,j)}const[C,S,k]=Bc({sourceX:e,sourceY:n,sourcePosition:i,targetX:a,targetY:l,targetPosition:s,borderRadius:8,offset:m});return[C,S,k]}function $D({id:e,source:n,target:i,sourceX:a,sourceY:l,targetX:s,targetY:c,sourcePosition:f,targetPosition:h,style:p={},markerEnd:g,sourceHandleId:m,targetHandleId:v}){const[b,w]=T.useState(!1),[N,C]=T.useState(!1),S=T.useRef(null),k=Ce(D=>D.nodes),j=Xe(D=>D.edgeSnapshots),_=j[e]?.[j[e]?.length-1]||null,P=T.useMemo(()=>{const D=v||m||"";return D.includes("model")?"model":D.includes("memory")?"memory":D.includes("tool")?"tool":"workflow"},[m,v]),M=T.useMemo(()=>{const D={...p};switch(P){case"model":return{...D,stroke:"#6366f1",strokeDasharray:"5,5"};case"memory":return{...D,stroke:"#10b981",strokeDasharray:"5,5"};case"tool":return{...D,stroke:"#f59e0b",strokeDasharray:"5,5"};default:return D}},[P,p]),H=T.useCallback(()=>{S.current&&(clearTimeout(S.current),S.current=null),w(!0),_&&C(!0)},[_]),F=T.useCallback(()=>{S.current=setTimeout(()=>{w(!1),C(!1)},400)},[]),X=T.useCallback(()=>{S.current&&(clearTimeout(S.current),S.current=null),w(!0)},[]),[I,L,q]=PD({sourceX:a,sourceY:l,sourcePosition:f,targetX:s,targetY:c,targetPosition:h,nodes:k,excludeNodeIds:[n,i],gap:50}),K=T.useCallback(D=>{D.stopPropagation(),D.preventDefault(),window.dispatchEvent(new CustomEvent("deleteEdge",{detail:{edgeId:e}}))},[e]),A=T.useCallback(D=>{D.stopPropagation(),D.preventDefault(),window.dispatchEvent(new CustomEvent("addNodeOnEdge",{detail:{edgeId:e,position:{x:L,y:q}}}))},[e,L,q]),$=D=>D?new Date(D).toLocaleTimeString():"";return u.jsxs(u.Fragment,{children:[u.jsx("path",{d:I,fill:"none",strokeWidth:30,stroke:"transparent",style:{cursor:"pointer"},onMouseEnter:H,onMouseLeave:F}),u.jsx(Dl,{path:I,markerEnd:g,style:{...M,strokeWidth:b?3:2},className:`animated-edge ${b?"hovered":""} edge-${P} ${_?"has-data":""}`}),u.jsx("path",{className:"edge-flow-animation",d:I,fill:"none",strokeWidth:2,style:{pointerEvents:"none"}}),u.jsxs(CM,{children:[u.jsx("div",{className:`edge-action-container ${b?"visible":""}`,style:{position:"absolute",transform:`translate(-50%, -50%) translate(${L}px, ${q}px)`,pointerEvents:b?"all":"none"},onMouseEnter:X,onMouseLeave:F,children:u.jsxs("div",{className:"edge-action-buttons",children:[u.jsx("button",{className:"edge-btn edge-btn-add",onClick:A,title:"Insert node here",children:"+"}),u.jsx("button",{className:"edge-btn edge-btn-delete",onClick:K,title:"Delete connection",children:""})]})}),N&&_&&u.jsxs("div",{className:"ghost-data-tooltip",style:{position:"absolute",transform:`translate(-50%, -120%) translate(${L}px, ${q}px)`,pointerEvents:"none"},children:[u.jsxs("div",{className:"ghost-header",children:[u.jsx("span",{className:"ghost-icon",children:""}),u.jsx("span",{className:"ghost-title",children:"Last Data"}),u.jsx("span",{className:"ghost-time",children:$(_.timestamp)})]}),u.jsxs("pre",{className:"ghost-preview",children:[_.preview,_.preview?.length>=500&&"..."]})]})]})]})}const UD=T.memo($D);class qD{constructor(){this.isRunning=!1,this.isPaused=!1,this.debugMode=!1,this.stepResolve=null,this.abortController=null,this.executedNodes=new Set}async execute(n,i,a,l={},s={}){const{executionStore:c}=a,{debug:f=!1}=s;if(this.isRunning)throw new Error("Workflow is already running");this.isRunning=!0,this.isPaused=!1,this.debugMode=f,this.abortController=new AbortController,this.executedNodes=new Set,this.nodes=n,this.edges=i,this.nodeMap=new Map(n.map(h=>[h.id,h])),this.executionStore=c,c.startExecution();try{const h=l2(n);if(h.length===0)throw c.addLog({type:"error",message:"No trigger node found. Add a trigger to start the workflow."}),new Error("No trigger node found");c.addLog({type:"info",message:`Starting workflow${f?" (debug mode)":""} with ${h.length} trigger(s)`});const p=[];for(const g of h){const m=await this.executeFromNode(g.id,l);p.push(m)}return c.stopExecution(),c.addLog({type:"success",message:"Workflow completed successfully"}),this.isRunning=!1,{success:!0,results:p}}catch(h){return c.addLog({type:"error",message:`Workflow failed: ${h.message}`}),c.stopExecution(),this.isRunning=!1,{success:!1,error:h.message}}}async executeFromNode(n,i,a=new Set){const l=`${n}-${JSON.stringify(i).slice(0,50)}`;if(a.has(l))return{success:!0,output:i,skipped:!0};if(a.add(l),this.abortController?.signal.aborted)throw new Error("Workflow was stopped");await this.waitIfPaused(),this.debugMode&&await this.waitForStep();const s=this.nodeMap.get(n);if(!s)return{success:!1,error:`Node ${n} not found`};if(this.executionStore.setCurrentNode(n),this.executionStore.addLog({type:"node",nodeId:n,nodeName:s.data?.label||s.type,message:`Executing ${s.data?.label||s.type}`}),s.type==="aiAgent"){const w=this.getConnectedResources(n);if(w.model&&(s.data={...s.data,connectedModel:w.model},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Using connected model: ${w.model.modelName||w.model.modelId||"WebLLM"}`})),w.memory&&(s.data={...s.data,connectedMemory:w.memory},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Using connected memory: ${w.memory.namespace}`})),s.data?.enableToolCalling!==!1){const C=this.getConnectedTools(n),S=[...w.tools,...C];S.length>0&&(s.data={...s.data,tools:S},this.executionStore.addLog({type:"info",nodeId:n,nodeName:s.data?.label||"AI Agent",message:`Detected ${S.length} tool(s): ${S.map(k=>k.name).join(", ")}`}))}const N=[];w.model?.nodeId&&N.push(w.model.nodeId),w.memory?.nodeId&&N.push(w.memory.nodeId),w.tools.forEach(C=>N.push(C.nodeId)),N.length>0&&this.executionStore.setActiveSupportingNodes&&this.executionStore.setActiveSupportingNodes(N)}const c={nodeId:n,nodes:this.nodes,edges:this.edges,executionStore:this.executionStore,addLog:w=>this.executionStore.addLog({...w,nodeId:n})},f=s.data?.retries||0,h=s.data?.retryDelay||1e3,p=s.type==="aiAgent"||s.type==="textToSpeech"||s.type==="imageGeneration",g=s.data?.timeout||(p?3e5:6e4);let m;const v=Date.now();for(let w=0;w<=f;w++){if(w>0){const N=h*Math.pow(2,w-1);this.executionStore.addLog({type:"warning",nodeId:n,nodeName:s.data?.label||s.type,message:`Retrying (attempt ${w+1}/${f+1}) after ${N}ms...`}),await new Promise(C=>setTimeout(C,N))}try{if(m=await this.executeWithTimeout(s,i,c,g),!m.success)throw new Error(m.error||"Node execution failed");break}catch(N){if(w===f){const C=Date.now()-v;throw this.executionStore.setNodeResult(n,{success:!1,error:N.message,executionTime:C,attempts:w+1}),this.executionStore.addLog({type:"error",nodeId:n,nodeName:s.data?.label||s.type,message:`Node failed after ${w+1} attempt(s): ${N.message}`,data:{error:N.message,executionTime:C,canRetry:!0,nodeId:n}}),new Error(`Node ${s.data?.label||n} failed: ${N.message}`)}}}const b=Date.now()-v;return this.executionStore.setNodeResult(n,{...m,executionTime:b}),this.executedNodes.add(n),this.executionStore.addLog({type:"success",nodeId:n,nodeName:s.data?.label||s.type,message:`Completed in ${b}ms`,data:m.output?{preview:this.getOutputPreview(m.output),executionTime:b}:void 0}),await new Promise(w=>setTimeout(w,50)),m.loopData?await this.executeLoop(s,m,a):m.outputIndex!==void 0?await this.executeBranch(s,m,a):await this.executeNextNodes(n,m.output,a)}async executeLoop(n,i,a){const{items:l,index:s}=i.loopData,c=n.id,f=[];this.executionStore.addLog({type:"info",nodeId:c,nodeName:n.data?.label||"Loop",message:`Starting loop with ${l.length} items`});const h=this.edges.find(g=>g.source===c&&g.sourceHandle==="output-0");if(h)for(let g=s;g<l.length;g++){if(this.abortController?.signal.aborted)throw new Error("Workflow was stopped");const v={item:l[g],index:g,total:l.length,isFirst:g===0,isLast:g===l.length-1,...i.output};this.executionStore.addLog({type:"info",nodeId:c,message:`Loop iteration ${g+1}/${l.length}`});const b=await this.executeFromNode(h.target,v,new Set);b.success&&f.push(b.output)}this.executionStore.addLog({type:"success",nodeId:c,message:`Loop completed (${l.length} iterations)`});const p=this.edges.find(g=>g.source===c&&g.sourceHandle==="output-1");if(p){const g={...i.output,loopResults:f,itemCount:l.length};return await this.executeFromNode(p.target,g,a)}return{success:!0,output:f}}async executeBranch(n,i,a){const{output:l,outputIndex:s}=i,c=n.id,f=this.edges.find(h=>h.source===c&&h.sourceHandle===`output-${s}`);return f?(this.executionStore.addLog({type:"info",nodeId:c,message:`Taking branch: output ${s+1}`}),await this.executeFromNode(f.target,l,a)):(this.executionStore.addLog({type:"info",nodeId:c,message:`Branch output ${s+1} has no connection, ending path`}),{success:!0,output:l})}async executeNextNodes(n,i,a){const l=this.edges.filter(c=>c.source===n);if(l.length===0)return{success:!0,output:i};const s=[];for(const c of l){this.executionStore?.addEdgeSnapshot&&this.executionStore.addEdgeSnapshot(c.id,i);const f=await this.executeFromNode(c.target,i,a);s.push(f)}return s.length===1?s[0]:{success:!0,outputs:s}}async waitIfPaused(){for(;this.isPaused&&!this.abortController?.signal.aborted;)await new Promise(n=>setTimeout(n,100))}async waitForStep(){return new Promise(n=>{this.stepResolve=n,this.executionStore.addLog({type:"debug",message:"Waiting for step (press Step to continue)..."})})}step(){if(this.stepResolve){const n=this.stepResolve;this.stepResolve=null,n()}}stop(){this.abortController&&this.abortController.abort(),this.stepResolve&&(this.stepResolve(),this.stepResolve=null),this.isRunning=!1,this.isPaused=!1,this.debugMode=!1}pause(){this.isPaused=!0,this.executionStore?.addLog({type:"info",message:"Execution paused"})}resume(){this.isPaused=!1,this.executionStore?.addLog({type:"info",message:"Execution resumed"})}setDebugMode(n){this.debugMode=n}async executeWithTimeout(n,i,a,l){let s,c;const f=new Promise((p,g)=>{c=g}),h=()=>{s&&clearTimeout(s),s=setTimeout(()=>{c(new Error(`Timeout after ${l}ms`))},l)};if(h(),this.abortController?.signal){if(this.abortController.signal.aborted)return Promise.reject(new Error("Workflow was stopped"));this.abortController.signal.addEventListener("abort",()=>{c(new Error("Workflow was stopped"))})}a.heartbeat=()=>{s&&h()};try{return await Promise.race([up(n,i,a),f,new Promise((g,m)=>{this.abortController?.signal&&this.abortController.signal.addEventListener("abort",()=>{m(new Error("Workflow was stopped"))})})])}finally{s&&clearTimeout(s),s=null}}getConnectedResources(n){const i=this.edges.filter(l=>l.target===n&&["model-slot","memory-slot","tool-slot"].includes(l.targetHandle)),a={model:null,memory:null,tools:[]};for(const l of i){const s=this.nodeMap.get(l.source);if(s)switch(l.targetHandle){case"model-slot":a.model={nodeId:s.id,modelId:s.data?.modelId,modelName:s.data?.modelName,provider:s.data?.provider||"webllm",temperature:s.data?.temperature,maxTokens:s.data?.maxTokens};break;case"memory-slot":a.memory={nodeId:s.id,namespace:s.data?.namespace||"default",mode:s.data?.mode||"query",topK:s.data?.topK||5};break;case"tool-slot":a.tools.push({nodeId:s.id,name:s.data?.label||s.type,type:s.type,description:this.getToolDescription(s.type)});break}}return a}getConnectedTools(n){const i=this.edges.filter(l=>l.source===n),a=[];for(const l of i){const s=this.nodeMap.get(l.target);s&&this.isToolNode(s.type)&&a.push({nodeId:s.id,name:s.data?.label||s.type,type:s.type,description:this.getToolDescription(s.type),inputSchema:{input:"any"}})}return a}isToolNode(n){return["codeExecutor","httpRequest","setVariable","ifElse","loopEach","switchNode","delay","merge"].includes(n)}getToolDescription(n){return{codeExecutor:"Execute JavaScript code. Pass data to process and receive the result.",httpRequest:"Make HTTP requests to APIs. Returns the response data.",setVariable:"Store a value in workflow memory for later use.",ifElse:"Evaluate a condition and return the result.",loopEach:"Iterate through an array of items.",switchNode:"Route based on a value matching specific cases.",delay:"Wait for a specified duration.",merge:"Combine multiple inputs into one output."}[n]||`Execute ${n} node.`}getOutputPreview(n){if(typeof n=="string")return n.slice(0,100)+(n.length>100?"...":"");if(typeof n=="object"){const i=JSON.stringify(n);return i.slice(0,100)+(i.length>100?"...":"")}return String(n)}}const _a=new qD;function VD(){const e=Ce(v=>v.nodes),n=Ce(v=>v.edges),i=Xe(v=>v.isRunning),a=Xe(v=>v.isPaused),l=Xe(v=>v.isDebugMode),s=Xe(v=>v.setDebugMode),c=Xe(v=>v.setPaused),f=T.useCallback(async()=>{if(i)return;const v=Xe.getState();await _a.execute(e,n,{executionStore:v},{},{debug:l})},[e,n,i,l]),h=T.useCallback(()=>_a.stop(),[]),p=T.useCallback(()=>{_a.pause(),c(!0)},[c]),g=T.useCallback(()=>{_a.resume(),c(!1)},[c]),m=T.useCallback(()=>_a.step(),[]);return u.jsxs("div",{className:"execution-controls-panel",children:[u.jsx("div",{className:"exec-btn-group",children:i?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"exec-btn btn-stop",onClick:h,title:"Stop Execution",children:" Stop"}),a?u.jsx("button",{className:"exec-btn btn-resume",onClick:g,title:"Resume",children:" Resume"}):u.jsx("button",{className:"exec-btn btn-pause",onClick:p,title:"Pause",children:" Pause"}),l&&u.jsx("button",{className:"exec-btn btn-step",onClick:m,title:"Step Next",children:" Step"})]}):u.jsx("button",{className:"exec-btn btn-run",onClick:f,disabled:e.length===0,title:l?"Start Debug Run":"Start Workflow",children:l?" Debug Run":" Run"})}),u.jsx("div",{className:"separator"}),u.jsx("button",{className:`exec-btn btn-toggle-debug ${l?"active":""}`,onClick:()=>s(!l),title:"Toggle Debug Mode",children:l?" Debug On":" Debug Off"})]})}function FD({isOpen:e,onClose:n}){const[i,a]=T.useState("all"),l=Ye(k=>k.availableModels),s=Ye(k=>k.currentModelId),c=Ye(k=>k.status),f=Ye(k=>k.loadProgress),h=Ye(k=>k.downloadedModels),p=Ye(k=>k.downloadProgress),g=Ye(k=>k.setDownloadProgress),m=k=>{g(k,5,"downloading"),window.dispatchEvent(new CustomEvent("downloadModel",{detail:{modelId:k}}))},v=async k=>{window.dispatchEvent(new CustomEvent("loadModel",{detail:{modelId:k}})),n()},b=async k=>{try{const j=await caches.keys();for(const M of j)if(M.includes("webllm")||M.includes("mlc")){const H=await caches.open(M),F=await H.keys();for(const X of F)X.url.includes(k)&&await H.delete(X)}const P=Ye.getState().downloadedModels.filter(M=>M!==k);Ye.setState({downloadedModels:P}),console.log(`Removed model: ${k}`)}catch(j){console.error("Failed to remove model:",j)}},w=async()=>{if(confirm("This will remove ALL downloaded models. Continue?"))try{const k=await caches.keys();for(const _ of k)(_.includes("webllm")||_.includes("mlc")||_.includes("huggingface"))&&await caches.delete(_);const j=await indexedDB.databases();for(const _ of j)(_.name?.includes("webllm")||_.name?.includes("mlc"))&&indexedDB.deleteDatabase(_.name);Ye.setState({downloadedModels:[],downloadProgress:{},currentModelId:null,status:"idle"}),localStorage.removeItem("selectedModel"),console.log("All model caches cleared"),alert("All models removed. Refresh the page to start fresh.")}catch(k){console.error("Failed to clear cache:",k),alert("Failed to clear some caches. Try clearing browser data manually.")}},N=[{id:"all",label:"All"},{id:"recommended",label:" Recommended"},{id:"downloaded",label:" Downloaded"},{id:"gemma",label:" Gemma 3"},{id:"qwen3",label:" Qwen 3"},{id:"qwen",label:"Qwen 2.5"},{id:"medium",label:"Medium"},{id:"tiny",label:"Tiny"}],C=l.filter(k=>i==="all"?!0:i==="downloaded"?h.includes(k.id):k.category===i),S=k=>s===k&&c==="ready"?"active":h.includes(k)?"downloaded":p[k]?.status==="downloading"?"downloading":"available";return e?u.jsx("div",{className:"model-switcher-overlay",onClick:n,children:u.jsxs("div",{className:"model-switcher",onClick:k=>k.stopPropagation(),children:[u.jsxs("header",{className:"ms-header",children:[u.jsx("h2",{children:" Model Manager"}),u.jsx("button",{className:"btn-close",onClick:n,children:""})]}),u.jsx("div",{className:"ms-categories",children:N.map(k=>u.jsxs("button",{className:`cat-btn ${i===k.id?"active":""}`,onClick:()=>a(k.id),children:[k.label,k.id==="downloaded"&&h.length>0&&u.jsx("span",{className:"cat-badge",children:h.length})]},k.id))}),u.jsxs("div",{className:"ms-content",children:[s&&u.jsxs("div",{className:"current-model-banner",children:[u.jsx("span",{className:"banner-icon",children:""}),u.jsxs("span",{className:"banner-text",children:["Active:"," ",l.find(k=>k.id===s)?.name]}),u.jsx("span",{className:`banner-status ${c}`,children:c==="ready"?" Ready":c==="loading"?` ${Math.round(f*100)}%`:""})]}),u.jsx("div",{className:"models-grid",children:C.map(k=>{const j=S(k.id),_=p[k.id]?.progress||0;return u.jsxs("div",{className:`model-card ${j}`,children:[u.jsxs("div",{className:"model-card-header",children:[u.jsx("span",{className:"model-name",children:k.name}),u.jsx("span",{className:"model-size",children:k.size})]}),u.jsx("p",{className:"model-desc",children:k.description}),j==="downloading"&&u.jsxs("div",{className:"download-progress",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${_}%`}})}),u.jsxs("span",{className:"progress-text",children:[_,"%"]})]}),u.jsxs("div",{className:"model-actions",children:[j==="active"&&u.jsx("span",{className:"status-badge active",children:" Active"}),j==="downloaded"&&u.jsx("button",{className:"btn-load",onClick:()=>v(k.id),children:" Load"}),j==="available"&&u.jsx("button",{className:"btn-download",onClick:()=>m(k.id),children:" Download"}),j==="downloading"&&u.jsx("span",{className:"status-badge downloading",children:"Downloading..."}),(j==="downloaded"||j==="active")&&u.jsx("button",{className:"btn-remove",onClick:P=>{P.stopPropagation(),b(k.id)},title:"Remove from cache",children:""})]})]},k.id)})}),C.length===0&&u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:"No models in this category"})})]}),u.jsxs("footer",{className:"ms-footer",children:[u.jsx("p",{className:"hint",children:" Models are cached locally after download. Larger models = better quality but slower."}),u.jsx("button",{className:"btn-clear-cache",onClick:w,children:" Clear All Cache"})]})]})}):null}const GD=T.memo(FD);function YD({isOpen:e,onClose:n}){const[i,a]=T.useState({localRequests:0,externalRequests:0,modelsLoaded:[],storageUsed:0,lastActivity:null});T.useEffect(()=>{navigator.storage?.estimate&&navigator.storage.estimate().then(({usage:p,quota:g})=>{a(m=>({...m,storageUsed:p||0,storageQuota:g||0}))});const c=window.fetch;let f=0,h=0;return window.fetch=function(...p){const g=p[0]?.toString()||"";return g.startsWith("/")||g.includes("localhost")?f++:g.startsWith("http")&&h++,a(m=>({...m,localRequests:f,externalRequests:h,lastActivity:new Date().toISOString()})),c.apply(this,p)},()=>{window.fetch=c}},[]);const l=c=>{if(!c)return"0 B";const f=1024,h=["B","KB","MB","GB"],p=Math.floor(Math.log(c)/Math.log(f));return`${(c/Math.pow(f,p)).toFixed(1)} ${h[p]}`},s=i.externalRequests===0?100:Math.max(0,100-i.externalRequests/(i.localRequests+1)*100);return e?u.jsx("div",{className:"privacy-monitor-overlay",onClick:n,children:u.jsxs("div",{className:"privacy-monitor",onClick:c=>c.stopPropagation(),children:[u.jsxs("header",{className:"pm-header",children:[u.jsx("h2",{children:" Privacy Monitor"}),u.jsx("button",{className:"btn-close",onClick:n,children:""})]}),u.jsxs("div",{className:"pm-content",children:[u.jsxs("div",{className:"privacy-score-section",children:[u.jsxs("div",{className:`privacy-score ${s===100?"perfect":s>80?"good":"warning"}`,children:[u.jsxs("span",{className:"score-value",children:[Math.round(s),"%"]}),u.jsx("span",{className:"score-label",children:"Local Processing"})]}),s===100&&u.jsx("div",{className:"privacy-badge",children:" Zero Cloud Leakage"})]}),u.jsxs("div",{className:"pm-stats-grid",children:[u.jsxs("div",{className:"pm-stat",children:[u.jsx("span",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.localRequests}),u.jsx("span",{className:"stat-label",children:"Local Requests"})]})]}),u.jsxs("div",{className:"pm-stat",children:[u.jsx("span",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.externalRequests}),u.jsx("span",{className:"stat-label",children:"External Calls"})]})]}),u.jsxs("div",{className:"pm-stat",children:[u.jsx("span",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:l(i.storageUsed)}),u.jsx("span",{className:"stat-label",children:"Local Storage"})]})]}),u.jsxs("div",{className:"pm-stat",children:[u.jsx("span",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:"WebLLM"}),u.jsx("span",{className:"stat-label",children:"AI Engine"})]})]})]}),u.jsxs("div",{className:"pm-features",children:[u.jsx("h3",{children:"Privacy Features"}),u.jsxs("ul",{children:[u.jsx("li",{children:" All AI runs locally in your browser"}),u.jsx("li",{children:" No data sent to external APIs"}),u.jsx("li",{children:" Workflows stored in IndexedDB"}),u.jsx("li",{children:" No telemetry or tracking"}),u.jsx("li",{children:" Open source & auditable"})]})]}),u.jsxs("div",{className:"pm-storage",children:[u.jsx("h3",{children:"Local Data"}),u.jsx("div",{className:"storage-bar",children:u.jsx("div",{className:"storage-used",style:{width:`${Math.min(100,i.storageUsed/(i.storageQuota||1)*100)}%`}})}),u.jsxs("span",{className:"storage-text",children:[l(i.storageUsed)," /"," ",l(i.storageQuota)]})]})]})]})}):null}const XD=T.memo(YD);function QD(){const[e,n]=T.useState(!1),[i,a]=T.useState(!1),l=T.useCallback(()=>{window.dispatchEvent(new CustomEvent("toggleOverseer"))},[]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"ai-controls-panel",children:[u.jsxs("button",{className:"ai-btn overseer-btn",onClick:l,title:"Toggle Overseer Agent",children:[" ",u.jsx("span",{children:"Chat with Overseer"})]}),u.jsx("div",{className:"divider"}),u.jsx("button",{className:`ai-btn ${i?"active":""}`,onClick:()=>a(!0),title:"Switch Model",children:""}),u.jsx("button",{className:`ai-btn ${e?"active":""}`,onClick:()=>n(!0),title:"Privacy Monitor",children:""})]}),e&&kh.createPortal(u.jsx(XD,{onClose:()=>n(!1),isOpen:!0}),document.body),i&&kh.createPortal(u.jsx(GD,{onClose:()=>a(!1),isOpen:!0}),document.body)]})}function ZD({isOpen:e,onClose:n,onSelectNode:i,insertPosition:a}){const[l,s]=T.useState(""),[c,f]=T.useState(0),h=T.useRef(null),p=T.useRef(null),g=T.useMemo(()=>Object.values(Si).map(C=>({...C,categoryName:Hr[C.category]?.name||C.category,categoryColor:Hr[C.category]?.color||"#666"})),[]),m=T.useMemo(()=>{if(!l.trim())return g;const C=l.toLowerCase();return g.filter(S=>S.name.toLowerCase().includes(C)||S.description?.toLowerCase().includes(C)||S.categoryName.toLowerCase().includes(C))},[g,l]),v=T.useMemo(()=>{const C={};return m.forEach(S=>{C[S.category]||(C[S.category]={name:S.categoryName,color:S.categoryColor,nodes:[]}),C[S.category].nodes.push(S)}),C},[m]),b=T.useMemo(()=>{const C=[];return Object.entries(v).forEach(([,S])=>{S.nodes.forEach(k=>C.push(k))}),C},[v]);T.useEffect(()=>{e&&h.current&&(h.current.focus(),s(""),f(0))},[e]),T.useEffect(()=>{if(p.current&&b.length>0){const C=p.current.querySelector(".node-item.selected");C&&C.scrollIntoView({block:"nearest"})}},[c,b.length]);const w=T.useCallback(C=>{switch(C.key){case"ArrowDown":C.preventDefault(),f(S=>Math.min(S+1,b.length-1));break;case"ArrowUp":C.preventDefault(),f(S=>Math.max(S-1,0));break;case"Enter":C.preventDefault(),b[c]&&(i(b[c].type,a),n());break;case"Escape":n();break}},[b,c,i,a,n]),N=T.useCallback(C=>{i(C,a),n()},[i,a,n]);return e?u.jsx("div",{className:"command-palette-overlay",onClick:n,children:u.jsxs("div",{className:"command-palette",onClick:C=>C.stopPropagation(),onKeyDown:w,children:[u.jsxs("div",{className:"palette-header",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{ref:h,type:"text",className:"palette-search",placeholder:"Search nodes... (Esc to close)",value:l,onChange:C=>{s(C.target.value),f(0)}}),u.jsx("span",{className:"shortcut-hint",children:"K"})]}),u.jsxs("div",{className:"palette-content",ref:p,children:[Object.entries(v).map(([C,S])=>u.jsxs("div",{className:"node-category",children:[u.jsx("div",{className:"category-header",style:{"--cat-color":S.color},children:S.name}),S.nodes.map(k=>{const j=b.findIndex(_=>_.type===k.type);return u.jsxs("div",{className:`node-item ${j===c?"selected":""}`,onClick:()=>N(k.type),onMouseEnter:()=>f(j),children:[u.jsx("span",{className:"node-icon",children:k.icon}),u.jsxs("div",{className:"node-info",children:[u.jsx("span",{className:"node-name",children:k.name}),u.jsx("span",{className:"node-desc",children:k.description})]})]},k.type)})]},C)),b.length===0&&u.jsxs("div",{className:"no-results",children:['No nodes match "',l,'"']})]})]})}):null}const WD=T.memo(ZD);function KD({onClose:e}){const n=Xe(h=>h.logs),i=Xe(h=>h.nodeResults),[a,l]=T.useState("timeline"),s=T.useMemo(()=>{const h={},p={total:0,byNode:{}};let g=0,m=0;Object.entries(i).forEach(([b,w])=>{g++,w.executionTime&&(m+=w.executionTime,h[b]||(h[b]={times:[],avg:0,max:0,min:1/0}),h[b].times.push(w.executionTime),h[b].max=Math.max(h[b].max,w.executionTime),h[b].min=Math.min(h[b].min,w.executionTime),h[b].avg=h[b].times.reduce((N,C)=>N+C,0)/h[b].times.length),(w.error||w.success===!1)&&(p.total++,p.byNode[b]=(p.byNode[b]||0)+1)});const v=Object.entries(h).map(([b,w])=>({nodeId:b,avg:w.avg,max:w.max})).sort((b,w)=>w.avg-b.avg).slice(0,5);return{totalExecutions:g,totalTime:m,avgTime:g>0?m/g:0,errorCount:p,slowestNodes:v,nodeTimings:h}},[i]),c=T.useMemo(()=>n.slice(-50).reverse(),[n]),f=h=>h<1e3?`${Math.round(h)}ms`:`${(h/1e3).toFixed(2)}s`;return u.jsx("div",{className:"analytics-overlay",onClick:e,children:u.jsxs("div",{className:"analytics-panel",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"analytics-header",children:[u.jsx("h2",{children:" Execution Analytics"}),u.jsx("button",{className:"close-btn",onClick:e,children:""})]}),u.jsxs("div",{className:"analytics-tabs",children:[u.jsx("button",{className:`tab ${a==="timeline"?"active":""}`,onClick:()=>l("timeline"),children:"Timeline"}),u.jsx("button",{className:`tab ${a==="performance"?"active":""}`,onClick:()=>l("performance"),children:"Performance"}),u.jsxs("button",{className:`tab ${a==="errors"?"active":""}`,onClick:()=>l("errors"),children:["Errors"," ",s.errorCount.total>0&&u.jsx("span",{className:"error-badge",children:s.errorCount.total})]})]}),u.jsxs("div",{className:"analytics-body",children:[u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:s.totalExecutions}),u.jsx("span",{className:"stat-label",children:"Executions"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:f(s.avgTime)}),u.jsx("span",{className:"stat-label",children:"Avg Time"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:f(s.totalTime)}),u.jsx("span",{className:"stat-label",children:"Total Time"})]}),u.jsxs("div",{className:"stat-card error",children:[u.jsx("span",{className:"stat-value",children:s.errorCount.total}),u.jsx("span",{className:"stat-label",children:"Errors"})]})]}),a==="timeline"&&u.jsxs("div",{className:"timeline-section",children:[u.jsx("h3",{children:"Recent Activity"}),u.jsx("div",{className:"timeline-list",children:c.length>0?c.map((h,p)=>u.jsxs("div",{className:`timeline-item ${h.type}`,children:[u.jsx("span",{className:"timeline-icon",children:h.type==="success"?"":h.type==="error"?"":h.type==="warning"?"":""}),u.jsx("span",{className:"timeline-node",children:h.nodeName}),u.jsx("span",{className:"timeline-msg",children:h.message})]},p)):u.jsx("div",{className:"empty-state",children:"No execution history yet"})})]}),a==="performance"&&u.jsxs("div",{className:"performance-section",children:[u.jsx("h3",{children:"Slowest Nodes"}),u.jsx("div",{className:"performance-list",children:s.slowestNodes.length>0?s.slowestNodes.map((h,p)=>u.jsxs("div",{className:"performance-item",children:[u.jsxs("span",{className:"rank",children:["#",p+1]}),u.jsx("span",{className:"node-id",children:h.nodeId.split("-")[0]}),u.jsx("div",{className:"timing-bar",style:{width:`${Math.min(h.avg/(s.slowestNodes[0]?.avg||1)*100,100)}%`}}),u.jsx("span",{className:"timing-value",children:f(h.avg)})]},h.nodeId)):u.jsx("div",{className:"empty-state",children:"No performance data yet"})})]}),a==="errors"&&u.jsxs("div",{className:"errors-section",children:[u.jsx("h3",{children:"Error Log"}),u.jsx("div",{className:"errors-list",children:s.errorCount.total>0?Object.entries(s.errorCount.byNode).map(([h,p])=>u.jsxs("div",{className:"error-item",children:[u.jsxs("span",{className:"error-count",children:[p,"x"]}),u.jsx("span",{className:"error-node",children:h.split("-")[0]})]},h)):u.jsx("div",{className:"empty-state",children:" No errors!"})})]})]})]})})}const JD=T.memo(KD),e_={manualTrigger:L2,scheduleTrigger:B2,webhookTrigger:P2,errorTrigger:U2,browserEventTrigger:F2,httpRequest:tD,codeExecutor:Y2,setVariable:Q2,fileSystem:J2,localStorage:W2,pythonExecutor:ID,ifElse:iD,loop:aD,switchNode:lD,merge:cD,aiAgent:vD,chatModel:wD,vectorMemory:ND,waitForApproval:jD,subWorkflow:kD,textToSpeech:OD,imageGeneration:zD,semanticRouter:AD,evaluator:DD,output:HD,groupNode:dD},t_={animated:UD};function n_(){const e=T.useRef(null),{screenToFlowPosition:n,fitView:i,zoomIn:a,zoomOut:l}=ru(),[s,c]=T.useState(null),[f,h]=T.useState(null),[p,g]=T.useState(!0),[m,v]=T.useState(!1),[b,w]=T.useState(!1),{zoom:N}=TM(),C=Ce(te=>te.nodes),S=Ce(te=>te.edges),k=Ce(te=>te.onNodesChange),j=Ce(te=>te.onEdgesChange),_=Ce(te=>te.onConnect),P=Ce(te=>te.addNode),M=Ce(te=>te.deleteNode),H=Ce(te=>te.setSelectedNode),F=Ce(te=>te.selectedNodeId),X=Ce(te=>te.getWorkflowData),I=Ya(),L=Xe(te=>te.currentNodeId),q=Xe(te=>te.isRunning),K=T.useCallback(te=>o2(te,C,S),[C,S]),A=T.useCallback(()=>{c(null)},[]),$=T.useCallback(()=>{H(null),c(null)},[H]),D=T.useCallback((te,re)=>{te.preventDefault(),H(re.id),c({x:te.clientX,y:te.clientY,type:"node",nodeId:re.id})},[H]),U=T.useCallback(te=>{te.preventDefault();const re=n({x:te.clientX,y:te.clientY});c({x:te.clientX,y:te.clientY,type:"pane",position:re})},[n]),[G,Z]=T.useState(null);T.useEffect(()=>{const te=de=>{const{edgeId:oe}=de.detail;S.find(xe=>xe.id===oe)&&(Ce.getState().onEdgesChange([{id:oe,type:"remove"}]),I.info("Connection deleted"))},re=de=>{const{edgeId:oe,position:fe}=de.detail;Z(oe),c({x:fe.x+(e.current?.getBoundingClientRect().left||0),y:fe.y+(e.current?.getBoundingClientRect().top||0),type:"insert",position:{x:fe.x,y:fe.y}})};return window.addEventListener("deleteEdge",te),window.addEventListener("addNodeOnEdge",re),()=>{window.removeEventListener("deleteEdge",te),window.removeEventListener("addNodeOnEdge",re)}},[S,I]);const O=T.useCallback(te=>{const re=C.find(oe=>oe.id===F),de=oe=>{if(s?.position)if(s.type==="insert"&&G){const fe=S.find(xe=>xe.id===G);if(fe){const xe=tr(oe,s.position);P(xe);const je={id:`e${fe.source}-${xe.id}`,source:fe.source,sourceHandle:fe.sourceHandle,target:xe.id,targetHandle:"input-0",type:"animated"},ve={id:`e${xe.id}-${fe.target}`,source:xe.id,sourceHandle:"output-0",target:fe.target,targetHandle:fe.targetHandle,type:"animated"};Ce.getState().onEdgesChange([{id:G,type:"remove"}]);const{edges:Ee,setEdges:De}=Ce.getState();De([...Ee.filter(Ue=>Ue.id!==G),je,ve]),I.success("Node inserted")}Z(null)}else P(tr(oe,s.position))};switch(te){case"delete":F&&(M(F),H(null),I.info("Node deleted"));break;case"duplicate":if(re){const oe=tr(re.type,{x:re.position.x+50,y:re.position.y+50});oe.data={...re.data,label:`${re.data.label} (copy)`},P(oe),I.success("Node duplicated")}break;case"copy":re&&(h({...re}),I.info("Node copied"));break;case"cut":re&&(h({...re}),M(F),H(null),I.info("Node cut"));break;case"paste":if(f&&s?.position){const oe=tr(f.type,s.position);oe.data={...f.data,label:`${f.data.label} (paste)`},P(oe),I.success("Node pasted")}break;case"addTrigger":de("manualTrigger");break;case"addHTTP":de("httpRequest");break;case"addAI":de("aiAgent");break;case"codeExecutor":de("codeExecutor");break;case"setVariable":de("setVariable");break;case"ifElse":de("ifElse");break;case"textToSpeech":de("textToSpeech");break;case"output":de("output");break;case"fitView":i({padding:.2});break;case"zoomIn":a();break;case"zoomOut":l();break}c(null)},[C,S,F,M,H,P,f,s,G,i,a,l,I]);T.useEffect(()=>{const te=re=>{if(re.target.tagName==="INPUT"||re.target.tagName==="TEXTAREA")return;const de=re.ctrlKey||re.metaKey;if(de&&re.key==="s"){re.preventDefault();const oe=X();localStorage.setItem("flownode-workflow",JSON.stringify(oe)),I.success("Workflow saved")}if(de&&re.key==="c"&&F){const oe=C.find(fe=>fe.id===F);oe&&(h({...oe}),I.info("Node copied"))}if(de&&re.key==="v"&&f){const oe=tr(f.type,{x:f.position.x+100,y:f.position.y+100});oe.data={...f.data},P(oe),I.success("Node pasted")}if(de&&re.key==="d"&&F){re.preventDefault();const oe=C.find(fe=>fe.id===F);if(oe){const fe=tr(oe.type,{x:oe.position.x+50,y:oe.position.y+50});fe.data={...oe.data,label:`${oe.data.label} (copy)`},P(fe),H(fe.id),I.success("Node duplicated")}}de&&(re.key==="+"||re.key==="=")&&(re.preventDefault(),a()),de&&re.key==="-"&&(re.preventDefault(),l()),de&&re.key==="0"&&(re.preventDefault(),i({padding:.2})),de&&re.key==="k"&&(re.preventDefault(),v(!0)),re.shiftKey&&re.key==="A"&&(re.preventDefault(),w(oe=>!oe))};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[C,F,f,P,H,X,i,a,l,I]);const B=T.useCallback(te=>{te.preventDefault(),te.dataTransfer.dropEffect="move"},[]),V=T.useCallback(te=>{te.preventDefault();const re=te.dataTransfer.getData("application/reactflow");if(!re||!Si[re])return;const de=n({x:te.clientX,y:te.clientY}),oe=tr(re,de);P(oe)},[n,P]),z=T.useMemo(()=>({type:"animated",style:{stroke:"var(--edge-color)",strokeWidth:2}}),[]),ie=T.useCallback(te=>q&&te.id===L?"var(--color-success)":lu(te.type),[q,L]);return u.jsxs("div",{className:"workflow-editor",ref:e,children:[u.jsxs(EM,{nodes:C,edges:S,onNodesChange:k,onEdgesChange:j,onConnect:_,onNodeClick:A,onPaneClick:$,onNodeContextMenu:D,onPaneContextMenu:U,onDragOver:B,onDrop:V,nodeTypes:e_,edgeTypes:t_,isValidConnection:K,defaultEdgeOptions:z,snapToGrid:!0,snapGrid:[15,15],minZoom:.5,maxZoom:5,deleteKeyCode:["Backspace","Delete"],proOptions:{hideAttribution:!0},children:[u.jsx(OM,{variant:"dots",gap:20,size:1,color:"var(--border-color)"}),u.jsxs("div",{className:`minimap-container ${p?"expanded":"collapsed"}`,children:[u.jsx("button",{className:"minimap-toggle",onClick:()=>g(!p),title:p?"Hide minimap":"Show minimap",children:""}),p&&u.jsx(KM,{nodeColor:ie,maskColor:"rgba(10, 10, 15, 0.8)",className:"workflow-minimap",pannable:!0,zoomable:!0})]}),u.jsxs("div",{className:"view-controls-panel",children:[u.jsxs("div",{className:"zoom-controls",children:[u.jsx("button",{className:"zoom-btn",onClick:()=>l(),title:"Zoom out (Ctrl+-)",children:""}),u.jsxs("span",{className:"zoom-level",children:[Math.round(N*100),"%"]}),u.jsx("button",{className:"zoom-btn",onClick:()=>a(),title:"Zoom in (Ctrl++)",children:"+"})]}),u.jsx("button",{className:"view-btn",onClick:()=>i({padding:.2}),title:"Fit to screen (Ctrl+0)",children:""})]}),u.jsx(QD,{}),u.jsx(VD,{})]}),s&&u.jsx(c2,{x:s.x,y:s.y,type:s.type,onAction:O,onClose:()=>c(null)}),u.jsx(WD,{isOpen:m,onClose:()=>v(!1),onSelectNode:(te,re)=>{P(tr(te,re||{x:400,y:300}))},insertPosition:s?.position||{x:400,y:300}}),b&&u.jsx(JD,{onClose:()=>w(!1)}),C.length===0&&u.jsxs("div",{className:"workflow-empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Build Your Workflow"}),u.jsx("p",{children:"Drag nodes from the sidebar to get started"})]})]})}const Dh=[{id:"api-fetch",name:"API Fetch & Transform",description:"Fetch data from an API and process it with code",category:"api",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start"}},{id:"http-1",type:"httpRequest",position:{x:350,y:200},data:{label:"Fetch Data",method:"GET",url:"https://jsonplaceholder.typicode.com/posts/1",timeout:3e4}},{id:"code-1",type:"codeExecutor",position:{x:600,y:200},data:{label:"Transform",code:`// Process the API response
const { data } = input;
return {
  title: data.title.toUpperCase(),
  body: data.body.substring(0, 100) + "...",
  processed: true
};`}}],edges:[{id:"e1-2",source:"trigger-1",target:"http-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2-3",source:"http-1",target:"code-1",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"conditional-routing",name:"Conditional Routing",description:"Route data based on conditions using If/Else",category:"logic",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:250},data:{label:"Input"}},{id:"setvar-1",type:"setVariable",position:{x:320,y:250},data:{label:"Set Status",variableName:"status",value:"active",mode:"set"}},{id:"ifelse-1",type:"ifElse",position:{x:540,y:250},data:{label:"Check Status",condition:"status",operator:"equals",compareValue:"active"}},{id:"code-true",type:"codeExecutor",position:{x:780,y:150},data:{label:"Active Path",code:'return { ...input, message: "User is ACTIVE" };'}},{id:"code-false",type:"codeExecutor",position:{x:780,y:350},data:{label:"Inactive Path",code:'return { ...input, message: "User is INACTIVE" };'}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"ifelse-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"ifelse-1",target:"code-true",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e4",source:"ifelse-1",target:"code-false",sourceHandle:"output-1",targetHandle:"input-0"}]},{id:"loop-processing",name:"Loop Over Items",description:"Process an array of items one by one",category:"data",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start"}},{id:"setvar-1",type:"setVariable",position:{x:320,y:200},data:{label:"Create Array",variableName:"items",value:"{{ [1, 2, 3, 4, 5] }}",mode:"set"}},{id:"loop-1",type:"loop",position:{x:540,y:200},data:{label:"Loop Items",itemsPath:"items",maxIterations:100}},{id:"code-1",type:"codeExecutor",position:{x:760,y:120},data:{label:"Process Item",code:`return { 
  item: input.item,
  squared: input.item * input.item,
  index: input.index 
};`}},{id:"code-done",type:"codeExecutor",position:{x:760,y:280},data:{label:"Done",code:`return { 
  completed: true, 
  results: input.loopResults 
};`}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"loop-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"loop-1",target:"code-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e4",source:"loop-1",target:"code-done",sourceHandle:"output-1",targetHandle:"input-0"}]},{id:"ai-chat",name:"AI Chat Assistant",description:"Send text to AI and get a response",category:"ai",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"User Input"}},{id:"setvar-1",type:"setVariable",position:{x:340,y:200},data:{label:"Set Question",variableName:"question",value:"What is the capital of France?",mode:"set"}},{id:"ai-1",type:"aiAgent",position:{x:580,y:200},data:{label:"AI Assistant",systemPrompt:"You are a helpful assistant. Answer concisely.",modelId:"gemma-2-2b-it-q4f16_1-MLC",temperature:.7,maxTokens:500}}],edges:[{id:"e1",source:"trigger-1",target:"setvar-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"setvar-1",target:"ai-1",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"data-pipeline",name:"Data Pipeline",description:"Fetch, filter, and aggregate data",category:"data",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start Pipeline"}},{id:"http-1",type:"httpRequest",position:{x:320,y:200},data:{label:"Fetch Users",method:"GET",url:"https://jsonplaceholder.typicode.com/users",timeout:3e4}},{id:"code-filter",type:"codeExecutor",position:{x:540,y:200},data:{label:"Filter & Map",code:`// Filter and transform the data
const users = input.data;
return {
  users: users.map(u => ({
    id: u.id,
    name: u.name,
    email: u.email,
    city: u.address.city
  })),
  count: users.length
};`}},{id:"code-aggregate",type:"codeExecutor",position:{x:760,y:200},data:{label:"Aggregate",code:`// Create summary
return {
  summary: \`Processed \${input.count} users\`,
  users: input.users,
  timestamp: new Date().toISOString()
};`}}],edges:[{id:"e1",source:"trigger-1",target:"http-1",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e2",source:"http-1",target:"code-filter",sourceHandle:"output-0",targetHandle:"input-0"},{id:"e3",source:"code-filter",target:"code-aggregate",sourceHandle:"output-0",targetHandle:"input-0"}]},{id:"poem-speech",name:"Poem to Speech",description:"Generate a poem using AI and read it out loud",category:"ai",icon:"",nodes:[{id:"trigger-1",type:"manualTrigger",position:{x:100,y:200},data:{label:"Start",description:"Enter your poem topic",inputFields:[{name:"topic",type:"text",label:"Poem Topic",placeholder:"Enter a topic for the poem...",required:!0}]}},{id:"ai-1",type:"aiAgent",position:{x:350,y:200},data:{label:"Poem Writer",systemPrompt:"You are a creative poet. Write beautiful, evocative poems based on the given topic. Keep poems to 4-8 lines. Output ONLY the poem, no commentary.",reasoningMode:"direct",temperature:.8,maxTokens:500}},{id:"tts-1",type:"textToSpeech",position:{x:600,y:200},data:{label:"Speak Poem",provider:"webSpeech",voice:"default",speed:.9,pitch:1,autoPlay:!0}},{id:"output-1",type:"output",position:{x:850,y:200},data:{label:"Final Output",outputType:"console",formatJson:!1}}],edges:[{id:"e1",source:"trigger-1",target:"ai-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"},{id:"e2",source:"ai-1",target:"tts-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"},{id:"e3",source:"tts-1",target:"output-1",sourceHandle:"output-0",targetHandle:"input-0",type:"animated"}]}],Qo=a2();function i_(){const[e,n]=T.useState(null),[i,a]=T.useState(""),[l,s]=T.useState(!1),c=Ce(S=>S.loadWorkflow),f=Ya(),h=e?Object.values(Hr).find(S=>S.name===e):null,p=T.useMemo(()=>e?Qo[e]||[]:[],[e]),g=T.useMemo(()=>{if(!i.trim())return p;const S=i.toLowerCase();return p.filter(k=>k.name.toLowerCase().includes(S)||k.description.toLowerCase().includes(S))},[p,i]),m=T.useMemo(()=>{if(!i.trim())return Object.entries(Qo);const S=i.toLowerCase();return Object.entries(Qo).filter(([k,j])=>k.toLowerCase().includes(S)?!0:j.some(_=>_.name.toLowerCase().includes(S)||_.description.toLowerCase().includes(S)))},[i]),v=T.useCallback(S=>{n(S),a("")},[]),b=T.useCallback(()=>{n(null),a("")},[]),w=T.useCallback((S,k)=>{S.dataTransfer.setData("application/reactflow",k),S.dataTransfer.effectAllowed="move"},[]),N=T.useCallback(S=>{c({nodes:S.nodes,edges:S.edges}),f.success(`Loaded template: ${S.name}`)},[c,f]),C=Object.values(Qo).flat().length;return u.jsxs("aside",{className:"node-sidebar",children:[u.jsxs("div",{className:"sidebar-header",children:[e?u.jsxs("div",{className:"breadcrumb",children:[u.jsx("button",{className:"back-btn",onClick:b,title:"Back to folders",children:""}),u.jsxs("span",{className:"current-folder",style:{"--folder-color":h?.color},children:[" ",e]})]}):u.jsx("h2",{children:" Nodes"}),u.jsx("div",{className:"header-actions",children:u.jsx("button",{className:`templates-toggle ${l?"active":""}`,onClick:()=>s(!l),title:"Templates",children:""})})]}),l&&u.jsxs("div",{className:"templates-panel",children:[u.jsxs("div",{className:"templates-header",children:[u.jsx("h3",{children:" Templates"}),u.jsx("span",{className:"templates-count",children:Dh.length})]}),u.jsx("div",{className:"templates-list",children:Dh.map(S=>u.jsxs("button",{className:"template-item",onClick:()=>N(S),children:[u.jsx("span",{className:"template-icon",children:S.icon}),u.jsxs("div",{className:"template-info",children:[u.jsx("span",{className:"template-name",children:S.name}),u.jsx("span",{className:"template-desc",children:S.description})]})]},S.id))})]}),!l&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sidebar-search",children:u.jsxs("div",{className:"search-wrapper",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:e?"Search in folder...":"Search nodes...",value:i,onChange:S=>a(S.target.value),className:"node-search-input"}),i&&u.jsx("button",{className:"search-clear",onClick:()=>a(""),children:""})]})}),u.jsxs("div",{className:"sidebar-content",children:[!e&&u.jsxs("div",{className:"folder-list",children:[m.map(([S,k])=>{const j=Object.values(Hr).find(_=>_.name===S);return u.jsxs("button",{className:"folder-item",onClick:()=>v(S),style:{"--folder-color":j?.color},children:[u.jsx("span",{className:"folder-icon",children:""}),u.jsxs("div",{className:"folder-info",children:[u.jsx("span",{className:"folder-name",children:S}),u.jsx("span",{className:"folder-desc",children:j?.description})]}),u.jsx("span",{className:"folder-count",children:k.length}),u.jsx("span",{className:"folder-arrow",children:""})]},S)}),i&&m.length===0&&u.jsx("div",{className:"no-results",children:u.jsxs("p",{children:['No folders match "',i,'"']})})]}),e&&u.jsxs("div",{className:"node-list",children:[g.map(S=>u.jsxs("div",{className:"draggable-node",draggable:!0,onDragStart:k=>w(k,S.type),style:{"--node-color":h?.color},title:S.description,children:[u.jsx("span",{className:"node-icon",children:S.icon}),u.jsxs("div",{className:"node-info",children:[u.jsx("span",{className:"node-name",children:S.name}),u.jsx("span",{className:"node-description",children:S.description})]})]},S.type)),i&&g.length===0&&u.jsxs("div",{className:"no-results",children:[u.jsxs("p",{children:['No nodes match "',i,'"']}),u.jsx("button",{onClick:()=>a(""),children:"Clear"})]}),!i&&g.length===0&&u.jsx("div",{className:"no-results",children:u.jsx("p",{children:"This folder is empty"})})]})]})]}),u.jsx("div",{className:"sidebar-footer",children:u.jsx("p",{className:"tip",children:l?"Click template to load":e?`${g.length} nodes  Drag to canvas`:`${C} nodes in ${Object.keys(Qo).length} folders`})})]})}const r_=T.memo(i_);function a_({onClose:e}){return u.jsx("div",{className:"modal-overlay",onClick:e,children:u.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" Getting Started"}),u.jsx("button",{className:"btn-close",onClick:e,children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"tutorial-intro",children:[u.jsxs("p",{children:["Welcome to ",u.jsx("strong",{children:"IOSANS"}),". You can learn the basics by reading below, or take an interactive tour of the interface."]}),u.jsx("button",{className:"btn-primary",style:{width:"100%",padding:"12px",margin:"16px 0",fontSize:"1.1em"},onClick:()=>{e(),window.dispatchEvent(new Event("startTour"))},children:" Start Guided Onboarding"})]}),u.jsx("hr",{style:{borderColor:"rgba(255,255,255,0.1)",margin:"20px 0"}}),u.jsx("h3",{children:" Quick Start Guide"}),u.jsxs("div",{className:"tutorial-step",children:[u.jsx("h4",{children:"1. Start with a Trigger"}),u.jsxs("p",{children:["Drag a ",u.jsx("strong",{children:"Manual Trigger"})," from the sidebar (green category). This tells the workflow when to start running."]})]}),u.jsxs("div",{className:"tutorial-step",children:[u.jsx("h4",{children:"2. Add Intelligence"}),u.jsxs("p",{children:["Add an ",u.jsx("strong",{children:"AI Agent"}),' node. Configure its system prompt to define its personality and task (e.g., "Summarize this text").']})]}),u.jsxs("div",{className:"tutorial-step",children:[u.jsx("h4",{children:"3. Connect & Flow"}),u.jsxs("p",{children:["Connect nodes by dragging from"," ",u.jsx("span",{style:{color:"var(--color-success)"},children:"Source"})," to"," ",u.jsx("span",{style:{color:"var(--text-muted)"},children:"Target"})," ","handles. Data flows along these lines."]})]}),u.jsxs("div",{className:"tutorial-step",children:[u.jsx("h4",{children:"4. View Results"}),u.jsxs("p",{children:["Add an ",u.jsx("strong",{children:"Output Node"})," to visualize the final result, or inspect the ",u.jsx("strong",{children:"Logs Panel"})," on the right for detailed execution steps."]})]}),u.jsxs("div",{className:"tip-box",children:[u.jsx("strong",{children:"Pro Tip:"})," Use the ",u.jsx("strong",{children:"Overseer Agent"})," ","(Eye icon) to help you build complex workflows automatically!"]})]})]})})}const o_=T.memo(a_);function l_(e,n){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const s_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,c_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,u_={};function zv(e,n){return(u_.jsx?c_:s_).test(e)}const d_=/[ \t\n\f\r]/g;function f_(e){return typeof e=="object"?e.type==="text"?Lv(e.value):!1:Lv(e)}function Lv(e){return e.replace(d_,"")===""}class _l{constructor(n,i,a){this.normal=i,this.property=n,a&&(this.space=a)}}_l.prototype.normal={};_l.prototype.property={};_l.prototype.space=void 0;function ww(e,n){const i={},a={};for(const l of e)Object.assign(i,l.property),Object.assign(a,l.normal);return new _l(i,a,n)}function _h(e){return e.toLowerCase()}class Kt{constructor(n,i){this.attribute=i,this.property=n}}Kt.prototype.attribute="";Kt.prototype.booleanish=!1;Kt.prototype.boolean=!1;Kt.prototype.commaOrSpaceSeparated=!1;Kt.prototype.commaSeparated=!1;Kt.prototype.defined=!1;Kt.prototype.mustUseProperty=!1;Kt.prototype.number=!1;Kt.prototype.overloadedBoolean=!1;Kt.prototype.property="";Kt.prototype.spaceSeparated=!1;Kt.prototype.space=void 0;let h_=0;const Me=Ur(),wt=Ur(),Oh=Ur(),he=Ur(),it=Ur(),Ha=Ur(),cn=Ur();function Ur(){return 2**++h_}const Rh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Me,booleanish:wt,commaOrSpaceSeparated:cn,commaSeparated:Ha,number:he,overloadedBoolean:Oh,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Yf=Object.keys(Rh);class dp extends Kt{constructor(n,i,a,l){let s=-1;if(super(n,i),Iv(this,"space",l),typeof a=="number")for(;++s<Yf.length;){const c=Yf[s];Iv(this,Yf[s],(a&Rh[c])===Rh[c])}}}dp.prototype.defined=!0;function Iv(e,n,i){i&&(e[n]=i)}function Qa(e){const n={},i={};for(const[a,l]of Object.entries(e.properties)){const s=new dp(a,e.transform(e.attributes||{},a),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(s.mustUseProperty=!0),n[a]=s,i[_h(a)]=a,i[_h(s.attribute)]=a}return new _l(n,i,e.space)}const Sw=Qa({properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:it,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:he,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:it,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:wt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Nw(e,n){return n in e?e[n]:n}function Ew(e,n){return Nw(e,n.toLowerCase())}const p_=Qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ha,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Me,allowPaymentRequest:Me,allowUserMedia:Me,alt:null,as:null,async:Me,autoCapitalize:null,autoComplete:it,autoFocus:Me,autoPlay:Me,blocking:it,capture:null,charSet:null,checked:Me,cite:null,className:it,cols:he,colSpan:null,content:null,contentEditable:wt,controls:Me,controlsList:it,coords:he|Ha,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Me,defer:Me,dir:null,dirName:null,disabled:Me,download:Oh,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Me,formTarget:null,headers:it,height:he,hidden:Oh,high:he,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Me,inputMode:null,integrity:null,is:null,isMap:Me,itemId:null,itemProp:it,itemRef:it,itemScope:Me,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Me,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Me,muted:Me,name:null,nonce:null,noModule:Me,noValidate:Me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Me,optimum:he,pattern:null,ping:it,placeholder:null,playsInline:Me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Me,referrerPolicy:null,rel:it,required:Me,reversed:Me,rows:he,rowSpan:he,sandbox:it,scope:null,scoped:Me,seamless:Me,selected:Me,shadowRootClonable:Me,shadowRootDelegatesFocus:Me,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Me,useMap:null,value:wt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Me,declare:Me,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Me,noHref:Me,noShade:Me,noWrap:Me,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Me,disableRemotePlayback:Me,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:Ew}),m_=Qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Me,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ha,g2:Ha,glyphName:Ha,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cn,rev:cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cn,requiredFeatures:cn,requiredFonts:cn,requiredFormats:cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nw}),jw=Qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Cw=Qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ew}),kw=Qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),g_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},y_=/[A-Z]/g,Bv=/-[a-z]/g,x_=/^data[-\w.:]+$/i;function v_(e,n){const i=_h(n);let a=n,l=Kt;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&x_.test(n)){if(n.charAt(4)==="-"){const s=n.slice(5).replace(Bv,w_);a="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=n.slice(4);if(!Bv.test(s)){let c=s.replace(y_,b_);c.charAt(0)!=="-"&&(c="-"+c),n="data"+c}}l=dp}return new l(a,n)}function b_(e){return"-"+e.toLowerCase()}function w_(e){return e.charAt(1).toUpperCase()}const S_=ww([Sw,p_,jw,Cw,kw],"html"),fp=ww([Sw,m_,jw,Cw,kw],"svg");function N_(e){return e.join(" ").trim()}var Ma={},Xf,Hv;function E_(){if(Hv)return Xf;Hv=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,p="/",g="*",m="",v="comment",b="declaration";function w(C,S){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];S=S||{};var k=1,j=1;function _(A){var $=A.match(n);$&&(k+=$.length);var D=A.lastIndexOf(h);j=~D?A.length-D:j+A.length}function P(){var A={line:k,column:j};return function($){return $.position=new M(A),X(),$}}function M(A){this.start=A,this.end={line:k,column:j},this.source=S.source}M.prototype.content=C;function H(A){var $=new Error(S.source+":"+k+":"+j+": "+A);if($.reason=A,$.filename=S.source,$.line=k,$.column=j,$.source=C,!S.silent)throw $}function F(A){var $=A.exec(C);if($){var D=$[0];return _(D),C=C.slice(D.length),$}}function X(){F(i)}function I(A){var $;for(A=A||[];$=L();)$!==!1&&A.push($);return A}function L(){var A=P();if(!(p!=C.charAt(0)||g!=C.charAt(1))){for(var $=2;m!=C.charAt($)&&(g!=C.charAt($)||p!=C.charAt($+1));)++$;if($+=2,m===C.charAt($-1))return H("End of comment missing");var D=C.slice(2,$-2);return j+=2,_(D),C=C.slice($),j+=2,A({type:v,comment:D})}}function q(){var A=P(),$=F(a);if($){if(L(),!F(l))return H("property missing ':'");var D=F(s),U=A({type:b,property:N($[0].replace(e,m)),value:D?N(D[0].replace(e,m)):m});return F(c),U}}function K(){var A=[];I(A);for(var $;$=q();)$!==!1&&(A.push($),I(A));return A}return X(),K()}function N(C){return C?C.replace(f,m):m}return Xf=w,Xf}var Pv;function j_(){if(Pv)return Ma;Pv=1;var e=Ma&&Ma.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default=i;const n=e(E_());function i(a,l){let s=null;if(!a||typeof a!="string")return s;const c=(0,n.default)(a),f=typeof l=="function";return c.forEach(h=>{if(h.type!=="declaration")return;const{property:p,value:g}=h;f?l(p,g,h):g&&(s=s||{},s[p]=g)}),s}return Ma}var Zo={},$v;function C_(){if($v)return Zo;$v=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(p){return!p||i.test(p)||e.test(p)},c=function(p,g){return g.toUpperCase()},f=function(p,g){return"".concat(g,"-")},h=function(p,g){return g===void 0&&(g={}),s(p)?p:(p=p.toLowerCase(),g.reactCompat?p=p.replace(l,f):p=p.replace(a,f),p.replace(n,c))};return Zo.camelCase=h,Zo}var Wo,Uv;function k_(){if(Uv)return Wo;Uv=1;var e=Wo&&Wo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},n=e(j_()),i=C_();function a(l,s){var c={};return!l||typeof l!="string"||(0,n.default)(l,function(f,h){f&&h&&(c[(0,i.camelCase)(f,s)]=h)}),c}return a.default=a,Wo=a,Wo}var T_=k_();const A_=Yc(T_),Tw=Aw("end"),hp=Aw("start");function Aw(e){return n;function n(i){const a=i&&i.position&&i.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function M_(e){const n=hp(e),i=Tw(e);if(n&&i)return{start:n,end:i}}function sl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qv(e.position):"start"in e||"end"in e?qv(e):"line"in e||"column"in e?zh(e):""}function zh(e){return Vv(e&&e.line)+":"+Vv(e&&e.column)}function qv(e){return zh(e&&e.start)+"-"+zh(e&&e.end)}function Vv(e){return e&&typeof e=="number"?e:1}class It extends Error{constructor(n,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let l="",s={},c=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof n=="string"?l=n:!s.cause&&n&&(c=!0,l=n.message,s.cause=n),!s.ruleId&&!s.source&&typeof a=="string"){const h=a.indexOf(":");h===-1?s.ruleId=a:(s.source=a.slice(0,h),s.ruleId=a.slice(h+1))}if(!s.place&&s.ancestors&&s.ancestors){const h=s.ancestors[s.ancestors.length-1];h&&(s.place=h.position)}const f=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=f?f.line:void 0,this.name=sl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}It.prototype.file="";It.prototype.name="";It.prototype.reason="";It.prototype.message="";It.prototype.stack="";It.prototype.column=void 0;It.prototype.line=void 0;It.prototype.ancestors=void 0;It.prototype.cause=void 0;It.prototype.fatal=void 0;It.prototype.place=void 0;It.prototype.ruleId=void 0;It.prototype.source=void 0;const pp={}.hasOwnProperty,D_=new Map,__=/[A-Z]/g,O_=new Set(["table","tbody","thead","tfoot","tr"]),R_=new Set(["td","th"]),Mw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z_(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=n.filePath||void 0;let a;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=q_(i,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=U_(i,n.jsx,n.jsxs)}const l={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:a,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?fp:S_,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},s=Dw(l,e,void 0);return s&&typeof s!="string"?s:l.create(e,l.Fragment,{children:s||void 0},void 0)}function Dw(e,n,i){if(n.type==="element")return L_(e,n,i);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return I_(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return H_(e,n,i);if(n.type==="mdxjsEsm")return B_(e,n);if(n.type==="root")return P_(e,n,i);if(n.type==="text")return $_(e,n)}function L_(e,n,i){const a=e.schema;let l=a;n.tagName.toLowerCase()==="svg"&&a.space==="html"&&(l=fp,e.schema=l),e.ancestors.push(n);const s=Ow(e,n.tagName,!1),c=V_(e,n);let f=gp(e,n);return O_.has(n.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!f_(h):!0})),_w(e,c,s,n),mp(c,f),e.ancestors.pop(),e.schema=a,e.create(n,s,c,i)}function I_(e,n){if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}wl(e,n.position)}function B_(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);wl(e,n.position)}function H_(e,n,i){const a=e.schema;let l=a;n.name==="svg"&&a.space==="html"&&(l=fp,e.schema=l),e.ancestors.push(n);const s=n.name===null?e.Fragment:Ow(e,n.name,!0),c=F_(e,n),f=gp(e,n);return _w(e,c,s,n),mp(c,f),e.ancestors.pop(),e.schema=a,e.create(n,s,c,i)}function P_(e,n,i){const a={};return mp(a,gp(e,n)),e.create(n,e.Fragment,a,i)}function $_(e,n){return n.value}function _w(e,n,i,a){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(n.node=a)}function mp(e,n){if(n.length>0){const i=n.length>1?n:n[0];i&&(e.children=i)}}function U_(e,n,i){return a;function a(l,s,c,f){const p=Array.isArray(c.children)?i:n;return f?p(s,c,f):p(s,c)}}function q_(e,n){return i;function i(a,l,s,c){const f=Array.isArray(s.children),h=hp(a);return n(l,s,c,f,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function V_(e,n){const i={};let a,l;for(l in n.properties)if(l!=="children"&&pp.call(n.properties,l)){const s=G_(e,l,n.properties[l]);if(s){const[c,f]=s;e.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&R_.has(n.tagName)?a=f:i[c]=f}}if(a){const s=i.style||(i.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function F_(e,n){const i={};for(const a of n.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const s=a.data.estree.body[0];s.type;const c=s.expression;c.type;const f=c.properties[0];f.type,Object.assign(i,e.evaluater.evaluateExpression(f.argument))}else wl(e,n.position);else{const l=a.name;let s;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const f=a.value.data.estree.body[0];f.type,s=e.evaluater.evaluateExpression(f.expression)}else wl(e,n.position);else s=a.value===null?!0:a.value;i[l]=s}return i}function gp(e,n){const i=[];let a=-1;const l=e.passKeys?new Map:D_;for(;++a<n.children.length;){const s=n.children[a];let c;if(e.passKeys){const h=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(h){const p=l.get(h)||0;c=h+"-"+p,l.set(h,p+1)}}const f=Dw(e,s,c);f!==void 0&&i.push(f)}return i}function G_(e,n,i){const a=v_(e.schema,n);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?l_(i):N_(i)),a.property==="style"){let l=typeof i=="object"?i:Y_(e,String(i));return e.stylePropertyNameCase==="css"&&(l=X_(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&a.space?g_[a.property]||a.property:a.attribute,i]}}function Y_(e,n){try{return A_(n,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const a=i,l=new It("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=Mw+"#cannot-parse-style-attribute",l}}function Ow(e,n,i){let a;if(!i)a={type:"Literal",value:n};else if(n.includes(".")){const l=n.split(".");let s=-1,c;for(;++s<l.length;){const f=zv(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(s&&f.type==="Literal"),optional:!1}:f}a=c}else a=zv(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(a.type==="Literal"){const l=a.value;return pp.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(a);wl(e)}function wl(e,n){const i=new It("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Mw+"#cannot-handle-mdx-estrees-without-createevaluater",i}function X_(e){const n={};let i;for(i in e)pp.call(e,i)&&(n[Q_(i)]=e[i]);return n}function Q_(e){let n=e.replace(__,Z_);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function Z_(e){return"-"+e.toLowerCase()}const Qf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},W_={};function yp(e,n){const i=W_,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return Rw(e,a,l)}function Rw(e,n,i){if(K_(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Fv(e.children,n,i)}return Array.isArray(e)?Fv(e,n,i):""}function Fv(e,n,i){const a=[];let l=-1;for(;++l<e.length;)a[l]=Rw(e[l],n,i);return a.join("")}function K_(e){return!!(e&&typeof e=="object")}const Gv=document.createElement("i");function xp(e){const n="&"+e+";";Gv.innerHTML=n;const i=Gv.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===n?!1:i}function fn(e,n,i,a){const l=e.length;let s=0,c;if(n<0?n=-n>l?0:l+n:n=n>l?l:n,i=i>0?i:0,a.length<1e4)c=Array.from(a),c.unshift(n,i),e.splice(...c);else for(i&&e.splice(n,i);s<a.length;)c=a.slice(s,s+1e4),c.unshift(n,0),e.splice(...c),s+=1e4,n+=1e4}function Sn(e,n){return e.length>0?(fn(e,e.length,0,n),e):n}const Yv={}.hasOwnProperty;function zw(e){const n={};let i=-1;for(;++i<e.length;)J_(n,e[i]);return n}function J_(e,n){let i;for(i in n){const l=(Yv.call(e,i)?e[i]:void 0)||(e[i]={}),s=n[i];let c;if(s)for(c in s){Yv.call(l,c)||(l[c]=[]);const f=s[c];eO(l[c],Array.isArray(f)?f:f?[f]:[])}}}function eO(e,n){let i=-1;const a=[];for(;++i<n.length;)(n[i].add==="after"?e:a).push(n[i]);fn(e,0,0,a)}function Lw(e,n){const i=Number.parseInt(e,n);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Rn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pt=lr(/[A-Za-z]/),Lt=lr(/[\dA-Za-z]/),tO=lr(/[#-'*+\--9=?A-Z^-~]/);function $c(e){return e!==null&&(e<32||e===127)}const Lh=lr(/\d/),nO=lr(/[\dA-Fa-f]/),iO=lr(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function nt(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const su=lr(new RegExp("\\p{P}|\\p{S}","u")),Pr=lr(/\s/);function lr(e){return n;function n(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Za(e){const n=[];let i=-1,a=0,l=0;for(;++i<e.length;){const s=e.charCodeAt(i);let c="";if(s===37&&Lt(e.charCodeAt(i+1))&&Lt(e.charCodeAt(i+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const f=e.charCodeAt(i+1);s<56320&&f>56319&&f<57344?(c=String.fromCharCode(s,f),l=1):c=""}else c=String.fromCharCode(s);c&&(n.push(e.slice(a,i),encodeURIComponent(c)),a=i+l+1,c=""),l&&(i+=l,l=0)}return n.join("")+e.slice(a)}function $e(e,n,i,a){const l=a?a-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(h){return ze(h)?(e.enter(i),f(h)):n(h)}function f(h){return ze(h)&&s++<l?(e.consume(h),f):(e.exit(i),n(h))}}const rO={tokenize:aO};function aO(e){const n=e.attempt(this.parser.constructs.contentInitial,a,l);let i;return n;function a(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),$e(e,n,"linePrefix")}function l(f){return e.enter("paragraph"),s(f)}function s(f){const h=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=h),i=h,c(f)}function c(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),s):(e.consume(f),c)}}const oO={tokenize:lO},Xv={tokenize:sO};function lO(e){const n=this,i=[];let a=0,l,s,c;return f;function f(j){if(a<i.length){const _=i[a];return n.containerState=_[1],e.attempt(_[0].continuation,h,p)(j)}return p(j)}function h(j){if(a++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,l&&k();const _=n.events.length;let P=_,M;for(;P--;)if(n.events[P][0]==="exit"&&n.events[P][1].type==="chunkFlow"){M=n.events[P][1].end;break}S(a);let H=_;for(;H<n.events.length;)n.events[H][1].end={...M},H++;return fn(n.events,P+1,0,n.events.slice(_)),n.events.length=H,p(j)}return f(j)}function p(j){if(a===i.length){if(!l)return v(j);if(l.currentConstruct&&l.currentConstruct.concrete)return w(j);n.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Xv,g,m)(j)}function g(j){return l&&k(),S(a),v(j)}function m(j){return n.parser.lazy[n.now().line]=a!==i.length,c=n.now().offset,w(j)}function v(j){return n.containerState={},e.attempt(Xv,b,w)(j)}function b(j){return a++,i.push([n.currentConstruct,n.containerState]),v(j)}function w(j){if(j===null){l&&k(),S(0),e.consume(j);return}return l=l||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),N(j)}function N(j){if(j===null){C(e.exit("chunkFlow"),!0),S(0),e.consume(j);return}return we(j)?(e.consume(j),C(e.exit("chunkFlow")),a=0,n.interrupt=void 0,f):(e.consume(j),N)}function C(j,_){const P=n.sliceStream(j);if(_&&P.push(null),j.previous=s,s&&(s.next=j),s=j,l.defineSkip(j.start),l.write(P),n.parser.lazy[j.start.line]){let M=l.events.length;for(;M--;)if(l.events[M][1].start.offset<c&&(!l.events[M][1].end||l.events[M][1].end.offset>c))return;const H=n.events.length;let F=H,X,I;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){if(X){I=n.events[F][1].end;break}X=!0}for(S(a),M=H;M<n.events.length;)n.events[M][1].end={...I},M++;fn(n.events,F+1,0,n.events.slice(H)),n.events.length=M}}function S(j){let _=i.length;for(;_-- >j;){const P=i[_];n.containerState=P[1],P[0].exit.call(n,e)}i.length=j}function k(){l.write([null]),s=void 0,l=void 0,n.containerState._closeFlow=void 0}}function sO(e,n,i){return $e(e,e.attempt(this.parser.constructs.document,n,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xa(e){if(e===null||nt(e)||Pr(e))return 1;if(su(e))return 2}function cu(e,n,i){const a=[];let l=-1;for(;++l<e.length;){const s=e[l].resolveAll;s&&!a.includes(s)&&(n=s(n,i),a.push(s))}return n}const Ih={name:"attention",resolveAll:cO,tokenize:uO};function cO(e,n){let i=-1,a,l,s,c,f,h,p,g;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(a=i;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&n.sliceSerialize(e[a][1]).charCodeAt(0)===n.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[a][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;h=e[a][1].end.offset-e[a][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const m={...e[a][1].end},v={...e[i][1].start};Qv(m,-h),Qv(v,h),c={type:h>1?"strongSequence":"emphasisSequence",start:m,end:{...e[a][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:v},s={type:h>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[i][1].start}},l={type:h>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},e[a][1].end={...c.start},e[i][1].start={...f.end},p=[],e[a][1].end.offset-e[a][1].start.offset&&(p=Sn(p,[["enter",e[a][1],n],["exit",e[a][1],n]])),p=Sn(p,[["enter",l,n],["enter",c,n],["exit",c,n],["enter",s,n]]),p=Sn(p,cu(n.parser.constructs.insideSpan.null,e.slice(a+1,i),n)),p=Sn(p,[["exit",s,n],["enter",f,n],["exit",f,n],["exit",l,n]]),e[i][1].end.offset-e[i][1].start.offset?(g=2,p=Sn(p,[["enter",e[i][1],n],["exit",e[i][1],n]])):g=0,fn(e,a-1,i-a+3,p),i=a+p.length-g-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function uO(e,n){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,l=Xa(a);let s;return c;function c(h){return s=h,e.enter("attentionSequence"),f(h)}function f(h){if(h===s)return e.consume(h),f;const p=e.exit("attentionSequence"),g=Xa(h),m=!g||g===2&&l||i.includes(h),v=!l||l===2&&g||i.includes(a);return p._open=!!(s===42?m:m&&(l||!v)),p._close=!!(s===42?v:v&&(g||!m)),n(h)}}function Qv(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const dO={name:"autolink",tokenize:fO};function fO(e,n,i){let a=0;return l;function l(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(b){return Pt(b)?(e.consume(b),c):b===64?i(b):p(b)}function c(b){return b===43||b===45||b===46||Lt(b)?(a=1,f(b)):p(b)}function f(b){return b===58?(e.consume(b),a=0,h):(b===43||b===45||b===46||Lt(b))&&a++<32?(e.consume(b),f):(a=0,p(b))}function h(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):b===null||b===32||b===60||$c(b)?i(b):(e.consume(b),h)}function p(b){return b===64?(e.consume(b),g):tO(b)?(e.consume(b),p):i(b)}function g(b){return Lt(b)?m(b):i(b)}function m(b){return b===46?(e.consume(b),a=0,g):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):v(b)}function v(b){if((b===45||Lt(b))&&a++<63){const w=b===45?v:m;return e.consume(b),w}return i(b)}}const Ol={partial:!0,tokenize:hO};function hO(e,n,i){return a;function a(s){return ze(s)?$e(e,l,"linePrefix")(s):l(s)}function l(s){return s===null||we(s)?n(s):i(s)}}const Iw={continuation:{tokenize:mO},exit:gO,name:"blockQuote",tokenize:pO};function pO(e,n,i){const a=this;return l;function l(c){if(c===62){const f=a.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),s}return i(c)}function s(c){return ze(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(c))}}function mO(e,n,i){const a=this;return l;function l(c){return ze(c)?$e(e,s,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return e.attempt(Iw,n,i)(c)}}function gO(e){e.exit("blockQuote")}const Bw={name:"characterEscape",tokenize:yO};function yO(e,n,i){return a;function a(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),l}function l(s){return iO(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):i(s)}}const Hw={name:"characterReference",tokenize:xO};function xO(e,n,i){const a=this;let l=0,s,c;return f;function f(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),h}function h(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),s=31,c=Lt,g(m))}function p(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,c=nO,g):(e.enter("characterReferenceValue"),s=7,c=Lh,g(m))}function g(m){if(m===59&&l){const v=e.exit("characterReferenceValue");return c===Lt&&!xp(a.sliceSerialize(v))?i(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return c(m)&&l++<s?(e.consume(m),g):i(m)}}const Zv={partial:!0,tokenize:bO},Wv={concrete:!0,name:"codeFenced",tokenize:vO};function vO(e,n,i){const a=this,l={partial:!0,tokenize:P};let s=0,c=0,f;return h;function h(M){return p(M)}function p(M){const H=a.events[a.events.length-1];return s=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,f=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(M)}function g(M){return M===f?(c++,e.consume(M),g):c<3?i(M):(e.exit("codeFencedFenceSequence"),ze(M)?$e(e,m,"whitespace")(M):m(M))}function m(M){return M===null||we(M)?(e.exit("codeFencedFence"),a.interrupt?n(M):e.check(Zv,N,_)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===null||we(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(M)):ze(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$e(e,b,"whitespace")(M)):M===96&&M===f?i(M):(e.consume(M),v)}function b(M){return M===null||we(M)?m(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(M))}function w(M){return M===null||we(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(M)):M===96&&M===f?i(M):(e.consume(M),w)}function N(M){return e.attempt(l,_,C)(M)}function C(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),S}function S(M){return s>0&&ze(M)?$e(e,k,"linePrefix",s+1)(M):k(M)}function k(M){return M===null||we(M)?e.check(Zv,N,_)(M):(e.enter("codeFlowValue"),j(M))}function j(M){return M===null||we(M)?(e.exit("codeFlowValue"),k(M)):(e.consume(M),j)}function _(M){return e.exit("codeFenced"),n(M)}function P(M,H,F){let X=0;return I;function I($){return M.enter("lineEnding"),M.consume($),M.exit("lineEnding"),L}function L($){return M.enter("codeFencedFence"),ze($)?$e(M,q,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):q($)}function q($){return $===f?(M.enter("codeFencedFenceSequence"),K($)):F($)}function K($){return $===f?(X++,M.consume($),K):X>=c?(M.exit("codeFencedFenceSequence"),ze($)?$e(M,A,"whitespace")($):A($)):F($)}function A($){return $===null||we($)?(M.exit("codeFencedFence"),H($)):F($)}}}function bO(e,n,i){const a=this;return l;function l(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s)}function s(c){return a.parser.lazy[a.now().line]?i(c):n(c)}}const Zf={name:"codeIndented",tokenize:SO},wO={partial:!0,tokenize:NO};function SO(e,n,i){const a=this;return l;function l(p){return e.enter("codeIndented"),$e(e,s,"linePrefix",5)(p)}function s(p){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(p):i(p)}function c(p){return p===null?h(p):we(p)?e.attempt(wO,c,h)(p):(e.enter("codeFlowValue"),f(p))}function f(p){return p===null||we(p)?(e.exit("codeFlowValue"),c(p)):(e.consume(p),f)}function h(p){return e.exit("codeIndented"),n(p)}}function NO(e,n,i){const a=this;return l;function l(c){return a.parser.lazy[a.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):$e(e,s,"linePrefix",5)(c)}function s(c){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?n(c):we(c)?l(c):i(c)}}const EO={name:"codeText",previous:CO,resolve:jO,tokenize:kO};function jO(e){let n=e.length-4,i=3,a,l;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(a=i;++a<n;)if(e[a][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[n][1].type="codeTextPadding",i+=2,n-=2;break}}for(a=i-1,n++;++a<=n;)l===void 0?a!==n&&e[a][1].type!=="lineEnding"&&(l=a):(a===n||e[a][1].type==="lineEnding")&&(e[l][1].type="codeTextData",a!==l+2&&(e[l][1].end=e[a-1][1].end,e.splice(l+2,a-l-2),n-=a-l-2,a=l+2),l=void 0);return e}function CO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kO(e,n,i){let a=0,l,s;return c;function c(m){return e.enter("codeText"),e.enter("codeTextSequence"),f(m)}function f(m){return m===96?(e.consume(m),a++,f):(e.exit("codeTextSequence"),h(m))}function h(m){return m===null?i(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),h):m===96?(s=e.enter("codeTextSequence"),l=0,g(m)):we(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("codeTextData"),p(m))}function p(m){return m===null||m===32||m===96||we(m)?(e.exit("codeTextData"),h(m)):(e.consume(m),p)}function g(m){return m===96?(e.consume(m),l++,g):l===a?(e.exit("codeTextSequence"),e.exit("codeText"),n(m)):(s.type="codeTextData",p(m))}}class TO{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,i){const a=i??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(n,a):n>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(n,i,a){const l=i||0;this.setCursor(Math.trunc(n));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return a&&Ko(this.left,a),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Ko(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Ko(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const i=this.left.splice(n,Number.POSITIVE_INFINITY);Ko(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Ko(this.left,i.reverse())}}}function Ko(e,n){let i=0;if(n.length<1e4)e.push(...n);else for(;i<n.length;)e.push(...n.slice(i,i+1e4)),i+=1e4}function Pw(e){const n={};let i=-1,a,l,s,c,f,h,p;const g=new TO(e);for(;++i<g.length;){for(;i in n;)i=n[i];if(a=g.get(i),i&&a[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(h=a[1]._tokenizer.events,s=0,s<h.length&&h[s][1].type==="lineEndingBlank"&&(s+=2),s<h.length&&h[s][1].type==="content"))for(;++s<h.length&&h[s][1].type!=="content";)h[s][1].type==="chunkText"&&(h[s][1]._isInFirstContentOfListItem=!0,s++);if(a[0]==="enter")a[1].contentType&&(Object.assign(n,AO(g,i)),i=n[i],p=!0);else if(a[1]._container){for(s=i,l=void 0;s--;)if(c=g.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(a[1].end={...g.get(l)[1].start},f=g.slice(l,i),f.unshift(a),g.splice(l,i-l+1,f))}}return fn(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!p}function AO(e,n){const i=e.get(n)[1],a=e.get(n)[2];let l=n-1;const s=[];let c=i._tokenizer;c||(c=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,h=[],p={};let g,m,v=-1,b=i,w=0,N=0;const C=[N];for(;b;){for(;e.get(++l)[1]!==b;);s.push(l),b._tokenizer||(g=a.sliceStream(b),b.next||g.push(null),m&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=i;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(N=v+1,C.push(N),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):C.pop(),v=C.length;v--;){const S=f.slice(C[v],C[v+1]),k=s.pop();h.push([k,k+S.length-1]),e.splice(k,2,S)}for(h.reverse(),v=-1;++v<h.length;)p[w+h[v][0]]=w+h[v][1],w+=h[v][1]-h[v][0]-1;return p}const MO={resolve:_O,tokenize:OO},DO={partial:!0,tokenize:RO};function _O(e){return Pw(e),e}function OO(e,n){let i;return a;function a(f){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?s(f):we(f)?e.check(DO,c,s)(f):(e.consume(f),l)}function s(f){return e.exit("chunkContent"),e.exit("content"),n(f)}function c(f){return e.consume(f),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function RO(e,n,i){const a=this;return l;function l(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),$e(e,s,"linePrefix")}function s(c){if(c===null||we(c))return i(c);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?n(c):e.interrupt(a.parser.constructs.flow,i,n)(c)}}function $w(e,n,i,a,l,s,c,f,h){const p=h||Number.POSITIVE_INFINITY;let g=0;return m;function m(S){return S===60?(e.enter(a),e.enter(l),e.enter(s),e.consume(S),e.exit(s),v):S===null||S===32||S===41||$c(S)?i(S):(e.enter(a),e.enter(c),e.enter(f),e.enter("chunkString",{contentType:"string"}),N(S))}function v(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(l),e.exit(a),n):(e.enter(f),e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(e.exit("chunkString"),e.exit(f),v(S)):S===null||S===60||we(S)?i(S):(e.consume(S),S===92?w:b)}function w(S){return S===60||S===62||S===92?(e.consume(S),b):b(S)}function N(S){return!g&&(S===null||S===41||nt(S))?(e.exit("chunkString"),e.exit(f),e.exit(c),e.exit(a),n(S)):g<p&&S===40?(e.consume(S),g++,N):S===41?(e.consume(S),g--,N):S===null||S===32||S===40||$c(S)?i(S):(e.consume(S),S===92?C:N)}function C(S){return S===40||S===41||S===92?(e.consume(S),N):N(S)}}function Uw(e,n,i,a,l,s){const c=this;let f=0,h;return p;function p(b){return e.enter(a),e.enter(l),e.consume(b),e.exit(l),e.enter(s),g}function g(b){return f>999||b===null||b===91||b===93&&!h||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?i(b):b===93?(e.exit(s),e.enter(l),e.consume(b),e.exit(l),e.exit(a),n):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||we(b)||f++>999?(e.exit("chunkString"),g(b)):(e.consume(b),h||(h=!ze(b)),b===92?v:m)}function v(b){return b===91||b===92||b===93?(e.consume(b),f++,m):m(b)}}function qw(e,n,i,a,l,s){let c;return f;function f(v){return v===34||v===39||v===40?(e.enter(a),e.enter(l),e.consume(v),e.exit(l),c=v===40?41:v,h):i(v)}function h(v){return v===c?(e.enter(l),e.consume(v),e.exit(l),e.exit(a),n):(e.enter(s),p(v))}function p(v){return v===c?(e.exit(s),h(c)):v===null?i(v):we(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),$e(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===c||v===null||we(v)?(e.exit("chunkString"),p(v)):(e.consume(v),v===92?m:g)}function m(v){return v===c||v===92?(e.consume(v),g):g(v)}}function cl(e,n){let i;return a;function a(l){return we(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i=!0,a):ze(l)?$e(e,a,i?"linePrefix":"lineSuffix")(l):n(l)}}const zO={name:"definition",tokenize:IO},LO={partial:!0,tokenize:BO};function IO(e,n,i){const a=this;let l;return s;function s(b){return e.enter("definition"),c(b)}function c(b){return Uw.call(a,e,f,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return l=Rn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),h):i(b)}function h(b){return nt(b)?cl(e,p)(b):p(b)}function p(b){return $w(e,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return e.attempt(LO,m,m)(b)}function m(b){return ze(b)?$e(e,v,"whitespace")(b):v(b)}function v(b){return b===null||we(b)?(e.exit("definition"),a.parser.defined.push(l),n(b)):i(b)}}function BO(e,n,i){return a;function a(f){return nt(f)?cl(e,l)(f):i(f)}function l(f){return qw(e,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function s(f){return ze(f)?$e(e,c,"whitespace")(f):c(f)}function c(f){return f===null||we(f)?n(f):i(f)}}const HO={name:"hardBreakEscape",tokenize:PO};function PO(e,n,i){return a;function a(s){return e.enter("hardBreakEscape"),e.consume(s),l}function l(s){return we(s)?(e.exit("hardBreakEscape"),n(s)):i(s)}}const $O={name:"headingAtx",resolve:UO,tokenize:qO};function UO(e,n){let i=e.length-2,a=3,l,s;return e[a][1].type==="whitespace"&&(a+=2),i-2>a&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&e[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(l={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},s={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},fn(e,a,i-a+1,[["enter",l,n],["enter",s,n],["exit",s,n],["exit",l,n]])),e}function qO(e,n,i){let a=0;return l;function l(g){return e.enter("atxHeading"),s(g)}function s(g){return e.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&a++<6?(e.consume(g),c):g===null||nt(g)?(e.exit("atxHeadingSequence"),f(g)):i(g)}function f(g){return g===35?(e.enter("atxHeadingSequence"),h(g)):g===null||we(g)?(e.exit("atxHeading"),n(g)):ze(g)?$e(e,f,"whitespace")(g):(e.enter("atxHeadingText"),p(g))}function h(g){return g===35?(e.consume(g),h):(e.exit("atxHeadingSequence"),f(g))}function p(g){return g===null||g===35||nt(g)?(e.exit("atxHeadingText"),f(g)):(e.consume(g),p)}}const VO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kv=["pre","script","style","textarea"],FO={concrete:!0,name:"htmlFlow",resolveTo:XO,tokenize:QO},GO={partial:!0,tokenize:WO},YO={partial:!0,tokenize:ZO};function XO(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function QO(e,n,i){const a=this;let l,s,c,f,h;return p;function p(z){return g(z)}function g(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),m}function m(z){return z===33?(e.consume(z),v):z===47?(e.consume(z),s=!0,N):z===63?(e.consume(z),l=3,a.interrupt?n:O):Pt(z)?(e.consume(z),c=String.fromCharCode(z),C):i(z)}function v(z){return z===45?(e.consume(z),l=2,b):z===91?(e.consume(z),l=5,f=0,w):Pt(z)?(e.consume(z),l=4,a.interrupt?n:O):i(z)}function b(z){return z===45?(e.consume(z),a.interrupt?n:O):i(z)}function w(z){const ie="CDATA[";return z===ie.charCodeAt(f++)?(e.consume(z),f===ie.length?a.interrupt?n:q:w):i(z)}function N(z){return Pt(z)?(e.consume(z),c=String.fromCharCode(z),C):i(z)}function C(z){if(z===null||z===47||z===62||nt(z)){const ie=z===47,te=c.toLowerCase();return!ie&&!s&&Kv.includes(te)?(l=1,a.interrupt?n(z):q(z)):VO.includes(c.toLowerCase())?(l=6,ie?(e.consume(z),S):a.interrupt?n(z):q(z)):(l=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(z):s?k(z):j(z))}return z===45||Lt(z)?(e.consume(z),c+=String.fromCharCode(z),C):i(z)}function S(z){return z===62?(e.consume(z),a.interrupt?n:q):i(z)}function k(z){return ze(z)?(e.consume(z),k):I(z)}function j(z){return z===47?(e.consume(z),I):z===58||z===95||Pt(z)?(e.consume(z),_):ze(z)?(e.consume(z),j):I(z)}function _(z){return z===45||z===46||z===58||z===95||Lt(z)?(e.consume(z),_):P(z)}function P(z){return z===61?(e.consume(z),M):ze(z)?(e.consume(z),P):j(z)}function M(z){return z===null||z===60||z===61||z===62||z===96?i(z):z===34||z===39?(e.consume(z),h=z,H):ze(z)?(e.consume(z),M):F(z)}function H(z){return z===h?(e.consume(z),h=null,X):z===null||we(z)?i(z):(e.consume(z),H)}function F(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||nt(z)?P(z):(e.consume(z),F)}function X(z){return z===47||z===62||ze(z)?j(z):i(z)}function I(z){return z===62?(e.consume(z),L):i(z)}function L(z){return z===null||we(z)?q(z):ze(z)?(e.consume(z),L):i(z)}function q(z){return z===45&&l===2?(e.consume(z),D):z===60&&l===1?(e.consume(z),U):z===62&&l===4?(e.consume(z),B):z===63&&l===3?(e.consume(z),O):z===93&&l===5?(e.consume(z),Z):we(z)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(GO,V,K)(z)):z===null||we(z)?(e.exit("htmlFlowData"),K(z)):(e.consume(z),q)}function K(z){return e.check(YO,A,V)(z)}function A(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),$}function $(z){return z===null||we(z)?K(z):(e.enter("htmlFlowData"),q(z))}function D(z){return z===45?(e.consume(z),O):q(z)}function U(z){return z===47?(e.consume(z),c="",G):q(z)}function G(z){if(z===62){const ie=c.toLowerCase();return Kv.includes(ie)?(e.consume(z),B):q(z)}return Pt(z)&&c.length<8?(e.consume(z),c+=String.fromCharCode(z),G):q(z)}function Z(z){return z===93?(e.consume(z),O):q(z)}function O(z){return z===62?(e.consume(z),B):z===45&&l===2?(e.consume(z),O):q(z)}function B(z){return z===null||we(z)?(e.exit("htmlFlowData"),V(z)):(e.consume(z),B)}function V(z){return e.exit("htmlFlow"),n(z)}}function ZO(e,n,i){const a=this;return l;function l(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):i(c)}function s(c){return a.parser.lazy[a.now().line]?i(c):n(c)}}function WO(e,n,i){return a;function a(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(Ol,n,i)}}const KO={name:"htmlText",tokenize:JO};function JO(e,n,i){const a=this;let l,s,c;return f;function f(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),h}function h(O){return O===33?(e.consume(O),p):O===47?(e.consume(O),P):O===63?(e.consume(O),j):Pt(O)?(e.consume(O),F):i(O)}function p(O){return O===45?(e.consume(O),g):O===91?(e.consume(O),s=0,w):Pt(O)?(e.consume(O),k):i(O)}function g(O){return O===45?(e.consume(O),b):i(O)}function m(O){return O===null?i(O):O===45?(e.consume(O),v):we(O)?(c=m,U(O)):(e.consume(O),m)}function v(O){return O===45?(e.consume(O),b):m(O)}function b(O){return O===62?D(O):O===45?v(O):m(O)}function w(O){const B="CDATA[";return O===B.charCodeAt(s++)?(e.consume(O),s===B.length?N:w):i(O)}function N(O){return O===null?i(O):O===93?(e.consume(O),C):we(O)?(c=N,U(O)):(e.consume(O),N)}function C(O){return O===93?(e.consume(O),S):N(O)}function S(O){return O===62?D(O):O===93?(e.consume(O),S):N(O)}function k(O){return O===null||O===62?D(O):we(O)?(c=k,U(O)):(e.consume(O),k)}function j(O){return O===null?i(O):O===63?(e.consume(O),_):we(O)?(c=j,U(O)):(e.consume(O),j)}function _(O){return O===62?D(O):j(O)}function P(O){return Pt(O)?(e.consume(O),M):i(O)}function M(O){return O===45||Lt(O)?(e.consume(O),M):H(O)}function H(O){return we(O)?(c=H,U(O)):ze(O)?(e.consume(O),H):D(O)}function F(O){return O===45||Lt(O)?(e.consume(O),F):O===47||O===62||nt(O)?X(O):i(O)}function X(O){return O===47?(e.consume(O),D):O===58||O===95||Pt(O)?(e.consume(O),I):we(O)?(c=X,U(O)):ze(O)?(e.consume(O),X):D(O)}function I(O){return O===45||O===46||O===58||O===95||Lt(O)?(e.consume(O),I):L(O)}function L(O){return O===61?(e.consume(O),q):we(O)?(c=L,U(O)):ze(O)?(e.consume(O),L):X(O)}function q(O){return O===null||O===60||O===61||O===62||O===96?i(O):O===34||O===39?(e.consume(O),l=O,K):we(O)?(c=q,U(O)):ze(O)?(e.consume(O),q):(e.consume(O),A)}function K(O){return O===l?(e.consume(O),l=void 0,$):O===null?i(O):we(O)?(c=K,U(O)):(e.consume(O),K)}function A(O){return O===null||O===34||O===39||O===60||O===61||O===96?i(O):O===47||O===62||nt(O)?X(O):(e.consume(O),A)}function $(O){return O===47||O===62||nt(O)?X(O):i(O)}function D(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),n):i(O)}function U(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),G}function G(O){return ze(O)?$e(e,Z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Z(O)}function Z(O){return e.enter("htmlTextData"),c(O)}}const vp={name:"labelEnd",resolveAll:iR,resolveTo:rR,tokenize:aR},eR={tokenize:oR},tR={tokenize:lR},nR={tokenize:sR};function iR(e){let n=-1;const i=[];for(;++n<e.length;){const a=e[n][1];if(i.push(e[n]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const l=a.type==="labelImage"?4:2;a.type="data",n+=l}}return e.length!==i.length&&fn(e,0,e.length,i),e}function rR(e,n){let i=e.length,a=0,l,s,c,f;for(;i--;)if(l=e[i][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=i,l.type!=="labelLink")){a=2;break}}else l.type==="labelEnd"&&(c=i);const h={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},p={type:"label",start:{...e[s][1].start},end:{...e[c][1].end}},g={type:"labelText",start:{...e[s+a+2][1].end},end:{...e[c-2][1].start}};return f=[["enter",h,n],["enter",p,n]],f=Sn(f,e.slice(s+1,s+a+3)),f=Sn(f,[["enter",g,n]]),f=Sn(f,cu(n.parser.constructs.insideSpan.null,e.slice(s+a+4,c-3),n)),f=Sn(f,[["exit",g,n],e[c-2],e[c-1],["exit",p,n]]),f=Sn(f,e.slice(c+1)),f=Sn(f,[["exit",h,n]]),fn(e,s,e.length,f),e}function aR(e,n,i){const a=this;let l=a.events.length,s,c;for(;l--;)if((a.events[l][1].type==="labelImage"||a.events[l][1].type==="labelLink")&&!a.events[l][1]._balanced){s=a.events[l][1];break}return f;function f(v){return s?s._inactive?m(v):(c=a.parser.defined.includes(Rn(a.sliceSerialize({start:s.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),h):i(v)}function h(v){return v===40?e.attempt(eR,g,c?g:m)(v):v===91?e.attempt(tR,g,c?p:m)(v):c?g(v):m(v)}function p(v){return e.attempt(nR,g,m)(v)}function g(v){return n(v)}function m(v){return s._balanced=!0,i(v)}}function oR(e,n,i){return a;function a(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),l}function l(m){return nt(m)?cl(e,s)(m):s(m)}function s(m){return m===41?g(m):$w(e,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function c(m){return nt(m)?cl(e,h)(m):g(m)}function f(m){return i(m)}function h(m){return m===34||m===39||m===40?qw(e,p,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):g(m)}function p(m){return nt(m)?cl(e,g)(m):g(m)}function g(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),n):i(m)}}function lR(e,n,i){const a=this;return l;function l(f){return Uw.call(a,e,s,c,"reference","referenceMarker","referenceString")(f)}function s(f){return a.parser.defined.includes(Rn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?n(f):i(f)}function c(f){return i(f)}}function sR(e,n,i){return a;function a(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),l}function l(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),n):i(s)}}const cR={name:"labelStartImage",resolveAll:vp.resolveAll,tokenize:uR};function uR(e,n,i){const a=this;return l;function l(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),s}function s(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),c):i(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(f):n(f)}}const dR={name:"labelStartLink",resolveAll:vp.resolveAll,tokenize:fR};function fR(e,n,i){const a=this;return l;function l(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(c):n(c)}}const Wf={name:"lineEnding",tokenize:hR};function hR(e,n){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),$e(e,n,"linePrefix")}}const kc={name:"thematicBreak",tokenize:pR};function pR(e,n,i){let a=0,l;return s;function s(p){return e.enter("thematicBreak"),c(p)}function c(p){return l=p,f(p)}function f(p){return p===l?(e.enter("thematicBreakSequence"),h(p)):a>=3&&(p===null||we(p))?(e.exit("thematicBreak"),n(p)):i(p)}function h(p){return p===l?(e.consume(p),a++,h):(e.exit("thematicBreakSequence"),ze(p)?$e(e,f,"whitespace")(p):f(p))}}const Zt={continuation:{tokenize:xR},exit:bR,name:"list",tokenize:yR},mR={partial:!0,tokenize:wR},gR={partial:!0,tokenize:vR};function yR(e,n,i){const a=this,l=a.events[a.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return f;function f(b){const w=a.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||b===a.containerState.marker:Lh(b)){if(a.containerState.type||(a.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(kc,i,p)(b):p(b);if(!a.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(b)}return i(b)}function h(b){return Lh(b)&&++c<10?(e.consume(b),h):(!a.interrupt||c<2)&&(a.containerState.marker?b===a.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),p(b)):i(b)}function p(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||b,e.check(Ol,a.interrupt?i:g,e.attempt(mR,v,m))}function g(b){return a.containerState.initialBlankLine=!0,s++,v(b)}function m(b){return ze(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):i(b)}function v(b){return a.containerState.size=s+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(b)}}function xR(e,n,i){const a=this;return a.containerState._closeFlow=void 0,e.check(Ol,l,s);function l(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,$e(e,n,"listItemIndent",a.containerState.size+1)(f)}function s(f){return a.containerState.furtherBlankLines||!ze(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(gR,n,c)(f))}function c(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,$e(e,e.attempt(Zt,n,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function vR(e,n,i){const a=this;return $e(e,l,"listItemIndent",a.containerState.size+1);function l(s){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?n(s):i(s)}}function bR(e){e.exit(this.containerState.type)}function wR(e,n,i){const a=this;return $e(e,l,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const c=a.events[a.events.length-1];return!ze(s)&&c&&c[1].type==="listItemPrefixWhitespace"?n(s):i(s)}}const Jv={name:"setextUnderline",resolveTo:SR,tokenize:NR};function SR(e,n){let i=e.length,a,l,s;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){a=i;break}e[i][1].type==="paragraph"&&(l=i)}else e[i][1].type==="content"&&e.splice(i,1),!s&&e[i][1].type==="definition"&&(s=i);const c={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",s?(e.splice(l,0,["enter",c,n]),e.splice(s+1,0,["exit",e[a][1],n]),e[a][1].end={...e[s][1].end}):e[a][1]=c,e.push(["exit",c,n]),e}function NR(e,n,i){const a=this;let l;return s;function s(p){let g=a.events.length,m;for(;g--;)if(a.events[g][1].type!=="lineEnding"&&a.events[g][1].type!=="linePrefix"&&a.events[g][1].type!=="content"){m=a.events[g][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||m)?(e.enter("setextHeadingLine"),l=p,c(p)):i(p)}function c(p){return e.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===l?(e.consume(p),f):(e.exit("setextHeadingLineSequence"),ze(p)?$e(e,h,"lineSuffix")(p):h(p))}function h(p){return p===null||we(p)?(e.exit("setextHeadingLine"),n(p)):i(p)}}const ER={tokenize:jR};function jR(e){const n=this,i=e.attempt(Ol,a,e.attempt(this.parser.constructs.flowInitial,l,$e(e,e.attempt(this.parser.constructs.flow,l,e.attempt(MO,l)),"linePrefix")));return i;function a(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),n.currentConstruct=void 0,i}function l(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n.currentConstruct=void 0,i}}const CR={resolveAll:Fw()},kR=Vw("string"),TR=Vw("text");function Vw(e){return{resolveAll:Fw(e==="text"?AR:void 0),tokenize:n};function n(i){const a=this,l=this.parser.constructs[e],s=i.attempt(l,c,f);return c;function c(g){return p(g)?s(g):f(g)}function f(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),h}function h(g){return p(g)?(i.exit("data"),s(g)):(i.consume(g),h)}function p(g){if(g===null)return!0;const m=l[g];let v=-1;if(m)for(;++v<m.length;){const b=m[v];if(!b.previous||b.previous.call(a,a.previous))return!0}return!1}}}function Fw(e){return n;function n(i,a){let l=-1,s;for(;++l<=i.length;)s===void 0?i[l]&&i[l][1].type==="data"&&(s=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==s+2&&(i[s][1].end=i[l-1][1].end,i.splice(s+2,l-s-2),l=s+2),s=void 0);return e?e(i,a):i}}function AR(e,n){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const a=e[i-1][1],l=n.sliceStream(a);let s=l.length,c=-1,f=0,h;for(;s--;){const p=l[s];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(p===-2)h=!0,f++;else if(p!==-1){s++;break}}if(n._contentTypeTextTrailing&&i===e.length&&(f=0),f){const p={type:i===e.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:a.start._bufferIndex+c,_index:a.start._index+s,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...p.start},a.start.offset===a.end.offset?Object.assign(a,p):(e.splice(i,0,["enter",p,n],["exit",p,n]),i+=2)}i++}return e}const MR={42:Zt,43:Zt,45:Zt,48:Zt,49:Zt,50:Zt,51:Zt,52:Zt,53:Zt,54:Zt,55:Zt,56:Zt,57:Zt,62:Iw},DR={91:zO},_R={[-2]:Zf,[-1]:Zf,32:Zf},OR={35:$O,42:kc,45:[Jv,kc],60:FO,61:Jv,95:kc,96:Wv,126:Wv},RR={38:Hw,92:Bw},zR={[-5]:Wf,[-4]:Wf,[-3]:Wf,33:cR,38:Hw,42:Ih,60:[dO,KO],91:dR,92:[HO,Bw],93:vp,95:Ih,96:EO},LR={null:[Ih,CR]},IR={null:[42,95]},BR={null:[]},HR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IR,contentInitial:DR,disable:BR,document:MR,flow:OR,flowInitial:_R,insideSpan:LR,string:RR,text:zR},Symbol.toStringTag,{value:"Module"}));function PR(e,n,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},s=[];let c=[],f=[];const h={attempt:H(P),check:H(M),consume:k,enter:j,exit:_,interrupt:H(M,{interrupt:!0})},p={code:null,containerState:{},defineSkip:N,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:m};let g=n.tokenize.call(p,h);return n.resolveAll&&s.push(n),p;function m(L){return c=Sn(c,L),C(),c[c.length-1]!==null?[]:(F(n,0),p.events=cu(s,p.events,p),p.events)}function v(L,q){return UR(b(L),q)}function b(L){return $R(c,L)}function w(){const{_bufferIndex:L,_index:q,line:K,column:A,offset:$}=a;return{_bufferIndex:L,_index:q,line:K,column:A,offset:$}}function N(L){l[L.line]=L.column,I()}function C(){let L;for(;a._index<c.length;){const q=c[a._index];if(typeof q=="string")for(L=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===L&&a._bufferIndex<q.length;)S(q.charCodeAt(a._bufferIndex));else S(q)}}function S(L){g=g(L)}function k(L){we(L)?(a.line++,a.column=1,a.offset+=L===-3?2:1,I()):L!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),p.previous=L}function j(L,q){const K=q||{};return K.type=L,K.start=w(),p.events.push(["enter",K,p]),f.push(K),K}function _(L){const q=f.pop();return q.end=w(),p.events.push(["exit",q,p]),q}function P(L,q){F(L,q.from)}function M(L,q){q.restore()}function H(L,q){return K;function K(A,$,D){let U,G,Z,O;return Array.isArray(A)?V(A):"tokenize"in A?V([A]):B(A);function B(re){return de;function de(oe){const fe=oe!==null&&re[oe],xe=oe!==null&&re.null,je=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return V(je)(oe)}}function V(re){return U=re,G=0,re.length===0?D:z(re[G])}function z(re){return de;function de(oe){return O=X(),Z=re,re.partial||(p.currentConstruct=re),re.name&&p.parser.constructs.disable.null.includes(re.name)?te():re.tokenize.call(q?Object.assign(Object.create(p),q):p,h,ie,te)(oe)}}function ie(re){return L(Z,O),$}function te(re){return O.restore(),++G<U.length?z(U[G]):D}}}function F(L,q){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&fn(p.events,q,p.events.length-q,L.resolve(p.events.slice(q),p)),L.resolveTo&&(p.events=L.resolveTo(p.events,p))}function X(){const L=w(),q=p.previous,K=p.currentConstruct,A=p.events.length,$=Array.from(f);return{from:A,restore:D};function D(){a=L,p.previous=q,p.currentConstruct=K,p.events.length=A,f=$,I()}}function I(){a.line in l&&a.column<2&&(a.column=l[a.line],a.offset+=l[a.line]-1)}}function $R(e,n){const i=n.start._index,a=n.start._bufferIndex,l=n.end._index,s=n.end._bufferIndex;let c;if(i===l)c=[e[i].slice(a,s)];else{if(c=e.slice(i,l),a>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(a):c.shift()}s>0&&c.push(e[l].slice(0,s))}return c}function UR(e,n){let i=-1;const a=[];let l;for(;++i<e.length;){const s=e[i];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=n?" ":"	";break}case-1:{if(!n&&l)continue;c=" ";break}default:c=String.fromCharCode(s)}l=s===-2,a.push(c)}return a.join("")}function qR(e){const a={constructs:zw([HR,...(e||{}).extensions||[]]),content:l(rO),defined:[],document:l(oO),flow:l(ER),lazy:{},string:l(kR),text:l(TR)};return a;function l(s){return c;function c(f){return PR(a,s,f)}}}function VR(e){for(;!Pw(e););return e}const e0=/[\0\t\n\r]/g;function FR(){let e=1,n="",i=!0,a;return l;function l(s,c,f){const h=[];let p,g,m,v,b;for(s=n+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),m=0,n="",i&&(s.charCodeAt(0)===65279&&m++,i=void 0);m<s.length;){if(e0.lastIndex=m,p=e0.exec(s),v=p&&p.index!==void 0?p.index:s.length,b=s.charCodeAt(v),!p){n=s.slice(m);break}if(b===10&&m===v&&a)h.push(-3),a=void 0;else switch(a&&(h.push(-5),a=void 0),m<v&&(h.push(s.slice(m,v)),e+=v-m),b){case 0:{h.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,h.push(-2);e++<g;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:a=!0,e=1}m=v+1}return f&&(a&&h.push(-5),n&&h.push(n),h.push(null)),h}}const GR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function YR(e){return e.replace(GR,XR)}function XR(e,n,i){if(n)return n;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),s=l===120||l===88;return Lw(i.slice(s?2:1),s?16:10)}return xp(i)||e}const Gw={}.hasOwnProperty;function QR(e,n,i){return typeof n!="string"&&(i=n,n=void 0),ZR(i)(VR(qR(i).document().write(FR()(e,n,!0))))}function ZR(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_t),autolinkProtocol:X,autolinkEmail:X,atxHeading:s(Ue),blockQuote:s(xe),characterEscape:X,characterReference:X,codeFenced:s(je),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(je,c),codeText:s(ve,c),codeTextData:X,data:X,codeFlowValue:X,definition:s(Ee),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(De),hardBreakEscape:s(qe),hardBreakTrailing:s(qe),htmlFlow:s(ft,c),htmlFlowData:X,htmlText:s(ft,c),htmlTextData:X,image:s(Jt),label:c,link:s(_t),listItem:s(Nn),listItemValue:v,listOrdered:s($t,m),listUnordered:s($t),paragraph:s(Qn),reference:z,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Ue),strong:s(Zn),thematicBreak:s(Ei)},exit:{atxHeading:h(),atxHeadingSequence:P,autolink:h(),autolinkEmail:fe,autolinkProtocol:oe,blockQuote:h(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:re,characterReference:de,codeFenced:h(C),codeFencedFence:N,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:I,codeIndented:h(S),codeText:h($),codeTextData:I,data:I,definition:h(),definitionDestinationString:_,definitionLabelString:k,definitionTitleString:j,emphasis:h(),hardBreakEscape:h(q),hardBreakTrailing:h(q),htmlFlow:h(K),htmlFlowData:I,htmlText:h(A),htmlTextData:I,image:h(U),label:Z,labelText:G,lineEnding:L,link:h(D),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ie,resourceDestinationString:O,resourceTitleString:B,resource:V,setextHeading:h(F),setextHeadingLineSequence:H,setextHeadingText:M,strong:h(),thematicBreak:h()}};Yw(n,(e||{}).mdastExtensions||[]);const i={};return a;function a(le){let pe={type:"root",children:[]};const Se={stack:[pe],tokenStack:[],config:n,enter:f,exit:p,buffer:c,resume:g,data:i},_e=[];let Pe=-1;for(;++Pe<le.length;)if(le[Pe][1].type==="listOrdered"||le[Pe][1].type==="listUnordered")if(le[Pe][0]==="enter")_e.push(Pe);else{const Bt=_e.pop();Pe=l(le,Bt,Pe)}for(Pe=-1;++Pe<le.length;){const Bt=n[le[Pe][0]];Gw.call(Bt,le[Pe][1].type)&&Bt[le[Pe][1].type].call(Object.assign({sliceSerialize:le[Pe][2].sliceSerialize},Se),le[Pe][1])}if(Se.tokenStack.length>0){const Bt=Se.tokenStack[Se.tokenStack.length-1];(Bt[1]||t0).call(Se,void 0,Bt[0])}for(pe.position={start:nr(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:nr(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<n.transforms.length;)pe=n.transforms[Pe](pe)||pe;return pe}function l(le,pe,Se){let _e=pe-1,Pe=-1,Bt=!1,En,kt,ht,Ot;for(;++_e<=Se;){const Qe=le[_e];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?Pe++:Pe--,Ot=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(En&&!Ot&&!Pe&&!ht&&(ht=_e),Ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ot=void 0}if(!Pe&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||Pe===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(En){let In=_e;for(kt=void 0;In--;){const en=le[In];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;kt&&(le[kt][1].type="lineEndingBlank",Bt=!0),en[1].type="lineEnding",kt=In}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}ht&&(!kt||ht<kt)&&(En._spread=!0),En.end=Object.assign({},kt?le[kt][1].start:Qe[1].end),le.splice(kt||_e,0,["exit",En,Qe[2]]),_e++,Se++}if(Qe[1].type==="listItemPrefix"){const In={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};En=In,le.splice(_e,0,["enter",In,Qe[2]]),_e++,Se++,ht=void 0,Ot=!0}}}return le[pe][1]._spread=Bt,Se}function s(le,pe){return Se;function Se(_e){f.call(this,le(_e),_e),pe&&pe.call(this,_e)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(le,pe,Se){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([pe,Se||void 0]),le.position={start:nr(pe.start),end:void 0}}function h(le){return pe;function pe(Se){le&&le.call(this,Se),p.call(this,Se)}}function p(le,pe){const Se=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==le.type&&(pe?pe.call(this,le,_e[0]):(_e[1]||t0).call(this,le,_e[0]));else throw new Error("Cannot close `"+le.type+"` ("+sl({start:le.start,end:le.end})+"): its not open");Se.position.end=nr(le.end)}function g(){return yp(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(le){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function b(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=le}function w(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=le}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le.replace(/(\r?\n|\r)$/g,"")}function k(le){const pe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=pe,Se.identifier=Rn(this.sliceSerialize(le)).toLowerCase()}function j(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.title=le}function _(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.url=le}function P(le){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Se=this.sliceSerialize(le).length;pe.depth=Se}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function H(le){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function X(le){const Se=this.stack[this.stack.length-1].children;let _e=Se[Se.length-1];(!_e||_e.type!=="text")&&(_e=Nt(),_e.position={start:nr(le.start),end:void 0},Se.push(_e)),this.stack.push(_e)}function I(le){const pe=this.stack.pop();pe.value+=this.sliceSerialize(le),pe.position.end=nr(le.end)}function L(le){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=pe.children[pe.children.length-1];Se.position.end=nr(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(pe.type)&&(X.call(this,le),I.call(this,le))}function q(){this.data.atHardBreak=!0}function K(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function A(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function $(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.value=le}function D(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=pe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function U(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=pe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function G(le){const pe=this.sliceSerialize(le),Se=this.stack[this.stack.length-2];Se.label=YR(pe),Se.identifier=Rn(pe).toLowerCase()}function Z(){const le=this.stack[this.stack.length-1],pe=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const _e=le.children;Se.children=_e}else Se.alt=pe}function O(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.url=le}function B(){const le=this.resume(),pe=this.stack[this.stack.length-1];pe.title=le}function V(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function ie(le){const pe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=pe,Se.identifier=Rn(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function te(le){this.data.characterReferenceType=le.type}function re(le){const pe=this.sliceSerialize(le),Se=this.data.characterReferenceType;let _e;Se?(_e=Lw(pe,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=xp(pe);const Pe=this.stack[this.stack.length-1];Pe.value+=_e}function de(le){const pe=this.stack.pop();pe.position.end=nr(le.end)}function oe(le){I.call(this,le);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(le)}function fe(le){I.call(this,le);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(le)}function xe(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function Ee(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function Ue(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function ft(){return{type:"html",value:""}}function Jt(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function $t(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function Nn(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Qn(){return{type:"paragraph",children:[]}}function Zn(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Ei(){return{type:"thematicBreak"}}}function nr(e){return{line:e.line,column:e.column,offset:e.offset}}function Yw(e,n){let i=-1;for(;++i<n.length;){const a=n[i];Array.isArray(a)?Yw(e,a):WR(e,a)}}function WR(e,n){let i;for(i in n)if(Gw.call(n,i))switch(i){case"canContainEols":{const a=n[i];a&&e[i].push(...a);break}case"transforms":{const a=n[i];a&&e[i].push(...a);break}case"enter":case"exit":{const a=n[i];a&&Object.assign(e[i],a);break}}}function t0(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+sl({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is still open")}function KR(e){const n=this;n.parser=i;function i(a){return QR(a,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function JR(e,n){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,i),e.applyData(n,i)}function ez(e,n){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,i),[e.applyData(n,i),{type:"text",value:`
`}]}function tz(e,n){const i=n.value?n.value+`
`:"",a={},l=n.lang?n.lang.split(/\s+/):[];l.length>0&&(a.className=["language-"+l[0]]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function nz(e,n){const i={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function iz(e,n){const i={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function rz(e,n){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(n.identifier).toUpperCase(),l=Za(a.toLowerCase()),s=e.footnoteOrder.indexOf(a);let c,f=e.footnoteCounts.get(a);f===void 0?(f=0,e.footnoteOrder.push(a),c=e.footnoteOrder.length):c=s+1,f+=1,e.footnoteCounts.set(a,f);const h={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(n,h);const p={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(n,p),e.applyData(n,p)}function az(e,n){const i={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function oz(e,n){if(e.options.allowDangerousHtml){const i={type:"raw",value:n.value};return e.patch(n,i),e.applyData(n,i)}}function Xw(e,n){const i=n.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+a}];const l=e.all(n),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=a:l.push({type:"text",value:a}),l}function lz(e,n){const i=String(n.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Xw(e,n);const l={src:Za(a.url||""),alt:n.alt};a.title!==null&&a.title!==void 0&&(l.title=a.title);const s={type:"element",tagName:"img",properties:l,children:[]};return e.patch(n,s),e.applyData(n,s)}function sz(e,n){const i={src:Za(n.url)};n.alt!==null&&n.alt!==void 0&&(i.alt=n.alt),n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,a),e.applyData(n,a)}function cz(e,n){const i={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(n,a),e.applyData(n,a)}function uz(e,n){const i=String(n.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Xw(e,n);const l={href:Za(a.url||"")};a.title!==null&&a.title!==void 0&&(l.title=a.title);const s={type:"element",tagName:"a",properties:l,children:e.all(n)};return e.patch(n,s),e.applyData(n,s)}function dz(e,n){const i={href:Za(n.url)};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function fz(e,n,i){const a=e.all(n),l=i?hz(i):Qw(n),s={},c=[];if(typeof n.checked=="boolean"){const g=a[0];let m;g&&g.type==="element"&&g.tagName==="p"?m=g:(m={type:"element",tagName:"p",properties:{},children:[]},a.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const g=a[f];(l||f!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?c.push(...g.children):c.push(g)}const h=a[a.length-1];h&&(l||h.type!=="element"||h.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:s,children:c};return e.patch(n,p),e.applyData(n,p)}function hz(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const i=e.children;let a=-1;for(;!n&&++a<i.length;)n=Qw(i[a])}return n}function Qw(e){const n=e.spread;return n??e.children.length>1}function pz(e,n){const i={},a=e.all(n);let l=-1;for(typeof n.start=="number"&&n.start!==1&&(i.start=n.start);++l<a.length;){const c=a[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:n.ordered?"ol":"ul",properties:i,children:e.wrap(a,!0)};return e.patch(n,s),e.applyData(n,s)}function mz(e,n){const i={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function gz(e,n){const i={type:"root",children:e.wrap(e.all(n))};return e.patch(n,i),e.applyData(n,i)}function yz(e,n){const i={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function xz(e,n){const i=e.all(n),a=i.shift(),l=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(n.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},f=hp(n.children[1]),h=Tw(n.children[n.children.length-1]);f&&h&&(c.position={start:f,end:h}),l.push(c)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(n,s),e.applyData(n,s)}function vz(e,n,i){const a=i?i.children:void 0,s=(a?a.indexOf(n):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,f=c?c.length:n.children.length;let h=-1;const p=[];for(;++h<f;){const m=n.children[h],v={},b=c?c[h]:void 0;b&&(v.align=b);let w={type:"element",tagName:s,properties:v,children:[]};m&&(w.children=e.all(m),e.patch(m,w),w=e.applyData(m,w)),p.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(n,g),e.applyData(n,g)}function bz(e,n){const i={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}const n0=9,i0=32;function wz(e){const n=String(e),i=/\r?\n|\r/g;let a=i.exec(n),l=0;const s=[];for(;a;)s.push(r0(n.slice(l,a.index),l>0,!0),a[0]),l=a.index+a[0].length,a=i.exec(n);return s.push(r0(n.slice(l),l>0,!1)),s.join("")}function r0(e,n,i){let a=0,l=e.length;if(n){let s=e.codePointAt(a);for(;s===n0||s===i0;)a++,s=e.codePointAt(a)}if(i){let s=e.codePointAt(l-1);for(;s===n0||s===i0;)l--,s=e.codePointAt(l-1)}return l>a?e.slice(a,l):""}function Sz(e,n){const i={type:"text",value:wz(String(n.value))};return e.patch(n,i),e.applyData(n,i)}function Nz(e,n){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,i),e.applyData(n,i)}const Ez={blockquote:JR,break:ez,code:tz,delete:nz,emphasis:iz,footnoteReference:rz,heading:az,html:oz,imageReference:lz,image:sz,inlineCode:cz,linkReference:uz,link:dz,listItem:fz,list:pz,paragraph:mz,root:gz,strong:yz,table:xz,tableCell:bz,tableRow:vz,text:Sz,thematicBreak:Nz,toml:gc,yaml:gc,definition:gc,footnoteDefinition:gc};function gc(){}const Zw=-1,uu=0,ul=1,Uc=2,bp=3,wp=4,Sp=5,Np=6,Ww=7,Kw=8,a0=typeof self=="object"?self:globalThis,jz=(e,n)=>{const i=(l,s)=>(e.set(s,l),l),a=l=>{if(e.has(l))return e.get(l);const[s,c]=n[l];switch(s){case uu:case Zw:return i(c,l);case ul:{const f=i([],l);for(const h of c)f.push(a(h));return f}case Uc:{const f=i({},l);for(const[h,p]of c)f[a(h)]=a(p);return f}case bp:return i(new Date(c),l);case wp:{const{source:f,flags:h}=c;return i(new RegExp(f,h),l)}case Sp:{const f=i(new Map,l);for(const[h,p]of c)f.set(a(h),a(p));return f}case Np:{const f=i(new Set,l);for(const h of c)f.add(a(h));return f}case Ww:{const{name:f,message:h}=c;return i(new a0[f](h),l)}case Kw:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return i(new DataView(f),c)}}return i(new a0[s](c),l)};return a},o0=e=>jz(new Map,e)(0),Da="",{toString:Cz}={},{keys:kz}=Object,Jo=e=>{const n=typeof e;if(n!=="object"||!e)return[uu,n];const i=Cz.call(e).slice(8,-1);switch(i){case"Array":return[ul,Da];case"Object":return[Uc,Da];case"Date":return[bp,Da];case"RegExp":return[wp,Da];case"Map":return[Sp,Da];case"Set":return[Np,Da];case"DataView":return[ul,i]}return i.includes("Array")?[ul,i]:i.includes("Error")?[Ww,i]:[Uc,i]},yc=([e,n])=>e===uu&&(n==="function"||n==="symbol"),Tz=(e,n,i,a)=>{const l=(c,f)=>{const h=a.push(c)-1;return i.set(f,h),h},s=c=>{if(i.has(c))return i.get(c);let[f,h]=Jo(c);switch(f){case uu:{let g=c;switch(h){case"bigint":f=Kw,g=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return l([Zw],c)}return l([f,g],c)}case ul:{if(h){let v=c;return h==="DataView"?v=new Uint8Array(c.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(c)),l([h,[...v]],c)}const g=[],m=l([f,g],c);for(const v of c)g.push(s(v));return m}case Uc:{if(h)switch(h){case"BigInt":return l([h,c.toString()],c);case"Boolean":case"Number":case"String":return l([h,c.valueOf()],c)}if(n&&"toJSON"in c)return s(c.toJSON());const g=[],m=l([f,g],c);for(const v of kz(c))(e||!yc(Jo(c[v])))&&g.push([s(v),s(c[v])]);return m}case bp:return l([f,c.toISOString()],c);case wp:{const{source:g,flags:m}=c;return l([f,{source:g,flags:m}],c)}case Sp:{const g=[],m=l([f,g],c);for(const[v,b]of c)(e||!(yc(Jo(v))||yc(Jo(b))))&&g.push([s(v),s(b)]);return m}case Np:{const g=[],m=l([f,g],c);for(const v of c)(e||!yc(Jo(v)))&&g.push(s(v));return m}}const{message:p}=c;return l([f,{name:h,message:p}],c)};return s},l0=(e,{json:n,lossy:i}={})=>{const a=[];return Tz(!(n||i),!!n,new Map,a)(e),a},qc=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?o0(l0(e,n)):structuredClone(e):(e,n)=>o0(l0(e,n));function Az(e,n){const i=[{type:"text",value:""}];return n>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),i}function Mz(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function Dz(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||Az,a=e.options.footnoteBackLabel||Mz,l=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[h]);if(!p)continue;const g=e.all(p),m=String(p.identifier).toUpperCase(),v=Za(m.toLowerCase());let b=0;const w=[],N=e.footnoteCounts.get(m);for(;N!==void 0&&++b<=N;){w.length>0&&w.push({type:"text",value:" "});let k=typeof i=="string"?i:i(h,b);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(h,b),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const C=g[g.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const k=C.children[C.children.length-1];k&&k.type==="text"?k.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else g.push(...w);const S={type:"element",tagName:"li",properties:{id:n+"fn-"+v},children:e.wrap(g,!0)};e.patch(p,S),f.push(S)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...qc(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const du=(function(e){if(e==null)return zz;if(typeof e=="function")return fu(e);if(typeof e=="object")return Array.isArray(e)?_z(e):Oz(e);if(typeof e=="string")return Rz(e);throw new Error("Expected function, string, or object as test")});function _z(e){const n=[];let i=-1;for(;++i<e.length;)n[i]=du(e[i]);return fu(a);function a(...l){let s=-1;for(;++s<n.length;)if(n[s].apply(this,l))return!0;return!1}}function Oz(e){const n=e;return fu(i);function i(a){const l=a;let s;for(s in e)if(l[s]!==n[s])return!1;return!0}}function Rz(e){return fu(n);function n(i){return i&&i.type===e}}function fu(e){return n;function n(i,a,l){return!!(Lz(i)&&e.call(this,i,typeof a=="number"?a:void 0,l||void 0))}}function zz(){return!0}function Lz(e){return e!==null&&typeof e=="object"&&"type"in e}const Jw=[],Iz=!0,Bh=!1,Bz="skip";function e1(e,n,i,a){let l;typeof n=="function"&&typeof i!="function"?(a=i,i=n):l=n;const s=du(l),c=a?-1:1;f(e,void 0,[])();function f(h,p,g){const m=h&&typeof h=="object"?h:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=Jw,w,N,C;if((!n||s(h,p,g[g.length-1]||void 0))&&(b=Hz(i(h,g)),b[0]===Bh))return b;if("children"in h&&h.children){const S=h;if(S.children&&b[0]!==Bz)for(N=(a?S.children.length:-1)+c,C=g.concat(S);N>-1&&N<S.children.length;){const k=S.children[N];if(w=f(k,N,C)(),w[0]===Bh)return w;N=typeof w[1]=="number"?w[1]:N+c}}return b}}}function Hz(e){return Array.isArray(e)?e:typeof e=="number"?[Iz,e]:e==null?Jw:[e]}function Ep(e,n,i,a){let l,s,c;typeof n=="function"&&typeof i!="function"?(s=void 0,c=n,l=i):(s=n,c=i,l=a),e1(e,s,f,l);function f(h,p){const g=p[p.length-1],m=g?g.children.indexOf(h):void 0;return c(h,m,g)}}const Hh={}.hasOwnProperty,Pz={};function $z(e,n){const i=n||Pz,a=new Map,l=new Map,s=new Map,c={...Ez,...i.handlers},f={all:p,applyData:qz,definitionById:a,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:c,one:h,options:i,patch:Uz,wrap:Fz};return Ep(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const m=g.type==="definition"?a:l,v=String(g.identifier).toUpperCase();m.has(v)||m.set(v,g)}}),f;function h(g,m){const v=g.type,b=f.handlers[v];if(Hh.call(f.handlers,v)&&b)return b(f,g,m);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in g){const{children:N,...C}=g,S=qc(C);return S.children=f.all(g),S}return qc(g)}return(f.options.unknownHandler||Vz)(f,g,m)}function p(g){const m=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const w=f.one(v[b],g);if(w){if(b&&v[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=s0(w.value)),!Array.isArray(w)&&w.type==="element")){const N=w.children[0];N&&N.type==="text"&&(N.value=s0(N.value))}Array.isArray(w)?m.push(...w):m.push(w)}}}return m}}function Uz(e,n){e.position&&(n.position=M_(e))}function qz(e,n){let i=n;if(e&&e.data){const a=e.data.hName,l=e.data.hChildren,s=e.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const c="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:c}}i.type==="element"&&s&&Object.assign(i.properties,qc(s)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function Vz(e,n){const i=n.data||{},a="value"in n&&!(Hh.call(i,"hProperties")||Hh.call(i,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function Fz(e,n){const i=[];let a=-1;for(n&&i.push({type:"text",value:`
`});++a<e.length;)a&&i.push({type:"text",value:`
`}),i.push(e[a]);return n&&e.length>0&&i.push({type:"text",value:`
`}),i}function s0(e){let n=0,i=e.charCodeAt(n);for(;i===9||i===32;)n++,i=e.charCodeAt(n);return e.slice(n)}function c0(e,n){const i=$z(e,n),a=i.one(e,void 0),l=Dz(i),s=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function Gz(e,n){return e&&"run"in e?async function(i,a){const l=c0(i,{file:a,...n});await e.run(l,a)}:function(i,a){return c0(i,{file:a,...e||n})}}function u0(e){if(e)throw e}var Kf,d0;function Yz(){if(d0)return Kf;d0=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):n.call(p)==="[object Array]"},s=function(p){if(!p||n.call(p)!=="[object Object]")return!1;var g=e.call(p,"constructor"),m=p.constructor&&p.constructor.prototype&&e.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!m)return!1;var v;for(v in p);return typeof v>"u"||e.call(p,v)},c=function(p,g){i&&g.name==="__proto__"?i(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},f=function(p,g){if(g==="__proto__")if(e.call(p,g)){if(a)return a(p,g).value}else return;return p[g]};return Kf=function h(){var p,g,m,v,b,w,N=arguments[0],C=1,S=arguments.length,k=!1;for(typeof N=="boolean"&&(k=N,N=arguments[1]||{},C=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});C<S;++C)if(p=arguments[C],p!=null)for(g in p)m=f(N,g),v=f(p,g),N!==v&&(k&&v&&(s(v)||(b=l(v)))?(b?(b=!1,w=m&&l(m)?m:[]):w=m&&s(m)?m:{},c(N,{name:g,newValue:h(k,w,v)})):typeof v<"u"&&c(N,{name:g,newValue:v}));return N},Kf}var Xz=Yz();const Jf=Yc(Xz);function Ph(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qz(){const e=[],n={run:i,use:a};return n;function i(...l){let s=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...l);function f(h,...p){const g=e[++s];let m=-1;if(h){c(h);return}for(;++m<l.length;)(p[m]===null||p[m]===void 0)&&(p[m]=l[m]);l=p,g?Zz(g,f)(...p):c(null,...p)}}function a(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),n}}function Zz(e,n){let i;return a;function a(...c){const f=e.length>c.length;let h;f&&c.push(l);try{h=e.apply(this,c)}catch(p){const g=p;if(f&&i)throw g;return l(g)}f||(h&&h.then&&typeof h.then=="function"?h.then(s,l):h instanceof Error?l(h):s(h))}function l(c,...f){i||(i=!0,n(c,...f))}function s(c){l(null,c)}}const qn={basename:Wz,dirname:Kz,extname:Jz,join:eL,sep:"/"};function Wz(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Rl(e);let i=0,a=-1,l=e.length,s;if(n===void 0||n.length===0||n.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(s){i=l+1;break}}else a<0&&(s=!0,a=l+1);return a<0?"":e.slice(i,a)}if(n===e)return"";let c=-1,f=n.length-1;for(;l--;)if(e.codePointAt(l)===47){if(s){i=l+1;break}}else c<0&&(s=!0,c=l+1),f>-1&&(e.codePointAt(l)===n.codePointAt(f--)?f<0&&(a=l):(f=-1,a=c));return i===a?a=c:a<0&&(a=e.length),e.slice(i,a)}function Kz(e){if(Rl(e),e.length===0)return".";let n=-1,i=e.length,a;for(;--i;)if(e.codePointAt(i)===47){if(a){n=i;break}}else a||(a=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Jz(e){Rl(e);let n=e.length,i=-1,a=0,l=-1,s=0,c;for(;n--;){const f=e.codePointAt(n);if(f===47){if(c){a=n+1;break}continue}i<0&&(c=!0,i=n+1),f===46?l<0?l=n:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||i<0||s===0||s===1&&l===i-1&&l===a+1?"":e.slice(l,i)}function eL(...e){let n=-1,i;for(;++n<e.length;)Rl(e[n]),e[n]&&(i=i===void 0?e[n]:i+"/"+e[n]);return i===void 0?".":tL(i)}function tL(e){Rl(e);const n=e.codePointAt(0)===47;let i=nL(e,!n);return i.length===0&&!n&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),n?"/"+i:i}function nL(e,n){let i="",a=0,l=-1,s=0,c=-1,f,h;for(;++c<=e.length;){if(c<e.length)f=e.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(l===c-1||s===1))if(l!==c-1&&s===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(h=i.lastIndexOf("/"),h!==i.length-1){h<0?(i="",a=0):(i=i.slice(0,h),a=i.length-1-i.lastIndexOf("/")),l=c,s=0;continue}}else if(i.length>0){i="",a=0,l=c,s=0;continue}}n&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(l+1,c):i=e.slice(l+1,c),a=c-l-1;l=c,s=0}else f===46&&s>-1?s++:s=-1}return i}function Rl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const iL={cwd:rL};function rL(){return"/"}function $h(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aL(e){if(typeof e=="string")e=new URL(e);else if(!$h(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return oL(e)}function oL(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const n=e.pathname;let i=-1;for(;++i<n.length;)if(n.codePointAt(i)===37&&n.codePointAt(i+1)===50){const a=n.codePointAt(i+2);if(a===70||a===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(n)}const eh=["history","path","basename","stem","extname","dirname"];class t1{constructor(n){let i;n?$h(n)?i={path:n}:typeof n=="string"||lL(n)?i={value:n}:i=n:i={},this.cwd="cwd"in i?"":iL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<eh.length;){const s=eh[a];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let l;for(l in i)eh.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?qn.basename(this.path):void 0}set basename(n){nh(n,"basename"),th(n,"basename"),this.path=qn.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?qn.dirname(this.path):void 0}set dirname(n){f0(this.basename,"dirname"),this.path=qn.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?qn.extname(this.path):void 0}set extname(n){if(th(n,"extname"),f0(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qn.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){$h(n)&&(n=aL(n)),nh(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?qn.basename(this.path,this.extname):void 0}set stem(n){nh(n,"stem"),th(n,"stem"),this.path=qn.join(this.dirname||"",n+(this.extname||""))}fail(n,i,a){const l=this.message(n,i,a);throw l.fatal=!0,l}info(n,i,a){const l=this.message(n,i,a);return l.fatal=void 0,l}message(n,i,a){const l=new It(n,i,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function th(e,n){if(e&&e.includes(qn.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+qn.sep+"`")}function nh(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function f0(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function lL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sL=(function(e){const a=this.constructor.prototype,l=a[e],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,a),s}),cL={}.hasOwnProperty;class jp extends sL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qz()}copy(){const n=new jp;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];n.use(...a)}return n.data(Jf(!0,{},this.namespace)),n}data(n,i){return typeof n=="string"?arguments.length===2?(ah("data",this.frozen),this.namespace[n]=i,this):cL.call(this.namespace,n)&&this.namespace[n]||void 0:n?(ah("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const l=i.call(n,...a);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const i=xc(n),a=this.parser||this.Parser;return ih("parse",a),a(String(i),i)}process(n,i){const a=this;return this.freeze(),ih("process",this.parser||this.Parser),rh("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(s,c){const f=xc(n),h=a.parse(f);a.run(h,f,function(g,m,v){if(g||!m||!v)return p(g);const b=m,w=a.stringify(b,v);fL(w)?v.value=w:v.result=w,p(g,v)});function p(g,m){g||!m?c(g):s?s(m):i(void 0,m)}}}processSync(n){let i=!1,a;return this.freeze(),ih("processSync",this.parser||this.Parser),rh("processSync",this.compiler||this.Compiler),this.process(n,l),p0("processSync","process",i),a;function l(s,c){i=!0,u0(s),a=c}}run(n,i,a){h0(n),this.freeze();const l=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?s(void 0,a):new Promise(s);function s(c,f){const h=xc(i);l.run(n,h,p);function p(g,m,v){const b=m||n;g?f(g):c?c(b):a(void 0,b,v)}}}runSync(n,i){let a=!1,l;return this.run(n,i,s),p0("runSync","run",a),l;function s(c,f){u0(c),l=f,a=!0}}stringify(n,i){this.freeze();const a=xc(i),l=this.compiler||this.Compiler;return rh("stringify",l),h0(n),l(n,a)}use(n,...i){const a=this.attachers,l=this.namespace;if(ah("use",this.frozen),n!=null)if(typeof n=="function")h(n,i);else if(typeof n=="object")Array.isArray(n)?f(n):c(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function s(p){if(typeof p=="function")h(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[g,...m]=p;h(g,m)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(l.settings=Jf(!0,l.settings,p.settings))}function f(p){let g=-1;if(p!=null)if(Array.isArray(p))for(;++g<p.length;){const m=p[g];s(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function h(p,g){let m=-1,v=-1;for(;++m<a.length;)if(a[m][0]===p){v=m;break}if(v===-1)a.push([p,...g]);else if(g.length>0){let[b,...w]=g;const N=a[v][1];Ph(N)&&Ph(b)&&(b=Jf(!0,N,b)),a[v]=[p,b,...w]}}}}const uL=new jp().freeze();function ih(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rh(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ah(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function h0(e){if(!Ph(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function p0(e,n,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function xc(e){return dL(e)?e:new t1(e)}function dL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function fL(e){return typeof e=="string"||hL(e)}function hL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",m0=[],g0={allowDangerousHtml:!0},mL=/^(https?|ircs?|mailto|xmpp)$/i,gL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function n1(e){const n=yL(e),i=xL(e);return vL(n.runSync(n.parse(i),i),e)}function yL(e){const n=e.rehypePlugins||m0,i=e.remarkPlugins||m0,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...g0}:g0;return uL().use(KR).use(i).use(Gz,a).use(n)}function xL(e){const n=e.children||"",i=new t1;return typeof n=="string"&&(i.value=n),i}function vL(e,n){const i=n.allowedElements,a=n.allowElement,l=n.components,s=n.disallowedElements,c=n.skipHtml,f=n.unwrapDisallowed,h=n.urlTransform||bL;for(const g of gL)Object.hasOwn(n,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+pL+g.id,void 0);return Ep(e,p),z_(e,{Fragment:u.Fragment,components:l,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function p(g,m,v){if(g.type==="raw"&&v&&typeof m=="number")return c?v.children.splice(m,1):v.children[m]={type:"text",value:g.value},m;if(g.type==="element"){let b;for(b in Qf)if(Object.hasOwn(Qf,b)&&Object.hasOwn(g.properties,b)){const w=g.properties[b],N=Qf[b];(N===null||N.includes(g.tagName))&&(g.properties[b]=h(String(w||""),b,g))}}if(g.type==="element"){let b=i?!i.includes(g.tagName):s?s.includes(g.tagName):!1;if(!b&&a&&typeof m=="number"&&(b=!a(g,m,v)),b&&v&&typeof m=="number")return f&&g.children?v.children.splice(m,1,...g.children):v.children.splice(m,1),m}}}function bL(e){const n=e.indexOf(":"),i=e.indexOf("?"),a=e.indexOf("#"),l=e.indexOf("/");return n===-1||l!==-1&&n>l||i!==-1&&n>i||a!==-1&&n>a||mL.test(e.slice(0,n))?e:""}function y0(e,n){const i=String(e);if(typeof n!="string")throw new TypeError("Expected character");let a=0,l=i.indexOf(n);for(;l!==-1;)a++,l=i.indexOf(n,l+n.length);return a}function wL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function SL(e,n,i){const l=du((i||{}).ignore||[]),s=NL(n);let c=-1;for(;++c<s.length;)e1(e,"text",f);function f(p,g){let m=-1,v;for(;++m<g.length;){const b=g[m],w=v?v.children:void 0;if(l(b,w?w.indexOf(b):void 0,v))return;v=b}if(v)return h(p,g)}function h(p,g){const m=g[g.length-1],v=s[c][0],b=s[c][1];let w=0;const C=m.children.indexOf(p);let S=!1,k=[];v.lastIndex=0;let j=v.exec(p.value);for(;j;){const _=j.index,P={index:j.index,input:j.input,stack:[...g,p]};let M=b(...j,P);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?v.lastIndex=_+1:(w!==_&&k.push({type:"text",value:p.value.slice(w,_)}),Array.isArray(M)?k.push(...M):M&&k.push(M),w=_+j[0].length,S=!0),!v.global)break;j=v.exec(p.value)}return S?(w<p.value.length&&k.push({type:"text",value:p.value.slice(w)}),m.children.splice(C,1,...k)):k=[p],C+k.length}}function NL(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const i=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<i.length;){const l=i[a];n.push([EL(l[0]),jL(l[1])])}return n}function EL(e){return typeof e=="string"?new RegExp(wL(e),"g"):e}function jL(e){return typeof e=="function"?e:function(){return e}}const oh="phrasing",lh=["autolink","link","image","label"];function CL(){return{transforms:[OL],enter:{literalAutolink:TL,literalAutolinkEmail:sh,literalAutolinkHttp:sh,literalAutolinkWww:sh},exit:{literalAutolink:_L,literalAutolinkEmail:DL,literalAutolinkHttp:AL,literalAutolinkWww:ML}}}function kL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:oh,notInConstruct:lh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:oh,notInConstruct:lh},{character:":",before:"[ps]",after:"\\/",inConstruct:oh,notInConstruct:lh}]}}function TL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function sh(e){this.config.enter.autolinkProtocol.call(this,e)}function AL(e){this.config.exit.autolinkProtocol.call(this,e)}function ML(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function DL(e){this.config.exit.autolinkEmail.call(this,e)}function _L(e){this.exit(e)}function OL(e){SL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,RL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zL]],{ignore:["link","linkReference"]})}function RL(e,n,i,a,l){let s="";if(!i1(l)||(/^w/i.test(n)&&(i=n+i,n="",s="http://"),!LL(i)))return!1;const c=IL(i+a);if(!c[0])return!1;const f={type:"link",title:null,url:s+n+c[0],children:[{type:"text",value:n+c[0]}]};return c[1]?[f,{type:"text",value:c[1]}]:f}function zL(e,n,i,a){return!i1(a,!0)||/[-\d_]$/.test(i)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+i,children:[{type:"text",value:n+"@"+i}]}}function LL(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function IL(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let i=n[0],a=i.indexOf(")");const l=y0(e,"(");let s=y0(e,")");for(;a!==-1&&l>s;)e+=i.slice(0,a+1),i=i.slice(a+1),a=i.indexOf(")"),s++;return[e,i]}function i1(e,n){const i=e.input.charCodeAt(e.index-1);return(e.index===0||Pr(i)||su(i))&&(!n||i!==47)}r1.peek=GL;function BL(){this.buffer()}function HL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function PL(){this.buffer()}function $L(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function UL(e){const n=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Rn(this.sliceSerialize(e)).toLowerCase(),i.label=n}function qL(e){this.exit(e)}function VL(e){const n=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Rn(this.sliceSerialize(e)).toLowerCase(),i.label=n}function FL(e){this.exit(e)}function GL(){return"["}function r1(e,n,i,a){const l=i.createTracker(a);let s=l.move("[^");const c=i.enter("footnoteReference"),f=i.enter("reference");return s+=l.move(i.safe(i.associationId(e),{after:"]",before:s})),f(),c(),s+=l.move("]"),s}function YL(){return{enter:{gfmFootnoteCallString:BL,gfmFootnoteCall:HL,gfmFootnoteDefinitionLabelString:PL,gfmFootnoteDefinition:$L},exit:{gfmFootnoteCallString:UL,gfmFootnoteCall:qL,gfmFootnoteDefinitionLabelString:VL,gfmFootnoteDefinition:FL}}}function XL(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:i,footnoteReference:r1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function i(a,l,s,c){const f=s.createTracker(c);let h=f.move("[^");const p=s.enter("footnoteDefinition"),g=s.enter("label");return h+=f.move(s.safe(s.associationId(a),{before:h,after:"]"})),g(),h+=f.move("]:"),a.children&&a.children.length>0&&(f.shift(4),h+=f.move((n?`
`:" ")+s.indentLines(s.containerFlow(a,f.current()),n?a1:QL))),p(),h}}function QL(e,n,i){return n===0?e:a1(e,n,i)}function a1(e,n,i){return(i?"":"    ")+e}const ZL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];o1.peek=t3;function WL(){return{canContainEols:["delete"],enter:{strikethrough:JL},exit:{strikethrough:e3}}}function KL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ZL}],handlers:{delete:o1}}}function JL(e){this.enter({type:"delete",children:[]},e)}function e3(e){this.exit(e)}function o1(e,n,i,a){const l=i.createTracker(a),s=i.enter("strikethrough");let c=l.move("~~");return c+=i.containerPhrasing(e,{...l.current(),before:c,after:"~"}),c+=l.move("~~"),s(),c}function t3(){return"~"}function n3(e){return e.length}function i3(e,n){const i=n||{},a=(i.align||[]).concat(),l=i.stringLength||n3,s=[],c=[],f=[],h=[];let p=0,g=-1;for(;++g<e.length;){const N=[],C=[];let S=-1;for(e[g].length>p&&(p=e[g].length);++S<e[g].length;){const k=r3(e[g][S]);if(i.alignDelimiters!==!1){const j=l(k);C[S]=j,(h[S]===void 0||j>h[S])&&(h[S]=j)}N.push(k)}c[g]=N,f[g]=C}let m=-1;if(typeof a=="object"&&"length"in a)for(;++m<p;)s[m]=x0(a[m]);else{const N=x0(a);for(;++m<p;)s[m]=N}m=-1;const v=[],b=[];for(;++m<p;){const N=s[m];let C="",S="";N===99?(C=":",S=":"):N===108?C=":":N===114&&(S=":");let k=i.alignDelimiters===!1?1:Math.max(1,h[m]-C.length-S.length);const j=C+"-".repeat(k)+S;i.alignDelimiters!==!1&&(k=C.length+k+S.length,k>h[m]&&(h[m]=k),b[m]=k),v[m]=j}c.splice(1,0,v),f.splice(1,0,b),g=-1;const w=[];for(;++g<c.length;){const N=c[g],C=f[g];m=-1;const S=[];for(;++m<p;){const k=N[m]||"";let j="",_="";if(i.alignDelimiters!==!1){const P=h[m]-(C[m]||0),M=s[m];M===114?j=" ".repeat(P):M===99?P%2?(j=" ".repeat(P/2+.5),_=" ".repeat(P/2-.5)):(j=" ".repeat(P/2),_=j):_=" ".repeat(P)}i.delimiterStart!==!1&&!m&&S.push("|"),i.padding!==!1&&!(i.alignDelimiters===!1&&k==="")&&(i.delimiterStart!==!1||m)&&S.push(" "),i.alignDelimiters!==!1&&S.push(j),S.push(k),i.alignDelimiters!==!1&&S.push(_),i.padding!==!1&&S.push(" "),(i.delimiterEnd!==!1||m!==p-1)&&S.push("|")}w.push(i.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return w.join(`
`)}function r3(e){return e==null?"":String(e)}function x0(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function a3(e,n,i,a){const l=i.enter("blockquote"),s=i.createTracker(a);s.move("> "),s.shift(2);const c=i.indentLines(i.containerFlow(e,s.current()),o3);return l(),c}function o3(e,n,i){return">"+(i?"":" ")+e}function l3(e,n){return v0(e,n.inConstruct,!0)&&!v0(e,n.notInConstruct,!1)}function v0(e,n,i){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return i;let a=-1;for(;++a<n.length;)if(e.includes(n[a]))return!0;return!1}function b0(e,n,i,a){let l=-1;for(;++l<i.unsafe.length;)if(i.unsafe[l].character===`
`&&l3(i.stack,i.unsafe[l]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function s3(e,n){const i=String(e);let a=i.indexOf(n),l=a,s=0,c=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===l?++s>c&&(c=s):s=1,l=a+n.length,a=i.indexOf(n,l);return c}function c3(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function u3(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function d3(e,n,i,a){const l=u3(i),s=e.value||"",c=l==="`"?"GraveAccent":"Tilde";if(c3(e,i)){const m=i.enter("codeIndented"),v=i.indentLines(s,f3);return m(),v}const f=i.createTracker(a),h=l.repeat(Math.max(s3(s,l)+1,3)),p=i.enter("codeFenced");let g=f.move(h);if(e.lang){const m=i.enter(`codeFencedLang${c}`);g+=f.move(i.safe(e.lang,{before:g,after:" ",encode:["`"],...f.current()})),m()}if(e.lang&&e.meta){const m=i.enter(`codeFencedMeta${c}`);g+=f.move(" "),g+=f.move(i.safe(e.meta,{before:g,after:`
`,encode:["`"],...f.current()})),m()}return g+=f.move(`
`),s&&(g+=f.move(s+`
`)),g+=f.move(h),p(),g}function f3(e,n,i){return(i?"":"    ")+e}function Cp(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function h3(e,n,i,a){const l=Cp(i),s=l==='"'?"Quote":"Apostrophe",c=i.enter("definition");let f=i.enter("label");const h=i.createTracker(a);let p=h.move("[");return p+=h.move(i.safe(i.associationId(e),{before:p,after:"]",...h.current()})),p+=h.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=i.enter("destinationLiteral"),p+=h.move("<"),p+=h.move(i.safe(e.url,{before:p,after:">",...h.current()})),p+=h.move(">")):(f=i.enter("destinationRaw"),p+=h.move(i.safe(e.url,{before:p,after:e.title?" ":`
`,...h.current()}))),f(),e.title&&(f=i.enter(`title${s}`),p+=h.move(" "+l),p+=h.move(i.safe(e.title,{before:p,after:l,...h.current()})),p+=h.move(l),f()),c(),p}function p3(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Sl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vc(e,n,i){const a=Xa(e),l=Xa(n);return a===void 0?l===void 0?i==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}l1.peek=m3;function l1(e,n,i,a){const l=p3(i),s=i.enter("emphasis"),c=i.createTracker(a),f=c.move(l);let h=c.move(i.containerPhrasing(e,{after:l,before:f,...c.current()}));const p=h.charCodeAt(0),g=Vc(a.before.charCodeAt(a.before.length-1),p,l);g.inside&&(h=Sl(p)+h.slice(1));const m=h.charCodeAt(h.length-1),v=Vc(a.after.charCodeAt(0),m,l);v.inside&&(h=h.slice(0,-1)+Sl(m));const b=c.move(l);return s(),i.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},f+h+b}function m3(e,n,i){return i.options.emphasis||"*"}function g3(e,n){let i=!1;return Ep(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return i=!0,Bh}),!!((!e.depth||e.depth<3)&&yp(e)&&(n.options.setext||i))}function y3(e,n,i,a){const l=Math.max(Math.min(6,e.depth||1),1),s=i.createTracker(a);if(g3(e,i)){const g=i.enter("headingSetext"),m=i.enter("phrasing"),v=i.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return m(),g(),v+`
`+(l===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(l),f=i.enter("headingAtx"),h=i.enter("phrasing");s.move(c+" ");let p=i.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(p)&&(p=Sl(p.charCodeAt(0))+p.slice(1)),p=p?c+" "+p:c,i.options.closeAtx&&(p+=" "+c),h(),f(),p}s1.peek=x3;function s1(e){return e.value||""}function x3(){return"<"}c1.peek=v3;function c1(e,n,i,a){const l=Cp(i),s=l==='"'?"Quote":"Apostrophe",c=i.enter("image");let f=i.enter("label");const h=i.createTracker(a);let p=h.move("![");return p+=h.move(i.safe(e.alt,{before:p,after:"]",...h.current()})),p+=h.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=i.enter("destinationLiteral"),p+=h.move("<"),p+=h.move(i.safe(e.url,{before:p,after:">",...h.current()})),p+=h.move(">")):(f=i.enter("destinationRaw"),p+=h.move(i.safe(e.url,{before:p,after:e.title?" ":")",...h.current()}))),f(),e.title&&(f=i.enter(`title${s}`),p+=h.move(" "+l),p+=h.move(i.safe(e.title,{before:p,after:l,...h.current()})),p+=h.move(l),f()),p+=h.move(")"),c(),p}function v3(){return"!"}u1.peek=b3;function u1(e,n,i,a){const l=e.referenceType,s=i.enter("imageReference");let c=i.enter("label");const f=i.createTracker(a);let h=f.move("![");const p=i.safe(e.alt,{before:h,after:"]",...f.current()});h+=f.move(p+"]["),c();const g=i.stack;i.stack=[],c=i.enter("reference");const m=i.safe(i.associationId(e),{before:h,after:"]",...f.current()});return c(),i.stack=g,s(),l==="full"||!p||p!==m?h+=f.move(m+"]"):l==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function b3(){return"!"}d1.peek=w3;function d1(e,n,i){let a=e.value||"",l="`",s=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(a);)l+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++s<i.unsafe.length;){const c=i.unsafe[s],f=i.compilePattern(c);let h;if(c.atBreak)for(;h=f.exec(a);){let p=h.index;a.charCodeAt(p)===10&&a.charCodeAt(p-1)===13&&p--,a=a.slice(0,p)+" "+a.slice(h.index+1)}}return l+a+l}function w3(){return"`"}function f1(e,n){const i=yp(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(i===e.url||"mailto:"+i===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}h1.peek=S3;function h1(e,n,i,a){const l=Cp(i),s=l==='"'?"Quote":"Apostrophe",c=i.createTracker(a);let f,h;if(f1(e,i)){const g=i.stack;i.stack=[],f=i.enter("autolink");let m=c.move("<");return m+=c.move(i.containerPhrasing(e,{before:m,after:">",...c.current()})),m+=c.move(">"),f(),i.stack=g,m}f=i.enter("link"),h=i.enter("label");let p=c.move("[");return p+=c.move(i.containerPhrasing(e,{before:p,after:"](",...c.current()})),p+=c.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=i.enter("destinationLiteral"),p+=c.move("<"),p+=c.move(i.safe(e.url,{before:p,after:">",...c.current()})),p+=c.move(">")):(h=i.enter("destinationRaw"),p+=c.move(i.safe(e.url,{before:p,after:e.title?" ":")",...c.current()}))),h(),e.title&&(h=i.enter(`title${s}`),p+=c.move(" "+l),p+=c.move(i.safe(e.title,{before:p,after:l,...c.current()})),p+=c.move(l),h()),p+=c.move(")"),f(),p}function S3(e,n,i){return f1(e,i)?"<":"["}p1.peek=N3;function p1(e,n,i,a){const l=e.referenceType,s=i.enter("linkReference");let c=i.enter("label");const f=i.createTracker(a);let h=f.move("[");const p=i.containerPhrasing(e,{before:h,after:"]",...f.current()});h+=f.move(p+"]["),c();const g=i.stack;i.stack=[],c=i.enter("reference");const m=i.safe(i.associationId(e),{before:h,after:"]",...f.current()});return c(),i.stack=g,s(),l==="full"||!p||p!==m?h+=f.move(m+"]"):l==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function N3(){return"["}function kp(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function E3(e){const n=kp(e),i=e.options.bulletOther;if(!i)return n==="*"?"-":"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(i===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+i+"`) to be different");return i}function j3(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function m1(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function C3(e,n,i,a){const l=i.enter("list"),s=i.bulletCurrent;let c=e.ordered?j3(i):kp(i);const f=e.ordered?c==="."?")":".":E3(i);let h=n&&i.bulletLastUsed?c===i.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&g&&(!g.children||!g.children[0])&&i.stack[i.stack.length-1]==="list"&&i.stack[i.stack.length-2]==="listItem"&&i.stack[i.stack.length-3]==="list"&&i.stack[i.stack.length-4]==="listItem"&&i.indexStack[i.indexStack.length-1]===0&&i.indexStack[i.indexStack.length-2]===0&&i.indexStack[i.indexStack.length-3]===0&&(h=!0),m1(i)===c&&g){let m=-1;for(;++m<e.children.length;){const v=e.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(c=f),i.bulletCurrent=c;const p=i.containerFlow(e,a);return i.bulletLastUsed=c,i.bulletCurrent=s,l(),p}function k3(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function T3(e,n,i,a){const l=k3(i);let s=i.bulletCurrent||kp(i);n&&n.type==="list"&&n.ordered&&(s=(typeof n.start=="number"&&n.start>-1?n.start:1)+(i.options.incrementListMarker===!1?0:n.children.indexOf(e))+s);let c=s.length+1;(l==="tab"||l==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(c=Math.ceil(c/4)*4);const f=i.createTracker(a);f.move(s+" ".repeat(c-s.length)),f.shift(c);const h=i.enter("listItem"),p=i.indentLines(i.containerFlow(e,f.current()),g);return h(),p;function g(m,v,b){return v?(b?"":" ".repeat(c))+m:(b?s:s+" ".repeat(c-s.length))+m}}function A3(e,n,i,a){const l=i.enter("paragraph"),s=i.enter("phrasing"),c=i.containerPhrasing(e,a);return s(),l(),c}const M3=du(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function D3(e,n,i,a){return(e.children.some(function(c){return M3(c)})?i.containerPhrasing:i.containerFlow).call(i,e,a)}function _3(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}g1.peek=O3;function g1(e,n,i,a){const l=_3(i),s=i.enter("strong"),c=i.createTracker(a),f=c.move(l+l);let h=c.move(i.containerPhrasing(e,{after:l,before:f,...c.current()}));const p=h.charCodeAt(0),g=Vc(a.before.charCodeAt(a.before.length-1),p,l);g.inside&&(h=Sl(p)+h.slice(1));const m=h.charCodeAt(h.length-1),v=Vc(a.after.charCodeAt(0),m,l);v.inside&&(h=h.slice(0,-1)+Sl(m));const b=c.move(l+l);return s(),i.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},f+h+b}function O3(e,n,i){return i.options.strong||"*"}function R3(e,n,i,a){return i.safe(e.value,a)}function z3(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function L3(e,n,i){const a=(m1(i)+(i.options.ruleSpaces?" ":"")).repeat(z3(i));return i.options.ruleSpaces?a.slice(0,-1):a}const y1={blockquote:a3,break:b0,code:d3,definition:h3,emphasis:l1,hardBreak:b0,heading:y3,html:s1,image:c1,imageReference:u1,inlineCode:d1,link:h1,linkReference:p1,list:C3,listItem:T3,paragraph:A3,root:D3,strong:g1,text:R3,thematicBreak:L3};function I3(){return{enter:{table:B3,tableData:w0,tableHeader:w0,tableRow:P3},exit:{codeText:$3,table:H3,tableData:ch,tableHeader:ch,tableRow:ch}}}function B3(e){const n=e._align;this.enter({type:"table",align:n.map(function(i){return i==="none"?null:i}),children:[]},e),this.data.inTable=!0}function H3(e){this.exit(e),this.data.inTable=void 0}function P3(e){this.enter({type:"tableRow",children:[]},e)}function ch(e){this.exit(e)}function w0(e){this.enter({type:"tableCell",children:[]},e)}function $3(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,U3));const i=this.stack[this.stack.length-1];i.type,i.value=n,this.exit(e)}function U3(e,n){return n==="|"?n:e}function q3(e){const n=e||{},i=n.tableCellPadding,a=n.tablePipeAlign,l=n.stringLength,s=i?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:h,tableRow:f}};function c(b,w,N,C){return p(g(b,N,C),b.align)}function f(b,w,N,C){const S=m(b,N,C),k=p([S]);return k.slice(0,k.indexOf(`
`))}function h(b,w,N,C){const S=N.enter("tableCell"),k=N.enter("phrasing"),j=N.containerPhrasing(b,{...C,before:s,after:s});return k(),S(),j}function p(b,w){return i3(b,{align:w,alignDelimiters:a,padding:i,stringLength:l})}function g(b,w,N){const C=b.children;let S=-1;const k=[],j=w.enter("table");for(;++S<C.length;)k[S]=m(C[S],w,N);return j(),k}function m(b,w,N){const C=b.children;let S=-1;const k=[],j=w.enter("tableRow");for(;++S<C.length;)k[S]=h(C[S],b,w,N);return j(),k}function v(b,w,N){let C=y1.inlineCode(b,w,N);return N.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function V3(){return{exit:{taskListCheckValueChecked:S0,taskListCheckValueUnchecked:S0,paragraph:G3}}}function F3(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Y3}}}function S0(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function G3(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const i=this.stack[this.stack.length-1];i.type;const a=i.children[0];if(a&&a.type==="text"){const l=n.children;let s=-1,c;for(;++s<l.length;){const f=l[s];if(f.type==="paragraph"){c=f;break}}c===i&&(a.value=a.value.slice(1),a.value.length===0?i.children.shift():i.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,i.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function Y3(e,n,i,a){const l=e.children[0],s=typeof e.checked=="boolean"&&l&&l.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",f=i.createTracker(a);s&&f.move(c);let h=y1.listItem(e,n,i,{...a,...f.current()});return s&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),h;function p(g){return g+c}}function X3(){return[CL(),YL(),WL(),I3(),V3()]}function Q3(e){return{extensions:[kL(),XL(e),KL(),q3(e),F3()]}}const Z3={tokenize:nI,partial:!0},x1={tokenize:iI,partial:!0},v1={tokenize:rI,partial:!0},b1={tokenize:aI,partial:!0},W3={tokenize:oI,partial:!0},w1={name:"wwwAutolink",tokenize:eI,previous:N1},S1={name:"protocolAutolink",tokenize:tI,previous:E1},Ni={name:"emailAutolink",tokenize:J3,previous:j1},Xn={};function K3(){return{text:Xn}}let Ar=48;for(;Ar<123;)Xn[Ar]=Ni,Ar++,Ar===58?Ar=65:Ar===91&&(Ar=97);Xn[43]=Ni;Xn[45]=Ni;Xn[46]=Ni;Xn[95]=Ni;Xn[72]=[Ni,S1];Xn[104]=[Ni,S1];Xn[87]=[Ni,w1];Xn[119]=[Ni,w1];function J3(e,n,i){const a=this;let l,s;return c;function c(m){return!Uh(m)||!j1.call(a,a.previous)||Tp(a.events)?i(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(m))}function f(m){return Uh(m)?(e.consume(m),f):m===64?(e.consume(m),h):i(m)}function h(m){return m===46?e.check(W3,g,p)(m):m===45||m===95||Lt(m)?(s=!0,e.consume(m),h):g(m)}function p(m){return e.consume(m),l=!0,h}function g(m){return s&&l&&Pt(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(m)):i(m)}}function eI(e,n,i){const a=this;return l;function l(c){return c!==87&&c!==119||!N1.call(a,a.previous)||Tp(a.events)?i(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Z3,e.attempt(x1,e.attempt(v1,s),i),i)(c))}function s(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(c)}}function tI(e,n,i){const a=this;let l="",s=!1;return c;function c(m){return(m===72||m===104)&&E1.call(a,a.previous)&&!Tp(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),l+=String.fromCodePoint(m),e.consume(m),f):i(m)}function f(m){if(Pt(m)&&l.length<5)return l+=String.fromCodePoint(m),e.consume(m),f;if(m===58){const v=l.toLowerCase();if(v==="http"||v==="https")return e.consume(m),h}return i(m)}function h(m){return m===47?(e.consume(m),s?p:(s=!0,h)):i(m)}function p(m){return m===null||$c(m)||nt(m)||Pr(m)||su(m)?i(m):e.attempt(x1,e.attempt(v1,g),i)(m)}function g(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(m)}}function nI(e,n,i){let a=0;return l;function l(c){return(c===87||c===119)&&a<3?(a++,e.consume(c),l):c===46&&a===3?(e.consume(c),s):i(c)}function s(c){return c===null?i(c):n(c)}}function iI(e,n,i){let a,l,s;return c;function c(p){return p===46||p===95?e.check(b1,h,f)(p):p===null||nt(p)||Pr(p)||p!==45&&su(p)?h(p):(s=!0,e.consume(p),c)}function f(p){return p===95?a=!0:(l=a,a=void 0),e.consume(p),c}function h(p){return l||a||!s?i(p):n(p)}}function rI(e,n){let i=0,a=0;return l;function l(c){return c===40?(i++,e.consume(c),l):c===41&&a<i?s(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(b1,n,s)(c):c===null||nt(c)||Pr(c)?n(c):(e.consume(c),l)}function s(c){return c===41&&a++,e.consume(c),l}}function aI(e,n,i){return a;function a(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),a):f===38?(e.consume(f),s):f===93?(e.consume(f),l):f===60||f===null||nt(f)||Pr(f)?n(f):i(f)}function l(f){return f===null||f===40||f===91||nt(f)||Pr(f)?n(f):a(f)}function s(f){return Pt(f)?c(f):i(f)}function c(f){return f===59?(e.consume(f),a):Pt(f)?(e.consume(f),c):i(f)}}function oI(e,n,i){return a;function a(s){return e.consume(s),l}function l(s){return Lt(s)?i(s):n(s)}}function N1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nt(e)}function E1(e){return!Pt(e)}function j1(e){return!(e===47||Uh(e))}function Uh(e){return e===43||e===45||e===46||e===95||Lt(e)}function Tp(e){let n=e.length,i=!1;for(;n--;){const a=e[n][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){i=!0;break}if(a._gfmAutolinkLiteralWalkedInto){i=!1;break}}return e.length>0&&!i&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),i}const lI={tokenize:mI,partial:!0};function sI(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:fI,continuation:{tokenize:hI},exit:pI}},text:{91:{name:"gfmFootnoteCall",tokenize:dI},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:cI,resolveTo:uI}}}}function cI(e,n,i){const a=this;let l=a.events.length;const s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;l--;){const h=a.events[l][1];if(h.type==="labelImage"){c=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return f;function f(h){if(!c||!c._balanced)return i(h);const p=Rn(a.sliceSerialize({start:c.end,end:a.now()}));return p.codePointAt(0)!==94||!s.includes(p.slice(1))?i(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),n(h))}}function uI(e,n){let i=e.length;for(;i--;)if(e[i][1].type==="labelImage"&&e[i][0]==="enter"){e[i][1];break}e[i+1][1].type="data",e[i+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[i+3][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},e[i+3][1].end),end:Object.assign({},e[i+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},f=[e[i+1],e[i+2],["enter",a,n],e[i+3],e[i+4],["enter",l,n],["exit",l,n],["enter",s,n],["enter",c,n],["exit",c,n],["exit",s,n],e[e.length-2],e[e.length-1],["exit",a,n]];return e.splice(i,e.length-i+1,...f),e}function dI(e,n,i){const a=this,l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s=0,c;return f;function f(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),h}function h(m){return m!==94?i(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",p)}function p(m){if(s>999||m===93&&!c||m===null||m===91||nt(m))return i(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return l.includes(Rn(a.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):i(m)}return nt(m)||(c=!0),s++,e.consume(m),m===92?g:p}function g(m){return m===91||m===92||m===93?(e.consume(m),s++,p):p(m)}}function fI(e,n,i){const a=this,l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s,c=0,f;return h;function h(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):i(w)}function g(w){if(c>999||w===93&&!f||w===null||w===91||nt(w))return i(w);if(w===93){e.exit("chunkString");const N=e.exit("gfmFootnoteDefinitionLabelString");return s=Rn(a.sliceSerialize(N)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return nt(w)||(f=!0),c++,e.consume(w),w===92?m:g}function m(w){return w===91||w===92||w===93?(e.consume(w),c++,g):g(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),l.includes(s)||l.push(s),$e(e,b,"gfmFootnoteDefinitionWhitespace")):i(w)}function b(w){return n(w)}}function hI(e,n,i){return e.check(Ol,n,e.attempt(lI,n,i))}function pI(e){e.exit("gfmFootnoteDefinition")}function mI(e,n,i){const a=this;return $e(e,l,"gfmFootnoteDefinitionIndent",5);function l(s){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?n(s):i(s)}}function gI(e){let i=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:s,resolveAll:l};return i==null&&(i=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function l(c,f){let h=-1;for(;++h<c.length;)if(c[h][0]==="enter"&&c[h][1].type==="strikethroughSequenceTemporary"&&c[h][1]._close){let p=h;for(;p--;)if(c[p][0]==="exit"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._open&&c[h][1].end.offset-c[h][1].start.offset===c[p][1].end.offset-c[p][1].start.offset){c[h][1].type="strikethroughSequence",c[p][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},c[p][1].start),end:Object.assign({},c[h][1].end)},m={type:"strikethroughText",start:Object.assign({},c[p][1].end),end:Object.assign({},c[h][1].start)},v=[["enter",g,f],["enter",c[p][1],f],["exit",c[p][1],f],["enter",m,f]],b=f.parser.constructs.insideSpan.null;b&&fn(v,v.length,0,cu(b,c.slice(p+1,h),f)),fn(v,v.length,0,[["exit",m,f],["enter",c[h][1],f],["exit",c[h][1],f],["exit",g,f]]),fn(c,p-1,h-p+3,v),h=p+v.length-2;break}}for(h=-1;++h<c.length;)c[h][1].type==="strikethroughSequenceTemporary"&&(c[h][1].type="data");return c}function s(c,f,h){const p=this.previous,g=this.events;let m=0;return v;function v(w){return p===126&&g[g.length-1][1].type!=="characterEscape"?h(w):(c.enter("strikethroughSequenceTemporary"),b(w))}function b(w){const N=Xa(p);if(w===126)return m>1?h(w):(c.consume(w),m++,b);if(m<2&&!i)return h(w);const C=c.exit("strikethroughSequenceTemporary"),S=Xa(w);return C._open=!S||S===2&&!!N,C._close=!N||N===2&&!!S,f(w)}}}class yI{constructor(){this.map=[]}add(n,i,a){xI(this,n,i,a)}consume(n){if(this.map.sort(function(s,c){return s[0]-c[0]}),this.map.length===0)return;let i=this.map.length;const a=[];for(;i>0;)i-=1,a.push(n.slice(this.map[i][0]+this.map[i][1]),this.map[i][2]),n.length=this.map[i][0];a.push(n.slice()),n.length=0;let l=a.pop();for(;l;){for(const s of l)n.push(s);l=a.pop()}this.map.length=0}}function xI(e,n,i,a){let l=0;if(!(i===0&&a.length===0)){for(;l<e.map.length;){if(e.map[l][0]===n){e.map[l][1]+=i,e.map[l][2].push(...a);return}l+=1}e.map.push([n,i,a])}}function vI(e,n){let i=!1;const a=[];for(;n<e.length;){const l=e[n];if(i){if(l[0]==="enter")l[1].type==="tableContent"&&a.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const s=a.length-1;a[s]=a[s]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(i=!0);n+=1}return a}function bI(){return{flow:{null:{name:"table",tokenize:wI,resolveAll:SI}}}}function wI(e,n,i){const a=this;let l=0,s=0,c;return f;function f(I){let L=a.events.length-1;for(;L>-1;){const A=a.events[L][1].type;if(A==="lineEnding"||A==="linePrefix")L--;else break}const q=L>-1?a.events[L][1].type:null,K=q==="tableHead"||q==="tableRow"?M:h;return K===M&&a.parser.lazy[a.now().line]?i(I):K(I)}function h(I){return e.enter("tableHead"),e.enter("tableRow"),p(I)}function p(I){return I===124||(c=!0,s+=1),g(I)}function g(I){return I===null?i(I):we(I)?s>1?(s=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),b):i(I):ze(I)?$e(e,g,"whitespace")(I):(s+=1,c&&(c=!1,l+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),c=!0,g):(e.enter("data"),m(I)))}function m(I){return I===null||I===124||nt(I)?(e.exit("data"),g(I)):(e.consume(I),I===92?v:m)}function v(I){return I===92||I===124?(e.consume(I),m):m(I)}function b(I){return a.interrupt=!1,a.parser.lazy[a.now().line]?i(I):(e.enter("tableDelimiterRow"),c=!1,ze(I)?$e(e,w,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):w(I))}function w(I){return I===45||I===58?C(I):I===124?(c=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),N):P(I)}function N(I){return ze(I)?$e(e,C,"whitespace")(I):C(I)}function C(I){return I===58?(s+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),S):I===45?(s+=1,S(I)):I===null||we(I)?_(I):P(I)}function S(I){return I===45?(e.enter("tableDelimiterFiller"),k(I)):P(I)}function k(I){return I===45?(e.consume(I),k):I===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(I))}function j(I){return ze(I)?$e(e,_,"whitespace")(I):_(I)}function _(I){return I===124?w(I):I===null||we(I)?!c||l!==s?P(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(I)):P(I)}function P(I){return i(I)}function M(I){return e.enter("tableRow"),H(I)}function H(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),H):I===null||we(I)?(e.exit("tableRow"),n(I)):ze(I)?$e(e,H,"whitespace")(I):(e.enter("data"),F(I))}function F(I){return I===null||I===124||nt(I)?(e.exit("data"),H(I)):(e.consume(I),I===92?X:F)}function X(I){return I===92||I===124?(e.consume(I),F):F(I)}}function SI(e,n){let i=-1,a=!0,l=0,s=[0,0,0,0],c=[0,0,0,0],f=!1,h=0,p,g,m;const v=new yI;for(;++i<e.length;){const b=e[i],w=b[1];b[0]==="enter"?w.type==="tableHead"?(f=!1,h!==0&&(N0(v,n,h,p,g),g=void 0,h=0),p={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(i,0,[["enter",p,n]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(a=!0,m=void 0,s=[0,0,0,0],c=[0,i+1,0,0],f&&(f=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(i,0,[["enter",g,n]])),l=w.type==="tableDelimiterRow"?2:g?3:1):l&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(s[1]!==0&&(c[0]=c[1],m=vc(v,n,s,l,void 0,m),s=[0,0,0,0]),c[2]=i)):w.type==="tableCellDivider"&&(a?a=!1:(s[1]!==0&&(c[0]=c[1],m=vc(v,n,s,l,void 0,m)),s=c,c=[s[1],i,0,0])):w.type==="tableHead"?(f=!0,h=i):w.type==="tableRow"||w.type==="tableDelimiterRow"?(h=i,s[1]!==0?(c[0]=c[1],m=vc(v,n,s,l,i,m)):c[1]!==0&&(m=vc(v,n,c,l,i,m)),l=0):l&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(c[3]=i)}for(h!==0&&N0(v,n,h,p,g),v.consume(n.events),i=-1;++i<n.events.length;){const b=n.events[i];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=vI(n.events,i))}return e}function vc(e,n,i,a,l,s){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",f="tableContent";i[0]!==0&&(s.end=Object.assign({},Oa(n.events,i[0])),e.add(i[0],0,[["exit",s,n]]));const h=Oa(n.events,i[1]);if(s={type:c,start:Object.assign({},h),end:Object.assign({},h)},e.add(i[1],0,[["enter",s,n]]),i[2]!==0){const p=Oa(n.events,i[2]),g=Oa(n.events,i[3]),m={type:f,start:Object.assign({},p),end:Object.assign({},g)};if(e.add(i[2],0,[["enter",m,n]]),a!==2){const v=n.events[i[2]],b=n.events[i[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",i[3]>i[2]+1){const w=i[2]+1,N=i[3]-i[2]-1;e.add(w,N,[])}}e.add(i[3]+1,0,[["exit",m,n]])}return l!==void 0&&(s.end=Object.assign({},Oa(n.events,l)),e.add(l,0,[["exit",s,n]]),s=void 0),s}function N0(e,n,i,a,l){const s=[],c=Oa(n.events,i);l&&(l.end=Object.assign({},c),s.push(["exit",l,n])),a.end=Object.assign({},c),s.push(["exit",a,n]),e.add(i+1,0,s)}function Oa(e,n){const i=e[n],a=i[0]==="enter"?"start":"end";return i[1][a]}const NI={name:"tasklistCheck",tokenize:jI};function EI(){return{text:{91:NI}}}function jI(e,n,i){const a=this;return l;function l(h){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?i(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),s)}function s(h){return nt(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),c):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),c):i(h)}function c(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):i(h)}function f(h){return we(h)?n(h):ze(h)?e.check({tokenize:CI},n,i)(h):i(h)}}function CI(e,n,i){return $e(e,a,"whitespace");function a(l){return l===null?i(l):n(l)}}function kI(e){return zw([K3(),sI(),gI(e),bI(),EI()])}const TI={};function AI(e){const n=this,i=e||TI,a=n.data(),l=a.micromarkExtensions||(a.micromarkExtensions=[]),s=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);l.push(kI(i)),s.push(X3()),c.push(Q3(i))}const Fc={manualTrigger:{id:"manualTrigger",icon:"",title:"Manual Trigger",category:"Triggers",overview:"The Manual Trigger is the starting point for on-demand workflows. When you click the Run button, this node fires first and passes its configured payload to connected nodes. It's ideal for testing, user-initiated automations, or workflows that need human activation.",technicalDetails:`
**Execution Flow:**
1. User clicks Run button or presses Ctrl+Enter
2. Manual Trigger node activates and emits its payload
3. Output data flows to all connected downstream nodes
4. Execution continues through the graph

**Output Schema:**
\`\`\`javascript
{
  timestamp: "2024-01-15T10:30:00.000Z",
  trigger: "manual",
  text: "Your default payload text",
  data: { ...formFieldValues }
}
\`\`\`
    `,config:[{name:"Label",type:"string",desc:"Display name for the node",default:"Manual Trigger"},{name:"Default Payload",type:"string (multiline)",desc:"Text content passed as 'text' field in output",default:""},{name:"Input Fields",type:"Form Builder",desc:"Dynamic form fields for user input at runtime",default:"[]"}],examples:[{title:"Simple Text Input",description:"Pass a question to an AI Agent",config:'Default Payload: "What are the benefits of renewable energy?"',output:'{ timestamp: "...", trigger: "manual", text: "What are the benefits of renewable energy?", data: {} }'},{title:"Form with Multiple Fields",description:"Collect structured data before processing",config:`Input Fields:
- name: "email" | type: "text" | label: "Email Address"
- name: "subject" | type: "text" | label: "Subject Line"  
- name: "priority" | type: "select" | options: ["low", "medium", "high"]`,output:'{ timestamp: "...", trigger: "manual", data: { email: "user@example.com", subject: "Hello", priority: "high" } }'},{title:"JSON Payload",description:"Pass structured JSON data",config:`Default Payload:
{
  "action": "process",
  "items": ["item1", "item2"],
  "config": { "verbose": true }
}`,output:`{ timestamp: "...", trigger: "manual", text: '{"action":"process",...}', data: {} }`}],tips:["Use Input Fields to create reusable workflows with variable parameters","The 'text' field is the primary data carrier - use it for simple string inputs","Form field values are accessible via input.data.fieldName in downstream nodes","Combine with AI Agent to build interactive chat interfaces"],connections:{inputs:0,outputs:1,outputLabels:["output"]}},scheduleTrigger:{id:"scheduleTrigger",icon:"",title:"Schedule Trigger",category:"Triggers",overview:"The Schedule Trigger runs workflows automatically at specified intervals using CRON expressions. Perfect for periodic tasks like data synchronization, report generation, health checks, or cleanup jobs.",technicalDetails:`
**CRON Expression Format:**
\`\`\`
 minute (0-59)
  hour (0-23)
   day of month (1-31)
    month (1-12)
     day of week (0-6, Sunday=0)
    
* * * * *
\`\`\`

**Special Characters:**
- \`*\` = any value
- \`,\` = value list (1,3,5)
- \`-\` = range (1-5)
- \`/\` = step (*/5 = every 5)

**Output Schema:**
\`\`\`javascript
{
  timestamp: "2024-01-15T10:30:00.000Z",
  trigger: "schedule",
  schedule: "*/5 * * * *",
  nextRun: "2024-01-15T10:35:00.000Z"
}
\`\`\`
    `,config:[{name:"Schedule",type:"CRON expression",desc:"When the workflow should run",default:"*/5 * * * *"},{name:"Enabled",type:"boolean",desc:"Toggle schedule on/off without deleting",default:"false"}],examples:[{title:"Every 5 Minutes",description:"Health check or monitoring",config:"Schedule: */5 * * * *",output:"Runs at: 10:00, 10:05, 10:10, 10:15..."},{title:"Daily at 9 AM",description:"Morning report generation",config:"Schedule: 0 9 * * *",output:"Runs at: 09:00 every day"},{title:"Every Monday at 8:30 AM",description:"Weekly summary email",config:"Schedule: 30 8 * * 1",output:"Runs at: 08:30 every Monday"},{title:"First Day of Month",description:"Monthly billing or reports",config:"Schedule: 0 0 1 * *",output:"Runs at: midnight on the 1st of each month"}],tips:["Schedules only run when the browser tab is open and active","Use 'Enabled' toggle to pause schedules without deleting the configuration","For more reliable scheduling, consider using browser extensions or service workers","Test your CRON expression at crontab.guru before deploying"],connections:{inputs:1,outputs:1,inputLabels:["re-trigger"],outputLabels:["output"]}},webhookTrigger:{id:"webhookTrigger",icon:"",title:"Webhook Trigger",category:"Triggers",overview:"The Webhook Trigger creates an HTTP endpoint that external services can call to start your workflow. Use it to integrate with third-party APIs, form submissions, IoT devices, or any system that can make HTTP requests.",technicalDetails:`
**Endpoint URL Format:**
\`\`\`
https://your-domain.com/webhook/{endpoint}
\`\`\`

**Supported Methods:**
- GET - Retrieve data, parameters in URL
- POST - Submit data in request body (JSON)
- PUT - Update resources
- DELETE - Remove resources

**Request Body Parsing:**
\`\`\`javascript
// JSON body is automatically parsed
{
  "event": "user.created",
  "data": { "id": 123, "email": "user@example.com" }
}
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  method: "POST",
  endpoint: "/webhook/my-hook",
  headers: { "content-type": "application/json", ... },
  body: { ...requestBody },
  query: { ...urlParams },
  timestamp: "..."
}
\`\`\`
    `,config:[{name:"Method",type:"select",desc:"HTTP method to accept",default:"POST",options:["GET","POST","PUT","DELETE"]},{name:"Endpoint",type:"string",desc:"URL path for the webhook",default:"/webhook/default"},{name:"Auth Required",type:"boolean",desc:"Require authentication token",default:"false"}],examples:[{title:"Form Submission Handler",description:"Process contact form data",config:`Method: POST
Endpoint: /webhook/contact-form`,output:'{ method: "POST", body: { name: "John", email: "john@example.com", message: "Hello!" } }'},{title:"GitHub Webhook",description:"Trigger on repository events",config:`Method: POST
Endpoint: /webhook/github`,output:'{ method: "POST", body: { action: "push", repository: {...}, commits: [...] } }'},{title:"Stripe Payment Webhook",description:"Handle payment confirmations",config:`Method: POST
Endpoint: /webhook/stripe`,output:'{ method: "POST", body: { type: "payment_intent.succeeded", data: {...} } }'}],tips:["Webhooks require a publicly accessible URL - use tunneling (ngrok) for local development","Always validate incoming data before processing","Use Auth Required for sensitive webhooks to prevent unauthorized access","Connect to Code Executor to validate signatures or transform data"],connections:{inputs:0,outputs:1,outputLabels:["output"]}},errorTrigger:{id:"errorTrigger",icon:"",title:"Error Trigger",category:"Triggers",overview:"The Error Trigger catches exceptions from other nodes, enabling graceful error handling and recovery. Build resilient workflows that can log errors, send notifications, or retry failed operations.",technicalDetails:`
**Error Capture Modes:**
1. **Watch All** - Catches errors from any node in the workflow
2. **Specific Nodes** - Only watches selected nodes by ID

**Retry Logic:**
- Automatic retry with configurable count
- Exponential backoff between attempts
- Final failure triggers error output

**Output Schema:**
\`\`\`javascript
{
  error: {
    message: "Network request failed",
    nodeId: "httpRequest-abc123",
    nodeName: "API Call",
    stack: "Error: Network request failed\\n  at..."
  },
  originalInput: { ...inputThatCausedError },
  retryAttempt: 1,
  timestamp: "..."
}
\`\`\`
    `,config:[{name:"Watch All",type:"boolean",desc:"Monitor all nodes for errors",default:"true"},{name:"Specific Nodes",type:"array",desc:"Node IDs to watch (when Watch All is false)",default:"[]"},{name:"Retry Enabled",type:"boolean",desc:"Automatically retry failed nodes",default:"false"},{name:"Retry Count",type:"number",desc:"Maximum retry attempts",default:"3"}],examples:[{title:"Error Logging",description:"Log all errors to console",config:`Watch All: true
Retry Enabled: false`,flow:"Error Trigger  Code Executor (log error)  Output"},{title:"Error Notification",description:"Send Slack message on failure",config:"Watch All: true",flow:"Error Trigger  HTTP Request (Slack API)  Output"},{title:"Retry with Fallback",description:"Retry API call, then use cached data",config:`Specific Nodes: ["httpRequest-main"]
Retry Enabled: true
Retry Count: 3`,flow:"Error Trigger  If/Else (retries exhausted?)  Local Storage (get cache)"}],tips:["Place Error Trigger anywhere in your workflow - it's not connected to the main flow","Use error.nodeId to identify which node failed","Combine with AI Agent to generate human-readable error summaries","Log errors to Local Storage for debugging across sessions"],connections:{inputs:0,outputs:1,outputLabels:["error"]}},browserEventTrigger:{id:"browserEventTrigger",icon:"",title:"Browser Event",category:"Triggers",overview:"The Browser Event Trigger responds to browser and DOM events like focus, blur, URL changes, element clicks, or timed intervals. Automate based on user interactions or browser state changes.",technicalDetails:`
**Event Types:**
| Type | Description | Use Case |
|------|-------------|----------|
| focus | Tab receives focus | Resume paused workflows |
| blur | Tab loses focus | Pause background tasks |
| urlChange | URL hash or path changes | SPA navigation |
| domClick | Element is clicked | User interaction |
| timer | Interval elapses | Polling |

**Output Schema:**
\`\`\`javascript
{
  eventType: "domClick",
  target: { selector: "#submit-btn", tagName: "BUTTON" },
  timestamp: "...",
  url: "https://example.com/page"
}
\`\`\`
    `,config:[{name:"Event Type",type:"select",desc:"Browser event to listen for",default:"focus",options:["focus","blur","urlChange","domClick","timer"]},{name:"Selector",type:"CSS selector",desc:"Element selector for domClick events",default:""},{name:"URL Pattern",type:"regex",desc:"Pattern to match for urlChange events",default:""},{name:"Interval",type:"number (ms)",desc:"Milliseconds between timer events",default:"1000"}],examples:[{title:"Auto-Save on Blur",description:"Save work when user leaves tab",config:"Event Type: blur",flow:"Browser Event  Local Storage (save state)"},{title:"Click Tracking",description:"Log button clicks",config:`Event Type: domClick
Selector: .track-btn`,flow:"Browser Event  HTTP Request (analytics API)"},{title:"Polling API",description:"Check for updates every 30 seconds",config:`Event Type: timer
Interval: 30000`,flow:"Browser Event  HTTP Request  If/Else (new data?)  Output"}],tips:["Timer events only fire when the tab is active to conserve resources","Use specific CSS selectors to avoid triggering on unintended elements","Combine with If/Else to filter events before processing","URL patterns support regex for flexible matching"],connections:{inputs:0,outputs:1,outputLabels:["event"]}},output:{id:"output",icon:"",title:"Output",category:"Actions",overview:"The Output node is the terminal point of your workflow. It displays results, downloads files, sends notifications, and automatically saves all output as artifacts for future reference.",technicalDetails:`
**Output Types:**
| Type | Behavior |
|------|----------|
| console | Logs to browser console + saves artifact |
| file | Downloads file + saves artifact |
| notification | Shows browser notification + saves artifact |

**All outputs automatically save artifacts to IndexedDB.**

**Output Schema:**
\`\`\`javascript
// The output node passes through its input
{
  ...inputData,
  _outputMeta: {
    type: "console|file|notification",
    artifactId: "uuid",
    timestamp: "..."
  }
}
\`\`\`
    `,config:[{name:"Output Type",type:"select",desc:"How to display/save the output",default:"console",options:["console","file","notification"]},{name:"Filename",type:"string",desc:"Filename for file downloads",default:"output.txt"},{name:"Format JSON",type:"boolean",desc:"Pretty-print JSON with indentation",default:"false"}],examples:[{title:"Console Logging",description:"Debug workflow output",config:`Output Type: console
Format JSON: true`,result:"Opens browser DevTools console with formatted output"},{title:"Download Report",description:"Save AI-generated content to file",config:`Output Type: file
Filename: report_{{date}}.txt`,result:"Downloads file to user's Downloads folder"},{title:"Desktop Notification",description:"Alert user when workflow completes",config:"Output Type: notification",result:"Shows browser notification with output preview"}],tips:["All outputs are saved as artifacts regardless of output type","View artifacts in the Execution Panel's Artifacts tab","Use Format JSON for complex object outputs","Notification requires browser permission - prompt appears on first use"],connections:{inputs:1,outputs:0}},httpRequest:{id:"httpRequest",icon:"",title:"HTTP Request",category:"Actions",overview:"The HTTP Request node makes REST API calls to external services. Supports all HTTP methods, custom headers, request bodies, and configurable timeouts.",technicalDetails:`
**Request Configuration:**
\`\`\`javascript
{
  method: "GET|POST|PUT|PATCH|DELETE",
  url: "https://api.example.com/endpoint",
  headers: { "Authorization": "Bearer token", ... },
  body: "string or JSON object",
  timeout: 30000 // milliseconds
}
\`\`\`

**Response Schema:**
\`\`\`javascript
{
  status: 200,
  statusText: "OK",
  data: { ...responseJSON },
  headers: { "content-type": "application/json", ... }
}
\`\`\`

**Error Handling:**
- Network errors throw exceptions (catch with Error Trigger)
- 4xx/5xx responses return normally with status code
- Timeout aborts request after configured duration
    `,config:[{name:"Method",type:"select",desc:"HTTP method",default:"GET",options:["GET","POST","PUT","PATCH","DELETE"]},{name:"URL",type:"string",desc:"Full endpoint URL (supports {{expressions}})",default:""},{name:"Headers",type:"JSON",desc:"Request headers as JSON object",default:"{}"},{name:"Body",type:"string/JSON",desc:"Request body for POST/PUT/PATCH",default:""},{name:"Timeout",type:"number",desc:"Timeout in milliseconds",default:"30000"}],examples:[{title:"GET Request",description:"Fetch data from API",config:`Method: GET
URL: https://api.github.com/users/octocat
Headers: { "Accept": "application/json" }`,output:'{ status: 200, data: { login: "octocat", id: 583231, ... } }'},{title:"POST with JSON Body",description:"Create a new resource",config:`Method: POST
URL: https://api.example.com/posts
Headers: { "Content-Type": "application/json", "Authorization": "Bearer {{input.token}}" }
Body: { "title": "{{input.title}}", "content": "{{input.content}}" }`,output:'{ status: 201, data: { id: 42, title: "...", created: true } }'},{title:"Dynamic URL from Input",description:"Parameterized API call",config:`Method: GET
URL: https://api.example.com/users/{{input.userId}}/profile`,output:"Fetches profile for the user ID from previous node"},{title:"Slack Webhook",description:"Send message to Slack channel",config:`Method: POST
URL: https://hooks.slack.com/services/T00/B00/XXX
Headers: { "Content-Type": "application/json" }
Body: { "text": "Workflow completed: {{input.result}}" }`,output:'{ status: 200, data: "ok" }'}],tips:["Use {{input.field}} syntax to inject dynamic values from previous nodes","Set appropriate Content-Type header for POST/PUT requests","Handle API rate limits with retry logic via Error Trigger","CORS restrictions apply - use a proxy for cross-origin requests if needed"],connections:{inputs:1,outputs:1}},codeExecutor:{id:"codeExecutor",icon:"",title:"Code Executor",category:"Actions",overview:"The Code Executor runs custom JavaScript code with full access to input data. Transform data, implement complex logic, call APIs, or generate dynamic content. Your code runs in a sandboxed environment with async/await support.",technicalDetails:`
**Execution Context:**
\`\`\`javascript
// Available variables:
input    // Data from previous node
context  // Execution context with nodeId, addLog()

// Your code is wrapped in async IIFE:
(async () => {
  // Your code here
  return result;
})();
\`\`\`

**Return Value:**
- Use \`return\` to pass data to next node
- Returned value becomes \`output\` for downstream nodes
- Objects, arrays, strings, numbers all supported

**Available APIs:**
- fetch() for HTTP requests
- console.log() for debugging
- JSON, Math, Date, Array methods
- async/await for promises
    `,config:[{name:"Code",type:"JavaScript",desc:"Your JavaScript code to execute",default:`// Access input data via 'input'
// Return output data
return input;`}],examples:[{title:"Data Transformation",description:"Transform array of objects",code:`// Extract specific fields
const users = input.data || [];
return users.map(user => ({
  id: user.id,
  name: user.name.toUpperCase(),
  email: user.email.toLowerCase()
}));`},{title:"Filtering",description:"Filter array by condition",code:`// Keep only active items
const items = input.items || [];
return items.filter(item => 
  item.status === 'active' && 
  item.score > 50
);`},{title:"API Call with Processing",description:"Fetch and transform external data",code:`// Fetch additional data
const userId = input.userId;
const response = await fetch(
  \`https://api.example.com/users/\${userId}\`
);
const user = await response.json();

// Combine with input
return {
  ...input,
  userDetails: user,
  fetchedAt: new Date().toISOString()
};`},{title:"Generate Dynamic Content",description:"Create content based on input",code:`// Build email template
const { name, items, total } = input;

const itemList = items
  .map(i => \`- \${i.name}: $\${i.price}\`)
  .join('\\n');

return {
  subject: \`Order Confirmation for \${name}\`,
  body: \`Dear \${name},

Thank you for your order!

Items:
\${itemList}

Total: $\${total}

Best regards,
The Team\`
};`},{title:"Error Handling",description:"Graceful error handling",code:`try {
  const result = await riskyOperation(input);
  return { success: true, data: result };
} catch (error) {
  return { 
    success: false, 
    error: error.message,
    fallback: input.defaultValue 
  };
}`}],tips:["Use console.log() for debugging - output appears in browser DevTools","Always handle potential null/undefined with optional chaining (?.) or defaults","Async operations are fully supported with async/await","Complex logic is better here than chaining multiple Set Variable nodes"],connections:{inputs:1,outputs:1}},setVariable:{id:"setVariable",icon:"",title:"Set Variable",category:"Actions",overview:"The Set Variable node creates, transforms, or merges data into named variables. Use it to prepare data for downstream nodes, rename fields, or combine multiple data sources.",technicalDetails:`
**Modes:**
| Mode | Behavior |
|------|----------|
| set | Replaces value entirely |
| append | Adds to existing array |
| merge | Shallow merge with existing object |

**Template Expressions:**
\`\`\`
{{input.field}}           - Access input field
{{input.data.nested}}     - Nested access
{{input.items[0].name}}   - Array indexing
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  ...input,
  [variableName]: value
}
\`\`\`
    `,config:[{name:"Variable Name",type:"string",desc:"Name of the variable to create/update",default:"data"},{name:"Value",type:"string",desc:"Value or expression (supports {{templates}})",default:""},{name:"Mode",type:"select",desc:"How to set the value",default:"set",options:["set","append","merge"]}],examples:[{title:"Extract Field",description:"Pull out specific data",config:`Variable Name: email
Value: {{input.user.email}}
Mode: set`,output:'{ ...input, email: "user@example.com" }'},{title:"Build Array",description:"Accumulate items from loop",config:`Variable Name: results
Value: {{input.currentItem}}
Mode: append`,output:"{ ...input, results: [...existing, currentItem] }"},{title:"Merge Objects",description:"Combine data sources",config:`Variable Name: combined
Value: { "timestamp": "{{now}}", "source": "workflow" }
Mode: merge`,output:'{ ...input, combined: { ...existing, timestamp: "...", source: "workflow" } }'}],tips:["Use Set Variable for simple transformations; Code Executor for complex logic","Variable names become keys in the output object","Template expressions are resolved from the input data","Append mode is useful for collecting results in loops"],connections:{inputs:1,outputs:1}},fileSystem:{id:"fileSystem",icon:"",title:"File System",category:"Actions",overview:"The File System node reads from and writes to local files using the File System Access API. Process local documents, save generated content, or build file-based workflows.",technicalDetails:`
**Read Mode:**
- Opens file picker dialog
- Returns file contents as text or base64
- Supports filtering by file extension

**Write Mode:**
- Opens save dialog
- Writes string content to selected file
- Creates new file or overwrites existing

**Output Schema (Read):**
\`\`\`javascript
{
  filename: "document.txt",
  size: 1024,
  type: "text/plain",
  content: "File contents here...",
  lastModified: 1697234567890
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Read or write operation",default:"read",options:["read","write"]},{name:"Filename",type:"string",desc:"Default filename for write operations",default:""},{name:"File Types",type:"array",desc:"Accepted extensions for read (e.g., ['.txt', '.json'])",default:"[]"}],examples:[{title:"Read Text File",description:"Load document for processing",config:`Mode: read
File Types: [".txt", ".md"]`,output:'{ filename: "notes.txt", content: "Document content..." }'},{title:"Save AI Output",description:"Write generated content to file",config:`Mode: write
Filename: generated_{{date}}.txt`,flow:"AI Agent  File System (write)"},{title:"Process JSON File",description:"Load and parse JSON data",config:`Mode: read
File Types: [".json"]`,flow:"File System (read)  Code Executor (parse JSON)  Output"}],tips:["File System Access API requires user permission for each file","Works best in Chrome and Edge browsers","Combine with AI Agent to analyze document contents","Use Code Executor to parse JSON or CSV file contents"],connections:{inputs:1,outputs:1}},localStorage:{id:"localStorage",icon:"",title:"Local Storage",category:"Actions",overview:"The Local Storage node persists data between workflow runs using IndexedDB or localStorage. Store configuration, cache API responses, or maintain state across sessions.",technicalDetails:`
**Storage Types:**
| Type | Capacity | Best For |
|------|----------|----------|
| localStorage | ~5MB | Simple key-value pairs |
| indexedDB | ~50MB+ | Complex objects, large data |

**Operations:**
| Mode | Behavior |
|------|----------|
| get | Retrieve value by key |
| set | Store value at key |
| delete | Remove key and value |

**Output Schema:**
\`\`\`javascript
// Get mode
{ key: "myData", value: { ...storedData }, found: true }

// Set mode  
{ key: "myData", success: true }

// Delete mode
{ key: "myData", deleted: true }
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Operation to perform",default:"get",options:["get","set","delete"]},{name:"Storage Type",type:"select",desc:"Which storage to use",default:"indexedDB",options:["indexedDB","localStorage"]},{name:"Key",type:"string",desc:"Storage key name",default:""}],examples:[{title:"Cache API Response",description:"Store data to avoid repeated API calls",config:`Mode: set
Storage Type: indexedDB
Key: api_cache_{{input.endpoint}}`,flow:"HTTP Request  Local Storage (set)"},{title:"Load Cached Data",description:"Retrieve previously stored data",config:`Mode: get
Storage Type: indexedDB
Key: api_cache`,output:'{ key: "api_cache", value: {...cachedData}, found: true }'},{title:"Clear Cache",description:"Remove stored data",config:`Mode: delete
Storage Type: indexedDB
Key: api_cache`,output:'{ key: "api_cache", deleted: true }'}],tips:["Use indexedDB for complex objects and larger datasets","localStorage is simpler but limited to 5MB","Keys can include template expressions for dynamic storage","Combine with If/Else to check if cache exists before fetching"],connections:{inputs:1,outputs:1}},ifElse:{id:"ifElse",icon:"",title:"If/Else",category:"Logic",overview:"The If/Else node creates conditional branches in your workflow. Route data to different paths based on comparisons, creating dynamic decision trees.",technicalDetails:`
**Operators:**
| Operator | Description | Example |
|----------|-------------|---------|
| equals | Exact match (==) | status equals "success" |
| notEquals | Not match (!=) | status notEquals "error" |
| contains | String includes | message contains "error" |
| greaterThan | Numeric > | count greaterThan 10 |
| lessThan | Numeric < | count lessThan 5 |
| exists | Not null/undefined | user.email exists |

**Output Routing:**
- Output 0 (top): Condition is TRUE
- Output 1 (bottom): Condition is FALSE

**Condition Path:**
Access nested values with dot notation:
\`\`\`
user.profile.settings.notifications
data.items[0].status
response.headers.content-type
\`\`\`
    `,config:[{name:"Condition",type:"string",desc:"Field path to evaluate (e.g., status, data.count)",default:""},{name:"Operator",type:"select",desc:"Comparison operator",default:"equals",options:["equals","notEquals","contains","greaterThan","lessThan","exists"]},{name:"Compare Value",type:"string",desc:"Value to compare against",default:""}],examples:[{title:"Check API Status",description:"Branch on response status",config:`Condition: status
Operator: equals
Compare Value: 200`,routing:"TRUE  Process data | FALSE  Error handling"},{title:"Validate Data Exists",description:"Check if field is present",config:`Condition: user.email
Operator: exists`,routing:"TRUE  Send email | FALSE  Request email"},{title:"Numeric Threshold",description:"Check if value exceeds limit",config:`Condition: items.length
Operator: greaterThan
Compare Value: 100`,routing:"TRUE  Paginate | FALSE  Process all"},{title:"String Contains",description:"Search for keyword",config:`Condition: message
Operator: contains
Compare Value: error`,routing:"TRUE  Log error | FALSE  Continue"}],tips:["Use dot notation to access deeply nested properties","The 'exists' operator checks for null, undefined, and empty strings","Numeric comparisons convert strings to numbers automatically","Chain multiple If/Else nodes for complex decision trees"],connections:{inputs:1,outputs:2,outputLabels:["true ","false "]}},loop:{id:"loop",icon:"",title:"Loop",category:"Logic",overview:"The Loop node repeats workflow sections multiple times. Use count-based iteration (repeat N times) or array-based iteration (process each item). Essential for batch processing and automated repetition.",technicalDetails:`
**Loop Modes:**
1. **Count-Based**: Repeat N times with iteration counter
2. **Array-Based**: Iterate over items in an array

**Two Outputs:**
| Output | Name | Purpose |
|--------|------|---------|
| 0 (top) | loop  | Fires for each iteration, connect back to repeat |
| 1 (bottom) | done  | Fires when all iterations complete |

**Creating the Loop:**
Connect "loop " output BACK to the node you want to repeat.
This creates a cycle that executes for each iteration.

**Iteration Data:**
\`\`\`javascript
{
  iteration: 1,          // Current iteration (1-indexed)
  totalIterations: 5,    // Total configured iterations
  previousResult: {...}, // Output from last iteration
  isLoopIteration: true
}
\`\`\`

**Completion Data:**
\`\`\`javascript
{
  results: [...],        // Array of all iteration results
  totalIterations: 5,
  lastResult: {...},     // Final iteration output
  completed: true
}
\`\`\`
    `,config:[{name:"Iterations",type:"number",desc:"Number of times to repeat (1-1000)",default:"1"},{name:"Items Path",type:"string",desc:"Path to array for item-based looping",default:"items"},{name:"Max Items",type:"number",desc:"Maximum items to process per iteration",default:"100"}],examples:[{title:"Generate 5 Stories",description:"AI generates multiple unique stories",config:"Iterations: 5",flow:`Manual Trigger  AI Agent (generate story)  Loop  Output
                                                              |
                                     loop  `},{title:"Process Array Items",description:"Handle each item in a list",config:`Iterations: 1
Items Path: data.users`,flow:"HTTP Request  Loop  Process User  Loop  Output"},{title:"Infinite Automation",description:"Continuous content generation",config:`Iterations: 100
(Set high for long-running...)`,flow:`Trigger  AI Agent  Loop  Output
                                      |
                            loop  `},{title:"Batch API Calls",description:"Call API for each item",config:"Iterations: 10",flow:"For each ID: Trigger  Set Variable  HTTP Request  Loop  Output"}],tips:["Always connect the 'loop ' output back to create the actual loop","Use 'done ' output for final processing after all iterations","Access current iteration via input.iteration in downstream nodes","Set reasonable iteration limits to prevent runaway loops"],connections:{inputs:1,outputs:2,outputLabels:["loop ","done "]}},switchNode:{id:"switchNode",icon:"",title:"Switch",category:"Logic",overview:"The Switch node routes data to different outputs based on field values. Like a multi-way If/Else, it supports up to 4 output paths plus a default.",technicalDetails:`
**Route Configuration:**
\`\`\`javascript
routes: [
  { value: "urgent", outputIndex: 0 },
  { value: "normal", outputIndex: 1 },
  { value: "low", outputIndex: 2 }
]
\`\`\`

**Outputs:**
- Outputs 0-2: Matched routes
- Output 3: Default (when no match)

**Matching:**
- Exact string match (case-sensitive)
- First matching route wins
- Unmatched values go to defaultOutput
    `,config:[{name:"Field",type:"string",desc:"Field path to switch on",default:""},{name:"Routes",type:"array",desc:"Value-to-output mappings",default:"[{value:'', outputIndex:0}]"},{name:"Default Output",type:"number",desc:"Output index when no match (0-3)",default:"3"}],examples:[{title:"Priority Routing",description:"Route tasks by priority level",config:`Field: priority
Routes:
  - value: "urgent"  Output 0
  - value: "normal"  Output 1
  - value: "low"  Output 2
Default Output: 3`,routing:"urgent  Immediate | normal  Queue | low  Archive | unknown  Review"},{title:"Content Type Handler",description:"Process different data types",config:`Field: type
Routes:
  - value: "text"  Output 0
  - value: "image"  Output 1
  - value: "video"  Output 2`,routing:"text  Text processor | image  Image handler | video  Video handler"}],tips:["Use for multiple discrete values; If/Else for binary conditions","Default output catches unexpected values - always handle it","Combine with Merge node to rejoin paths after processing","Route values are case-sensitive"],connections:{inputs:1,outputs:4,outputLabels:["0","1","2","default"]}},merge:{id:"merge",icon:"",title:"Merge",category:"Logic",overview:"The Merge node combines multiple workflow branches back into a single path. Wait for all inputs to arrive or take the first one that completes.",technicalDetails:`
**Modes:**
| Mode | Behavior |
|------|----------|
| wait | Waits for ALL inputs before proceeding |
| first | Proceeds with FIRST input to arrive |

**Output (wait mode):**
\`\`\`javascript
{
  inputs: [
    { source: 0, data: {...} },
    { source: 1, data: {...} }
  ],
  merged: { ...combinedData }
}
\`\`\`

**Output (first mode):**
\`\`\`javascript
{
  source: 0,  // Which input arrived first
  data: {...} // Data from that input
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"How to handle multiple inputs",default:"wait",options:["wait","first"]}],examples:[{title:"Combine API Responses",description:"Fetch from multiple APIs and merge",config:"Mode: wait",flow:` HTTP (API 1) 
Trigger                     Merge  Process
        HTTP (API 2) `},{title:"Race Condition",description:"Use fastest response",config:"Mode: first",flow:` HTTP (Primary) 
Trigger                        Merge  Use result
        HTTP (Backup) `},{title:"Rejoin After Branch",description:"Merge If/Else branches",config:"Mode: wait",flow:`If/Else  True path  
               False path  Merge  Continue`}],tips:["Use 'wait' mode when you need data from all branches","Use 'first' mode for redundancy or timeout scenarios","Merge has 2 inputs - connect both to activate","Data from both inputs is available in the merged output"],connections:{inputs:2,outputs:1}},aiAgent:{id:"aiAgent",icon:"",title:"AI Agent",category:"AI",overview:"The AI Agent is the brain of your automation. It generates text using WebLLM, a local LLM inference engine that runs entirely in your browser via WebGPU. No data ever leaves your device.",technicalDetails:`
**Execution Flow:**
1. User/System message templates are resolved with input data
2. Messages sent to local WebLLM model
3. Model generates response token by token
4. Response passed to downstream nodes

**Template Syntax:**
\`\`\`
{{input}}              - Full input object as JSON
{{input.text}}         - Specific field
{{input.data.items}}   - Nested access
\`\`\`

**Output Schema:**
\`\`\`javascript
{
  response: "AI-generated text...",
  model: "gemma-2-2b-it",
  tokens: 245,
  duration: 3.2
}
\`\`\`

**Available Models:**
| Model | Size | Best For |
|-------|------|----------|
| Gemma 2 2B | 1.4GB | Balanced quality/speed |
| Phi-3.5 Mini | 2.2GB | Reasoning tasks |
| Llama 3.2 3B | 1.8GB | General purpose |
| Qwen 2.5 1.5B | 1.0GB | Fast responses |
| SmolLM 1.7B | 1.1GB | Minimal resources |
    `,config:[{name:"System Prompt",type:"text (multiline)",desc:"Instructions for AI behavior/persona",default:""},{name:"User Message",type:"text (multiline)",desc:"Template for user input (supports {{templates}})",default:"{{input.text}}"},{name:"Temperature",type:"slider (0-1)",desc:"Creativity level. Low=factual, High=creative",default:"0.7"},{name:"Max Tokens",type:"number",desc:"Maximum response length in tokens",default:"2000"}],examples:[{title:"Story Generator",description:"Create unique stories from prompts",config:`System Prompt: You are a creative fiction writer. Write engaging short stories with vivid descriptions and compelling characters.

User Message: Write a 300-word story about: {{input.text}}

Temperature: 0.9
Max Tokens: 1000`},{title:"Data Analyzer",description:"Analyze and summarize data",config:`System Prompt: You are a data analyst. Analyze the provided data and give clear, actionable insights.

User Message: Analyze this data and provide key insights:
{{input.data}}

Temperature: 0.3
Max Tokens: 500`},{title:"Code Assistant",description:"Generate or explain code",config:`System Prompt: You are an expert programmer. Write clean, well-documented code. Explain your approach.

User Message: {{input.request}}

Language: {{input.language}}

Temperature: 0.4
Max Tokens: 1500`},{title:"Email Composer",description:"Draft professional emails",config:`System Prompt: You are a professional communication expert. Write clear, concise, and polite emails.

User Message: Write an email about: {{input.subject}}
Tone: {{input.tone}}
Key points: {{input.points}}

Temperature: 0.6
Max Tokens: 400`}],tips:["Use lower temperature (0.2-0.4) for factual/analytical tasks","Use higher temperature (0.7-0.9) for creative content","Include clear instructions in the system prompt for consistent results","Connect as a tool to other AI Agents for multi-agent workflows"],connections:{inputs:1,outputs:1}},vectorMemory:{id:"vectorMemory",icon:"",title:"Vector Memory",category:"AI",overview:"Vector Memory stores and retrieves information using semantic similarity. It converts text into embeddings (vector representations) and finds the most relevant matches. Essential for RAG (Retrieval Augmented Generation) workflows.",technicalDetails:`
**Operations:**
| Mode | Purpose |
|------|---------|
| query | Find similar content by meaning |
| upsert | Add or update memory entries |
| delete | Remove specific entries |

**Embedding Process:**
1. Text is converted to vector embeddings
2. Vectors are stored in local IndexedDB
3. Queries find closest vectors by cosine similarity

**Query Output:**
\`\`\`javascript
{
  results: [
    { id: "mem_123", text: "...", score: 0.92, metadata: {...} },
    { id: "mem_456", text: "...", score: 0.85, metadata: {...} }
  ],
  query: "original query text",
  namespace: "default"
}
\`\`\`

**Upsert Output:**
\`\`\`javascript
{
  id: "mem_789",
  success: true,
  namespace: "default"
}
\`\`\`
    `,config:[{name:"Mode",type:"select",desc:"Operation to perform",default:"query",options:["query","upsert","delete"]},{name:"Namespace",type:"string",desc:"Memory isolation (like folders)",default:"default"},{name:"Top K",type:"number",desc:"Number of results to return",default:"5"},{name:"Min Score",type:"number (0-1)",desc:"Minimum similarity threshold",default:"0.3"}],examples:[{title:"Build Knowledge Base",description:"Store documents for later retrieval",config:`Mode: upsert
Namespace: knowledge`,flow:"File System (read)  Code (split into chunks)  Loop  Vector Memory (upsert)"},{title:"RAG Query",description:"Find relevant context for AI",config:`Mode: query
Namespace: knowledge
Top K: 3
Min Score: 0.5`,flow:"Manual Trigger  Vector Memory (query)  AI Agent (answer with context)"},{title:"Conversation Memory",description:"Remember past conversations",config:`Mode: upsert
Namespace: conversations`,flow:"After AI response  Vector Memory (upsert) // stores each exchange"}],tips:["Use namespaces to separate different knowledge bases","Higher Min Score returns fewer but more relevant results","Chunk large documents into paragraphs for better retrieval","Combine with AI Agent for powerful RAG workflows"],connections:{inputs:1,outputs:1}},waitForApproval:{id:"waitForApproval",icon:"",title:"Wait for Approval",category:"AI",overview:"The Wait for Approval node pauses workflow execution until a human approves or rejects. Essential for human-in-the-loop automation where critical actions need oversight.",technicalDetails:`
**Workflow Pause:**
1. Execution reaches this node and stops
2. Approval dialog appears to user
3. User reviews data and clicks Approve/Reject
4. Execution continues on appropriate output

**Two Outputs:**
- Output 0 (top): User clicked Approve 
- Output 1 (bottom): User clicked Reject 

**Approval Data:**
\`\`\`javascript
// Passed to approved/rejected branch
{
  approved: true,
  approvedBy: "user",
  approvedAt: "2024-01-15T10:30:00.000Z",
  originalInput: {...},
  notes: "User comment if any"
}
\`\`\`
    `,config:[{name:"Title",type:"string",desc:"Dialog header",default:"Approval Required"},{name:"Message",type:"text (multiline)",desc:"Description for reviewer (supports {{templates}})",default:""},{name:"Timeout",type:"number (seconds)",desc:"Auto-reject after N seconds (0=never)",default:"0"},{name:"Notify Browser",type:"boolean",desc:"Show browser notification",default:"true"}],examples:[{title:"Review AI Output",description:"Approve before publishing",config:`Title: Review Generated Content
Message: Please review this AI-generated content before publishing:

{{input.content}}

Timeout: 0
Notify Browser: true`,flow:"AI Agent  Wait for Approval  (Approved) HTTP Post || (Rejected) Log"},{title:"Confirm API Action",description:"Approve before destructive operation",config:`Title: Confirm Delete
Message: About to delete {{input.count}} records. Are you sure?

Timeout: 300
Notify Browser: true`,flow:"Process Data  Wait for Approval  (Approved) HTTP DELETE || (Rejected) Cancel"},{title:"Review Email",description:"Approve before sending",config:`Title: Review Email
Message: To: {{input.recipient}}
Subject: {{input.subject}}

{{input.body}}`,flow:"AI Compose  Wait for Approval  (Approved) Send Email"}],tips:["Use before any irreversible actions (deletions, sends, purchases)","Set a timeout for time-sensitive workflows","Browser notification helps if you switch tabs","Include key details in the message for informed decisions"],connections:{inputs:1,outputs:2,outputLabels:["approved ","rejected "]}},subWorkflow:{id:"subWorkflow",icon:"",title:"Sub-Workflow",category:"AI",overview:"The Sub-Workflow node executes another saved workflow as a subroutine. Build modular, reusable automation by composing complex workflows from simpler building blocks.",technicalDetails:`
**Execution:**
1. Current workflow pauses
2. Selected sub-workflow executes with input
3. Sub-workflow output becomes this node's output
4. Parent workflow continues

**Input Passing:**
- If "Pass Input" enabled: full input passed to sub-workflow
- Sub-workflow receives data at its trigger node

**Output:**
\`\`\`javascript
{
  subWorkflowId: "wf_abc123",
  subWorkflowName: "Process Data",
  result: { ...subWorkflowOutput },
  duration: 1.5
}
\`\`\`
    `,config:[{name:"Workflow",type:"select",desc:"Saved workflow to execute",default:""},{name:"Pass Input",type:"boolean",desc:"Send current input to sub-workflow",default:"true"},{name:"Async",type:"boolean",desc:"Don't wait for completion (fire and forget)",default:"false"}],examples:[{title:"Reusable Data Processor",description:"Call shared processing logic",config:`Workflow: "Data Sanitizer"
Pass Input: true
Async: false`,flow:"API Response  Sub-Workflow (sanitize)  Use Clean Data"},{title:"Parallel Sub-Workflows",description:"Run multiple workflows simultaneously",config:"Async: true",flow:`Trigger  Sub-Workflow A (async)
               Sub-Workflow B (async)  
               Merge results`}],tips:["Build a library of reusable workflows for common tasks","Use async mode when you don't need the result immediately","Sub-workflows can call other sub-workflows (nested)","Great for team collaboration - share common workflows"],connections:{inputs:1,outputs:1}},textToSpeech:{id:"textToSpeech",icon:"",title:"Text to Speech",category:"AI",overview:"The Text to Speech node converts text into spoken audio using the Web Speech API. Add voice output to your workflows for accessibility, notifications, or interactive experiences.",technicalDetails:`
**Web Speech API:**
- Uses browser's built-in speech synthesis
- No external API calls or costs
- Access to system voices

**Voice Selection:**
Browser provides various voices based on OS:
- Windows: Microsoft voices
- macOS: System voices  
- Chrome: Additional Google voices

**Output:**
\`\`\`javascript
{
  spoken: true,
  text: "The spoken text...",
  voice: "Microsoft Zira",
  duration: 3.5
}
\`\`\`
    `,config:[{name:"Voice",type:"select",desc:"Voice to use for speech",default:"default"},{name:"Rate",type:"slider (0.5-2)",desc:"Speech speed",default:"1.0"},{name:"Pitch",type:"slider (0.5-2)",desc:"Voice pitch",default:"1.0"},{name:"Auto Play",type:"boolean",desc:"Play immediately when triggered",default:"true"}],examples:[{title:"Read AI Response",description:"Speak AI-generated content",config:`Voice: default
Rate: 1.0
Auto Play: true`,flow:"AI Agent  Text to Speech"},{title:"Notification Alert",description:"Voice notification for events",config:`Rate: 1.2
Voice: (select clear voice)`,flow:'HTTP Request  If/Else (important?)  Text to Speech ("Alert: {{message}}")'}],tips:["Available voices vary by browser and operating system","Higher rate (1.2-1.5) is good for notifications","Use clear, punctuated text for better pronunciation","Combine with AI Agent for voice assistant experiences"],connections:{inputs:1,outputs:1}},imageGeneration:{id:"imageGeneration",icon:"",title:"Image Generation",category:"AI",overview:"The Image Generation node creates images from text prompts using AI models. Generate visuals for content, social media, presentations, or creative projects.",technicalDetails:`
**Providers:**
| Provider | Location | Notes |
|----------|----------|-------|
| local (WebSD) | Browser | Requires powerful GPU |
| openai | API | Requires API key |
| stability | API | Requires API key |

**Output:**
\`\`\`javascript
{
  imageUrl: "blob:..." or "data:image/png;base64,...",
  artifactId: "art_123",
  prompt: "original prompt",
  size: "512x512",
  provider: "local"
}
\`\`\`
    `,config:[{name:"Provider",type:"select",desc:"Image generation service",default:"local",options:["local","openai","stability"]},{name:"Size",type:"select",desc:"Image dimensions",default:"512x512",options:["256x256","512x512","1024x1024"]},{name:"Negative Prompt",type:"text",desc:"What to avoid in the image",default:""},{name:"Seed",type:"number",desc:"Random seed for reproducibility",default:""},{name:"Steps",type:"number",desc:"Diffusion steps (quality vs speed)",default:"20"}],examples:[{title:"Blog Illustration",description:"Generate images for articles",config:`Provider: openai
Size: 1024x1024`,flow:"AI Agent (write article)  AI Agent (describe image)  Image Generation"},{title:"Product Mockup",description:"Create product visualizations",config:`Provider: stability
Negative Prompt: blurry, low quality`,flow:"Manual Trigger  Image Generation  Output"}],tips:["Local generation requires WebGPU and significant GPU resources","API providers have costs - check pricing","Use negative prompts to avoid common issues (blurry, low quality)","Set a seed for reproducible results"],connections:{inputs:1,outputs:1}},pythonExecutor:{id:"pythonExecutor",icon:"",title:"Python Executor",category:"AI",overview:"The Python Executor runs Python code directly in your browser using Pyodide. Access Python's scientific computing ecosystem including NumPy, Pandas, and moreall without a server.",technicalDetails:`
**Pyodide Runtime:**
- Full Python 3.11 interpreter in WebAssembly
- Runs entirely in the browser
- Access to many pure-Python packages

**Available Packages:**
- numpy, pandas, scipy
- matplotlib, pillow
- requests (limited), json
- And many more

**Variable Access:**
\`\`\`python
# Input is available as 'input' variable
data = input  # Dict from previous node

# Set result for output
result = {"processed": True, "data": data}
\`\`\`

**Output:**
\`\`\`javascript
{
  result: { ...pythonResult },
  stdout: "Any print() output",
  duration: 1.2
}
\`\`\`
    `,config:[{name:"Code",type:"Python",desc:"Python code to execute",default:"# Access input via 'input' variable\\nresult = input"},{name:"Packages",type:"array",desc:"Additional packages to install",default:"[]"},{name:"Timeout",type:"number (ms)",desc:"Execution timeout",default:"30000"}],examples:[{title:"Data Analysis",description:"Analyze data with Pandas",code:`import pandas as pd
import json

# Parse input data
data = input.get('data', [])
df = pd.DataFrame(data)

# Analyze
result = {
    'count': len(df),
    'columns': list(df.columns),
    'summary': df.describe().to_dict()
}`},{title:"Statistical Calculation",description:"Complex math with NumPy",code:`import numpy as np

values = input.get('values', [])
arr = np.array(values)

result = {
    'mean': float(np.mean(arr)),
    'std': float(np.std(arr)),
    'median': float(np.median(arr)),
    'percentile_95': float(np.percentile(arr, 95))
}`},{title:"Text Processing",description:"Process text with Python",code:`import re
from collections import Counter

text = input.get('text', '')

# Word frequency
words = re.findall(r'\\w+', text.lower())
freq = Counter(words).most_common(10)

result = {
    'word_count': len(words),
    'unique_words': len(set(words)),
    'top_words': freq
}`}],tips:["First execution is slow (loading Pyodide) - subsequent runs are fast","Use 'result' variable to pass data to next node","print() output appears in stdout field","Not all Python packages are available - check Pyodide compatibility"],connections:{inputs:1,outputs:1}}},MI=[{type:"welcome",nodes:["welcome","shortcuts"]},{type:"category",name:"Triggers",color:"#00c853",nodes:["manualTrigger","scheduleTrigger","webhookTrigger","errorTrigger","browserEventTrigger"]},{type:"category",name:"Actions",color:"#2979ff",nodes:["output","httpRequest","codeExecutor","setVariable","fileSystem","localStorage"]},{type:"category",name:"Logic",color:"#ffab00",nodes:["ifElse","loop","switchNode","merge"]},{type:"category",name:"AI",color:"#e040fb",nodes:["aiAgent","vectorMemory","waitForApproval","subWorkflow","textToSpeech","imageGeneration","pythonExecutor"]}],DI={welcome:{id:"welcome",icon:"",title:"Documentation"},shortcuts:{id:"shortcuts",icon:"",title:"Keyboard Shortcuts"}};function _I({onClose:e}){const[n,i]=T.useState("welcome"),a=()=>u.jsx("nav",{className:"docs-nav",children:MI.map((h,p)=>u.jsxs("div",{className:"nav-category",children:[h.type==="category"&&u.jsx("div",{className:"nav-category-title",style:{color:h.color},children:h.name}),h.nodes.map(g=>{const m=Fc[g]||DI[g];return m?u.jsxs("div",{className:`nav-item ${n===g?"active":""}`,onClick:()=>i(g),children:[u.jsx("span",{className:"nav-item-icon",children:m.icon}),u.jsx("span",{children:m.title})]},g):null})]},p))}),l=()=>u.jsxs("div",{className:"welcome-content",children:[u.jsx("h1",{children:" IOSANS Documentation"}),u.jsx("p",{className:"tagline",children:"Welcome to the Infinite Open Source Automation System. Build powerful, local-first AI workflows with complete privacy and control."}),u.jsxs("div",{className:"feature-grid",children:[u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-card-icon",children:""}),u.jsx("h4",{children:"100% Local"}),u.jsx("p",{children:"All processing happens in your browser. No data leaves your device."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-card-icon",children:""}),u.jsx("h4",{children:"WebLLM AI"}),u.jsx("p",{children:"Run powerful LLMs directly in your browser using WebGPU."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-card-icon",children:""}),u.jsx("h4",{children:"Visual Workflows"}),u.jsx("p",{children:"Drag-and-drop node editor for building complex automations."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-card-icon",children:""}),u.jsx("h4",{children:"Artifacts"}),u.jsx("p",{children:"All outputs are saved as artifacts for future reference."})]})]}),u.jsxs("div",{className:"article-section",style:{marginTop:32},children:[u.jsx("h3",{children:" Getting Started"}),u.jsxs("p",{children:["1. Drag a ",u.jsx("strong",{children:"Manual Trigger"})," from the sidebar to start your workflow.",u.jsx("br",{}),"2. Add nodes like ",u.jsx("strong",{children:"AI Agent"}),","," ",u.jsx("strong",{children:"Code Executor"}),", or ",u.jsx("strong",{children:"HTTP Request"}),".",u.jsx("br",{}),"3. Connect nodes by dragging from output handles (right) to input handles (left).",u.jsx("br",{}),"4. Click ",u.jsx("strong",{children:"Run"})," to execute your workflow."]})]}),u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Node Categories"}),u.jsx("div",{className:"config-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Count"}),u.jsx("th",{children:"Purpose"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{style:{color:"#00c853"},children:"Triggers"}),u.jsx("td",{children:"5"}),u.jsx("td",{children:"Start workflows (manual, schedule, webhook, error, browser)"})]}),u.jsxs("tr",{children:[u.jsx("td",{style:{color:"#2979ff"},children:"Actions"}),u.jsx("td",{children:"6"}),u.jsx("td",{children:"Perform operations (HTTP, code, files, storage)"})]}),u.jsxs("tr",{children:[u.jsx("td",{style:{color:"#ffab00"},children:"Logic"}),u.jsx("td",{children:"4"}),u.jsx("td",{children:"Control flow (if/else, loop, switch, merge)"})]}),u.jsxs("tr",{children:[u.jsx("td",{style:{color:"#e040fb"},children:"AI"}),u.jsx("td",{children:"7"}),u.jsx("td",{children:"AI capabilities (LLM, memory, TTS, images, Python)"})]})]})]})})]})]}),s=()=>u.jsxs("div",{className:"docs-article",children:[u.jsxs("div",{className:"article-header",children:[u.jsx("div",{className:"article-icon",children:""}),u.jsx("div",{children:u.jsx("h2",{className:"article-title",children:"Keyboard Shortcuts"})})]}),u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:"General"}),u.jsxs("div",{className:"shortcuts-list",children:[u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Save Workflow"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + S"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Run Workflow"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + Enter"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Undo"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + Z"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Redo"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + Shift + Z"})]})]})]}),u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:"Node Operations"}),u.jsxs("div",{className:"shortcuts-list",children:[u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Delete Selected"}),u.jsx("span",{className:"shortcut-key",children:"Delete / Backspace"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Copy Node"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + C"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Paste Node"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + V"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Duplicate Node"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + D"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Select All"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + A"})]})]})]}),u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:"Canvas Navigation"}),u.jsxs("div",{className:"shortcuts-list",children:[u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Pan Canvas"}),u.jsx("span",{className:"shortcut-key",children:"Space + Drag"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Zoom In/Out"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + +/-"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Fit to Screen"}),u.jsx("span",{className:"shortcut-key",children:"Ctrl + 0"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("span",{children:"Scroll Zoom"}),u.jsx("span",{className:"shortcut-key",children:"Mouse Wheel"})]})]})]})]}),c=h=>{const p=Fc[h];return p?u.jsxs("div",{className:"docs-article",children:[u.jsxs("div",{className:"article-header",children:[u.jsx("div",{className:"article-icon",children:p.icon}),u.jsxs("div",{children:[u.jsx("h2",{className:"article-title",children:p.title}),p.category&&u.jsx("div",{className:"article-category",children:p.category})]})]}),u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Overview"}),u.jsx("p",{children:p.overview})]}),p.technicalDetails&&u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Technical Details"}),u.jsx("div",{className:"markdown-content",children:u.jsx(n1,{remarkPlugins:[AI],children:p.technicalDetails.trim()})})]}),p.config&&p.config.length>0&&u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Configuration"}),u.jsxs("table",{className:"config-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Property"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Description"}),u.jsx("th",{children:"Default"})]})}),u.jsx("tbody",{children:p.config.map((g,m)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:g.name})}),u.jsx("td",{children:u.jsx("code",{children:g.type})}),u.jsx("td",{children:g.desc}),u.jsx("td",{children:u.jsx("code",{children:g.default||"-"})})]},m))})]})]}),p.examples&&p.examples.length>0&&u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Examples"}),p.examples.map((g,m)=>u.jsxs("div",{className:"example-block",children:[u.jsx("h4",{children:g.title}),u.jsx("p",{className:"example-desc",children:g.description}),g.config&&u.jsxs("div",{className:"example-config",children:[u.jsx("strong",{children:"Configuration:"}),u.jsx("div",{className:"code-block",children:g.config})]}),g.code&&u.jsxs("div",{className:"example-code",children:[u.jsx("strong",{children:"Code:"}),u.jsx("div",{className:"code-block",children:g.code})]}),g.flow&&u.jsxs("div",{className:"example-flow",children:[u.jsx("strong",{children:"Workflow:"}),u.jsx("div",{className:"code-block",children:g.flow})]}),g.output&&u.jsxs("div",{className:"example-output",children:[u.jsx("strong",{children:"Output:"}),u.jsx("div",{className:"code-block",children:g.output})]}),g.routing&&u.jsxs("div",{className:"example-routing",children:[u.jsx("strong",{children:"Routing:"}),u.jsx("div",{className:"code-block",children:g.routing})]}),g.result&&u.jsxs("div",{className:"example-result",children:[u.jsx("strong",{children:"Result:"}),u.jsx("div",{className:"code-block",children:g.result})]})]},m))]}),p.connections&&u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Connections"}),u.jsxs("div",{className:"connections-info",children:[u.jsxs("div",{className:"connection-item",children:[u.jsx("span",{className:"connection-label",children:"Inputs:"}),u.jsx("span",{className:"connection-value",children:p.connections.inputs})]}),u.jsxs("div",{className:"connection-item",children:[u.jsx("span",{className:"connection-label",children:"Outputs:"}),u.jsx("span",{className:"connection-value",children:p.connections.outputs})]}),p.connections.outputLabels&&u.jsxs("div",{className:"connection-item",children:[u.jsx("span",{className:"connection-label",children:"Output Labels:"}),u.jsx("span",{className:"connection-value",children:p.connections.outputLabels.join(", ")})]})]})]}),p.tips&&p.tips.length>0&&u.jsxs("div",{className:"article-section",children:[u.jsx("h3",{children:" Tips & Best Practices"}),u.jsx("ul",{className:"tips-list",children:p.tips.map((g,m)=>u.jsx("li",{children:g},m))})]})]}):null},f=()=>n==="welcome"?l():n==="shortcuts"?s():c(n);return u.jsx("div",{className:"docs-overlay",onClick:e,children:u.jsxs("div",{className:"docs-modal",onClick:h=>h.stopPropagation(),children:[u.jsxs("header",{className:"docs-header",children:[u.jsx("h2",{children:" IOSANS Documentation"}),u.jsx("button",{className:"docs-close-btn",onClick:e,children:""})]}),u.jsxs("div",{className:"docs-body",children:[a(),u.jsx("div",{className:"docs-content",children:f()})]})]})})}const OI=T.memo(_I),C1="workflow_automations";function RI(e){const n=zI(),i=e.id||Date.now().toString(),a={...e,id:i,updatedAt:new Date().toISOString(),createdAt:e.createdAt||new Date().toISOString()};return n[i]=a,localStorage.setItem(C1,JSON.stringify(n)),i}function zI(){try{const e=localStorage.getItem(C1);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to load workflows:",e),{}}}function LI(e){const n=JSON.stringify(e,null,2),i=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=`${e.name||"workflow"}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}function II(e){return new Promise((n,i)=>{const a=new FileReader;a.onload=l=>{try{const s=JSON.parse(l.target.result);if(!s.nodes||!Array.isArray(s.nodes))throw new Error("Invalid workflow: missing nodes array");if(!s.edges||!Array.isArray(s.edges))throw new Error("Invalid workflow: missing edges array");s.id=Date.now().toString(),s.name=s.name+" (Imported)",n(s)}catch(s){i(new Error("Failed to parse workflow file: "+s.message))}},a.onerror=()=>{i(new Error("Failed to read file"))},a.readAsText(e)})}function BI(){const e=T.useRef(null),n=Ya(),[i,a]=T.useState(!1),[l,s]=T.useState(!1),c=Ce(P=>P.workflowName),f=Ce(P=>P.setWorkflowName),h=Ce(P=>P.nodes),p=Ce(P=>P.clearWorkflow),g=Ce(P=>P.loadWorkflow),m=Ce(P=>P.getWorkflowData),v=Xe(P=>P.clearLogs),[b,w]=T.useState(!1);T.useEffect(()=>{const P=()=>w(!0),M=()=>w(!1);return window.addEventListener("audioStart",P),window.addEventListener("audioEnd",M),()=>{window.removeEventListener("audioStart",P),window.removeEventListener("audioEnd",M)}},[]);const N=T.useCallback(()=>{"speechSynthesis"in window&&(window.speechSynthesis.cancel(),window.dispatchEvent(new CustomEvent("audioEnd")))},[]),C=T.useCallback(()=>{const P=m();RI(P),n.success("Workflow saved successfully!")},[m,n]),S=T.useCallback(()=>{const P=m();LI(P),n.success(`Exported "${P.name}.json"`)},[m,n]),k=T.useCallback(()=>{e.current?.click()},[]),j=T.useCallback(async P=>{const M=P.target.files?.[0];if(M){try{const H=await II(M);g(H),n.success(`Imported "${H.name}"`)}catch(H){console.error("Import failed:",H),n.error("Import failed: "+H.message)}P.target.value=""}},[g,n]),_=T.useCallback(()=>{h.length!==0&&(p(),v(),n.info("Workflow cleared"))},[h.length,p,v,n]);return u.jsxs("header",{className:"toolbar",children:[u.jsxs("div",{className:"toolbar-left",children:[u.jsx("button",{className:"btn-nav",onClick:()=>a(!0),children:"Tutorial"}),u.jsx("button",{className:"btn-nav",onClick:()=>s(!0),children:"Docs"})]}),u.jsxs("div",{className:"toolbar-center",children:[u.jsx("input",{type:"text",className:"workflow-name-input",value:c,onChange:P=>f(P.target.value),placeholder:"Untitled Workflow"}),b&&u.jsx("button",{className:"btn-stop-audio",onClick:N,title:"Stop all audio playback",children:" Stop Audio"})]}),u.jsxs("div",{className:"toolbar-right",children:[u.jsx("button",{onClick:C,title:"Save workflow",disabled:h.length===0,children:" Save"}),u.jsx("button",{onClick:S,title:"Export to JSON",disabled:h.length===0,children:" Export"}),u.jsx("button",{onClick:k,title:"Import from JSON",children:" Import"}),u.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openWorkflowManager")),title:"Manage saved workflows",children:" Manage"}),u.jsx("button",{onClick:_,title:"Clear canvas",className:"btn-danger",disabled:h.length===0,children:" Clear"}),u.jsx("input",{type:"file",ref:e,accept:".json",onChange:j,style:{display:"none"}})]}),i&&u.jsx(o_,{onClose:()=>a(!1)}),l&&u.jsx(OI,{onClose:()=>s(!1)})]})}const HI=T.memo(BI);function qh(e){return e===null?"null":e===void 0?"undefined":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":"unknown"}function Vh(e,n){switch(n){case"null":return"null";case"undefined":return"undefined";case"string":return`"${e.length>100?e.slice(0,100)+"...":e}"`;case"number":case"boolean":return String(e);case"array":return`Array(${e.length})`;case"object":return`Object{${Object.keys(e).length}}`;default:return String(e)}}function Fh({keyName:e,value:n,depth:i=0,path:a=""}){const[l,s]=T.useState(i<2),c=qh(n),f=c==="object"||c==="array",h=a?`${a}.${e}`:e,p=T.useCallback(m=>{m.stopPropagation();const v=typeof n=="string"?n:JSON.stringify(n,null,2);navigator.clipboard.writeText(v)},[n]),g=()=>{f&&s(!l)};return u.jsxs("div",{className:"tree-node",style:{paddingLeft:i*16},children:[u.jsxs("div",{className:"tree-node-header",onClick:g,children:[f&&u.jsx("span",{className:`tree-expand ${l?"expanded":""}`,children:""}),e!==void 0&&u.jsxs("span",{className:"tree-key",children:[e,":"]}),u.jsx("span",{className:`tree-value type-${c}`,children:f&&!l?Vh(n,c):c==="array"?"[":c==="object"?"{":Vh(n,c)}),u.jsx("button",{className:"tree-copy-btn",onClick:p,title:`Copy ${h||"value"}`,children:""})]}),f&&l&&u.jsxs("div",{className:"tree-children",children:[c==="array"?n.map((m,v)=>u.jsx(Fh,{keyName:v,value:m,depth:i+1,path:h},v)):Object.entries(n).map(([m,v])=>u.jsx(Fh,{keyName:m,value:v,depth:i+1,path:h},m)),u.jsx("div",{className:"tree-bracket",style:{paddingLeft:i*16},children:c==="array"?"]":"}"})]})]})}function PI({data:e}){if(!Array.isArray(e)||e.length===0)return u.jsx("div",{className:"table-empty",children:"No data to display"});const n=[...new Set(e.flatMap(i=>typeof i=="object"&&i!==null?Object.keys(i):[]))];return n.length===0?u.jsx("div",{className:"table-empty",children:"Array contains non-object values"}):u.jsxs("div",{className:"data-table-wrapper",children:[u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"#"}),n.map(i=>u.jsx("th",{children:i},i))]})}),u.jsx("tbody",{children:e.slice(0,100).map((i,a)=>u.jsxs("tr",{children:[u.jsx("td",{className:"row-index",children:a}),n.map(l=>u.jsx("td",{className:`type-${qh(i?.[l])}`,children:Vh(i?.[l],qh(i?.[l]))},l))]},a))})]}),e.length>100&&u.jsxs("div",{className:"table-more",children:["+ ",e.length-100," more rows"]})]})}function $I({data:e,title:n,showViewToggle:i=!0}){const[a,l]=T.useState("tree"),[s,c]=T.useState(""),f=T.useCallback(()=>{navigator.clipboard.writeText(JSON.stringify(e,null,2))},[e]),h=s?JSON.parse(JSON.stringify(e,(m,v)=>{if(typeof v=="string"&&v.toLowerCase().includes(s.toLowerCase())||typeof m=="string"&&m.toLowerCase().includes(s.toLowerCase())||typeof v=="object")return v})):e,g=Array.isArray(e)&&e.length>0&&typeof e[0]=="object";return u.jsxs("div",{className:"data-viewer",children:[u.jsxs("div",{className:"data-viewer-header",children:[n&&u.jsx("span",{className:"data-viewer-title",children:n}),u.jsxs("div",{className:"data-viewer-controls",children:[u.jsx("input",{type:"text",className:"data-search",placeholder:"Search...",value:s,onChange:m=>c(m.target.value)}),i&&u.jsxs("div",{className:"view-toggle",children:[u.jsx("button",{className:a==="tree"?"active":"",onClick:()=>l("tree"),title:"Tree view",children:""}),g&&u.jsx("button",{className:a==="table"?"active":"",onClick:()=>l("table"),title:"Table view",children:""}),u.jsx("button",{className:a==="raw"?"active":"",onClick:()=>l("raw"),title:"Raw JSON"})]}),u.jsx("button",{className:"copy-all-btn",onClick:f,title:"Copy all",children:" Copy"})]})]}),u.jsx("div",{className:"data-viewer-content",children:e==null?u.jsx("div",{className:"data-empty",children:"No data available"}):a==="tree"?u.jsx(Fh,{value:h,depth:0}):a==="table"&&g?u.jsx(PI,{data:e}):u.jsx("pre",{className:"data-raw",children:JSON.stringify(e,null,2)})})]})}const uh=T.memo($I);function UI(){const e=T.useRef(null),[n]=T.useState(null),[i,a]=T.useState(new Set),[l,s]=T.useState(new Set),[c,f]=T.useState("logs"),[h,p]=T.useState(320),[g,m]=T.useState(!1),v=T.useRef({startX:0,startWidth:320}),b=Xe(A=>A.logs),w=Xe(A=>A.artifacts),N=Xe(A=>A.isRunning),C=Xe(A=>A.currentNodeId),S=Xe(A=>A.getExecutionDuration),k=Xe(A=>A.clearLogs);T.useEffect(()=>{c==="logs"&&e.current?.scrollIntoView({behavior:"smooth"})},[b,c]);const j=b.find(A=>A.id===n),_=b.filter(A=>A.data&&A.type!=="artifact"),P=A=>new Date(A).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),M=A=>{switch(A){case"info":return"";case"success":return"";case"error":return"";case"warning":return"";case"ai":return"";case"node":return"";case"artifact":return"";default:return""}},H=A=>A<1e3?`${A}ms`:`${(A/1e3).toFixed(2)}s`,F=A=>{a($=>{const D=new Set($);return D.has(A)?D.delete(A):D.add(A),D})},X=T.useCallback(A=>{s($=>{const D=new Set($);return D.has(A)?D.delete(A):D.add(A),D})},[]),I=T.useCallback(A=>{const $=A.data;let D;$ instanceof Blob?D=$:typeof $=="string"?D=new Blob([$],{type:A.type||"text/plain"}):D=new Blob([JSON.stringify($,null,2)],{type:"application/json"});const U=URL.createObjectURL(D),G=document.createElement("a");G.href=U,G.download=A.name||`artifact_${A.id}.txt`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(U)},[]),L=T.useCallback(A=>A?A.includes("audio")?"":A.includes("image")?"":A.includes("json")?"":A.includes("text")?"":"":"",[]),q=async()=>{const A=b.map($=>{const D=P($.timestamp),U=$.nodeName||$.nodeId||"",G=$.data?`
  Data: ${JSON.stringify($.data,null,2)}`:"";return`[${D}] ${U?`[${U}] `:""}${$.message}${G}`}).join(`
`);try{await navigator.clipboard.writeText(A),alert("Logs copied to clipboard!")}catch($){console.error("Failed to copy logs:",$)}},K=A=>{A.preventDefault(),m(!0),v.current={startX:A.clientX,startWidth:h}};return T.useEffect(()=>{if(!g)return;const A=D=>{const U=v.current.startX-D.clientX,G=Math.max(240,Math.min(600,v.current.startWidth+U));p(G)},$=()=>{m(!1)};return document.addEventListener("mousemove",A),document.addEventListener("mouseup",$),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",$)}},[g]),u.jsxs("aside",{className:`execution-panel ${g?"resizing":""}`,style:{width:`${h}px`},children:[u.jsx("div",{className:"ep-resize-handle",onMouseDown:K,title:"Drag to resize"}),u.jsxs("header",{className:"panel-header",children:[u.jsxs("div",{className:"panel-tabs",children:[u.jsxs("button",{className:`tab-btn ${c==="logs"?"active":""}`,onClick:()=>f("logs"),children:[" Logs",b.length>0&&u.jsx("span",{className:"tab-badge",children:b.length})]}),u.jsxs("button",{className:`tab-btn ${c==="output"?"active":""}`,onClick:()=>f("output"),children:[" Output",_.length>0&&u.jsx("span",{className:"tab-badge",children:_.length})]}),u.jsxs("button",{className:`tab-btn ${c==="artifacts"?"active":""}`,onClick:()=>f("artifacts"),children:[" Artifacts",w.length>0&&u.jsx("span",{className:"tab-badge",children:w.length})]})]}),u.jsxs("div",{className:"panel-actions",children:[N&&u.jsxs("span",{className:"running-indicator",children:[u.jsx("span",{className:"pulse-dot"}),"Running..."]}),u.jsx("button",{className:"btn-icon",onClick:q,title:"Copy all logs",disabled:b.length===0,children:""}),u.jsx("button",{className:"btn-icon",onClick:k,title:"Clear logs",disabled:b.length===0,children:""})]})]}),u.jsxs("div",{className:"panel-content",children:[c==="logs"&&u.jsx(u.Fragment,{children:b.length===0?u.jsxs("div",{className:"empty-logs",children:[u.jsx("p",{children:"No logs yet"}),u.jsx("p",{className:"hint",children:"Run a workflow to see execution logs"})]}):u.jsxs("div",{className:"logs-list",children:[b.map(A=>u.jsxs("div",{className:`log-entry log-${A.type||"info"} ${n===A.id?"selected":""} ${A.data?"has-data":""} ${i.has(A.id)?"expanded":""}`,children:[u.jsxs("div",{className:"log-main",onClick:()=>F(A.id),children:[u.jsx("span",{className:"log-icon",children:M(A.type)}),u.jsx("span",{className:"log-time",children:P(A.timestamp)}),u.jsxs("div",{className:"log-content",children:[A.nodeId&&u.jsxs("span",{className:"log-node",children:["[",A.nodeName||A.nodeId,"]"]}),u.jsx("span",{className:`log-message ${i.has(A.id)?"expanded":""}`,children:A.message}),(A.data||A.message.length>60)&&u.jsx("span",{className:"log-expand-indicator",title:"Click to expand",children:i.has(A.id)?"":""})]})]}),i.has(A.id)&&A.data&&u.jsx("div",{className:"log-data-expanded",children:u.jsx(uh,{data:A.data})})]},A.id)),u.jsx("div",{ref:e})]})}),c==="output"&&u.jsx(u.Fragment,{children:_.length===0?u.jsxs("div",{className:"empty-logs",children:[u.jsx("p",{children:"No output data yet"}),u.jsx("p",{className:"hint",children:"Node outputs will appear here"})]}):u.jsx("div",{className:"outputs-list",children:_.map(A=>u.jsxs("div",{className:"output-item",children:[u.jsxs("div",{className:"output-header",children:[u.jsxs("span",{className:"output-node",children:[M(A.type)," ",A.nodeName||A.nodeId]}),u.jsx("span",{className:"output-time",children:P(A.timestamp)})]}),u.jsx("div",{className:"output-data",children:u.jsx(uh,{data:A.data})})]},A.id))})}),c==="artifacts"&&u.jsx(u.Fragment,{children:w.length===0?u.jsxs("div",{className:"empty-logs",children:[u.jsx("p",{children:"No artifacts yet"}),u.jsx("p",{className:"hint",children:"Generated files and data will appear here"})]}):u.jsx("div",{className:"artifacts-list",children:w.map(A=>{const $=l.has(A.id),D=A.type?.includes("text")||A.type?.includes("json"),U=A.type?.includes("audio"),G=typeof A.data=="string"?A.data.slice(0,500):JSON.stringify(A.data,null,2).slice(0,500);return u.jsxs("div",{className:`artifact-item ${$?"expanded":""}`,children:[u.jsxs("div",{className:"artifact-header",onClick:()=>X(A.id),children:[u.jsx("span",{className:"artifact-icon",children:L(A.type)}),u.jsxs("div",{className:"artifact-info",children:[u.jsx("span",{className:"artifact-name",children:A.name||"Artifact"}),u.jsxs("span",{className:"artifact-meta",children:[A.type?.split("/")[1]||"file"," "," ",new Date(A.timestamp).toLocaleTimeString()]})]}),u.jsx("span",{className:"artifact-expand-icon",children:$?"":""})]}),$&&u.jsxs("div",{className:"artifact-content",children:[D&&A.data&&u.jsxs("pre",{className:"artifact-preview",children:[G,typeof A.data=="string"&&A.data.length>500&&u.jsx("span",{className:"preview-truncated",children:"... (truncated)"})]}),U&&A.data instanceof Blob&&u.jsx("audio",{className:"artifact-audio-player",controls:!0,src:URL.createObjectURL(A.data)}),u.jsx("button",{className:"artifact-download-btn",onClick:Z=>{Z.stopPropagation(),I(A)},children:" Download"})]})]},A.id)})})})]}),j?.data&&c==="logs"&&u.jsx("div",{className:"data-viewer-panel",children:u.jsx(uh,{data:j.data,title:`Output: ${j.nodeName||j.nodeId||"Data"}`})}),u.jsx("footer",{className:"panel-footer",children:u.jsxs("span",{className:"execution-stats",children:[N&&C&&u.jsxs("span",{children:["Current: ",u.jsx("strong",{children:C})]}),!N&&b.length>0&&u.jsxs("span",{children:["Total: ",H(S())]})]})})]})}const qI=T.memo(UI);function VI({value:e,onChange:n,placeholder:i,multiline:a=!1,previewContext:l={}}){const[s,c]=T.useState(!1),[f,h]=T.useState(""),[p,g]=T.useState(0),m=T.useRef(null),b=C2().filter(M=>M.name.toLowerCase().includes(f.toLowerCase())||M.description.toLowerCase().includes(f.toLowerCase())),w=T.useCallback((M,H)=>{const F=M.slice(0,H),X=F.lastIndexOf("{{"),I=F.lastIndexOf("}}");return X>I},[]),N=M=>{const H=M.target.value,F=M.target.selectionStart;if(g(F),n(H),w(H,F)){const X=H.slice(0,F),I=X.lastIndexOf("{{"),L=X.slice(I+2).trim();h(L),c(!0)}else c(!1)},C=M=>{const H=e.slice(0,p),F=e.slice(p),X=H.lastIndexOf("{{"),L=H.slice(0,X+2)+" "+M.name+" }}"+F;n(L),c(!1),setTimeout(()=>{m.current?.focus()},0)},S=M=>{M.key==="Escape"&&c(!1)},k=e&&e.includes("{{"),j=k?ll(e,{input:l}):null,_=!k||!j?.includes("{{ERROR:"),P=a?"textarea":"input";return u.jsxs("div",{className:"expression-input-wrapper",children:[u.jsxs("div",{className:`expression-input-container ${_?"":"error"}`,children:[u.jsx(P,{ref:m,type:a?void 0:"text",value:e||"",onChange:N,onKeyDown:S,onBlur:()=>setTimeout(()=>c(!1),200),placeholder:i,className:`expression-input ${k?"has-expression":""}`}),k&&u.jsx("span",{className:"expression-badge",title:"Contains expressions",children:"{{ }}"})]}),s&&b.length>0&&u.jsx("div",{className:"expression-autocomplete",children:b.slice(0,10).map(M=>u.jsxs("button",{className:"autocomplete-option",onMouseDown:()=>C(M),children:[u.jsx("span",{className:"option-name",children:M.name}),u.jsx("span",{className:"option-desc",children:M.description}),u.jsx("code",{className:"option-example",children:M.example})]},M.name))}),k&&j&&u.jsxs("div",{className:`expression-preview ${_?"":"error"}`,children:[u.jsx("span",{className:"preview-label",children:"Preview:"}),u.jsx("span",{className:"preview-value",children:j.length>100?j.slice(0,100)+"...":j})]})]})}const FI=T.memo(VI),GI=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"];function YI({data:e,onUpdate:n}){return u.jsxs("div",{className:"http-request-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Request"}),u.jsxs("div",{className:"config-row",children:[u.jsxs("div",{className:"config-field",style:{flex:"0 0 100px"},children:[u.jsx("label",{children:"Method"}),u.jsx("select",{value:e.method||"GET",onChange:i=>n({method:i.target.value}),children:GI.map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"URL"}),u.jsx(FI,{value:e.url||"",onChange:i=>n({url:i}),placeholder:"https://api.example.com/{{ $json.endpoint }}"}),u.jsxs("p",{className:"hint",children:["Use ","{{ expression }}"," for dynamic values"]})]})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Headers"}),u.jsxs("div",{className:"config-field",children:[u.jsx("textarea",{value:typeof e.headers=="object"?JSON.stringify(e.headers,null,2):e.headers||"",onChange:i=>{try{const a=JSON.parse(i.target.value);n({headers:a})}catch{n({headers:i.target.value})}},placeholder:'{"Content-Type": "application/json"}',style:{minHeight:"80px"}}),u.jsx("p",{className:"hint",children:"JSON object with header key-value pairs"})]})]}),e.method!=="GET"&&e.method!=="HEAD"&&u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Body"}),u.jsxs("div",{className:"config-field",children:[u.jsx("textarea",{value:typeof e.body=="object"?JSON.stringify(e.body,null,2):e.body||"",onChange:i=>n({body:i.target.value}),placeholder:'{"key": "value"}',style:{minHeight:"100px"}}),u.jsxs("p",{className:"hint",children:["Request body (JSON or text). Use ","{{field}}"," for templating."]})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Options & Error Handling"}),u.jsxs("div",{className:"config-row",children:[u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Timeout (ms)"}),u.jsx("input",{type:"number",value:e.timeout||3e4,onChange:i=>n({timeout:parseInt(i.target.value,10)}),min:1e3,max:3e5})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Retry Count"}),u.jsx("input",{type:"number",value:e.retries||0,onChange:i=>n({retries:parseInt(i.target.value,10)}),min:0,max:10}),u.jsx("p",{className:"hint",children:"0 = no retries"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Retry Delay (ms)"}),u.jsx("input",{type:"number",value:e.retryDelay||1e3,onChange:i=>n({retryDelay:parseInt(i.target.value,10)}),min:100,max:3e4,disabled:!e.retries||e.retries===0}),u.jsx("p",{className:"hint",children:"Uses exponential backoff"})]})]})]})]})}const XI=T.memo(YI);function E0(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,a=Array(n);i<n;i++)a[i]=e[i];return a}function QI(e){if(Array.isArray(e))return e}function ZI(e,n,i){return(n=i4(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function WI(e,n){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,s,c,f=[],h=!0,p=!1;try{if(s=(i=i.call(e)).next,n!==0)for(;!(h=(a=s.call(i)).done)&&(f.push(a.value),f.length!==n);h=!0);}catch(g){p=!0,l=g}finally{try{if(!h&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(p)throw l}}return f}}function KI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function C0(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?j0(Object(i),!0).forEach(function(a){ZI(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j0(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function JI(e,n){if(e==null)return{};var i,a,l=e4(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)i=s[a],n.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(l[i]=e[i])}return l}function e4(e,n){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;i[a]=e[a]}return i}function t4(e,n){return QI(e)||WI(e,n)||r4(e,n)||KI()}function n4(e,n){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function i4(e){var n=n4(e,"string");return typeof n=="symbol"?n:n+""}function r4(e,n){if(e){if(typeof e=="string")return E0(e,n);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E0(e,n):void 0}}function a4(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function k0(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function T0(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?k0(Object(i),!0).forEach(function(a){a4(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k0(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function o4(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(a){return n.reduceRight(function(l,s){return s(l)},a)}}function rl(e){return function n(){for(var i=this,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return l.length>=e.length?e.apply(this,l):function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return n.apply(i,[].concat(l,f))}}}function Gc(e){return{}.toString.call(e).includes("Object")}function l4(e){return!Object.keys(e).length}function Nl(e){return typeof e=="function"}function s4(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function c4(e,n){return Gc(n)||or("changeType"),Object.keys(n).some(function(i){return!s4(e,i)})&&or("changeField"),n}function u4(e){Nl(e)||or("selectorType")}function d4(e){Nl(e)||Gc(e)||or("handlerType"),Gc(e)&&Object.values(e).some(function(n){return!Nl(n)})&&or("handlersType")}function f4(e){e||or("initialIsRequired"),Gc(e)||or("initialType"),l4(e)&&or("initialContent")}function h4(e,n){throw new Error(e[n]||e.default)}var p4={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},or=rl(h4)(p4),bc={changes:c4,selector:u4,handler:d4,initial:f4};function m4(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bc.initial(e),bc.handler(n);var i={current:e},a=rl(x4)(i,n),l=rl(y4)(i),s=rl(bc.changes)(e),c=rl(g4)(i);function f(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return bc.selector(p),p(i.current)}function h(p){o4(a,l,s,c)(p)}return[f,h]}function g4(e,n){return Nl(n)?n(e.current):n}function y4(e,n){return e.current=T0(T0({},e.current),n),n}function x4(e,n,i){return Nl(n)?n(e.current):Object.keys(i).forEach(function(a){var l;return(l=n[a])===null||l===void 0?void 0:l.call(n,e.current[a])}),i}var v4={create:m4},b4={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function w4(e){return function n(){for(var i=this,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return l.length>=e.length?e.apply(this,l):function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return n.apply(i,[].concat(l,f))}}}function S4(e){return{}.toString.call(e).includes("Object")}function N4(e){return e||A0("configIsRequired"),S4(e)||A0("configType"),e.urls?(E4(),{paths:{vs:e.urls.monacoBase}}):e}function E4(){console.warn(k1.deprecation)}function j4(e,n){throw new Error(e[n]||e.default)}var k1={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},A0=w4(j4)(k1),C4={config:N4},k4=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return function(l){return i.reduceRight(function(s,c){return c(s)},l)}};function T1(e,n){return Object.keys(n).forEach(function(i){n[i]instanceof Object&&e[i]&&Object.assign(n[i],T1(e[i],n[i]))}),C0(C0({},e),n)}var T4={type:"cancelation",msg:"operation is manually canceled"};function dh(e){var n=!1,i=new Promise(function(a,l){e.then(function(s){return n?l(T4):a(s)}),e.catch(l)});return i.cancel=function(){return n=!0},i}var A4=["monaco"],M4=v4.create({config:b4,isInitialized:!1,resolve:null,reject:null,monaco:null}),A1=t4(M4,2),zl=A1[0],hu=A1[1];function D4(e){var n=C4.config(e),i=n.monaco,a=JI(n,A4);hu(function(l){return{config:T1(l.config,a),monaco:i}})}function _4(){var e=zl(function(n){var i=n.monaco,a=n.isInitialized,l=n.resolve;return{monaco:i,isInitialized:a,resolve:l}});if(!e.isInitialized){if(hu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),dh(fh);if(window.monaco&&window.monaco.editor)return M1(window.monaco),e.resolve(window.monaco),dh(fh);k4(O4,z4)(L4)}return dh(fh)}function O4(e){return document.body.appendChild(e)}function R4(e){var n=document.createElement("script");return e&&(n.src=e),n}function z4(e){var n=zl(function(a){var l=a.config,s=a.reject;return{config:l,reject:s}}),i=R4("".concat(n.config.paths.vs,"/loader.js"));return i.onload=function(){return e()},i.onerror=n.reject,i}function L4(){var e=zl(function(i){var a=i.config,l=i.resolve,s=i.reject;return{config:a,resolve:l,reject:s}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(i){var a=i.m||i;M1(a),e.resolve(a)},function(i){e.reject(i)})}function M1(e){zl().monaco||hu({monaco:e})}function I4(){return zl(function(e){var n=e.monaco;return n})}var fh=new Promise(function(e,n){return hu({resolve:e,reject:n})}),D1={config:D4,init:_4,__getMonacoInstance:I4},B4={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},hh=B4,H4={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},P4=H4;function $4({children:e}){return Dn.createElement("div",{style:P4.container},e)}var U4=$4,q4=U4;function V4({width:e,height:n,isEditorReady:i,loading:a,_ref:l,className:s,wrapperProps:c}){return Dn.createElement("section",{style:{...hh.wrapper,width:e,height:n},...c},!i&&Dn.createElement(q4,null,a),Dn.createElement("div",{ref:l,style:{...hh.fullWidth,...!i&&hh.hide},className:s}))}var F4=V4,_1=T.memo(F4);function G4(e){T.useEffect(e,[])}var O1=G4;function Y4(e,n,i=!0){let a=T.useRef(!0);T.useEffect(a.current||!i?()=>{a.current=!1}:e,n)}var un=Y4;function dl(){}function La(e,n,i,a){return X4(e,a)||Q4(e,n,i,a)}function X4(e,n){return e.editor.getModel(R1(e,n))}function Q4(e,n,i,a){return e.editor.createModel(n,i,a?R1(e,a):void 0)}function R1(e,n){return e.Uri.parse(n)}function Z4({original:e,modified:n,language:i,originalLanguage:a,modifiedLanguage:l,originalModelPath:s,modifiedModelPath:c,keepCurrentOriginalModel:f=!1,keepCurrentModifiedModel:h=!1,theme:p="light",loading:g="Loading...",options:m={},height:v="100%",width:b="100%",className:w,wrapperProps:N={},beforeMount:C=dl,onMount:S=dl}){let[k,j]=T.useState(!1),[_,P]=T.useState(!0),M=T.useRef(null),H=T.useRef(null),F=T.useRef(null),X=T.useRef(S),I=T.useRef(C),L=T.useRef(!1);O1(()=>{let $=D1.init();return $.then(D=>(H.current=D)&&P(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>M.current?A():$.cancel()}),un(()=>{if(M.current&&H.current){let $=M.current.getOriginalEditor(),D=La(H.current,e||"",a||i||"text",s||"");D!==$.getModel()&&$.setModel(D)}},[s],k),un(()=>{if(M.current&&H.current){let $=M.current.getModifiedEditor(),D=La(H.current,n||"",l||i||"text",c||"");D!==$.getModel()&&$.setModel(D)}},[c],k),un(()=>{let $=M.current.getModifiedEditor();$.getOption(H.current.editor.EditorOption.readOnly)?$.setValue(n||""):n!==$.getValue()&&($.executeEdits("",[{range:$.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),$.pushUndoStop())},[n],k),un(()=>{M.current?.getModel()?.original.setValue(e||"")},[e],k),un(()=>{let{original:$,modified:D}=M.current.getModel();H.current.editor.setModelLanguage($,a||i||"text"),H.current.editor.setModelLanguage(D,l||i||"text")},[i,a,l],k),un(()=>{H.current?.editor.setTheme(p)},[p],k),un(()=>{M.current?.updateOptions(m)},[m],k);let q=T.useCallback(()=>{if(!H.current)return;I.current(H.current);let $=La(H.current,e||"",a||i||"text",s||""),D=La(H.current,n||"",l||i||"text",c||"");M.current?.setModel({original:$,modified:D})},[i,n,l,e,a,s,c]),K=T.useCallback(()=>{!L.current&&F.current&&(M.current=H.current.editor.createDiffEditor(F.current,{automaticLayout:!0,...m}),q(),H.current?.editor.setTheme(p),j(!0),L.current=!0)},[m,p,q]);T.useEffect(()=>{k&&X.current(M.current,H.current)},[k]),T.useEffect(()=>{!_&&!k&&K()},[_,k,K]);function A(){let $=M.current?.getModel();f||$?.original?.dispose(),h||$?.modified?.dispose(),M.current?.dispose()}return Dn.createElement(_1,{width:b,height:v,isEditorReady:k,loading:g,_ref:F,className:w,wrapperProps:N})}var W4=Z4;T.memo(W4);function K4(e){let n=T.useRef();return T.useEffect(()=>{n.current=e},[e]),n.current}var J4=K4,wc=new Map;function e5({defaultValue:e,defaultLanguage:n,defaultPath:i,value:a,language:l,path:s,theme:c="light",line:f,loading:h="Loading...",options:p={},overrideServices:g={},saveViewState:m=!0,keepCurrentModel:v=!1,width:b="100%",height:w="100%",className:N,wrapperProps:C={},beforeMount:S=dl,onMount:k=dl,onChange:j,onValidate:_=dl}){let[P,M]=T.useState(!1),[H,F]=T.useState(!0),X=T.useRef(null),I=T.useRef(null),L=T.useRef(null),q=T.useRef(k),K=T.useRef(S),A=T.useRef(),$=T.useRef(a),D=J4(s),U=T.useRef(!1),G=T.useRef(!1);O1(()=>{let B=D1.init();return B.then(V=>(X.current=V)&&F(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>I.current?O():B.cancel()}),un(()=>{let B=La(X.current,e||a||"",n||l||"",s||i||"");B!==I.current?.getModel()&&(m&&wc.set(D,I.current?.saveViewState()),I.current?.setModel(B),m&&I.current?.restoreViewState(wc.get(s)))},[s],P),un(()=>{I.current?.updateOptions(p)},[p],P),un(()=>{!I.current||a===void 0||(I.current.getOption(X.current.editor.EditorOption.readOnly)?I.current.setValue(a):a!==I.current.getValue()&&(G.current=!0,I.current.executeEdits("",[{range:I.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),I.current.pushUndoStop(),G.current=!1))},[a],P),un(()=>{let B=I.current?.getModel();B&&l&&X.current?.editor.setModelLanguage(B,l)},[l],P),un(()=>{f!==void 0&&I.current?.revealLine(f)},[f],P),un(()=>{X.current?.editor.setTheme(c)},[c],P);let Z=T.useCallback(()=>{if(!(!L.current||!X.current)&&!U.current){K.current(X.current);let B=s||i,V=La(X.current,a||e||"",n||l||"",B||"");I.current=X.current?.editor.create(L.current,{model:V,automaticLayout:!0,...p},g),m&&I.current.restoreViewState(wc.get(B)),X.current.editor.setTheme(c),f!==void 0&&I.current.revealLine(f),M(!0),U.current=!0}},[e,n,i,a,l,s,p,g,m,c,f]);T.useEffect(()=>{P&&q.current(I.current,X.current)},[P]),T.useEffect(()=>{!H&&!P&&Z()},[H,P,Z]),$.current=a,T.useEffect(()=>{P&&j&&(A.current?.dispose(),A.current=I.current?.onDidChangeModelContent(B=>{G.current||j(I.current.getValue(),B)}))},[P,j]),T.useEffect(()=>{if(P){let B=X.current.editor.onDidChangeMarkers(V=>{let z=I.current.getModel()?.uri;if(z&&V.find(ie=>ie.path===z.path)){let ie=X.current.editor.getModelMarkers({resource:z});_?.(ie)}});return()=>{B?.dispose()}}return()=>{}},[P,_]);function O(){A.current?.dispose(),v?m&&wc.set(s,I.current.saveViewState()):I.current.getModel()?.dispose(),I.current.dispose()}return Dn.createElement(_1,{width:b,height:w,isEditorReady:P,loading:h,_ref:L,className:N,wrapperProps:C})}var t5=e5,n5=T.memo(t5),z1=n5;const ph=new Map,el=new Map;async function i5(e,n=null){if(ph.has(e))return ph.get(e);if(el.has(e))return el.get(e);const i=new Promise((a,l)=>{if(!r5(e)){l(new Error(`Invalid CDN URL: ${e}`));return}const s=document.createElement("script");s.src=e,s.async=!0,s.onload=()=>{const c=n?window[n]:!0;ph.set(e,c),el.delete(e),a(c)},s.onerror=()=>{el.delete(e),l(new Error(`Failed to load library from: ${e}`))},document.head.appendChild(s)});return el.set(e,i),i}function r5(e){try{const n=new URL(e);return n.protocol!=="https:"?!1:["unpkg.com","cdn.jsdelivr.net","cdnjs.cloudflare.com","esm.sh","esm.run","cdn.skypack.dev","cdn.pika.dev","ga.jspm.io"].some(a=>n.hostname===a||n.hostname.endsWith(`.${a}`))}catch{return!1}}const Gh=[{name:"Lodash",url:"https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js",globalName:"_"},{name:"Axios",url:"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js",globalName:"axios"},{name:"Day.js",url:"https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js",globalName:"dayjs"},{name:"UUID",url:"https://cdn.jsdelivr.net/npm/uuid@8/dist/umd/uuid.min.js",globalName:"uuid"},{name:"Marked (Markdown)",url:"https://cdn.jsdelivr.net/npm/marked/marked.min.js",globalName:"marked"}],a5=Object.freeze(Object.defineProperty({__proto__:null,CDN_EXAMPLES:Gh,loadFromCDN:i5},Symbol.toStringTag,{value:"Module"}));function o5({data:e,onUpdate:n}){const[i,a]=T.useState(!1),l=T.useCallback(p=>{n({code:p||""})},[n]),s=T.useCallback(p=>{const g=e.cdnUrls||[];g.includes(p)||n({cdnUrls:[...g,p]}),a(!1)},[e.cdnUrls,n]),c=T.useCallback(p=>{const g=e.cdnUrls||[];n({cdnUrls:g.filter(m=>m!==p)})},[e.cdnUrls,n]),f="// Access input data via `input`\n// Return output data\nreturn input;",h=e.cdnUrls||[];return u.jsxs("div",{className:"code-executor-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"JavaScript Code"}),u.jsx("div",{className:"config-field monaco-container",children:u.jsx(z1,{height:"200px",language:"javascript",theme:"vs-dark",value:e.code||f,onChange:l,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:8,bottom:8},renderLineHighlight:"gutter",scrollbar:{verticalScrollbarSize:8,horizontalScrollbarSize:8}}})}),u.jsx("div",{className:"code-help",children:u.jsxs("p",{className:"hint",children:[u.jsx("strong",{children:"Available:"})," ",u.jsx("code",{children:"input"}),", ",u.jsx("code",{children:"context"})]})})]}),u.jsxs("div",{className:"config-section",children:[u.jsxs("div",{className:"config-section-title",children:[" CDN Libraries",u.jsx("button",{className:"add-cdn-btn",onClick:()=>a(!i),title:"Add library",children:"+"})]}),i&&u.jsxs("div",{className:"cdn-picker",children:[Gh.map(p=>u.jsxs("button",{className:"cdn-option",onClick:()=>s(p.url),children:[u.jsx("strong",{children:p.name}),u.jsxs("span",{className:"cdn-global",children:["window.",p.globalName]})]},p.name)),u.jsx("div",{className:"cdn-custom",children:u.jsx("input",{type:"text",placeholder:"https://cdn.jsdelivr.net/npm/...",onKeyDown:p=>{p.key==="Enter"&&p.target.value.trim()&&(s(p.target.value.trim()),p.target.value="")}})})]}),h.length>0?u.jsx("div",{className:"cdn-list",children:h.map(p=>{const g=Gh.find(m=>m.url===p);return u.jsxs("div",{className:"cdn-item",children:[u.jsx("span",{className:"cdn-name",children:g?.name||p.split("/").pop()}),u.jsx("button",{className:"cdn-remove",onClick:()=>c(p),children:""})]},p)})}):u.jsx("p",{className:"hint",style:{marginTop:"8px"},children:"No libraries loaded. Click + to add."})]})]})}const l5=T.memo(o5),s5=[{value:"set",label:"Set (replace)"},{value:"append",label:"Append (to array)"},{value:"merge",label:"Merge (objects)"}];function c5({data:e,onUpdate:n}){return u.jsxs("div",{className:"set-variable-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Variable"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Variable Name"}),u.jsx("input",{type:"text",value:e.variableName||"",onChange:i=>n({variableName:i.target.value}),placeholder:"data"}),u.jsx("p",{className:"hint",children:"The key to set on the output object"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Mode"}),u.jsx("select",{value:e.mode||"set",onChange:i=>n({mode:i.target.value}),children:s5.map(i=>u.jsx("option",{value:i.value,children:i.label},i.value))})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Value"}),u.jsxs("div",{className:"config-field",children:[u.jsx("textarea",{value:e.value||"",onChange:i=>n({value:i.target.value}),placeholder:"Value or expression",style:{minHeight:"80px"}}),u.jsxs("p",{className:"hint",children:["Use ","{{field.path}}"," to reference input data. Leave empty to use entire input."]})]})]})]})}const u5=T.memo(c5),d5=[{value:"equals",label:"Equals (==)"},{value:"notEquals",label:"Not Equals (!=)"},{value:"contains",label:"Contains"},{value:"greaterThan",label:"Greater Than (>)"},{value:"lessThan",label:"Less Than (<)"},{value:"isEmpty",label:"Is Empty"},{value:"isNotEmpty",label:"Is Not Empty"},{value:"isTrue",label:"Is Truthy"},{value:"isFalse",label:"Is Falsy"}];function f5({data:e,onUpdate:n}){const i=!["isEmpty","isNotEmpty","isTrue","isFalse"].includes(e.operator);return u.jsxs("div",{className:"if-else-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Condition"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Field Path"}),u.jsx("input",{type:"text",value:e.condition||"",onChange:a=>n({condition:a.target.value}),placeholder:"data.status"}),u.jsx("p",{className:"hint",children:"Path to the field to check (e.g., response.status)"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Operator"}),u.jsx("select",{value:e.operator||"equals",onChange:a=>n({operator:a.target.value}),children:d5.map(a=>u.jsx("option",{value:a.value,children:a.label},a.value))})]}),i&&u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Compare Value"}),u.jsx("input",{type:"text",value:e.compareValue||"",onChange:a=>n({compareValue:a.target.value}),placeholder:"value to compare"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Outputs"}),u.jsxs("div",{className:"output-info",children:[u.jsxs("div",{className:"output-row",children:[u.jsx("span",{className:"output-badge true",children:"Output 1"}),u.jsx("span",{children:"Condition is TRUE"})]}),u.jsxs("div",{className:"output-row",children:[u.jsx("span",{className:"output-badge false",children:"Output 2"}),u.jsx("span",{children:"Condition is FALSE"})]})]})]})]})}const h5=T.memo(f5);function p5({data:e,onUpdate:n}){return u.jsxs("div",{className:"loop-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Loop Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Iterations (repeat count)"}),u.jsx("input",{type:"number",value:e.iterations||1,onChange:i=>n({iterations:parseInt(i.target.value,10)||1}),min:1,max:1e3}),u.jsx("p",{className:"hint",children:"How many times the loop will repeat the workflow"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Items Path (optional)"}),u.jsx("input",{type:"text",value:e.itemsPath||"",onChange:i=>n({itemsPath:i.target.value}),placeholder:"items"}),u.jsx("p",{className:"hint",children:"Path to array in input data for item-based looping"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Max Items"}),u.jsx("input",{type:"number",value:e.maxIterations||100,onChange:i=>n({maxIterations:parseInt(i.target.value,10)}),min:1,max:1e4}),u.jsx("p",{className:"hint",children:"Maximum array items to process per iteration"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Outputs"}),u.jsxs("div",{className:"output-info",children:[u.jsxs("div",{className:"output-row",children:[u.jsx("span",{className:"output-badge loop",children:"loop "}),u.jsx("span",{children:"Connect back to repeat the workflow"})]}),u.jsxs("div",{className:"output-row",children:[u.jsx("span",{className:"output-badge done",children:"done "}),u.jsx("span",{children:"Fires when all iterations complete"})]})]})]})]})}const m5=T.memo(p5);function g5({data:e,onUpdate:n}){const i=T.useMemo(()=>e.routes||[],[e.routes]),a=T.useCallback(()=>{const c=[...i,{value:"",outputIndex:i.length}];n({routes:c})},[i,n]),l=T.useCallback((c,f,h)=>{const p=i.map((g,m)=>m===c?{...g,[f]:h}:g);n({routes:p})},[i,n]),s=T.useCallback(c=>{const f=i.filter((h,p)=>p!==c);n({routes:f})},[i,n]);return u.jsxs("div",{className:"switch-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Switch Field"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Field Path"}),u.jsx("input",{type:"text",value:e.field||"",onChange:c=>n({field:c.target.value}),placeholder:"status"}),u.jsx("p",{className:"hint",children:"Path to the field to switch on"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Routes"}),i.map((c,f)=>u.jsxs("div",{className:"route-row",children:[u.jsx("input",{type:"text",value:c.value,onChange:h=>l(f,"value",h.target.value),placeholder:`Value for output ${f+1}`,className:"route-value"}),u.jsxs("span",{className:"route-output",children:[" Output ",c.outputIndex+1]}),u.jsx("button",{className:"btn-icon btn-small",onClick:()=>s(f),title:"Remove route",children:""})]},f)),u.jsx("button",{className:"btn-add-route",onClick:a,children:"+ Add Route"}),u.jsx("p",{className:"hint",style:{marginTop:"8px",marginBottom:"8px"},children:"Routes map values to dynamic output handles"}),u.jsxs("div",{className:"config-field",style:{marginTop:"12px"},children:[u.jsx("label",{children:"Default Output"}),u.jsx("p",{className:"hint",children:'When no routes match, data flows to the "default" output handle'})]})]})]})}const y5=T.memo(g5),x5=[{value:"* * * * *",label:"Every minute"},{value:"*/5 * * * *",label:"Every 5 minutes"},{value:"*/15 * * * *",label:"Every 15 minutes"},{value:"0 * * * *",label:"Every hour"},{value:"0 0 * * *",label:"Every day at midnight"},{value:"0 9 * * 1-5",label:"Weekdays at 9 AM"},{value:"0 0 * * 0",label:"Every Sunday at midnight"}];function v5({data:e,onUpdate:n}){return u.jsxs("div",{className:"schedule-trigger-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Schedule"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Cron Expression"}),u.jsx("input",{type:"text",value:e.schedule||"*/5 * * * *",onChange:i=>n({schedule:i.target.value}),placeholder:"*/5 * * * *"}),u.jsx("p",{className:"hint",children:"Format: minute hour day month weekday"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Quick Presets"}),u.jsxs("select",{value:"",onChange:i=>{i.target.value&&n({schedule:i.target.value})},children:[u.jsx("option",{value:"",children:"Select a preset..."}),x5.map(i=>u.jsx("option",{value:i.value,children:i.label},i.value))]})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Status"}),u.jsxs("div",{className:"config-toggle",children:[u.jsx("label",{children:"Enable Schedule"}),u.jsx("div",{className:`toggle-switch ${e.enabled?"active":""}`,onClick:()=>n({enabled:!e.enabled})})]}),u.jsx("p",{className:"hint",style:{marginTop:"8px"},children:"Note: Browser schedules use setInterval simulation. For production, use a proper scheduler."})]})]})}const b5=T.memo(v5),w5={recommended:" Recommended",qwen:" Qwen Models",medium:" Medium Models",tiny:" Tiny Models"};function S5({data:e,onUpdate:n}){const i=Ye(h=>h.availableModels),a=Ye(h=>h.downloadedModels),l=Ye(h=>h.status),s=Ye(h=>h.currentModelId),c=T.useMemo(()=>i.filter(h=>a.includes(h.id)),[i,a]),f=T.useMemo(()=>{const h={};for(const p of c){const g=p.category||"other";h[g]||(h[g]=[]),h[g].push(p)}return h},[c]);return u.jsxs("div",{className:"ai-agent-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Model"}),u.jsxs("div",{className:"config-field",children:[u.jsxs("label",{children:["AI Model ",c.length===0&&"(No models downloaded)"]}),c.length>0?u.jsx("select",{value:e.modelId||s||String(c[0]?.id),onChange:h=>n({modelId:h.target.value}),children:Object.entries(f).map(([h,p])=>u.jsx("optgroup",{label:w5[h]||h,children:p.map(g=>u.jsxs("option",{value:g.id,children:[g.name," (",g.size,")"]},g.id))},h))}):u.jsx("div",{className:"warning-box",style:{padding:"8px",background:"rgba(239, 68, 68, 0.1)",borderRadius:"4px",fontSize:"13px",color:"#fca5a5"},children:"Please download a model using the Model Switcher () in the AI Control Panel."}),u.jsxs("p",{className:"hint",children:["Status:"," ",u.jsx("span",{style:{color:l==="ready"?"var(--color-success)":"var(--color-warning)"},children:l==="ready"?" Ready":l==="loading"?" Loading...":" Not loaded"})]})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"System Prompt"}),u.jsxs("div",{className:"config-field",children:[u.jsx("textarea",{value:e.systemPrompt||"",onChange:h=>n({systemPrompt:h.target.value}),placeholder:"You are a helpful AI assistant...",style:{minHeight:"150px"}}),u.jsx("p",{className:"hint",children:"Define the agent's behavior and personality"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Reasoning Mode"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Strategy"}),u.jsxs("select",{value:e.reasoningMode||"auto",onChange:h=>n({reasoningMode:h.target.value}),children:[u.jsx("option",{value:"auto",children:" Auto (Smart Selection)"}),u.jsx("option",{value:"cot",children:" Chain-of-Thought (Step-by-Step)"}),u.jsx("option",{value:"tot",children:" Tree-of-Thoughts (Branching)"}),u.jsx("option",{value:"react",children:" ReAct (Tool Calling)"})]}),u.jsx("p",{className:"hint",children:e.reasoningMode==="cot"?"Linear step-by-step reasoning with audit trail":e.reasoningMode==="tot"?"Explores multiple branches, picks the best path":e.reasoningMode==="react"?"Thought  Action  Observation loop with tools":"Automatically selects based on task complexity"})]}),e.reasoningMode==="tot"&&u.jsx("div",{className:"config-row",children:u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Branch Count"}),u.jsx("input",{type:"number",value:e.branchCount||3,onChange:h=>n({branchCount:parseInt(h.target.value,10)}),min:2,max:5}),u.jsx("p",{className:"hint",children:"Number of reasoning paths to explore"})]})}),u.jsxs("div",{className:"config-field",children:[u.jsxs("label",{className:"toggle-label",children:[u.jsx("input",{type:"checkbox",checked:e.enableSelfCorrection||!1,onChange:h=>n({enableSelfCorrection:h.target.checked})}),"Enable Self-Correction (Critic)"]}),u.jsx("p",{className:"hint",children:"Second-pass verification to detect and fix errors before output"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Parameters"}),u.jsxs("div",{className:"config-row",children:[u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Temperature"}),u.jsx("input",{type:"number",value:e.temperature??.7,onChange:h=>n({temperature:parseFloat(h.target.value)}),min:0,max:2,step:.1}),u.jsx("p",{className:"hint",children:"0 = focused, 2 = creative"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Max Tokens"}),u.jsx("input",{type:"number",value:e.maxTokens||2e3,onChange:h=>n({maxTokens:parseInt(h.target.value,10)}),min:100,max:8e3,step:100})]})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Tool Calling (ReAct)"}),u.jsxs("div",{className:"config-field",children:[u.jsxs("label",{className:"toggle-label",children:[u.jsx("input",{type:"checkbox",checked:e.enableToolCalling!==!1,onChange:h=>n({enableToolCalling:h.target.checked})}),"Enable Tool Calling"]}),u.jsx("p",{className:"hint",children:"When enabled, the agent can call connected nodes as tools during reasoning"})]}),e.enableToolCalling!==!1&&u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Max Iterations"}),u.jsx("input",{type:"number",value:e.maxIterations||10,onChange:h=>n({maxIterations:parseInt(h.target.value,10)}),min:1,max:20}),u.jsx("p",{className:"hint",children:"Maximum ReAct loop iterations (prevents infinite loops)"})]}),u.jsxs("div",{className:"tools-info",children:[u.jsx("h4",{style:{margin:"0 0 8px",fontSize:"13px"},children:"Connected Tools"}),e.tools&&e.tools.length>0?u.jsx("ul",{className:"tools-list",children:e.tools.map((h,p)=>u.jsxs("li",{children:[u.jsx("span",{className:"tool-icon",children:""}),u.jsx("span",{className:"tool-name",children:h.name||h.nodeId}),u.jsx("span",{className:"tool-type",children:h.type})]},p))}):u.jsx("p",{className:"hint",style:{fontStyle:"italic"},children:"No tools connected. Connect nodes to this agent to use them as tools."})]})]})]})}const N5=T.memo(S5),M0=[{value:"text",label:"Text",icon:""},{value:"number",label:"Number",icon:""},{value:"dropdown",label:"Dropdown",icon:""},{value:"toggle",label:"Toggle",icon:""},{value:"textarea",label:"Text Area",icon:""},{value:"json",label:"JSON",icon:"{ }"}];function E5({data:e,onUpdate:n}){const[i,a]=T.useState(""),[l,s]=T.useState("text"),c=e.inputFields||[],f=e.inputValues||{},h=()=>{if(!i.trim())return;const N=`field_${crypto.randomUUID()}`,C={id:N,name:i.trim(),type:l,options:l==="dropdown"?["Option 1","Option 2"]:void 0,defaultValue:p(l)};n({inputFields:[...c,C],inputValues:{...f,[N]:C.defaultValue}}),a("")},p=N=>{switch(N){case"number":return 0;case"toggle":return!1;case"json":return"{}";default:return""}},g=N=>{const C={...f};delete C[N],n({inputFields:c.filter(S=>S.id!==N),inputValues:C})},m=(N,C)=>{n({inputValues:{...f,[N]:C}})},v=(N,C)=>{const S=C.split(",").map(k=>k.trim()).filter(Boolean);n({inputFields:c.map(k=>k.id===N?{...k,options:S}:k)})},b=(N,C)=>{const S=[...c],k=C==="up"?N-1:N+1;k<0||k>=c.length||([S[N],S[k]]=[S[k],S[N]],n({inputFields:S}))},w=N=>{const C=f[N.id]??N.defaultValue;switch(N.type){case"number":return u.jsx("input",{type:"number",value:C,onChange:S=>m(N.id,parseFloat(S.target.value)||0)});case"toggle":return u.jsxs("label",{className:"toggle-switch",children:[u.jsx("input",{type:"checkbox",checked:C,onChange:S=>m(N.id,S.target.checked)}),u.jsx("span",{className:"toggle-slider"}),u.jsx("span",{className:"toggle-label",children:C?"On":"Off"})]});case"dropdown":return u.jsxs("select",{value:C,onChange:S=>m(N.id,S.target.value),children:[u.jsx("option",{value:"",children:"Select..."}),(N.options||[]).map((S,k)=>u.jsx("option",{value:S,children:S},k))]});case"textarea":return u.jsx("textarea",{value:C,onChange:S=>m(N.id,S.target.value),rows:3});case"json":return u.jsx("textarea",{value:C,onChange:S=>m(N.id,S.target.value),className:"json-input",rows:4,placeholder:'{"key": "value"}'});default:return u.jsx("input",{type:"text",value:C,onChange:S=>m(N.id,S.target.value)})}};return u.jsxs("div",{className:"manual-trigger-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Trigger Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Trigger Name"}),u.jsx("input",{type:"text",value:e.label||"Manual Trigger",onChange:N=>n({label:N.target.value}),placeholder:"Start Workflow"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsxs("div",{className:"config-section-title",children:["Input Fields",u.jsx("span",{className:"field-count",children:c.length})]}),u.jsx("p",{className:"hint",children:"Define input fields that users will fill when running this workflow"}),u.jsxs("div",{className:"fields-list",children:[c.map((N,C)=>u.jsxs("div",{className:"field-item",children:[u.jsxs("div",{className:"field-header",children:[u.jsx("span",{className:"field-icon",children:M0.find(S=>S.value===N.type)?.icon||""}),u.jsx("span",{className:"field-name",children:N.name}),u.jsx("span",{className:"field-type",children:N.type}),u.jsxs("div",{className:"field-actions",children:[u.jsx("button",{className:"action-btn",onClick:()=>b(C,"up"),disabled:C===0,title:"Move up",children:""}),u.jsx("button",{className:"action-btn",onClick:()=>b(C,"down"),disabled:C===c.length-1,title:"Move down",children:""}),u.jsx("button",{className:"action-btn delete",onClick:()=>g(N.id),title:"Remove field",children:""})]})]}),u.jsx("div",{className:"field-input",children:w(N)}),N.type==="dropdown"&&u.jsxs("div",{className:"field-options",children:[u.jsx("label",{children:"Options (comma-separated)"}),u.jsx("input",{type:"text",value:(N.options||[]).join(", "),onChange:S=>v(N.id,S.target.value),placeholder:"Option 1, Option 2, Option 3"})]})]},N.id)),c.length===0&&u.jsxs("div",{className:"empty-fields",children:[u.jsx("p",{children:"No input fields defined"}),u.jsx("p",{className:"hint",children:"Add fields below to create a form"})]})]}),u.jsx("div",{className:"add-field-form",children:u.jsxs("div",{className:"add-field-row",children:[u.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),placeholder:"Field name...",className:"field-name-input",onKeyDown:N=>N.key==="Enter"&&h()}),u.jsx("select",{value:l,onChange:N=>s(N.target.value),className:"field-type-select",children:M0.map(N=>u.jsxs("option",{value:N.value,children:[N.icon," ",N.label]},N.value))}),u.jsx("button",{className:"add-field-btn",onClick:h,disabled:!i.trim(),children:"+ Add"})]})})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Output Preview"}),u.jsx("div",{className:"output-preview",children:u.jsx("pre",{children:JSON.stringify(f,null,2)})}),u.jsx("p",{className:"hint",children:"This data will be passed to connected nodes"})]})]})}const j5=T.memo(E5);function C5({data:e,onUpdate:n}){return u.jsx("div",{className:"config-sections",children:u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Voice Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Provider"}),u.jsxs("select",{value:e.provider||"webSpeech",onChange:i=>n({provider:i.target.value}),children:[u.jsx("option",{value:"webSpeech",children:"Web Speech API (Local)"}),u.jsx("option",{value:"elevenlabs",children:"ElevenLabs (API Key Required)"})]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Voice"}),u.jsxs("select",{value:e.voice||"default",onChange:i=>n({voice:i.target.value}),children:[u.jsx("option",{value:"default",children:"Default"}),u.jsx("option",{value:"Microsoft David",children:"Microsoft David"}),u.jsx("option",{value:"Microsoft Zira",children:"Microsoft Zira"}),u.jsx("option",{value:"Google US English",children:"Google US English"})]}),u.jsx("p",{className:"hint",children:"Available voices depend on your browser"})]}),u.jsxs("div",{className:"config-row",children:[u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:e.speed||1,onChange:i=>n({speed:parseFloat(i.target.value)})}),u.jsxs("span",{className:"hint",children:[e.speed||1,"x"]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Pitch"}),u.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:e.pitch||1,onChange:i=>n({pitch:parseFloat(i.target.value)})}),u.jsx("span",{className:"hint",children:e.pitch||1})]})]}),u.jsxs("div",{className:"config-toggle",children:[u.jsx("label",{children:"Auto-play audio"}),u.jsx("div",{className:`toggle-switch ${e.autoPlay!==!1?"active":""}`,onClick:()=>n({autoPlay:e.autoPlay===!1})})]})]})})}const k5=T.memo(C5);function T5({data:e,onUpdate:n}){const i=T.useCallback(l=>{n({code:l||""})},[n]);return u.jsxs("div",{className:"config-sections",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Python Code"}),u.jsxs("div",{className:"config-field monaco-container",children:[u.jsx(z1,{height:"250px",language:"python",theme:"vs-dark",value:e.code||`# Access input via 'input' variable
# Set 'result' to output data
result = input`,onChange:i,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,wordWrap:"on",padding:{top:8,bottom:8},renderLineHighlight:"gutter",scrollbar:{verticalScrollbarSize:8,horizontalScrollbarSize:8}}}),u.jsx("p",{className:"hint",children:"Use 'input' to access incoming data. Set 'result' for output."})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Required Packages"}),u.jsx("input",{type:"text",value:(e.packages||[]).join(", "),onChange:l=>n({packages:l.target.value.split(",").map(s=>s.trim()).filter(Boolean)}),placeholder:"numpy, pandas, matplotlib"}),u.jsx("p",{className:"hint",children:"Comma-separated list of pip packages"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Timeout (ms)"}),u.jsx("input",{type:"number",value:e.timeout||3e4,onChange:l=>n({timeout:parseInt(l.target.value)}),min:1e3,max:3e5})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:" Tips"}),u.jsxs("ul",{className:"hint-list",children:[u.jsx("li",{children:"First run downloads Pyodide (~15MB)"}),u.jsx("li",{children:"Supports numpy, pandas, scipy, matplotlib"}),u.jsx("li",{children:"All execution happens locally"})]})]})]})}const A5=T.memo(T5);function M5({data:e,onUpdate:n}){return u.jsx("div",{className:"config-sections",children:u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Memory Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Mode"}),u.jsxs("select",{value:e.mode||"query",onChange:i=>n({mode:i.target.value}),children:[u.jsx("option",{value:"query",children:"Query (Search)"}),u.jsx("option",{value:"upsert",children:"Upsert (Add/Update)"}),u.jsx("option",{value:"delete",children:"Delete"})]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Namespace"}),u.jsx("input",{type:"text",value:e.namespace||"default",onChange:i=>n({namespace:i.target.value}),placeholder:"default"}),u.jsx("p",{className:"hint",children:"Group related memories together"})]}),e.mode==="query"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Top K Results"}),u.jsx("input",{type:"number",value:e.topK||5,onChange:i=>n({topK:parseInt(i.target.value)}),min:1,max:50})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Min Score"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.minScore||.3,onChange:i=>n({minScore:parseFloat(i.target.value)})}),u.jsx("span",{className:"hint",children:e.minScore||.3})]})]})]})})}const D5=T.memo(M5);function _5({data:e,onUpdate:n}){return u.jsxs("div",{className:"config-sections",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"File Operation"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Mode"}),u.jsxs("select",{value:e.mode||"read",onChange:i=>n({mode:i.target.value}),children:[u.jsx("option",{value:"read",children:"Read File"}),u.jsx("option",{value:"write",children:"Write File"})]})]}),e.mode==="write"&&u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Suggested Filename"}),u.jsx("input",{type:"text",value:e.filename||"",onChange:i=>n({filename:i.target.value}),placeholder:"output.txt"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:" Info"}),u.jsx("p",{className:"hint",children:"Uses the File System Access API. A file picker will open when the node runs."})]})]})}const O5=T.memo(_5);function R5({data:e,onUpdate:n}){return u.jsx("div",{className:"config-sections",children:u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Storage Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Storage Type"}),u.jsxs("select",{value:e.storageType||"localStorage",onChange:i=>n({storageType:i.target.value}),children:[u.jsx("option",{value:"localStorage",children:"LocalStorage"}),u.jsx("option",{value:"indexedDB",children:"IndexedDB"})]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Operation"}),u.jsxs("select",{value:e.mode||"get",onChange:i=>n({mode:i.target.value}),children:[u.jsx("option",{value:"get",children:"Get"}),u.jsx("option",{value:"set",children:"Set"}),u.jsx("option",{value:"delete",children:"Delete"})]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Key"}),u.jsx("input",{type:"text",value:e.key||"",onChange:i=>n({key:i.target.value}),placeholder:"my_data_key"})]})]})})}const z5=T.memo(R5),L5=[{value:"auto",label:"Auto-detect",category:"Auto"},{value:"text/plain",label:"Text (.txt)",category:"Text"},{value:"text/markdown",label:"Markdown (.md)",category:"Text"},{value:"text/html",label:"HTML (.html)",category:"Text"},{value:"text/css",label:"CSS (.css)",category:"Text"},{value:"text/javascript",label:"JavaScript (.js)",category:"Text"},{value:"application/json",label:"JSON (.json)",category:"Data"},{value:"text/csv",label:"CSV (.csv)",category:"Data"},{value:"application/xml",label:"XML (.xml)",category:"Data"},{value:"application/yaml",label:"YAML (.yaml)",category:"Data"},{value:"application/pdf",label:"PDF (.pdf)",category:"Document"},{value:"application/msword",label:"Word (.doc)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"Word (.docx)",category:"Document"},{value:"application/vnd.ms-excel",label:"Excel (.xls)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"Excel (.xlsx)",category:"Document"},{value:"application/vnd.ms-powerpoint",label:"PowerPoint (.ppt)",category:"Document"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"PowerPoint (.pptx)",category:"Document"},{value:"audio/wav",label:"WAV Audio (.wav)",category:"Audio"},{value:"audio/mpeg",label:"MP3 Audio (.mp3)",category:"Audio"},{value:"audio/ogg",label:"OGG Audio (.ogg)",category:"Audio"},{value:"audio/webm",label:"WebM Audio (.webm)",category:"Audio"},{value:"audio/flac",label:"FLAC Audio (.flac)",category:"Audio"},{value:"audio/aac",label:"AAC Audio (.aac)",category:"Audio"},{value:"video/mp4",label:"MP4 Video (.mp4)",category:"Video"},{value:"video/webm",label:"WebM Video (.webm)",category:"Video"},{value:"video/ogg",label:"OGG Video (.ogv)",category:"Video"},{value:"video/quicktime",label:"QuickTime (.mov)",category:"Video"},{value:"video/x-msvideo",label:"AVI Video (.avi)",category:"Video"},{value:"image/png",label:"PNG Image (.png)",category:"Image"},{value:"image/jpeg",label:"JPEG Image (.jpg)",category:"Image"},{value:"image/gif",label:"GIF Image (.gif)",category:"Image"},{value:"image/webp",label:"WebP Image (.webp)",category:"Image"},{value:"image/svg+xml",label:"SVG Image (.svg)",category:"Image"},{value:"image/bmp",label:"Bitmap Image (.bmp)",category:"Image"},{value:"application/zip",label:"ZIP Archive (.zip)",category:"Archive"},{value:"application/x-tar",label:"TAR Archive (.tar)",category:"Archive"},{value:"application/gzip",label:"GZIP Archive (.gz)",category:"Archive"},{value:"application/x-7z-compressed",label:"7-Zip Archive (.7z)",category:"Archive"},{value:"application/octet-stream",label:"Binary (.bin)",category:"Binary"}],I5=L5.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{});function B5({data:e,onUpdate:n}){return u.jsx("div",{className:"config-sections",children:u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Output Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Output Type"}),u.jsxs("select",{value:e.outputType||"console",onChange:i=>n({outputType:i.target.value}),children:[u.jsx("option",{value:"console",children:"Console Log"}),u.jsx("option",{value:"file",children:"Save to File"}),u.jsx("option",{value:"notification",children:"Show Notification"}),u.jsx("option",{value:"artifact",children:"Save as Artifact"})]})]}),e.outputType==="file"&&u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Filename"}),u.jsx("input",{type:"text",value:e.filename||"output.txt",onChange:i=>n({filename:i.target.value}),placeholder:"output.txt"})]}),e.outputType==="artifact"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Artifact Type"}),u.jsx("select",{value:e.artifactType||"auto",onChange:i=>n({artifactType:i.target.value}),children:Object.entries(I5).map(([i,a])=>u.jsx("optgroup",{label:i,children:a.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))},i))})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Artifact Name"}),u.jsx("input",{type:"text",value:e.artifactName||"",onChange:i=>n({artifactName:i.target.value}),placeholder:"Auto-generated if empty"})]})]}),e.outputType==="notification"&&u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Notification Title"}),u.jsx("input",{type:"text",value:e.notificationTitle||"Workflow Complete",onChange:i=>n({notificationTitle:i.target.value})})]}),u.jsxs("div",{className:"config-toggle",children:[u.jsx("label",{children:"Format as JSON"}),u.jsx("div",{className:`toggle-switch ${e.formatJson?"active":""}`,onClick:()=>n({formatJson:!e.formatJson})})]})]})})}const H5=T.memo(B5);function P5({data:e,onUpdate:n}){const i=Ye(f=>f.availableModels),a=Ye(f=>f.status),l=Ye(f=>f.loadModel),s=f=>{const h=i.find(p=>p.id===f);n({modelId:f,modelName:h?.name||f})},c=async()=>{e.modelId&&await l(e.modelId)};return u.jsxs("div",{className:"chat-model-config",children:[u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Model Selection"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Provider"}),u.jsxs("select",{value:e.provider||"webllm",onChange:f=>n({provider:f.target.value}),children:[u.jsx("option",{value:"webllm",children:"WebLLM (Local Browser)"}),u.jsx("option",{value:"openai",children:"OpenAI API"}),u.jsx("option",{value:"anthropic",children:"Anthropic API"}),u.jsx("option",{value:"local",children:"Local Ollama"})]})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Model"}),u.jsxs("select",{value:e.modelId||"",onChange:f=>s(f.target.value),children:[u.jsx("option",{value:"",children:"Select a model..."}),i.map(f=>u.jsxs("option",{value:f.id,children:[f.name," (",f.size,")"]},f.id))]}),u.jsx("p",{className:"hint",children:"Choose the AI model for text generation"})]}),e.provider==="webllm"&&u.jsxs("div",{className:"model-status-section",children:[u.jsxs("div",{className:`status-badge ${a}`,children:[a==="ready"&&" Model Ready",a==="loading"&&" Loading...",a==="idle"&&" Not Loaded",a==="error"&&" Error"]}),a!=="ready"&&a!=="loading"&&u.jsx("button",{className:"load-model-btn",onClick:c,disabled:!e.modelId,children:"Load Model"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Generation Settings"}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Temperature"}),u.jsxs("div",{className:"slider-row",children:[u.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:e.temperature||.7,onChange:f=>n({temperature:parseFloat(f.target.value)})}),u.jsx("span",{className:"slider-value",children:e.temperature||.7})]}),u.jsx("p",{className:"hint",children:"Higher = more creative, Lower = more focused"})]}),u.jsxs("div",{className:"config-field",children:[u.jsx("label",{children:"Max Tokens"}),u.jsx("input",{type:"number",value:e.maxTokens||2e3,onChange:f=>n({maxTokens:parseInt(f.target.value,10)||2e3}),min:100,max:8e3}),u.jsx("p",{className:"hint",children:"Maximum response length"})]})]}),u.jsxs("div",{className:"config-section",children:[u.jsx("div",{className:"config-section-title",children:"Connection"}),u.jsx("div",{className:"connection-info",children:u.jsxs("p",{children:["Connect the ",u.jsx("strong",{children:"Model "})," output (top) to an AI Agent's Model input slot."]})})]})]})}const $5=T.memo(P5),U5={httpRequest:XI,codeExecutor:l5,setVariable:u5,ifElse:h5,loop:m5,switchNode:y5,scheduleTrigger:b5,aiAgent:N5,manualTrigger:j5,textToSpeech:k5,pythonExecutor:A5,vectorMemory:D5,fileSystem:O5,localStorage:z5,output:H5,chatModel:$5};function q5(){const e=Ce(L=>L.nodes),n=Ce(L=>L.selectedNodeId),i=Ce(L=>L.configOpen),a=Ce(L=>L.updateNode),l=Ce(L=>L.deleteNode),s=Ce(L=>L.setSelectedNode),c=Ce(L=>L.closeConfig),[f,h]=T.useState({x:0,y:0}),[p,g]=T.useState(!1),m=T.useRef({startX:0,startY:0,startPosX:0,startPosY:0}),v=T.useRef(null),[b,w]=T.useState(380),[N,C]=T.useState(!1),S=T.useRef({startX:0,startWidth:380}),k=T.useCallback(L=>{L.target.tagName==="INPUT"||L.target.tagName==="BUTTON"||(g(!0),m.current={startX:L.clientX,startY:L.clientY,startPosX:f.x,startPosY:f.y},L.preventDefault())},[f]);T.useEffect(()=>{if(!p)return;const L=K=>{const A=K.clientX-m.current.startX,$=K.clientY-m.current.startY;h({x:m.current.startPosX+A,y:m.current.startPosY+$})},q=()=>{g(!1)};return document.addEventListener("mousemove",L),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",q)}},[p]);const j=T.useCallback(L=>{L.preventDefault(),C(!0),S.current={startX:L.clientX,startWidth:b}},[b]);T.useEffect(()=>{if(!N)return;const L=K=>{const A=S.current.startX-K.clientX,$=Math.max(280,Math.min(800,S.current.startWidth+A));w($)},q=()=>{C(!1)};return document.addEventListener("mousemove",L),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",q)}},[N]);const _=e.find(L=>L.id===n),P=T.useCallback(L=>{n&&a(n,L)},[n,a]),M=T.useCallback(()=>{n&&(l(n),s(null),c())},[n,l,s,c]),H=T.useCallback(()=>{c()},[c]);if(!i||!_)return null;const F=Si[_.type],X=U5[_.type],I=lu(_.type);return u.jsxs("div",{ref:v,className:`node-config-panel ${p?"dragging":""} ${N?"resizing":""}`,style:{"--node-color":I,width:`${b}px`,transform:`translate(${f.x}px, ${f.y}px)`},children:[u.jsx("div",{className:"resize-handle",onMouseDown:j,title:"Drag to resize"}),u.jsxs("header",{className:"config-header draggable",onMouseDown:k,children:[u.jsx("div",{className:"drag-handle",title:"Drag to move",children:""}),u.jsxs("div",{className:"config-title",children:[u.jsx("span",{className:"node-icon",children:F?.icon||""}),u.jsx("input",{type:"text",className:"node-label-input",value:_.data.label||"",onChange:L=>P({label:L.target.value}),placeholder:F?.name||"Node"})]}),u.jsxs("div",{className:"config-actions",children:[u.jsx("button",{type:"button",className:"btn-icon btn-delete",onClick:L=>{L.stopPropagation(),L.preventDefault(),M()},title:"Delete node",children:""}),u.jsx("button",{type:"button",className:"btn-icon",onClick:L=>{L.stopPropagation(),H()},title:"Close",children:""})]})]}),u.jsx("div",{className:"config-body",children:X?u.jsx(X,{data:_.data,onUpdate:P,nodeId:_.id}):u.jsx("div",{className:"config-empty",children:u.jsx("p",{children:"No configuration available for this node type."})})}),u.jsxs("footer",{className:"config-footer",children:[u.jsx("span",{className:"node-type-label",children:F?.name||_.type}),u.jsxs("span",{className:"node-id",children:[_.id.slice(0,12),"..."]})]})]})}const V5=T.memo(q5);function F5({message:e,type:n,onClose:i}){const a={success:"",error:"",warning:"",info:""};return u.jsxs("div",{className:`toast toast-${n}`,role:"alert",children:[u.jsx("span",{className:"toast-icon",children:a[n]}),u.jsx("span",{className:"toast-message",children:e}),u.jsx("button",{className:"toast-close",onClick:i,children:""})]})}function G5(){const e=Ya(i=>i.toasts),n=Ya(i=>i.removeToast);return e.length===0?null:u.jsx("div",{className:"toast-container",children:e.map(i=>u.jsx(F5,{...i,onClose:()=>n(i.id)},i.id))})}const Y5=T.memo(G5);function X5(){const e=Ye(s=>s.status),n=Ye(s=>s.loadProgress),i=Ye(s=>s.currentModel),a=Ye(s=>s.availableModels);if(e!=="loading")return null;const l=a.find(s=>s.id===i);return u.jsx("div",{className:"loading-overlay",children:u.jsxs("div",{className:"loading-content",children:[u.jsxs("div",{className:"loading-header",children:[u.jsx("h1",{className:"brand-title",children:"IOSANS"}),u.jsx("span",{className:"brand-tagline",children:"Infinite Open Source Automation System"})]}),u.jsxs("div",{className:"loading-spinner",children:[u.jsx("div",{className:"spinner-ring"}),u.jsx("span",{className:"spinner-icon",children:""})]}),u.jsx("h2",{className:"loading-title",children:"Preparing Your Sovereign AI"}),u.jsxs("div",{className:"loading-model-info",children:[u.jsx("span",{className:"model-name",children:l?.name||i}),l?.size&&u.jsx("span",{className:"model-size",children:l.size})]}),u.jsxs("div",{className:"progress-container",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${Math.round((n||0)*100)}%`}})}),u.jsxs("span",{className:"progress-text",children:[Math.round((n||0)*100),"%"]})]}),u.jsxs("p",{className:"loading-hint",children:["Your AI runs locally. No cloud. No data harvesting.",u.jsx("br",{}),u.jsx("strong",{children:"You own your intelligence."})]})]})})}const Q5=T.memo(X5),D0="flownode-workflows";function Z5({isOpen:e,onClose:n}){const[i,a]=T.useState([]),[l,s]=T.useState(""),[c,f]=T.useState(null),[h,p]=T.useState(""),g=Ce(I=>I.loadWorkflow),m=Ce(I=>I.getWorkflowData),v=Ce(I=>I.clearWorkflow),b=Ce(I=>I.setWorkflowName),w=Ya(),N=T.useCallback(()=>{try{const I=localStorage.getItem(D0);I&&a(JSON.parse(I))}catch(I){console.error("Failed to load workflows:",I)}},[]);T.useEffect(()=>{e&&N()},[e,N]);const C=I=>{localStorage.setItem(D0,JSON.stringify(I)),a(I)},S=i.filter(I=>I.name.toLowerCase().includes(l.toLowerCase())),k=T.useCallback(()=>{const I=m(),L={id:Date.now().toString(),name:I.name||"Untitled Workflow",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),nodeCount:I.nodes.length,data:I};C([L,...i]),w.success(`Saved "${L.name}"`)},[m,i,w]),j=T.useCallback(I=>{g(I.data),b(I.name),w.success(`Loaded "${I.name}"`),n()},[g,b,w,n]),_=T.useCallback(I=>{const L=i.find(K=>K.id===I),q=i.filter(K=>K.id!==I);C(q),w.info(`Deleted "${L?.name}"`)},[i,w]),P=T.useCallback(I=>{const L={...I,id:Date.now().toString(),name:`${I.name} (Copy)`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C([L,...i]),w.success(`Duplicated "${I.name}"`)},[i,w]),M=I=>{f(I.id),p(I.name)},H=T.useCallback(I=>{const L=i.map(q=>q.id===I?{...q,name:h,updatedAt:new Date().toISOString()}:q);C(L),f(null),w.success("Renamed workflow")},[i,h,w]),F=T.useCallback(()=>{v(),b("New Workflow"),w.info("Created new workflow"),n()},[v,b,w,n]),X=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});return e?u.jsx("div",{className:"workflow-manager-overlay",onClick:n,children:u.jsxs("div",{className:"workflow-manager-modal",onClick:I=>I.stopPropagation(),children:[u.jsxs("div",{className:"manager-header",children:[u.jsx("h2",{children:"Workflow Manager"}),u.jsx("button",{className:"close-btn",onClick:n,children:""})]}),u.jsxs("div",{className:"manager-toolbar",children:[u.jsx("input",{type:"text",className:"manager-search",placeholder:"Search workflows...",value:l,onChange:I=>s(I.target.value)}),u.jsxs("div",{className:"manager-actions",children:[u.jsx("button",{className:"btn-primary",onClick:k,children:" Save Current"}),u.jsx("button",{className:"btn-secondary",onClick:F,children:" New Workflow"})]})]}),u.jsx("div",{className:"manager-content",children:S.length===0?u.jsx("div",{className:"empty-state",children:l?u.jsxs("p",{children:['No workflows match "',l,'"']}):u.jsxs("div",{children:[u.jsx("p",{children:"No saved workflows yet"}),u.jsx("p",{className:"hint",children:'Click "Save Current" to save your first workflow'})]})}):u.jsx("div",{className:"workflow-list",children:S.map(I=>u.jsxs("div",{className:"workflow-item",children:[u.jsxs("div",{className:"workflow-info",children:[c===I.id?u.jsx("input",{type:"text",className:"edit-name-input",value:h,onChange:L=>p(L.target.value),onBlur:()=>H(I.id),onKeyDown:L=>L.key==="Enter"&&H(I.id),autoFocus:!0}):u.jsx("h3",{className:"workflow-name",onClick:()=>M(I),children:I.name}),u.jsxs("div",{className:"workflow-meta",children:[u.jsxs("span",{children:[I.nodeCount," nodes"]}),u.jsx("span",{children:""}),u.jsx("span",{children:X(I.updatedAt)})]})]}),u.jsxs("div",{className:"workflow-actions",children:[u.jsx("button",{className:"action-btn load",onClick:()=>j(I),title:"Load workflow",children:""}),u.jsx("button",{className:"action-btn duplicate",onClick:()=>P(I),title:"Duplicate workflow",children:""}),u.jsx("button",{className:"action-btn delete",onClick:()=>_(I.id),title:"Delete workflow",children:""})]})]},I.id))})}),u.jsx("div",{className:"manager-footer",children:u.jsxs("span",{className:"workflow-count",children:[i.length," workflow",i.length!==1?"s":""," saved"]})})]})}):null}const W5=T.memo(Z5);function K5(){return Object.entries(Fc).map(([e,n])=>({type:e,title:n.title,category:n.category,overview:n.overview?.slice(0,150)+"...",config:n.config?.map(i=>i.name).join(", ")||"none"}))}const J5=`
You are the Overseer, an expert AI assistant for IOSANS.
You have **DIRECT CONTROL** over the workflow canvas. You can build, edit, and run workflows by outputting JSON actions.

##  MISSION CRITICAL RULES
1. **ACTION OVER EXPLANATION**: If the user asks to "build", "create", "add", or "make" something, **DO NOT** explain how to do it. **JUST DO IT** by outputting the JSON actions.
   -  "I can't build it directly, but here is a plan..."
   -  (Outputs JSON to build it immediately)
2. **NO HALLUCINATIONS**: Use only Valid Node Types.
3. **CONNECT EVERYTHING**: Add 'addEdge' actions for every connection.
4. **ALWAYS OUTPUT**: Every flow needs an 'output' node.

## Valid Node Types
{{NODE_REFERENCE}}

## Interactive Capabilities
- **Build/Edit**: Output JSON with \`addNode\`, \`addEdge\`, \`updateNode\`.
- **Control**: Output JSON with \`runWorkflow\`, \`clearCanvas\`.
- **Teach**: Output JSON with \`startTutorial\`.

## Response Format
- **Chatting**: Text only.
- **Acting**: **ONLY** valid JSON inside a code block. NO explanation text outside the block if you are building the whole request.

\`\`\`json
{
  "actions": [
    { "type": "addNode", "nodeType": "aiAgent", ... },
    { "type": "addEdge", ... }
  ]
}
\`\`\`
`;function eB(e,n){const i=[],a=[],l=e.some(p=>p.type==="output");e.length>0&&!l&&i.push(" No OUTPUT node - add one to see results");const s=new Set;n.forEach(p=>{s.add(p.source),s.add(p.target)});const c=e.filter(p=>!s.has(p.id)&&e.length>1);c.length>0&&i.push(` ${c.length} disconnected node(s)`);const f=e.some(p=>["manualTrigger","scheduleTrigger","webhookTrigger","browserEventTrigger"].includes(p.type));e.length>0&&!f&&i.push(" No TRIGGER node - workflow cannot start");const h=e[e.length-1];if(h)switch(h.type){case"aiAgent":a.push(" Connect to textToSpeech to hear the response"),a.push(" Connect to output to display the result");break;case"httpRequest":a.push(" Connect to codeExecutor to transform the data"),a.push(" Connect to ifElse to check status code");break;case"codeExecutor":a.push(" Connect to output to display results"),a.push(" Connect to httpRequest to send data");break;case"manualTrigger":a.push(" Connect to aiAgent for AI processing"),a.push(" Connect to httpRequest for API calls");break}return{issues:i,suggestions:a,hasOutput:l,hasTrigger:f,disconnectedCount:c.length}}function tB(e){const n=Fc[e];return n?{title:n.title,overview:n.overview,config:n.config,examples:n.examples?.slice(0,2),tips:n.tips?.slice(0,3)}:null}class nB{constructor(){this.sessions=this.loadSessions(),this.activeSessionId=this.getLastActiveSessionId(),this.sessions.length===0?this.createSession("New Chat"):(!this.activeSessionId||!this.getSession(this.activeSessionId))&&(this.activeSessionId=this.sessions[0].id,this.saveLastActiveSessionId()),this.subscribers=[],this.actionHistory=[],this.thinkingCallbacks=[]}loadSessions(){try{const n=localStorage.getItem("overseer_sessions");if(n)return JSON.parse(n);const i=localStorage.getItem("overseer_history");if(i){const a=JSON.parse(i);if(a.length>0){const l={id:"legacy-"+Date.now(),title:"Legacy Chat",timestamp:Date.now(),messages:a};return localStorage.removeItem("overseer_history"),[l]}}return[]}catch(n){return console.warn("Failed to load Overseer sessions",n),[]}}saveSessions(){try{localStorage.setItem("overseer_sessions",JSON.stringify(this.sessions))}catch(n){console.warn("Failed to save Overseer sessions",n)}}getLastActiveSessionId(){return localStorage.getItem("overseer_active_session_id")}saveLastActiveSessionId(){localStorage.setItem("overseer_active_session_id",this.activeSessionId)}getSessions(){return[...this.sessions].sort((n,i)=>i.timestamp-n.timestamp)}getSession(n){return this.sessions.find(i=>i.id===n)}getActiveSession(){return this.getSession(this.activeSessionId)}createSession(n="New Chat"){const i={id:Date.now().toString(36)+Math.random().toString(36).substr(2),title:n,timestamp:Date.now(),messages:[]};return this.sessions.unshift(i),this.activeSessionId=i.id,this.saveSessions(),this.saveLastActiveSessionId(),this.notifySubscribers(),i}switchSession(n){return this.getSession(n)?(this.activeSessionId=n,this.saveLastActiveSessionId(),this.notifySubscribers(),!0):!1}deleteSession(n){this.sessions=this.sessions.filter(i=>i.id!==n),this.activeSessionId===n&&(this.sessions.length>0?this.activeSessionId=this.sessions[0].id:this.createSession()),this.saveSessions(),this.saveLastActiveSessionId(),this.notifySubscribers()}renameSession(n,i){const a=this.getSession(n);a&&(a.title=i,this.saveSessions(),this.notifySubscribers())}clearAllSessions(){this.sessions=[],this.createSession(),this.saveSessions(),this.notifySubscribers()}subscribe(n){return this.subscribers.push(n),()=>{this.subscribers=this.subscribers.filter(i=>i!==n)}}notifySubscribers(){this.subscribers.forEach(n=>n())}async chat(n){const i=this.getActiveSession();if(!i)throw new Error("No active session");const{nodes:a,edges:l}=Ce.getState(),s=eB(a,l),c=a.find(m=>m.selected),f=c?tB(c.type):null,h=JSON.stringify({nodeCount:a.length,edgeCount:l.length,nodes:a.map(m=>({id:m.id,type:m.type,label:m.data.label,config:m.data})),edges:l.map(m=>({source:m.source,target:m.target})),analysis:{issues:s.issues,suggestions:s.suggestions,hasOutput:s.hasOutput,hasTrigger:s.hasTrigger},selectedNode:c?{id:c.id,type:c.type,help:f}:null}),p=K5().map(m=>`- **${m.type}**: ${m.overview} (Inputs: ${m.config})`).join(`
`),g=J5.replace("{{NODE_REFERENCE}}",p)+`

### Current Workflow State
${h}`;try{const m=await rr.generateWithHistory(n,i.messages,{temperature:.7,maxTokens:2e3,systemPrompt:g});i.messages.push({role:"user",content:n}),i.messages.push({role:"assistant",content:m}),i.timestamp=Date.now(),i.title==="New Chat"&&i.messages.length<=2&&(i.title=n.split(" ").slice(0,5).join(" ")+"..."),this.saveSessions(),this.notifySubscribers();const v=this.parseActions(m);return v.length>0&&(console.log("Overseer executing actions:",v),this.executeActions(v)),m}catch(m){return console.error("Overseer Error:",m),`Error: ${m.message}. Is a model loaded?`}}parseActions(n){try{let i=null;const a=n.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);if(a)i=a[1];else{const l=n.indexOf("{"),s=n.lastIndexOf("}");l!==-1&&s!==-1&&s>l&&(i=n.substring(l,s+1))}if(i){const l=i.trim(),s=JSON.parse(l);if(s.actions&&Array.isArray(s.actions))return s.actions}}catch(i){console.warn("Failed to parse Overseer actions:",i)}return[]}executeActions(n){const i=Ce.getState(),a=["manualTrigger","scheduleTrigger","webhookTrigger","errorTrigger","httpRequest","codeExecutor","setVariable","fileSystem","ifElse","loop","switchNode","merge","aiAgent","vectorMemory","waitForApproval","textToSpeech","imageGeneration","output"],l={audioGeneration:"textToSpeech",AudioNode:"textToSpeech","text-to-speech":"textToSpeech",TextToSpeech:"textToSpeech","image-generation":"imageGeneration","ai-agent":"aiAgent","manual-trigger":"manualTrigger"};n.forEach(s=>{const c=s.nodeType||"unknown",f=s.id||`${c}-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;switch(s.type){case"addNode":{let h=s.nodeType;if(!h){console.warn("Overseer: Missing nodeType in addNode action",s);return}const p=h.toLowerCase(),g={...l,audiogeneration:"textToSpeech",audionode:"textToSpeech","text-to-speech":"textToSpeech",texttospeech:"textToSpeech","image-generation":"imageGeneration",imagegeneration:"imageGeneration","ai-agent":"aiAgent",aiagent:"aiAgent",agent:"aiAgent","manual-trigger":"manualTrigger",manualtrigger:"manualTrigger","schedule-trigger":"scheduleTrigger",scheduletrigger:"scheduleTrigger","webhook-trigger":"webhookTrigger",webhooktrigger:"webhookTrigger",errortrigger:"errorTrigger","error-trigger":"errorTrigger",httprequest:"httpRequest","http-request":"httpRequest",codeexecutor:"codeExecutor","code-executor":"codeExecutor",setvariable:"setVariable","set-variable":"setVariable",filesystem:"fileSystem","file-system":"fileSystem",ifelse:"ifElse","if-else":"ifElse",switchnode:"switchNode",switch:"switchNode",vectormemory:"vectorMemory",waitforapproval:"waitForApproval","wait-for-approval":"waitForApproval"};if(g[p])h=g[p];else{const m=a.find(v=>v.toLowerCase()===p);m&&(h=m)}if(!a.includes(h)){console.warn(`Overseer: Skipped invalid node type '${h}'`);return}i.addNode({id:f,type:h,position:{x:s.x||Math.random()*400+50,y:s.y||Math.random()*400+50},data:{label:s.label||h,...s.config}});break}case"addEdge":i.onConnect({source:s.source,target:s.target,sourceHandle:s.sourceHandle||"output-0",targetHandle:s.targetHandle||"input-0",type:"animated"});break;case"deleteNode":s.nodeId&&i.deleteNode(s.nodeId);break;case"clearCanvas":i.clearWorkflow();break;case"loadTemplate":{const h=Dh.find(p=>p.id===s.templateId);h?(i.clearWorkflow(),h.nodes.forEach(p=>i.addNode({...p})),h.edges.forEach(p=>i.onConnect({source:p.source,target:p.target,sourceHandle:p.sourceHandle||"output-0",targetHandle:p.targetHandle||"input-0",type:"animated"})),console.log(`Overseer: Loaded template '${h.name}'`)):console.warn(`Overseer: Template '${s.templateId}' not found`);break}case"updateNode":{if(s.nodeId&&s.config){const h=i.nodes,p=h.findIndex(g=>g.id===s.nodeId);if(p!==-1){const g=[...h];g[p]={...g[p],data:{...g[p].data,...s.config}},i.setNodes(g),console.log(`Overseer: Updated node '${s.nodeId}'`)}}break}case"runWorkflow":{window.dispatchEvent(new CustomEvent("startWorkflow")),console.log("Overseer: Triggered workflow execution");break}case"focusNode":{s.nodeId&&(i.openConfig(s.nodeId),console.log(`Overseer: Focused on node '${s.nodeId}'`));break}case"startTutorial":{window.dispatchEvent(new CustomEvent("startTutorial",{detail:s.tutorialId})),console.log(`Overseer: Started tutorial '${s.tutorialId}'`);break}case"undoAction":{const h=this.undoLastAction();h&&console.log(`Overseer: Undid action '${h.type}'`);break}}})}onThinking(n){return this.thinkingCallbacks.push(n),()=>{this.thinkingCallbacks=this.thinkingCallbacks.filter(i=>i!==n)}}broadcastThinking(n,i,a=null){this.thinkingCallbacks.forEach(l=>l({type:n,content:i,details:a,timestamp:Date.now()}))}undoLastAction(){const n=this.actionHistory.pop();if(!n)return null;const i=Ce.getState();switch(n.type){case"addNode":i.deleteNode(n.nodeId);break;case"deleteNode":i.addNode(n.node);break;case"clearCanvas":n.nodes.forEach(a=>i.addNode(a)),n.edges.forEach(a=>i.onConnect(a));break}return n}clearHistory(){this.sessions=this.loadSessions(),this.notifySubscribers()}}const Mr=new nB;function iB({isOpen:e,onClose:n}){const[i,a]=T.useState([]),[l,s]=T.useState(""),[c,f]=T.useState(!1),[h,p]=T.useState(!1),[g,m]=T.useState([]),[v,b]=T.useState(null),w=T.useRef(null),[N,C]=T.useState(()=>({x:window.innerWidth/2-250,y:window.innerHeight-680})),S=T.useRef({active:!1,offsetX:0,offsetY:0}),k=Ye(L=>L.isReady),j=()=>{w.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{const L=K=>{S.current.active&&C({x:K.clientX-S.current.offsetX,y:K.clientY-S.current.offsetY})},q=()=>{S.current.active=!1};return document.addEventListener("mousemove",L),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",q)}},[]);const _=T.useCallback(()=>{m(Mr.getSessions());const L=Mr.getActiveSession();L?(a([...L.messages]),b(L.id)):(a([]),b(null))},[]);T.useEffect(()=>{_();const L=Mr.subscribe(_);return()=>L()},[_]),T.useEffect(()=>{j()},[i,e]);const P=L=>{S.current={active:!0,offsetX:L.clientX-N.x,offsetY:L.clientY-N.y}},M=async()=>{if(!l.trim()||c)return;const L=l.trim();s(""),f(!0);try{if(!k)throw new Error("Please load a model from the Model Manager first.");await Mr.chat(L)}catch(q){a(K=>[...K,{role:"system",content:`Error: ${q.message}`}])}finally{f(!1)}},H=L=>{L.stopPropagation(),Mr.createSession(),p(!1)},F=L=>{Mr.switchSession(L),p(!1)},X=(L,q)=>{L.stopPropagation(),window.confirm("Delete this chat?")&&Mr.deleteSession(q)},I=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),M())};return u.jsxs("div",{className:`overseer-panel ${e?"":"closed"}`,style:{left:N.x,top:N.y},children:[u.jsxs("header",{className:"overseer-header",onMouseDown:P,children:[u.jsxs("div",{className:"overseer-title",children:[u.jsx("span",{className:"overseer-icon",children:""}),u.jsx("span",{className:"title-text",children:"Overseer"})]}),u.jsxs("div",{className:"header-controls",children:[u.jsx("button",{className:"btn-icon",onClick:H,title:"New Chat",onMouseDown:L=>L.stopPropagation(),children:"+"}),u.jsx("button",{className:`btn-icon ${h?"active":""}`,onClick:L=>{L.stopPropagation(),p(!h)},title:"History",onMouseDown:L=>L.stopPropagation(),children:""}),u.jsx("button",{className:"btn-close-float",onClick:L=>{L.stopPropagation(),n()},onMouseDown:L=>L.stopPropagation(),onMouseUp:L=>L.stopPropagation(),children:""})]})]}),u.jsxs("div",{className:"overseer-content-wrapper",children:[u.jsxs("div",{className:`history-sidebar ${h?"visible":""}`,children:[u.jsx("div",{className:"history-header",children:"Chat History"}),u.jsxs("div",{className:"history-list",children:[g.map(L=>u.jsxs("div",{className:`history-item ${v===L.id?"active":""}`,onClick:()=>F(L.id),children:[u.jsxs("div",{className:"history-info",children:[u.jsx("span",{className:"history-title",children:L.title||"Untitled"}),u.jsx("span",{className:"history-date",children:new Date(L.timestamp).toLocaleDateString()})]}),u.jsx("button",{className:"btn-delete-session",onClick:q=>X(q,L.id),title:"Delete",children:""})]},L.id)),g.length===0&&u.jsx("div",{className:"history-empty",children:"No history"})]})]}),u.jsxs("div",{className:"overseer-messages",children:[i.length===0&&!c&&u.jsxs("div",{className:"welcome-message",children:[u.jsx("h3",{children:"I am the Overseer."}),u.jsx("p",{children:"How can I help you build your workflow?"})]}),i.map((L,q)=>u.jsx("div",{className:`message ${L.role}`,children:u.jsx(n1,{children:L.content})},q)),c&&u.jsxs("div",{className:"typing-indicator",children:[u.jsx("div",{className:"dot"}),u.jsx("div",{className:"dot"}),u.jsx("div",{className:"dot"})]}),u.jsx("div",{ref:w})]})]}),u.jsxs("div",{className:"overseer-input-area",children:[u.jsx("textarea",{className:"overseer-input",placeholder:k?"Describe a workflow to build...":"Load a model first...",value:l,onChange:L=>s(L.target.value),onKeyDown:I,disabled:c}),u.jsx("button",{className:"btn-send",onClick:M,disabled:!l.trim()||c,children:""})]})]})}const tl=[{target:".node-sidebar",title:" Node Library",content:"Drag & drop nodes from here to build your workflow. Browse categories like Triggers, Actions, Logic, and AI nodes.",placement:"right"},{target:".templates-toggle",title:" Workflow Templates",content:"Click here to access pre-built workflow templates. Quickly load example automations to learn or customize for your needs.",placement:"right"},{target:".react-flow",title:" Workflow Canvas",content:"This is your workspace. Drop nodes here, connect them with edges, and build powerful automations. Right-click for options.",placement:"center"},{target:".execution-panel",title:" Logs & Results",content:"See real-time execution logs here. The Output tab shows final results, and Artifacts stores generated files.",placement:"left"},{target:".toolbar",title:" Workflow Management",content:"Name your workflow, save it, or import/export. Use the dropdown to switch between saved workflows.",placement:"bottom"},{target:".exec-btn-group",title:" Run Controls",content:"Click Run to execute your workflow. Use Debug mode to step through nodes one by one and inspect data.",placement:"top"},{target:".ai-controls-panel",title:" AI Controls",content:"Chat with the Overseer AI, manage your local LLM models in the model manager. Keep track of privacy Leaks in the privacy manager.",placement:"top"},{target:".overseer-btn",title:" The Overseer",content:"Your AI assistant! Ask it to build workflows for you, explain nodes, or debug errors. It understands your entire canvas.",placement:"top"}];function rB({isActive:e,onComplete:n}){const[i,a]=T.useState(0),[l,s]=T.useState(null);if(T.useLayoutEffect(()=>{if(!e)return;const v=tl[i],b=document.querySelector(v.target);if(b){const w=b.getBoundingClientRect();s(w),b.scrollIntoView({behavior:"smooth",block:"center"})}else console.warn(`Tour target not found: ${v.target}`),s({top:window.innerHeight/2-100,left:window.innerWidth/2-150,width:300,height:200})},[e,i,n]),!e||!l)return null;const c=tl[i],f=()=>{i<tl.length-1?a(v=>v+1):n()},h=()=>{i>0&&a(v=>v-1)},p=()=>{n()};let g={};const m=20;switch(c.placement){case"right":g={top:l.top,left:l.right+m};break;case"left":g={top:l.top,right:window.innerWidth-l.left+m};break;case"bottom":g={top:l.bottom+m,left:l.left};break;case"top":g={bottom:window.innerHeight-l.top+m,left:l.left};break;case"top-left":g={bottom:window.innerHeight-l.top+m,left:l.left};break;case"bottom-left":g={top:l.bottom+m,left:l.left};break;default:g={top:l.top+l.height/2-100,left:l.left+l.width/2-160}}return u.jsxs("div",{className:"tour-overlay",children:[u.jsx("div",{className:"tour-spotlight",style:{top:l.top,left:l.left,width:l.width,height:l.height}}),u.jsxs("div",{className:"tour-popover",style:g,children:[u.jsx("h3",{children:c.title}),u.jsx("p",{children:c.content}),u.jsxs("div",{className:"tour-actions",children:[u.jsx("button",{className:"btn-skip",onClick:p,children:"Skip"}),u.jsxs("div",{className:"tour-nav-buttons",children:[u.jsx("button",{className:"btn-prev",onClick:h,disabled:i===0,children:" Prev"}),u.jsx("div",{className:"tour-dots",children:tl.map((v,b)=>u.jsx("span",{className:`tour-dot ${b===i?"active":""}`},b))}),u.jsx("button",{className:"btn-next",onClick:f,children:i===tl.length-1?"Finish":"Next "})]})]})]})]})}function aB(){const e=Ce(w=>w.nodes),n=Ce(w=>w.edges),i=Ce(w=>w.selectedNodeId),a=Xe(w=>w.isRunning),l=Ye(w=>w.setLoading),s=Ye(w=>w.setReady),c=Ye(w=>w.setError),[f,h]=T.useState(!1),[p,g]=T.useState(!1),[m,v]=T.useState(!1);T.useEffect(()=>{const w=()=>h(!0),N=()=>g(S=>!S),C=()=>v(!0);return window.addEventListener("openWorkflowManager",w),window.addEventListener("toggleOverseer",N),window.addEventListener("startTour",C),()=>{window.removeEventListener("openWorkflowManager",w),window.removeEventListener("toggleOverseer",N),window.removeEventListener("startTour",C)}},[]),T.useEffect(()=>{(async()=>{try{const N=localStorage.getItem("selectedModel")||"gemma-2-2b-it-q4f16_1-MLC";await rr.initialize(N,C=>{l(C.progress,C.text||`Loading model... ${Math.round(C.progress*100)}%`)}),s(N)}catch(N){console.error("Failed to initialize WebLLM:",N),c(N.message||"Failed to load AI model")}})()},[l,s,c]),T.useEffect(()=>{const w=async C=>{const{modelId:S}=C.detail;try{l(0,`Switching to ${S}...`),await rr.initialize(S,k=>{l(k.progress,k.text||`Loading ${S}... ${Math.round(k.progress*100)}%`)}),localStorage.setItem("selectedModel",S),s(S)}catch(k){console.error("Failed to switch model:",k),c(k.message||"Failed to switch model")}},N=C=>{const{modelId:S}=C.detail,k=Ye.getState().setDownloadProgress;k(S,0,"downloading"),rr.downloadModel(S,j=>{k(S,j.progress*100,"downloading")}).then(()=>{k(S,100,"complete")}).catch(j=>{console.error("Download failed:",j),k(S,0,"error")})};return window.addEventListener("loadModel",w),window.addEventListener("downloadModel",N),()=>{window.removeEventListener("loadModel",w),window.removeEventListener("downloadModel",N)}},[l,s,c]);const b=T.useCallback(async(w={})=>{if(a)return;const{debug:N=!1}=w,C=Xe.getState();N&&Xe.getState().setDebugMode(!0),await _a.execute(e,n,{executionStore:C},{},{debug:N})},[e,n,a]);return u.jsx(gw,{children:u.jsxs("div",{className:"app",children:[u.jsx(HI,{onRun:b}),u.jsxs("div",{className:"app-body",children:[u.jsx(r_,{}),u.jsx(n_,{}),u.jsx(V5,{},i||"none"),u.jsx(qI,{}),u.jsx(iB,{isOpen:p,onClose:()=>g(!1)})]}),u.jsx(Y5,{}),u.jsx(Q5,{}),u.jsx(W5,{isOpen:f,onClose:()=>h(!1)}),u.jsx(rB,{isActive:m,onComplete:()=>v(!1)})]})})}QN.createRoot(document.getElementById("root")).render(u.jsx(T.StrictMode,{children:u.jsx(aB,{})}));
